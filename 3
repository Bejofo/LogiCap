<script module lang="ts">
    import { writable, type Writable } from 'svelte/store'
    export let settingsStore: Writable<any> = writable({
        wireType: 'bezier',
        theme: 'light',
    })
</script>

<script>
    import SettingsIcon from '~icons/streamline/button-fast-forward-2'
    // modal menu that lets you toggle the wire type.
    // change the theme
    // let settingsVisible = false
    let show = $state(false)
</script>

<button class="launch-button" onclick={() => (show = !show)}>
    <SettingsIcon />
</button>
{#if show}
    <div class="modal">
        <h2>Settings</h2>
        <label for="wire-type-select"
            >Wire Type:

            <select id="wire-type-select" bind:value={$settingsStore.wireType}>
                <option value="bezier">Bezier</option>
                <option value="straight">Straight</option>
            </select>
        </label>

        <label for="theme-select">Theme:
        <select id="theme-select" bind:value={$settingsStore.theme}>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
        </select>
</label>

        <button onclick={(show = false)}>Close</button>
    </div>
{/if}

<style>
    .launch-button {
        position: absolute;
        background-color: gray;
        padding: 5px;
        right: 10px;
        bottom: 10px;
        z-index: 20;
        /* width: 20px; */
        /* height: 20px; */
    }
    .modal {
        border-radius: 10px;
        padding: 10px;
        background: var(--lightblue);
        z-index: 20;
        width: 200px;
        position: absolute;
        top: 45%;
        left: calc(50% + 100px);
        transform: translate(-50%, -50%);
    }
</style>
