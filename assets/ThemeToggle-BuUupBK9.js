import{g as I,p as O,a as r,m as E,o as R,s as d,b as N,c as v,i as W,t as J,d as q,e as b,f as K,h as M,j as z,k as D,l as P,n as S,q as V,r as B,u as A}from"./index-CxxH1dYW.js";function F(o){return o&&typeof o.subscribe=="function"}function h(o){const e={};for(const t in o){const n=o[t];if(t==="nodes"&&typeof n=="object"&&typeof n.getAll=="function"){const a=n.getAll();e[t]=a.map(f=>h(f))}else if(F(n)){const a=I(n);e[t]=typeof a=="object"&&a!==null?h(a):a}else typeof n=="object"&&n!==null?e[t]=h(n):e[t]=n}return e}function H(o,e){return e instanceof DOMRectReadOnly?{x:e.x,y:e.y,width:e.width,height:e.height}:e}function L(o){console.log("graph state object:",o);const e=h(o),t=JSON.stringify(e,H);return localStorage.setItem("state",t),t}var Q=J('<div><button class="svelte-1vnlnjg"><span class="material-symbols-outlined svelte-1vnlnjg"> </span></button> <button class="save-button NW svelte-1vnlnjg">Save</button></div>');function X(o,e){O(e,!1),console.log("Componente ThemeToggle.svelte");let t=r(e,"main",8,"light"),n=r(e,"alt",8,"dark"),a=r(e,"mainIcon",8,"light_mode"),f=r(e,"altIcon",8,"dark_mode"),c=r(e,"corner",8,"NE"),k=r(e,"bgColor",8,null),w=r(e,"iconColor",8,null),i=E(t());function y(){const s=document.documentElement.getAttribute("svelvet-theme");let l;!s||s===t()?l=n():l=t(),d(i,l),document.documentElement.setAttribute("svelvet-theme",l),localStorage.setItem("currentTheme",l)}R(()=>{const s=localStorage.getItem("currentTheme");s?(document.documentElement.setAttribute("svelvet-theme",s),d(i,s)):(document.documentElement.setAttribute("svelvet-theme",t()),d(i,t()));const l=localStorage.getItem("state");if(l){console.log("Al renderizar la aplicacion este componente se ejecuta en este orden");const g=JSON.parse(l);if(g&&g.nodes){const j=I(N);console.log(j),j.set("G-1",g),console.log("Restaurando nodos:",g.nodes)}}});let p=E();N.subscribe(s=>{d(p,s.get("G-1")),console.log("Graph from store:",v(p))}),W();var u=Q();let _,T;var m=b(u),x=b(m),C=b(x),G=q(m,2);K(s=>{_=z(u,1,"controls-wrapper svelte-1vnlnjg",null,_,s),T=D(u,"",T,{"--prop-theme-toggle-color":k(),"--prop-theme-toggle-text-color":w()}),P(C,v(i)===t()?f():a())},[()=>({SW:c()==="SW",NE:c()==="NE",SE:c()==="SE",NW:c()==="NW"})],M),S("mousedown",m,A(y)),S("touchstart",m,A(y)),S("click",G,()=>{L(v(p))}),V(o,u),B()}export{X as default};
