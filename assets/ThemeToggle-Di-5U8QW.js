import{g as I,p as G,a as r,m as E,o as O,s as d,b as N,c as v,i as R,t as W,d as J,e as b,f as K,h as M,j as _,k as q,l as S,n as A,q as D,r as P}from"./index-BRtI0aPb.js";import"custom_digitaljs";function V(o){return o&&typeof o.subscribe=="function"}function h(o){const e={};for(const t in o){const n=o[t];if(t==="nodes"&&typeof n=="object"&&typeof n.getAll=="function"){const l=n.getAll();e[t]=l.map(p=>h(p))}else if(V(n)){const l=I(n);e[t]=typeof l=="object"&&l!==null?h(l):l}else typeof n=="object"&&n!==null?e[t]=h(n):e[t]=n}return e}function B(o,e){return e instanceof DOMRectReadOnly?{x:e.x,y:e.y,width:e.width,height:e.height}:e}function F(o){console.log("graph state object:",o);const e=h(o),t=JSON.stringify(e,B);return localStorage.setItem("state",t),t}var H=W('<div><button class="svelte-izjv92"><span class="material-symbols-outlined svelte-izjv92"> </span></button> <button class="save-button NW svelte-izjv92">Save</button></div>');function U(o,e){G(e,!1),console.log("Componente ThemeToggle.svelte");let t=r(e,"main",8,"light"),n=r(e,"alt",8,"dark"),l=r(e,"mainIcon",8,"light_mode"),p=r(e,"altIcon",8,"dark_mode"),i=r(e,"corner",8,"NE"),k=r(e,"bgColor",8,null),w=r(e,"iconColor",8,null),m=E(t());function y(){const a=document.documentElement.getAttribute("svelvet-theme");let s;!a||a===t()?s=n():s=t(),d(m,s),document.documentElement.setAttribute("svelvet-theme",s),localStorage.setItem("currentTheme",s)}O(()=>{const a=localStorage.getItem("currentTheme");a?(document.documentElement.setAttribute("svelvet-theme",a),d(m,a)):(document.documentElement.setAttribute("svelvet-theme",t()),d(m,t()));const s=localStorage.getItem("state");if(s){console.log("Al renderizar la aplicacion este componente se ejecuta en este orden");const g=JSON.parse(s);if(g&&g.nodes){const j=I(N);console.log(j),j.set("G-1",g),console.log("Restaurando nodos:",g.nodes)}}});let f=E();N.subscribe(a=>{d(f,a.get("G-1")),console.log("Graph from store:",v(f))}),R();var c=H();let T;var u=b(c),x=b(u),z=b(x),C=J(u,2);K(()=>{T=M(c,1,"controls-wrapper svelte-izjv92",null,T,{SW:i()==="SW",NE:i()==="NE",SE:i()==="SE",NW:i()==="NW"}),_(c,"--prop-theme-toggle-color",k()),_(c,"--prop-theme-toggle-text-color",w()),q(z,v(m)===t()?p():l())}),S("mousedown",u,A(y)),S("touchstart",u,A(y)),S("click",C,()=>{F(v(f))}),D(o,c),P()}export{U as default};
