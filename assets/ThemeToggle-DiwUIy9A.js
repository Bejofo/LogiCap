import{g as I,p as G,a as c,m as E,o as O,s as d,b as N,c as b,i as R,d as W,t as J,e as h,f as _,h as K,j as S,k as A,l as M,n as q,q as D,r as y}from"./index-B98N5ojV.js";function P(o){return o&&typeof o.subscribe=="function"}function f(o){const e={};for(const t in o){const n=o[t];if(t==="nodes"&&typeof n=="object"&&typeof n.getAll=="function"){const a=n.getAll();e[t]=a.map(p=>f(p))}else if(P(n)){const a=I(n);e[t]=typeof a=="object"&&a!==null?f(a):a}else typeof n=="object"&&n!==null?e[t]=f(n):e[t]=n}return e}function V(o,e){return e instanceof DOMRectReadOnly?{x:e.x,y:e.y,width:e.width,height:e.height}:e}function B(o){console.log("graph state object:",o);const e=f(o),t=JSON.stringify(e,V);return localStorage.setItem("state",t),t}var F=D('<div class="controls-wrapper svelte-izjv92"><button class="svelte-izjv92"><span class="material-symbols-outlined svelte-izjv92"> </span></button> <button class="save-button NW svelte-izjv92">Save</button></div>');function L(o,e){G(e,!1),console.log("Componente ThemeToggle.svelte");let t=c(e,"main",8,"light"),n=c(e,"alt",8,"dark"),a=c(e,"mainIcon",8,"light_mode"),p=c(e,"altIcon",8,"dark_mode"),i=c(e,"corner",8,"NE"),k=c(e,"bgColor",8,null),w=c(e,"iconColor",8,null),m=E(t());function T(){const r=document.documentElement.getAttribute("svelvet-theme");let s;!r||r===t()?s=n():s=t(),d(m,s),document.documentElement.setAttribute("svelvet-theme",s),localStorage.setItem("currentTheme",s)}O(()=>{const r=localStorage.getItem("currentTheme");r?(document.documentElement.setAttribute("svelvet-theme",r),d(m,r)):(document.documentElement.setAttribute("svelvet-theme",t()),d(m,t()));const s=localStorage.getItem("state");if(s){console.log("Al renderizar la aplicacion este componente se ejecuta en este orden");const g=JSON.parse(s);if(g&&g.nodes){const j=I(N);console.log(j),j.set("G-1",g),console.log("Restaurando nodos:",g.nodes)}}});let v=E();N.subscribe(r=>{d(v,r.get("G-1")),console.log("Graph from store:",b(v))}),R();var l=F(),u=y(l),x=y(u),z=y(x),C=W(u,2);J(()=>{h(l,"SW",i()==="SW"),h(l,"NE",i()==="NE"),h(l,"SE",i()==="SE"),h(l,"NW",i()==="NW"),_(l,"--prop-theme-toggle-color",k()),_(l,"--prop-theme-toggle-text-color",w()),K(z,b(m)===t()?p():a())}),S("mousedown",u,A(T)),S("touchstart",u,A(T)),S("click",C,()=>{B(b(v))}),M(o,l),q()}export{L as default};
