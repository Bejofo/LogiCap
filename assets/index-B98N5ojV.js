const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Controls-DH2AEb_b.js","./Icon-Bq-0NiD5.js","./DrawerController-C5VsJ9wc.js","./DrawerController-CDtfjO5V.css"])))=>i.map(i=>d[i]);
var ms=Object.defineProperty;var jr=e=>{throw TypeError(e)};var _s=(e,t,n)=>t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Hr=(e,t,n)=>_s(e,typeof t!="symbol"?t+"":t,n),ar=(e,t,n)=>t.has(e)||jr("Cannot "+n);var vn=(e,t,n)=>(ar(e,t,"read from private field"),n?n.call(e):t.get(e)),uo=(e,t,n)=>t.has(e)?jr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),cr=(e,t,n,r)=>(ar(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Kr=(e,t,n)=>(ar(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const _r=!1;var Po=Array.isArray,ys=Array.prototype.indexOf,Ar=Array.from,Si=Object.defineProperty,yn=Object.getOwnPropertyDescriptor,Ci=Object.getOwnPropertyDescriptors,xs=Object.prototype,bs=Array.prototype,Mr=Object.getPrototypeOf;function fo(e){return typeof e=="function"}const xn=()=>{};function ws(e){return e()}function Go(e){for(var t=0;t<e.length;t++)e[t]()}const qe=2,Ei=4,Do=8,Pr=16,un=32,oo=64,Xo=128,an=256,Fo=512,Ee=1024,Sn=2048,Fn=4096,bn=8192,Zo=16384,Ss=32768,Jo=65536,Ni=1<<17,Cs=1<<19,Ai=1<<20,sn=Symbol("$state"),Mi=Symbol("legacy props"),Es=Symbol("");function Pi(e){return e===this.v}function Dr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ir(e){return!Dr(e,this.v)}function Ns(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function As(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ms(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ps(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Di(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ds(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Is(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ls(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ks(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ts(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ro=!1,Rs=!1;function Os(){ro=!0}const Lr=1,kr=2,Ii=4,zs=8,Bs=16,Ws=1,Ys=2,Gs=4,Xs=8,Fs=16,Li=1,qs=2,Le=Symbol();function Tr(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function io(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Mt=null;function Ur(e){Mt=e}function It(e){return ki().get(e)}function Ht(e,t){return ki().set(e,t),t}function se(e,t=!1,n){Mt={p:Mt,c:null,e:null,m:!1,s:e,x:null,l:null},ro&&!t&&(Mt.l={s:null,u:null,r1:[],r2:Xe(!1)})}function le(e){const t=Mt;if(t!==null){e!==void 0&&(t.x=e);const l=t.e;if(l!==null){var n=Qt,r=ee;t.e=null;try{for(var i=0;i<l.length;i++){var s=l[i];cn(s.effect),kn(s.reaction),Xn(s.fn)}}finally{cn(n),kn(r)}}Mt=t.p,t.m=!0}return e||{}}function Io(){return!ro||Mt!==null&&Mt.l===null}function ki(e){return Mt===null&&io(),Mt.c??(Mt.c=new Map($s(Mt)||void 0))}function $s(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function Xe(e,t){var n={f:0,v:e,reactions:null,equals:Pi,rv:0,wv:0};return n}function Qo(e,t=!1){var r;const n=Xe(e);return t||(n.equals=Ir),ro&&Mt!==null&&Mt.l!==null&&((r=Mt.l).s??(r.s=[])).push(n),n}function x(e,t=!1){return js(Qo(e,t))}function js(e){return ee!==null&&!wn&&ee.f&qe&&(ln===null?ol([e]):ln.push(e)),e}function $n(e,t){return m(e,ie(()=>o(e))),t}function m(e,t){return ee!==null&&!wn&&Io()&&ee.f&(qe|Pr)&&(ln===null||!ln.includes(e))&&Ts(),bo(e,t)}function bo(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Ui(),Ti(e,Sn),Io()&&Qt!==null&&Qt.f&Ee&&!(Qt.f&(un|oo))&&(pn===null?rl([e]):pn.push(e))),t}function Ti(e,t){var n=e.reactions;if(n!==null)for(var r=Io(),i=n.length,s=0;s<i;s++){var l=n[s],c=l.f;c&Sn||!r&&l===Qt||(Ze(l,t),c&(Ee|an)&&(c&qe?Ti(l,Fn):rr(l)))}}let Ri=!1;function Kn(e,t=null,n){if(typeof e!="object"||e===null||sn in e)return e;const r=Mr(e);if(r!==xs&&r!==bs)return e;var i=new Map,s=Po(e),l=Xe(0);s&&i.set("length",Xe(e.length));var c;return new Proxy(e,{defineProperty(a,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Is();var h=i.get(u);return h===void 0?(h=Xe(d.value),i.set(u,h)):m(h,Kn(d.value,c)),!0},deleteProperty(a,u){var d=i.get(u);if(d===void 0)u in a&&i.set(u,Xe(Le));else{if(s&&typeof u=="string"){var h=i.get("length"),f=Number(u);Number.isInteger(f)&&f<h.v&&m(h,f)}m(d,Le),Vr(l)}return!0},get(a,u,d){var v;if(u===sn)return e;var h=i.get(u),f=u in a;if(h===void 0&&(!f||(v=yn(a,u))!=null&&v.writable)&&(h=Xe(Kn(f?a[u]:Le,c)),i.set(u,h)),h!==void 0){var _=o(h);return _===Le?void 0:_}return Reflect.get(a,u,d)},getOwnPropertyDescriptor(a,u){var d=Reflect.getOwnPropertyDescriptor(a,u);if(d&&"value"in d){var h=i.get(u);h&&(d.value=o(h))}else if(d===void 0){var f=i.get(u),_=f==null?void 0:f.v;if(f!==void 0&&_!==Le)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return d},has(a,u){var _;if(u===sn)return!0;var d=i.get(u),h=d!==void 0&&d.v!==Le||Reflect.has(a,u);if(d!==void 0||Qt!==null&&(!h||(_=yn(a,u))!=null&&_.writable)){d===void 0&&(d=Xe(h?Kn(a[u],c):Le),i.set(u,d));var f=o(d);if(f===Le)return!1}return h},set(a,u,d,h){var A;var f=i.get(u),_=u in a;if(s&&u==="length")for(var v=d;v<f.v;v+=1){var w=i.get(v+"");w!==void 0?m(w,Le):v in a&&(w=Xe(Le),i.set(v+"",w))}f===void 0?(!_||(A=yn(a,u))!=null&&A.writable)&&(f=Xe(void 0),m(f,Kn(d,c)),i.set(u,f)):(_=f.v!==Le,m(f,Kn(d,c)));var y=Reflect.getOwnPropertyDescriptor(a,u);if(y!=null&&y.set&&y.set.call(h,d),!_){if(s&&typeof u=="string"){var p=i.get("length"),P=Number(u);Number.isInteger(P)&&P>=p.v&&m(p,P+1)}Vr(l)}return!0},ownKeys(a){o(l);var u=Reflect.ownKeys(a).filter(f=>{var _=i.get(f);return _===void 0||_.v!==Le});for(var[d,h]of i)h.v!==Le&&!(d in a)&&u.push(d);return u},setPrototypeOf(){Ls()}})}function Vr(e,t=1){m(e,e.v+t)}function Zr(e){return e!==null&&typeof e=="object"&&sn in e?e[sn]:e}function Hc(e,t){return Object.is(Zr(e),Zr(t))}var Un,Oi,zi;function Hs(){if(Un===void 0){Un=window;var e=Element.prototype,t=Node.prototype;Oi=yn(t,"firstChild").get,zi=yn(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Rr(e=""){return document.createTextNode(e)}function mn(e){return Oi.call(e)}function tr(e){return zi.call(e)}function Kt(e,t){return mn(e)}function ct(e,t){{var n=mn(e);return n instanceof Comment&&n.data===""?tr(n):n}}function dt(e,t=1,n=!1){let r=e;for(;t--;)r=tr(r);return r}function Ks(e){e.textContent=""}function wo(e){var t=qe|Sn,n=ee!==null&&ee.f&qe?ee:null;return Qt===null||n!==null&&n.f&an?t|=an:Qt.f|=Ai,{ctx:Mt,deps:null,effects:null,equals:Pi,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Qt}}function he(e){const t=wo(e);return t.equals=Ir,t}function Bi(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ln(t[n])}}function Us(e){for(var t=e.parent;t!==null;){if(!(t.f&qe))return t;t=t.parent}return null}function Vs(e){var t,n=Qt;cn(Us(e));try{Bi(e),t=Zi(e)}finally{cn(n)}return t}function Wi(e){var t=Vs(e),n=(Yn||e.f&an)&&e.deps!==null?Fn:Ee;Ze(e,n),e.equals(t)||(e.v=t,e.wv=Ui())}function Yi(e){Qt===null&&ee===null&&Ms(),ee!==null&&ee.f&an&&Qt===null&&As(),Wr&&Ns()}function Zs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function so(e,t,n,r=!0){var i=(e&oo)!==0,s=Qt,l={ctx:Mt,deps:null,nodes_start:null,nodes_end:null,f:e|Sn,first:null,fn:t,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,wv:0};if(n){var c=Zn;try{Jr(!0),or(l),l.f|=Ss}catch(d){throw Ln(l),d}finally{Jr(c)}}else t!==null&&rr(l);var a=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Ai|Xo))===0;if(!a&&!i&&r&&(s!==null&&Zs(l,s),ee!==null&&ee.f&qe)){var u=ee;(u.effects??(u.effects=[])).push(l)}return l}function Or(e){const t=so(Do,null,!1);return Ze(t,Ee),t.teardown=e,t}function yr(e){Yi();var t=Qt!==null&&(Qt.f&un)!==0&&Mt!==null&&!Mt.m;if(t){var n=Mt;(n.e??(n.e=[])).push({fn:e,effect:Qt,reaction:ee})}else{var r=Xn(e);return r}}function Js(e){return Yi(),lo(e)}function Qs(e){const t=so(oo,e,!0);return(n={})=>new Promise(r=>{n.outro?So(t,()=>{Ln(t),r(void 0)}):(Ln(t),r(void 0))})}function Xn(e){return so(Ei,e,!1)}function b(e,t){var n=Mt,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=lo(()=>{e(),!r.ran&&(r.ran=!0,m(n.l.r2,!0),ie(t))})}function Ae(){var e=Mt;lo(()=>{if(o(e.l.r2)){for(var t of e.l.r1){var n=t.effect;n.f&Ee&&Ze(n,Fn),ao(n)&&or(n),t.ran=!1}e.l.r2.v=!1}})}function lo(e){return so(Do,e,!0)}function Ut(e,t=[],n=wo){const r=t.map(n);return er(()=>e(...r.map(o)))}function er(e,t=0){return so(Do|Pr|t,e,!0)}function to(e,t=!0){return so(Do|un,e,!0,t)}function Gi(e){var t=e.teardown;if(t!==null){const n=Wr,r=ee;Qr(!0),kn(null);try{t.call(null)}finally{Qr(n),kn(r)}}}function Xi(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;Ln(n,t),n=r}}function tl(e){for(var t=e.first;t!==null;){var n=t.next;t.f&un||Ln(t),t=n}}function Ln(e,t=!0){var n=!1;if((t||e.f&Cs)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var s=r===i?null:tr(r);r.remove(),r=s}n=!0}Xi(e,t&&!n),Ho(e,0),Ze(e,Zo);var l=e.transitions;if(l!==null)for(const a of l)a.stop();Gi(e);var c=e.parent;c!==null&&c.first!==null&&Fi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Fi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function So(e,t){var n=[];zr(e,n,!0),qi(n,()=>{Ln(e),t&&t()})}function qi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function zr(e,t,n){if(!(e.f&bn)){if(e.f^=bn,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Jo)!==0||(r.f&un)!==0;zr(r,t,s?n:!1),r=i}}}function qo(e){$i(e,!0)}function $i(e,t){if(e.f&bn){e.f^=bn,e.f&Ee||(e.f^=Ee),ao(e)&&(Ze(e,Sn),rr(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Jo)!==0||(n.f&un)!==0;$i(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let $o=!1,xr=[];function ji(){$o=!1;const e=xr.slice();xr=[],Go(e)}function Br(e){$o||($o=!0,queueMicrotask(ji)),xr.push(e)}function el(){$o&&ji()}const Hi=0,nl=1;let Bo=!1,Wo=Hi,Co=!1,Eo=null,Zn=!1,Wr=!1;function Jr(e){Zn=e}function Qr(e){Wr=e}let Wn=[],Jn=0;let ee=null,wn=!1;function kn(e){ee=e}let Qt=null;function cn(e){Qt=e}let ln=null;function ol(e){ln=e}let ke=null,Oe=0,pn=null;function rl(e){pn=e}let Ki=1,jo=0,Yn=!1,Dn=null;function Ui(){return++Ki}function ao(e){var u;var t=e.f;if(t&Sn)return!0;if(t&Fn){var n=e.deps,r=(t&an)!==0;if(n!==null){var i,s,l=(t&Fo)!==0,c=r&&Qt!==null&&!Yn,a=n.length;if(l||c){for(i=0;i<a;i++)s=n[i],(l||!((u=s==null?void 0:s.reactions)!=null&&u.includes(e)))&&(s.reactions??(s.reactions=[])).push(e);l&&(e.f^=Fo)}for(i=0;i<a;i++)if(s=n[i],ao(s)&&Wi(s),s.wv>e.wv)return!0}(!r||Qt!==null&&!Yn)&&Ze(e,Ee)}return!1}function il(e,t){for(var n=t;n!==null;){if(n.f&Xo)try{n.fn(e);return}catch{n.f^=Xo}n=n.parent}throw Bo=!1,e}function sl(e){return(e.f&Zo)===0&&(e.parent===null||(e.parent.f&Xo)===0)}function nr(e,t,n,r){if(Bo){if(n===null&&(Bo=!1),sl(t))throw e;return}n!==null&&(Bo=!0);{il(e,t);return}}function Vi(e,t,n=0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];s.f&qe?Vi(s,t,n+1):t===s&&(n===0?Ze(s,Sn):s.f&Ee&&Ze(s,Fn),rr(s))}}function Zi(e){var _;var t=ke,n=Oe,r=pn,i=ee,s=Yn,l=ln,c=Mt,a=wn,u=e.f;ke=null,Oe=0,pn=null,ee=u&(un|oo)?null:e,Yn=(u&an)!==0&&(!Zn||(i===null||a)&&e.parent!==null),ln=null,Ur(e.ctx),wn=!1,jo++;try{var d=(0,e.fn)(),h=e.deps;if(ke!==null){var f;if(Ho(e,Oe),h!==null&&Oe>0)for(h.length=Oe+ke.length,f=0;f<ke.length;f++)h[Oe+f]=ke[f];else e.deps=h=ke;if(!Yn)for(f=Oe;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&Oe<h.length&&(Ho(e,Oe),h.length=Oe);if(Io()&&pn!==null&&!(e.f&(qe|Fn|Sn)))for(f=0;f<pn.length;f++)Vi(pn[f],e);return i!==null&&jo++,d}finally{ke=t,Oe=n,pn=r,ee=i,Yn=s,ln=l,Ur(c),wn=a}}function ll(e,t){let n=t.reactions;if(n!==null){var r=ys.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&qe&&(ke===null||!ke.includes(t))&&(Ze(t,Fn),t.f&(an|Fo)||(t.f^=Fo),Bi(t),Ho(t,0))}function Ho(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ll(e,n[r])}function or(e){var t=e.f;if(!(t&Zo)){Ze(e,Ee);var n=Qt,r=Mt;Qt=e;try{t&Pr?tl(e):Xi(e),Gi(e);var i=Zi(e);e.teardown=typeof i=="function"?i:null,e.wv=Ki;var s=e.deps,l;_r&&Rs&&e.f&Sn}catch(c){nr(c,e,n,r||e.ctx)}finally{Qt=n}}}function Ji(){if(Jn>1e3){Jn=0;try{Ps()}catch(e){if(Eo!==null)nr(e,Eo,null);else throw e}}Jn++}function Qi(e){var t=e.length;if(t!==0){Ji();var n=Zn;Zn=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&Ee||(i.f^=Ee);var s=[];ts(i,s),al(s)}}finally{Zn=n}}}function al(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Zo|bn)))try{ao(r)&&(or(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Fi(r):r.fn=null))}catch(i){nr(i,r,null,r.ctx)}}}function cl(){if(Co=!1,Jn>1001)return;const e=Wn;Wn=[],Qi(e),Co||(Jn=0,Eo=null)}function rr(e){Wo===Hi&&(Co||(Co=!0,queueMicrotask(cl))),Eo=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(oo|un)){if(!(n&Ee))return;t.f^=Ee}}Wn.push(t)}function ts(e,t){var n=e.first,r=[];t:for(;n!==null;){var i=n.f,s=(i&un)!==0,l=s&&(i&Ee)!==0,c=n.next;if(!l&&!(i&bn))if(i&Do){if(s)n.f^=Ee;else{var a=ee;try{ee=n,ao(n)&&or(n)}catch(f){nr(f,n,null,n.ctx)}finally{ee=a}}var u=n.first;if(u!==null){n=u;continue}}else i&Ei&&r.push(n);if(c===null){let f=n.parent;for(;f!==null;){if(e===f)break t;var d=f.next;if(d!==null){n=d;continue t}f=f.parent}}n=c}for(var h=0;h<r.length;h++)u=r[h],t.push(u),ts(u,t)}function es(e){var t=Wo,n=Wn;try{Ji();const i=[];Wo=nl,Wn=i,Co=!1,Qi(n);var r=e==null?void 0:e();return el(),(Wn.length>0||i.length>0)&&es(),Jn=0,Eo=null,r}finally{Wo=t,Wn=n}}async function ul(){await Promise.resolve(),es()}function o(e){var t=e.f,n=(t&qe)!==0;if(Dn!==null&&Dn.add(e),ee!==null&&!wn){ln!==null&&ln.includes(e)&&ks();var r=ee.deps;e.rv<jo&&(e.rv=jo,ke===null&&r!==null&&r[Oe]===e?Oe++:ke===null?ke=[e]:ke.push(e))}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&!(s.f&an)&&(i.f^=an)}return n&&(i=e,ao(i)&&Wi(i)),e.v}function dl(e){var t=Dn;Dn=new Set;var n=Dn,r;try{if(ie(e),t!==null)for(r of Dn)t.add(r)}finally{Dn=t}return n}function Kc(e){var t=dl(()=>ie(e));for(var n of t)if(n.f&Ni)for(const r of n.deps||[])r.f&qe||bo(r,r.v);else bo(n,n.v)}function ie(e){var t=wn;try{return wn=!0,e()}finally{wn=t}}const fl=-7169;function Ze(e,t){e.f=e.f&fl|t}function nt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(sn in e)br(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&sn in n&&br(n)}}}function br(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{br(e[r],t)}catch{}const n=Mr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ci(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const hl=["touchstart","touchmove"];function gl(e){return hl.includes(e)}let ti=!1;function vl(){ti||(ti=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ns(e){var t=ee,n=Qt;kn(null),cn(null);try{return e()}finally{kn(t),cn(n)}}function pl(e,t,n,r=n){e.addEventListener(t,()=>ns(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),vl()}const ml=new Set,ei=new Set;function _l(e,t,n,r={}){function i(s){if(r.capture||vo.call(t,s),!s.cancelBubble)return ns(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Br(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Tt(e,t,n,r,i){var s={capture:r,passive:i},l=_l(e,t,n,s);(t===document.body||t===window||t===document)&&Or(()=>{t.removeEventListener(e,l,s)})}function vo(e){var P;var t=this,n=t.ownerDocument,r=e.type,i=((P=e.composedPath)==null?void 0:P.call(e))||[],s=i[0]||e.target,l=0,c=e.__root;if(c){var a=i.indexOf(c);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(l=a)}if(s=i[l]||e.target,s!==t){Si(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=ee,h=Qt;kn(null),cn(null);try{for(var f,_=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];if(w!==void 0&&!s.disabled)if(Po(w)){var[y,...p]=w;y.apply(s,[e,...p])}else w.call(s,e)}catch(A){f?_.push(A):f=A}if(e.cancelBubble||v===t||v===null)break;s=v}if(f){for(let A of _)queueMicrotask(()=>{throw A});throw f}}finally{e.__root=t,delete e.currentTarget,kn(d),cn(h)}}}function os(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function No(e,t){var n=Qt;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $t(e,t){var n=(t&Li)!==0,r=(t&qs)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=os(s?e:"<!>"+e),n||(i=mn(i)));var l=r?document.importNode(i,!0):i.cloneNode(!0);if(n){var c=mn(l),a=l.lastChild;No(c,a)}else No(l,l);return l}}function dn(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&Li)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,l;return()=>{if(!l){var c=os(s),a=mn(c);if(i)for(l=document.createDocumentFragment();mn(a);)l.appendChild(mn(a));else l=mn(a)}var u=l.cloneNode(!0);if(i){var d=mn(u),h=u.lastChild;No(d,h)}else No(u,u);return u}}function At(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Rr();return e.append(t,n),No(t,n),e}function O(e,t){e!==null&&e.before(t)}function rs(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function yl(e,t){return xl(e,t)}const jn=new Map;function xl(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){Hs();var c=new Set,a=h=>{for(var f=0;f<h.length;f++){var _=h[f];if(!c.has(_)){c.add(_);var v=gl(_);t.addEventListener(_,vo,{passive:v});var w=jn.get(_);w===void 0?(document.addEventListener(_,vo,{passive:v}),jn.set(_,1)):jn.set(_,w+1)}}};a(Ar(ml)),ei.add(a);var u=void 0,d=Qs(()=>{var h=n??t.appendChild(Rr());return to(()=>{if(s){se({});var f=Mt;f.c=s}i&&(r.$$events=i),u=e(h,r)||{},s&&le()}),()=>{var v;for(var f of c){t.removeEventListener(f,vo);var _=jn.get(f);--_===0?(document.removeEventListener(f,vo),jn.delete(f)):jn.set(f,_)}ei.delete(a),h!==n&&((v=h.parentNode)==null||v.removeChild(h))}});return bl.set(u,d),u}let bl=new WeakMap;function Lt(e,t,n=!1){var r=e,i=null,s=null,l=Le,c=n?Jo:0,a=!1;const u=(h,f=!0)=>{a=!0,d(f,h)},d=(h,f)=>{l!==(l=h)&&(l?(i?qo(i):f&&(i=to(()=>f(r))),s&&So(s,()=>{s=null})):(s?qo(s):f&&(s=to(()=>f(r))),i&&So(i,()=>{i=null})))};er(()=>{a=!1,t(u),a||d(null,null)},c)}function Vn(e,t){return t}function wl(e,t,n,r){for(var i=[],s=t.length,l=0;l<s;l++)zr(t[l].e,i,!0);var c=s>0&&i.length===0&&n!==null;if(c){var a=n.parentNode;Ks(a),a.append(n),r.clear(),Pn(e,t[0].prev,t[s-1].next)}qi(i,()=>{for(var u=0;u<s;u++){var d=t[u];c||(r.delete(d.k),Pn(e,d.prev,d.next)),Ln(d.e,!c)}})}function on(e,t,n,r,i,s=null){var l=e,c={flags:t,items:new Map,first:null},a=(t&Ii)!==0;if(a){var u=e;l=u.appendChild(Rr())}var d=null,h=!1,f=he(()=>{var _=n();return Po(_)?_:_==null?[]:Ar(_)});er(()=>{var _=o(f),v=_.length;h&&v===0||(h=v===0,Sl(_,c,l,i,t,r,n),s!==null&&(v===0?d?qo(d):d=to(()=>s(l)):d!==null&&So(d,()=>{d=null})),o(f))})}function Sl(e,t,n,r,i,s,l){var Y,it,B,X;var c=(i&zs)!==0,a=(i&(Lr|kr))!==0,u=e.length,d=t.items,h=t.first,f=h,_,v=null,w,y=[],p=[],P,A,N,I;if(c)for(I=0;I<u;I+=1)P=e[I],A=s(P,I),N=d.get(A),N!==void 0&&((Y=N.a)==null||Y.measure(),(w??(w=new Set)).add(N));for(I=0;I<u;I+=1){if(P=e[I],A=s(P,I),N=d.get(A),N===void 0){var G=f?f.e.nodes_start:n;v=El(G,t,v,v===null?t.first:v.next,P,A,I,r,i,l),d.set(A,v),y=[],p=[],f=v.next;continue}if(a&&Cl(N,P,I,i),N.e.f&bn&&(qo(N.e),c&&((it=N.a)==null||it.unfix(),(w??(w=new Set)).delete(N))),N!==f){if(_!==void 0&&_.has(N)){if(y.length<p.length){var J=p[0],z;v=J.prev;var tt=y[0],U=y[y.length-1];for(z=0;z<y.length;z+=1)ni(y[z],J,n);for(z=0;z<p.length;z+=1)_.delete(p[z]);Pn(t,tt.prev,U.next),Pn(t,v,tt),Pn(t,U,J),f=J,v=U,I-=1,y=[],p=[]}else _.delete(N),ni(N,f,n),Pn(t,N.prev,N.next),Pn(t,N,v===null?t.first:v.next),Pn(t,v,N),v=N;continue}for(y=[],p=[];f!==null&&f.k!==A;)f.e.f&bn||(_??(_=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;N=f}y.push(N),v=N,f=N.next}if(f!==null||_!==void 0){for(var pt=_===void 0?[]:Ar(_);f!==null;)f.e.f&bn||pt.push(f),f=f.next;var lt=pt.length;if(lt>0){var Q=i&Ii&&u===0?n:null;if(c){for(I=0;I<lt;I+=1)(B=pt[I].a)==null||B.measure();for(I=0;I<lt;I+=1)(X=pt[I].a)==null||X.fix()}wl(t,pt,Q,d)}}c&&Br(()=>{var ot;if(w!==void 0)for(N of w)(ot=N.a)==null||ot.apply()}),Qt.first=t.first&&t.first.e,Qt.last=v&&v.e}function Cl(e,t,n,r){r&Lr&&bo(e.v,t),r&kr?bo(e.i,n):e.i=n}function El(e,t,n,r,i,s,l,c,a,u){var d=(a&Lr)!==0,h=(a&Bs)===0,f=d?h?Qo(i):Xe(i):i,_=a&kr?Xe(l):l,v={i:_,v:f,k:s,a:null,e:null,prev:n,next:r};try{return v.e=to(()=>c(e,f,_,u),Ri),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?t.first=v:(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function ni(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var l=tr(s);i.before(s),s=l}}function Pn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Wt(e,t,n,r,i){var c;var s=(c=t.$$slots)==null?void 0:c[n],l=!1;s===!0&&(s=t[n==="default"?"children":n],l=!0),s===void 0?i!==null&&i(e):s(e,l?()=>r:r)}function Yr(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function ho(e,t,n){var r=e,i,s;er(()=>{i!==(i=t())&&(s&&(So(s),s=null),i&&(s=to(()=>n(r,i))))},Jo)}function Bn(e,t,n){Xn(()=>{var r=ie(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,s={};lo(()=>{var l=n();nt(l),i&&Dr(s,l)&&(s=l,r.update(l))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function $(e,t,n,r){var i=e.__attributes??(e.__attributes={});i[t]!==(i[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Es]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Nl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var oi=new Map;function Nl(e){var t=oi.get(e.nodeName);if(t)return t;oi.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=Ci(r);for(var s in n)n[s].set&&t.push(s);r=Mr(r)}return t}function Al(e,t,n){var r=e.__className,i=Ml(t);(r!==i||Ri)&&(t==null?e.removeAttribute("class"):e.className=i,e.__className=i)}function Ml(e,t){return(e??"")+""}function qt(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function q(e,t,n,r){var i=e.__styles??(e.__styles={});i[t]!==n&&(i[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}function Pl(e,t,n=t){var r=Io();pl(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=ur(e)?dr(s):s,n(s),r&&s!==(s=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=s??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),ie(t)==null&&e.value&&n(ur(e)?dr(e.value):e.value),lo(()=>{var i=t();ur(e)&&i===dr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ur(e){var t=e.type;return t==="number"||t==="range"}function dr(e){return e===""?null:+e}function Gr(e,t,n){var r=yn(e,t);r&&r.set&&(e[t]=n,Or(()=>{e[t]=null}))}var In,Qn,Mo,Uo,is;const Vo=class Vo{constructor(t){uo(this,Uo);uo(this,In,new WeakMap);uo(this,Qn);uo(this,Mo);cr(this,Mo,t)}observe(t,n){var r=vn(this,In).get(t)||new Set;return r.add(n),vn(this,In).set(t,r),Kr(this,Uo,is).call(this).observe(t,vn(this,Mo)),()=>{var i=vn(this,In).get(t);i.delete(n),i.size===0&&(vn(this,In).delete(t),vn(this,Qn).unobserve(t))}}};In=new WeakMap,Qn=new WeakMap,Mo=new WeakMap,Uo=new WeakSet,is=function(){return vn(this,Qn)??cr(this,Qn,new ResizeObserver(t=>{for(var n of t){Vo.entries.set(n.target,n);for(var r of vn(this,In).get(n.target)||[])r(n)}}))},Hr(Vo,"entries",new WeakMap);let wr=Vo;var Dl=new wr({box:"border-box"});function ri(e,t,n){var r=Dl.observe(e,()=>n(e[t]));Xn(()=>(ie(()=>n(e[t])),r))}function ii(e,t){return e===t||(e==null?void 0:e[sn])===t}function eo(e={},t,n,r){return Xn(()=>{var i,s;return lo(()=>{i=s,s=[],ie(()=>{e!==n(...s)&&(t(e,...s),i&&ii(n(...i),e)&&t(null,...i))})}),()=>{Br(()=>{s&&ii(n(...s),e)&&t(null,...s)})}}),e}function _o(e){return function(...t){var n=t[0];n.target===this&&(e==null||e.apply(this,t))}}function rn(e){return function(...t){var n=t[0];return n.stopPropagation(),e==null?void 0:e.apply(this,t)}}function ze(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function de(e=!1){const t=Mt,n=t.l.u;if(!n)return;let r=()=>nt(t.s);if(e){let i=0,s={};const l=wo(()=>{let c=!1;const a=t.s;for(const u in a)a[u]!==s[u]&&(s[u]=a[u],c=!0);return c&&i++,i});r=()=>o(l)}n.b.length&&Js(()=>{si(t,r),Go(n.b)}),yr(()=>{const i=ie(()=>n.m.map(ws));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&yr(()=>{si(t,r),Go(n.a)})}function si(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}function re(e,t){var s;var n=(s=e.$$events)==null?void 0:s[t.type],r=Po(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function Xr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),xn;const r=ie(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Hn=[];function Ao(e,t){return{subscribe:C(e,t).subscribe}}function C(e,t=xn){let n=null;const r=new Set;function i(c){if(Dr(e,c)&&(e=c,n)){const a=!Hn.length;for(const u of r)u[1](),Hn.push(u,e);if(a){for(let u=0;u<Hn.length;u+=2)Hn[u][0](Hn[u+1]);Hn.length=0}}}function s(c){i(c(e))}function l(c,a=xn){const u=[c,a];return r.add(u),r.size===1&&(n=t(i,s)||xn),c(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}function yo(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return Ao(n,(l,c)=>{let a=!1;const u=[];let d=0,h=xn;const f=()=>{if(d)return;h();const v=t(r?u[0]:u,l,c);s?l(v):h=typeof v=="function"?v:xn},_=i.map((v,w)=>Xr(v,y=>{u[w]=y,d&=~(1<<w),a&&f()},()=>{d|=1<<w}));return a=!0,f(),function(){Go(_),h(),a=!1}})}function k(e){let t;return Xr(e,n=>t=n)(),t}let To=!1,Sr=Symbol();function E(e,t,n){const r=n[t]??(n[t]={store:null,source:Qo(void 0),unsubscribe:xn});if(r.store!==e&&!(Sr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=xn;else{var i=!0;r.unsubscribe=Xr(e,s=>{i?r.source.v=s:m(r.source,s)}),i=!1}return e&&Sr in n?k(e):o(r.source)}function _n(e,t,n){let r=n[t];return r&&r.store!==e&&(r.unsubscribe(),r.unsubscribe=xn),e}function K(e,t){return e.set(t),t}function be(){const e={};function t(){Or(()=>{for(var n in e)e[n].unsubscribe();Si(e,Sr,{enumerable:!1,value:!0})})}return[e,t]}function xo(e,t,n){return e.set(n),t}function Il(e,t,n=1){return e.set(t+n),t}function Ll(e,t,n=1){const r=t+n;return e.set(r),r}function kl(e){var t=To;try{return To=!1,[e(),To]}finally{To=t}}const Tl={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(fo(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];fo(i)&&(i=i());const s=yn(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(fo(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=yn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===sn||t===Mi)return!1;for(let n of e.props)if(fo(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){fo(n)&&(n=n());for(const r in n)t.includes(r)||t.push(r)}return t}};function Fr(...e){return new Proxy({props:e},Tl)}function li(e){for(var t=Qt,n=Qt;t!==null&&!(t.f&(un|oo));)t=t.parent;try{return cn(t),e()}finally{cn(n)}}function g(e,t,n,r){var J;var i=(n&Ws)!==0,s=!ro||(n&Ys)!==0,l=(n&Xs)!==0,c=(n&Fs)!==0,a=!1,u;l?[u,a]=kl(()=>e[t]):u=e[t];var d=sn in e||Mi in e,h=l&&(((J=yn(e,t))==null?void 0:J.set)??(d&&t in e&&(z=>e[t]=z)))||void 0,f=r,_=!0,v=!1,w=()=>(v=!0,_&&(_=!1,c?f=ie(r):f=r),f);u===void 0&&r!==void 0&&(h&&s&&Ds(),u=w(),h&&h(u));var y;if(s)y=()=>{var z=e[t];return z===void 0?w():(_=!0,v=!1,z)};else{var p=li(()=>(i?wo:he)(()=>e[t]));p.f|=Ni,y=()=>{var z=o(p);return z!==void 0&&(f=void 0),z===void 0?f:z}}if(!(n&Gs))return y;if(h){var P=e.$$legacy;return function(z,tt){return arguments.length>0?((!s||!tt||P||a)&&h(tt?y():z),z):y()}}var A=!1,N=!1,I=Qo(u),G=li(()=>wo(()=>{var z=y(),tt=o(I);return A?(A=!1,N=!0,tt):(N=!1,I.v=z)}));return i||(G.equals=Ir),function(z,tt){if(Dn!==null&&(A=N,y(),o(I)),arguments.length>0){const U=tt?o(G):s&&l?Kn(z):z;return G.equals(U)||(A=!0,m(I,U),v&&f!==void 0&&(f=U),ie(()=>o(G))),z}return o(G)}}function Je(e){Mt===null&&io(),ro&&Mt.l!==null?qr(Mt).m.push(e):yr(()=>{const t=ie(e);if(typeof t=="function")return t})}function ir(e){Mt===null&&io(),Je(()=>()=>ie(e))}function Rl(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function no(){const e=Mt;return e===null&&io(),(t,n,r)=>{var s;const i=(s=e.s.$$events)==null?void 0:s[t];if(i){const l=Po(i)?i.slice():[i],c=Rl(t,n,r);for(const a of l)a.call(e.x,c);return!c.defaultPrevented}return!0}}function Ol(e){Mt===null&&io(),Mt.l===null&&Di(),qr(Mt).b.push(e)}function ss(e){Mt===null&&io(),Mt.l===null&&Di(),qr(Mt).a.push(e)}function qr(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const zl="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zl);Os();const Bl="modulepreload",Wl=function(e,t){return new URL(e,t).href},ai={},go=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),a=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Wl(u,r),u in ai)return;ai[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!r)for(let v=l.length-1;v>=0;v--){const w=l[v];if(w.href===u&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Bl,d||(_.as="script"),_.crossOrigin="",_.href=u,a&&_.setAttribute("nonce",a),document.head.appendChild(_),d)return new Promise((v,w)=>{_.addEventListener("load",v),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function Yl(e,t){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function Gl(){const e=()=>Math.floor(Math.random()*256),t=e(),n=e(),r=e();return`rgb(${t},${n},${r})`}const Xl={"(":"round","[":"square","([":"stadium","[[":"subroutine","[(":"cylindrical","((":"circle","{":"rhombus","{{":"hexagon"},ci={"-":"straight","~":"bezier"},ls={"(":")","[":"]","{":"}"},Fl=/[-=~]*>(?:\s*\|(.+?)\|)?/g,ql=e=>{const t=e.split(`
`),n={parentNodes:[],nodeList:{}};for(const r of t){const{parentNodes:i,childNodes:s,edge:l}=$l(r);for(const c of i){n.nodeList[c.id]||n.parentNodes.push(c);for(const a of s){if(n.nodeList[c.id]){if(n.nodeList[a.id]&&n.nodeList[a.id].children.some(({node:u})=>u.id===c.id))throw new Error("Circular reference detected");n.nodeList[c.id].children.push({node:n.nodeList[a.id]||a,...l})}else c.children.push({node:n.nodeList[a.id]||a,...l}),n.nodeList[c.id]=c;n.nodeList[a.id]?n.nodeList[a.id].parents.push({node:n.nodeList[c.id]||c}):(a.parents.push({node:n.nodeList[c.id]||c}),n.nodeList[a.id]=a),n.parentNodes=n.parentNodes.filter(u=>u.id!==a.id)}}}return n},$l=e=>{const t=[],n=[],r=e.trim();let i="";const s=r.match(Fl);if(s)i=s[0];else throw new Error("Invalid edge");const[l,c]=r.split(i);for(const u of l.split("&"))t.push(ui(u));for(const u of c.split("&"))n.push(ui(u));const a=jl(i);return{parentNodes:t,childNodes:n,edge:a}},ui=e=>{e=e.trim();const t=e[0],n=e.slice(1);let r="",i="";const s="Default",l={shape:""},c=[];for(let a=0;a<n.length;a++)if(Hl(n[a]))c.push(n[a]);else if(ls[c[c.length-1]]===n[a]){i=Xl[c.join("")];break}else r+=n[a];return l.shape=i,l.content=r,{id:t,data:l,type:s,children:[],parents:[],depth:0,nesting:0}},jl=e=>{e=e.trim();let t="";const[n,r]=e.split("|"),i=n[0];if(i in ci)t=ci[i];else throw new Error("Not a valid edge type");return r?{shape:t,content:r.trim(),length:Math.floor((n.trim().length-1)/2)}:{shape:t,length:Math.floor((n.trim().length-1)/2)}};function Hl(e){return e in ls}function Kl(){return Math.random().toString(36).substring(7)}function Ul(e,t){const n=Math.sign(e.x).toString(),r=Math.sign(e.y).toString(),i=Math.sign(t.x).toString(),s=Math.sign(t.y).toString();return`${n}${r}${i}${s}`}function Vl(e,t){return{1001:`a ${e} ${e} 0 0 1 ${e} ${e}`,"0110":`a ${e} ${e} 0 0 0 ${e} ${e}`,"100-1":`a ${e} ${e} 0 0 0 ${e} -${e}`,"0-110":`a ${e} ${e} 0 0 1 ${e} -${e}`,"-1001":`a ${e} ${e} 0 0 0 -${e} ${e}`,"01-10":`a ${e} ${e} 0 0 1 -${e} ${e}`,"-100-1":`a ${e} ${e} 0 0 1 -${e} -${e}`,"0-1-10":`a ${e} ${e} 0 0 0 -${e} -${e}`}[t]||""}function di(e,t){const n=t*(Math.PI/180),r=e.x*Math.cos(n)-e.y*Math.sin(n),i=e.x*Math.sin(n)+e.y*Math.cos(n);return{x:r,y:i}}const fi=(e,t,n,r)=>e+` l ${t} ${n} `+r,Te=C({x:0,y:0}),Cr=C(0),Fe=C(!1),Er=C(!1),as=Ao({x:0,y:0},e=>{const t=s=>{e({x:s.clientX,y:s.clientY})},n=s=>{if(s.touches.length===2){const l=Yl(s.touches[0],s.touches[1]);Cr.set(l);const c={x:s.touches[0].clientX,y:s.touches[0].clientY};e(c)}else if(s.touches.length===1){const l=s.touches[0].clientX,c=s.touches[0].clientY;e({x:l,y:c}),Fe.set(!0)}},r=s=>{n(s),window.addEventListener("touchend",i),window.addEventListener("touchmove",n)},i=()=>{Fe.set(!1),Cr.set(0),window.removeEventListener("touchmove",n)};return document.addEventListener("mousemove",t),window.addEventListener("touchstart",r,!0),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",i)}});var Zl=$t('<div class="selection-border svelte-10ds4jd"><div class="selection-box svelte-10ds4jd"></div></div>');function Jl(e,t){se(t,!1);const[n,r]=be(),i=()=>E(I,"$groups",n),s=()=>E(as,"$cursorPositionRaw",n),l=()=>E(o(c),"$selectedNodes",n),c=x(),a=x(),u=x(),d=x(),h=x(),f=x(),_=x(),v=x(),w=x();let y=g(t,"graph",8),p=g(t,"anchor",8),P=g(t,"adding",8,!1),A=g(t,"creating",8,!1),N=g(t,"color",8,null);const{groups:I}=y();let G,J=x();Je(z);function z(){G=Array.from(document.querySelectorAll(".svelvet-node")).map(Q=>{const{top:Y,left:it,width:B,height:X}=Q.getBoundingClientRect();return{id:Q.id,top:Y,left:it,width:B,height:X}})}function tt(){if(!G)return;const lt=G.reduce((Q,Y)=>{if(o(h)+p().left<=Y.left&&o(d)+p().top<=Y.top&&o(h)+p().left+Math.abs(o(u))>=Y.left+Y.width&&o(d)+p().top+Math.abs(o(a))>=Y.top+Y.height){const it=Y.id,B=y().nodes.get(it);if(!B)return Q;Q.push(B)}return Q},[]);P()?lt.forEach(Q=>{l().add(Q)}):K(o(c),new Set(lt)),K(o(c),l())}b(()=>i(),()=>{_n(m(c,i().selected.nodes),"$selectedNodes",n)}),b(()=>(s(),nt(p())),()=>{m(a,s().y-p().y-p().top)}),b(()=>(s(),nt(p())),()=>{m(u,s().x-p().x-p().left)}),b(()=>(nt(p()),o(a)),()=>{m(d,Math.min(p().y,p().y+o(a)))}),b(()=>(nt(p()),o(u)),()=>{m(h,Math.min(p().x,p().x+o(u)))}),b(()=>o(d),()=>{m(f,`${o(d)}px`)}),b(()=>o(h),()=>{m(_,`${o(h)}px`)}),b(()=>o(a),()=>{m(v,`${Math.abs(o(a))}px`)}),b(()=>o(u),()=>{m(w,`${Math.abs(o(u))}px`)}),b(()=>(o(u),o(a)),()=>{(o(u)||o(a))&&tt()}),Ae(),de();var U=Zl(),pt=Kt(U);eo(pt,lt=>m(J,lt),()=>o(J)),Ut(()=>{qt(U,"creating",A()),q(U,"--prop-selection-box-color",N()),q(U,"height",o(v)),q(U,"width",o(w)),q(U,"top",o(f)),q(U,"left",o(_)),qt(pt,"creating",A())}),O(e,U),le(),r()}const Ql=3,ta=.1,ea=10,na=100,oa=50,ra="#000",ia="#fff",sa="12px",la=22,aa=1.4,ca=40,po={north:{x:0,y:-1},south:{x:0,y:1},east:{x:1,y:0},west:{x:-1,y:0},self:{x:0,y:0}};var ua=dn('<circle class="background-dot svelte-rryw83"></circle>'),da=dn('<line class="background-line svelte-rryw83"></line><line class="background-line svelte-rryw83"></line>',1),fa=dn('<circle class="background-dot svelte-rryw83"></circle>'),ha=dn('<line class="background-line svelte-rryw83"></line><line class="background-line svelte-rryw83"></line>',1),ga=dn('<pattern id="graph-coarse-pattern" patternUnits="userSpaceOnUse"><!></pattern>'),va=dn('<rect width="100%" height="100%" fill="url(#graph-coarse-pattern)"></rect>'),pa=$t('<div id="background-wrapper" class="svelte-rryw83"><svg class="svelte-rryw83"><defs><pattern id="graph-pattern" patternUnits="userSpaceOnUse"><!></pattern><!></defs><rect width="100%" height="100%" fill="url(#graph-pattern)"></rect><!></svg></div>');function ma(e,t){se(t,!1);const[n,r]=be(),i=()=>E(G,"$translationStore",n),s=()=>E(I,"$scaleStore",n),l=x(),c=x(),a=x(),u=x(),d=x(),h=It("graph");let f=g(t,"style",8,"dots"),_=g(t,"gridWidth",8,la),v=g(t,"dotSize",8,aa),w=g(t,"bgColor",8,null),y=g(t,"dotColor",8,null),p=g(t,"opacityThreshold",8,3),P=g(t,"majorGrid",8,0),A=g(t,"minOpacity",8,.4);const N=h.transforms,I=N.scale,G=N.translation;let J=x(),z=x(),tt=x(),U=x(),pt=x(),lt=x(1),Q=x(1);b(()=>i(),()=>{m(l,i())}),b(()=>s(),()=>{m(c,s())}),b(()=>(o(c),nt(_())),()=>{m(a,o(c)*_())}),b(()=>(o(c),nt(v())),()=>{m(u,o(c)*v()/2)}),b(()=>o(a),()=>{m(d,o(a)/2)}),b(()=>(o(z),o(J),o(tt),o(u),o(c),o(l),nt(p()),nt(A())),()=>{var ht,W;m(z,((ht=o(J))==null?void 0:ht.offsetWidth)||0),m(tt,((W=o(J))==null?void 0:W.offsetHeight)||0),m(U,(o(z)+o(u))*(1-o(c))/2+o(l).x),m(pt,(o(tt)+o(u))*(1-o(c))/2+o(l).y),m(lt,o(c)>p()?1:o(c)/p()+A()),m(Q,o(c)>p()/3?1:o(c)/(p()/3)+A())}),Ae(),de();var Y=pa(),it=Kt(Y),B=Kt(it),X=Kt(B),ot=Kt(X);{var gt=ht=>{var W=ua();Ut(()=>{$(W,"r",o(u)),$(W,"cx",o(d)),$(W,"cy",o(d)),q(W,"--calculated-dot-color",y())}),O(ht,W)},M=ht=>{var W=At(),j=ct(W);{var zt=ut=>{var F=da(),yt=ct(F);$(yt,"y1",0);var xt=dt(yt);$(xt,"x1",0),Ut(()=>{$(yt,"x1",o(d)),$(yt,"x2",o(d)),$(yt,"y2",o(a)),$(yt,"stroke-width",o(u)),q(yt,"--calculated-dot-color",y()),$(xt,"y1",o(d)),$(xt,"y2",o(d)),$(xt,"x2",o(a)),$(xt,"stroke-width",o(u)),q(xt,"--calculated-dot-color",y())}),O(ut,F)};Lt(j,ut=>{f()==="lines"&&ut(zt)},!0)}O(ht,W)};Lt(ot,ht=>{f()==="dots"?ht(gt):ht(M,!1)})}var Ot=dt(X);{var et=ht=>{var W=ga(),j=Kt(W);{var zt=F=>{var yt=fa();Ut(()=>{$(yt,"r",o(u)*2),$(yt,"cx",o(d)),$(yt,"cy",o(d)),q(yt,"--calculated-dot-color",y())}),O(F,yt)},ut=F=>{var yt=At(),xt=ct(yt);{var mt=vt=>{var _t=ha(),ft=ct(_t);$(ft,"y1",0);var Vt=dt(ft);$(Vt,"x1",0),Ut(()=>{$(ft,"x1",o(d)),$(ft,"x2",o(d)),$(ft,"y2",o(a)*P()),$(ft,"stroke-width",o(u)*1.2),q(ft,"--calculated-dot-color",y()),$(Vt,"y1",o(d)),$(Vt,"y2",o(d)),$(Vt,"x2",o(a)*P()),$(Vt,"stroke-width",o(u)*1.2),q(Vt,"--calculated-dot-color",y())}),O(vt,_t)};Lt(xt,vt=>{f()==="lines"&&vt(mt)},!0)}O(F,yt)};Lt(j,F=>{f()==="dots"?F(zt):F(ut,!1)})}Ut(()=>{$(W,"x",o(U)),$(W,"y",o(pt)),$(W,"width",o(a)*P()),$(W,"height",o(a)*P())}),O(ht,W)};Lt(Ot,ht=>{P()>0&&ht(et)})}var L=dt(B),Pt=dt(L);{var Yt=ht=>{var W=va();Ut(()=>$(W,"opacity",o(Q))),O(ht,W)};Lt(Pt,ht=>{P()>0&&ht(Yt)})}eo(Y,ht=>m(J,ht),()=>o(J)),Ut(()=>{q(Y,"--calculated-background-color",w()),$(X,"x",o(U)),$(X,"y",o(pt)),$(X,"width",o(a)),$(X,"height",o(a)),$(L,"opacity",o(lt))}),O(e,Y),le(),r()}var _a=$t('<div role="button" tabindex="0" class="bounding-box-border svelte-1e5jg43"><div class="bounding-box svelte-1e5jg43"></div></div>');function ya(e,t){se(t,!1);const[n,r]=be(),i=()=>E(d(),"$position",n),s=()=>E(_,"$width",n),l=()=>E(v,"$height",n),c=()=>E(h(),"$color",n),a=x();let u=g(t,"dimensions",8),d=g(t,"position",8),h=g(t,"color",8),f=g(t,"groupName",8);const{width:_,height:v}=u(),w=no();function y(){w("groupClick",{groupName:f()})}b(()=>nt(f()),()=>{m(a,`${f()}-bounding-box`)}),Ae(),de();var p=_a(),P=Kt(p);Ut(()=>{$(p,"id",o(a)),$(p,"style",`border: solid 4px ${c()??""};`),q(p,"top",`${i().y}px`),q(p,"left",`${i().x}px`),q(p,"width",`${s()}px`),q(p,"height",`${l()}px`),q(P,"background-color",c())}),Tt("contextmenu",p,ze(rn(function(A){re.call(this,t,A)}))),Tt("mousedown",p,ze(rn(y))),O(e,p),le(),r()}function xa(e,t){se(t,!1);const[n,r]=be(),i=()=>E(l,"$groupBoxes",n),l=It("graph").groupBoxes;de();var c=At(),a=ct(c);on(a,1,()=>Array.from(i()),([u,d])=>u,(u,d)=>{let h=()=>o(d)[0];ya(u,Fr(()=>o(d)[1],{get groupName(){return h()},$$events:{groupClick(_){re.call(this,t,_)}}}))}),O(e,c),le(),r()}function fr(e){const t=e.style.width,n=e.style.height;e.style.width="fit-content",e.style.height="fit-content";const r=e.offsetWidth,i=e.offsetHeight;return e.style.width=t,e.style.height=n,[r,i]}function cs(e,t,n,r,i){const s={x:0,y:0},l=r.x-i.left-i.width/2,c=r.y-i.top-i.height/2,a=(l-n.x)/e,u=(c-n.y)/e;return s.x=l-a*t,s.y=c-u*t,s}function us(e,t,n){const r=t*n,i=e-r;return Number(Math.max(ta,Math.min(Ql,i)).toFixed(9))}const Lo=(e,t,n,r,i,s,l)=>{const{clientX:c,clientY:a}=e,u=s,d=c-n,h=a-t,f=l.x,_=l.y,v=r*(1-s)/2,w=i*(1-s)/2,y=d-f-v,p=h-_-w,P=y/u,A=p/u;return{x:P,y:A}};function ba(e,t,n){const{top:r,left:i,width:s,height:l}=k(e),c=k(t.scale),a=k(t.translation);return{scaled:Lo({clientX:n.x,clientY:n.y},r,i,s,l,c,a),scale:c}}function wa(e,t,n){const{scale:r,translation:i}=n,s=k(r),l=k(i),c=t.x-e.x,a=t.y-e.y,u=l.x+c*s,d=l.y+a*s;return{x:u,y:d}}function Sa(e,t){return e.x*t.x+e.y*t.y}function Ca(e,t,n){const r=[],i=t.x-e.x,s=t.y-e.y,l=Na(e.direction,t.direction),c=Sa(e.direction,t.direction)===0,a=Ea(e,t),u=oe(e.direction,-1,-1),d=oe(t.direction,-1,-1),h={x:Math.abs(e.direction.y),y:Math.abs(e.direction.x)},f=oe(e.direction,i-n*e.direction.x*(c?1:l?0:2),s-n*e.direction.y*(c?1:l?0:2)),_=oe(t.direction,i+n*t.direction.x*(c?1:l?0:2),s+n*t.direction.y*(c?1:l?0:2)),v=Math.sign(f.x)===-1||Math.sign(f.y)===-1,w=Math.sign(_.x)===1||Math.sign(_.y)===1,y=Math.abs(i),p=Math.abs(s),P=oe(e.direction,n,n),A=oe(d,n,n),N=oe(t.direction,n,n),I=oe(e.direction,y,p),G=oe(d,y,p),J=oe(e.direction,y/2,p/2),z=oe(d,y/2,p/2),tt=oe(h,i,s),U=!a&&!w&&!v,pt=e.x+P.x,lt=e.y+P.y,Q=t.x+N.x,Y=t.y+N.y;if(v&&r.push(P),a&&!w&&!v)r.push(I),r.push(G);else if(l)v||r.push(oe(e.direction,n+y,n+p)),r.push(tt),w||r.push(oe(d,n+y,n+p));else if(U)r.push(J),r.push(tt),r.push(z);else if(v&&w)if(c){const it=Math.abs(pt-Q),B=Math.abs(lt-Y);r.push(oe(t.direction,y<n*2?t.direction.x*(i+t.direction.x*n):y+n,p<n*2?t.direction.y*(s+t.direction.y*n):p+n)),r.push(oe(u,it,B))}else{const it=Math.abs(pt-Q),B=Math.abs(lt-Y);r.push(oe(h,i/2,s/2)),r.push(oe(t.direction,it,B)),r.push(oe(h,i/2,s/2))}else if(v){const it=Math.abs(pt-t.x),B=Math.abs(lt-t.y);r.push(oe(d,y<n*2?y-n:y/2,p<n*2?p-n:p/2)),r.push(oe(u,it,B)),r.push(oe(d,Math.max(n,y/2),Math.max(n,p/2)))}else if(w){const it=Math.abs(Q-e.x),B=Math.abs(Y-e.y);r.push(oe(e.direction,Math.max(n,y/2),Math.max(n,p/2))),r.push(oe(t.direction,it,B)),r.push(oe(e.direction,y<n*2?y-n:y/2,p<n*2?p-n:p/2))}return w&&r.push(A),r}function Ea(e,t){const{x:n,y:r}=e.direction,{x:i,y:s}=t.direction,l=t.x-e.x,c=t.y-e.y;return n*s===i*r?!1:Math.sign(c)===Math.sign(r+s)!=(Math.sign(l)===Math.sign(n+i))}function oe(e,t,n){return{x:e.x*t,y:e.y*n}}function Na(e,t){return e.x===t.x&&e.y===t.y}function Aa(e,t){const{width:n,height:r}=e,{top:i,left:s,right:l,bottom:c}=t,a=l-s,u=c-i;if(!a||!u)return{x:null,y:null,scale:null};const d=s+a/2,h=i+u/2,f=Math.min(n/a,r/u)*.8,_=n/2,v=r/2,w=_-d,y=v-h;return{x:w*f,y:y*f,scale:f}}const Ro=(e,t,n)=>Math.min(Math.abs(e||t)/2,n);function hr(e,t){const r=e.getTotalLength()*t;return e.getPointAtLength(r)}function Ko(){const e=new Map,{subscribe:t,set:n,update:r}=C(e);return{subscribe:t,set:n,update:r,add:(s,l)=>(r(c=>(c.set(l,s),c)),e),get:s=>e.get(s)||null,getAll:()=>Array.from(e.values()),delete:s=>{let l=!1;return r(c=>(c.delete(s),l=!0,c)),l},count:()=>e.size}}function Ma(e){const{id:t,inputs:n,outputs:r,resizable:i,dimensions:s,editable:l,direction:c,zIndex:a,position:u,selectionColor:d,borderWidth:h,edge:f}=e,{bgColor:_,borderColor:v,rotation:w,borderRadius:y,connections:p,textColor:P,locked:A,group:N}=e,I=Ko(),G=(tt="self")=>{k(I).forEach(U=>{(tt==="self"||k(U.direction)===tt)&&U.recalculatePosition()})};return{id:typeof t=="string"&&t.slice(0,2)==="N-"?t:`N-${t}`,position:C({x:(u==null?void 0:u.x)||0,y:(u==null?void 0:u.y)||0}),dimensions:{width:C((s==null?void 0:s.width)||0),height:C((s==null?void 0:s.height)||(s==null?void 0:s.width))},group:C(N||null),locked:C(A||!1),inputs:C(n),outputs:C(r),recalculateAnchors:G,rotation:C(w||0),moving:C(!1),resizingWidth:C(!1),resizingHeight:C(!1),rotating:C(!1),editable:C(l||!1),resizable:C(i),anchors:I,zIndex:C(a||2),collapsed:C(!1),edge:f||null,borderRadius:C(y),bgColor:C(_||null),direction:C(c),label:C(e.label||""),borderColor:C(v||null),borderWidth:C(h),selectionColor:C(d||null),textColor:C(P||null),connections:C(p)}}function Pa(e,t){const n=[e,t].sort();return`${n[0]}+${n[1]}`}function hi(e,t,n){var c,a,u,d,h;const{source:r,target:i}=e,l={id:r.id&&i.id?Pa(r.id,i.id):"cursor",target:e.target,source:e.source,component:t,type:C((n==null?void 0:n.type)||null),color:(n==null?void 0:n.color)||C(null),width:C((n==null?void 0:n.width)||0),animated:C((n==null?void 0:n.animated)||!1),rendered:C(!1),start:(n==null?void 0:n.start)||null,end:(n==null?void 0:n.end)||null};if(n!=null&&n.disconnect&&(l.disconnect=!0),n!=null&&n.label){const f={text:C(n==null?void 0:n.label.text),color:C(((c=n==null?void 0:n.label)==null?void 0:c.color)||ra),textColor:C(((a=n==null?void 0:n.label)==null?void 0:a.textColor)||ia),fontSize:C(((u=n==null?void 0:n.label)==null?void 0:u.fontSize)||sa),dimensions:{width:C(((d=n==null?void 0:n.label.dimensions)==null?void 0:d.width)||na),height:C(((h=n==null?void 0:n.label.dimensions)==null?void 0:h.height)||oa)},borderRadius:C((n==null?void 0:n.label.borderRadius)||ea)};l.label=f}return l}function Da(){const e=new Map,t=new Set,{subscribe:n,set:r,update:i}=C(e),s={subscribe:n,set:r,update:i,add:(l,c)=>{if(typeof c!="string"){const a=Array.from(c),u=a[0],d=a[1];if(u.connected.update(h=>h.add(d)),d.connected.update(h=>h.add(u)),s.match(...Array.from(c)).length)return;t.forEach(h=>h(l,"connection"))}i(a=>(a.set(c,l),a))},getAll:()=>Array.from(e.values()),get:l=>e.get(l)||null,match:(...l)=>Array.from(e.keys()).filter(c=>c==="cursor"?!1:l.every(a=>a?c.has(a):!0)),fetch:(l,c)=>{const a=Array.from(e.keys()).filter(u=>u==="cursor"?!1:[l,c].every(d=>d?u.has(d):!0))[0];return e.get(a)||null},delete:l=>{if(typeof l!="string"){const a=Array.from(l),u=a[0],d=a[1];u.connected.update(h=>(h.delete(d),h)),d.connected.update(h=>(h.delete(u),h))}let c=!1;return i(a=>{const u=a.get(l);return u&&(a.delete(l),c=!0,typeof l!="string"&&t.forEach(d=>d(u,"disconnection"))),a}),c},onEdgeChange:l=>(t.add(l),()=>t.delete(l)),count:()=>e.size};return s}function Ia(e,t,n,r){return yo([e,t,n,r],([s,l,c,a])=>{const u={clientX:s.x,clientY:s.y};return Lo(u,l.top,l.left,l.width,l.height,a,c)})}function La(e,t,n,r){const i=C({top:1/0,left:1/0,right:-1/0,bottom:-1/0}),s=C({top:1/0,left:1/0,right:-1/0,bottom:-1/0});let l,c=k(t),a=k(n),u=k(r),d=c.width/a,h=c.height/a;function f(){const{x:v,y:w}=Lo({clientX:c.left,clientY:c.top},c.top,c.left,c.width,c.height,a,u),y=k(s);i.set({top:Math.min(y.top,w),left:Math.min(y.left,v),right:Math.max(y.right,v+d),bottom:Math.max(y.bottom,h+w)})}function _(v=!1){let w=1/0,y=1/0,p=-1/0,P=-1/0;for(const A of e.getAll()){console.log("dentro del for, este es e node:",A);const{x:N,y:I}=k(A.position),G=k(A.dimensions.width),J=k(A.dimensions.height);y=Math.min(y,N),w=Math.min(w,I),p=Math.max(p,N+G),P=Math.max(P,I+J)}s.set({top:w,left:y,right:p,bottom:P}),f(),v&&(l=requestAnimationFrame(()=>_(v)))}return e.subscribe(()=>{console.log("dentro del nodes.subscribe...........Aqui no estan llegando los nodes"),_()}),Er.subscribe(v=>{v&&_(v),v||cancelAnimationFrame(l)}),Fe.subscribe(v=>{v&&_(v),v||cancelAnimationFrame(l)}),t.subscribe(()=>{c=k(t),d=c.width/a,h=c.height/a,f()}),n.subscribe(()=>{a=k(n),d=c.width/a,h=c.height/a,f()}),r.subscribe(()=>{u=k(r),f()}),{graphBounds:i,nodeBounds:s}}function ka(e,t,n){const{width:r,height:i,top:s,left:l}=e,c={clientX:r/2,clientY:i/2};return Lo(c,s,l,r,i,n,t)}function ds(e,t){const{zoom:n,editable:r,translation:i,direction:s,locked:l,edge:c,nodes:a}=t,u=C({x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0}),d=C({top:0,left:0,width:0,height:0,bottom:0,right:0}),h=C(n),f=C(!1),_=Ko(),v=La(_,d,h,u),w=yo([d,u,h],([p,P,A])=>ka(p,P,A));return{id:e,nodes:_,edges:Da(),transforms:{translation:u,scale:h},maxZIndex:C(2),dimensions:d,bounds:v,center:w,mounted:f,direction:s||"LR",editable:r||!1,edge:c||null,editing:C(null),cursor:Ia(as,d,u,h),locked:C(l||!1),groups:C({selected:{parent:C(null),nodes:C(new Set)},hidden:{parent:C(null),nodes:C(new Set)}}),groupBoxes:Ko(),activeGroup:C(null),initialNodePositions:C([])}}function Ta(e,t,n,r,i,s,l,c,a,u,d,h){const{width:f,height:_}=i,{x:v,y:w}=r,y=k(t.position),p=C({x:v-y.x+f/2,y:w-y.y+_/2}),P=yo([t.position,p],([tt,U])=>({x:tt.x+U.x,y:tt.y+U.y})),A=e.transforms,N=e.dimensions,I=C(a||"self"),G=()=>{const tt=document.getElementById(n),U=k(I),pt=po[U];if(!tt)return;const{x:lt,y:Q,width:Y,height:it}=tt.getBoundingClientRect(),B=k(p),X=k(P),{scaled:ot,scale:gt}=ba(N,A,{x:lt,y:Q}),M=ot.x-X.x,Ot=ot.y-X.y;p.set({x:B.x+M+Y/gt/2+pt.x*Y/gt/2,y:B.y+Ot+it/gt/2+pt.y*it/gt/2})},J=yo([t.moving,t.resizingWidth,t.resizingHeight,t.rotating],([tt,U,pt,lt])=>tt||U||pt||lt),z=yo([t.rotation],([tt])=>tt);return{id:n,position:P,offset:p,direction:I,dynamic:C(u||!1),type:c,edge:l,moving:J,mounted:C(!1),recalculatePosition:G,connected:C(new Set),store:s||null,inputKey:d||null,edgeColor:h||C(null),rotation:z,node:t}}const gr=Ko(),Oo={width:200,height:100};function Yo(e,t){return{x:Math.round(e/Oo.width)*Oo.width,y:Math.round(t/Oo.height)*Oo.height}}const zo=10;function fs(e){const t=k(e);return Array.from(t).map(r=>k(r.position))}function gi(e,t){console.log("moveNodes called");let n;const r=k(e.groups),i=k(e.activeGroup);if(console.log("Graph Groups:",r),console.log("Active Group:",i),!i)return;const s=r[i].nodes;if(!s)return;const l=k(e.initialNodePositions),{x:c,y:a}=k(Te),u=Array.from(k(s)),d=k(e.groupBoxes);console.log("Group Boxes:",d),u.forEach(f=>f.moving.set(!0)),h();function h(){const f=k(e.cursor);let _=f.x-c,v=f.y-a;if(t){const y=Yo(_,v);_=y.x,v=y.y}const w={x:_,y:v};u.forEach((y,p)=>{const{group:P,position:A}=y,N=l[p];let I;if(i==="selected"){const G=k(P);G&&(I=d.get(G))}if(!I)Ra(N,w,A);else{const G=k(y.dimensions.width),J=k(y.dimensions.height),z=gs(I,G,J);hs(N,w,A,z)}}),k(Fe)?n=requestAnimationFrame(h):cancelAnimationFrame(n)}}function Ra(e,t,n){n.set({x:e.x+t.x,y:e.y+t.y})}function hs(e,t,n,r){n.set({x:Math.min(Math.max(r.left,e.x+t.x),r.right),y:Math.min(Math.max(r.top,e.y+t.y),r.bottom)})}function gs(e,t,n){const{x:r,y:i}=k(e.position);return console.log("Group Box Position:",{x:r,y:i}),{left:r+zo,right:r+k(e.dimensions.width)-t-zo,top:i+zo,bottom:i+k(e.dimensions.height)-n-zo}}function vi(e=1,t,n,r=.1){const i=k(t),{width:s,height:l,top:c,left:a}=i,u=n.scale,d=k(n.translation),h=k(u),f=us(h,e,r),_=cs(h,f,d,{x:s/2+a,y:l/2+c},i);u.set(f),n.translation.set(_)}var Oa=$t('<div class="svelvet-graph-wrapper svelte-19pa6i0" role="presentation"><!></div>');function za(e,t){se(t,!1);const[n,r]=be(),i=()=>E(f,"$translation",n),s=()=>E(h,"$scale",n),l=()=>E(_,"$cursor",n),c=x(),a=x(),u=It("graph"),d=u.transforms,h=d.scale,f=d.translation,_=u.cursor;let v=g(t,"isMovable",8),w=x(),y=x(!1);function p(){K(f,wa(k(Te),l(),d)),m(w,requestAnimationFrame(p))}b(()=>i(),()=>{m(c,i())}),b(()=>(o(c),s()),()=>{m(a,`translate(${o(c).x}px, ${o(c).y}px) scale(${s()})`)}),b(()=>(nt(v()),o(y),o(w)),()=>{v()&&!o(y)?(m(y,!0),m(w,requestAnimationFrame(p))):(!v()||!o(y))&&(m(y,!1),cancelAnimationFrame(o(w)))}),Ae(),de();var P=Oa(),A=Kt(P);Wt(A,t,"default",{},null),Ut(()=>q(P,"transform",o(a))),Tt("contextmenu",P,_o(ze(function(N){re.call(this,t,N)}))),Tt("click",P,_o(ze(function(N){re.call(this,t,N)}))),Tt("touchstart",P,_o(ze(function(N){re.call(this,t,N)}))),O(e,P),le(),r()}var Ba=$t("<!> <!>",1);function Wa(e,t){se(t,!1);const[n,r]=be(),i=()=>E(h,"$activeGroup",n),s=()=>E(Fe,"$tracking",n),l=()=>E(v,"$cursor",n),c=()=>E(f,"$groups",n);console.log("Componente GraphRenderer.svelte");const a=It("graph"),u=It("snapTo");let d=g(t,"isMovable",8);const h=a.activeGroup,f=a.groups,_=a.initialNodePositions,v=a.cursor;function w(y){K(Fe,!0);const{groupName:p}=y.detail;K(h,p),K(Te,l()),K(_,fs(c()[p].nodes))}b(()=>(i(),s(),gi),()=>{i()&&s()&&gi(a,u)}),Ae(),de(),za(e,{get isMovable(){return d()},children:(y,p)=>{var P=Ba(),A=ct(P);Wt(A,t,"default",{},null);var N=dt(A,2);xa(N,{$$events:{groupClick:w}}),O(y,P)},$$slots:{default:!0}}),le(),r()}const Ya=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],Ga=new Set(Ya),pi=e=>Ga.has(e);var Xa=$t('<input type="text">');function Fa(e,t){se(t,!1);const[n,r]=be(),i=()=>E(l,"$textStore",n);let s=g(t,"placeholder",8);const l=It("textStore");de();var c=Xa();Ut(()=>$(c,"placeholder",s())),Tt("keydown",c,rn(function(a){re.call(this,t,a)})),Tt("click",c,rn(function(a){re.call(this,t,a)})),Tt("mousedown",c,rn(function(a){re.call(this,t,a)})),Pl(c,i,a=>K(l,a)),O(e,c),le(),r()}const qa=new Set(["INPUT","SELECT","BUTTON","TEXTAREA"]);var $a=$t("<div><!></div>"),ja=$t('<div class="svelvet-node svelte-1iknrz0" role="button"><!> <div class="anchors left svelte-1iknrz0"><!></div> <div class="anchors right svelte-1iknrz0"><!></div> <div class="anchors top svelte-1iknrz0"><!></div> <div class="anchors bottom svelte-1iknrz0"><!></div></div>');function Ha(e,t){se(t,!1);const[n,r]=be(),i=()=>E(ht(),"$groups",n),s=()=>E(Vt,"$position",n),l=()=>E(Pe,"$selectedNodes",n),c=()=>E($e,"$hiddenNodes",n),a=()=>E(ye,"$resized",n),u=()=>E(X,"$duplicate",n),d=()=>E(j(),"$centerPoint",n),h=()=>E(fe,"$widthStore",n),f=()=>E(ae,"$heightStore",n),_=()=>E(Te,"$initialClickPosition",n),v=()=>E(ot,"$graphDOMElement",n),w=()=>E(Ct,"$zIndex",n),y=()=>E(W(),"$maxZIndex",n),p=()=>E(Yt(),"$locked",n),P=()=>E(st,"$nodeLock",n),A=()=>E(Z,"$editable",n),N=()=>E(_e,"$group",n),I=()=>E(Me,"$rotation",n),G=()=>E(Bt,"$bgColor",n),J=()=>E(me,"$textColor",n),z=()=>E(Re,"$borderColor",n),tt=()=>E(V,"$selectionColor",n),U=()=>E(Et,"$borderRadius",n),pt=()=>E(at,"$borderWidth",n),lt=x(),Q=x(),Y=x(),it=x(),B=It("mounted"),X=It("duplicate"),ot=It("graphDOMElement"),gt=no();let M=g(t,"node",8),Ot=g(t,"isDefault",8),et=g(t,"useDefaults",8),L=g(t,"center",8),Pt=g(t,"nodeStore",8),Yt=g(t,"locked",8),ht=g(t,"groups",8),W=g(t,"maxZIndex",8),j=g(t,"centerPoint",8),zt=g(t,"cursor",8),ut=g(t,"initialNodePositions",8),F=g(t,"activeGroup",8),yt=g(t,"editing",8),xt=g(t,"dimensionsProvided",8,!1),mt=g(t,"title",8);const vt=C(0),_t=C(null),ft=M().id,Vt=M().position,fe=M().dimensions.width,ae=M().dimensions.height,V=M().selectionColor,Z=M().editable,st=M().locked,Ct=M().zIndex,Bt=M().bgColor,Et=M().borderRadius,me=M().textColor,_e=M().group,Re=M().borderColor,at=M().borderWidth,Me=M().rotation,{selected:we,hidden:Ne}=i(),$e=Ne.nodes,Pe=we.nodes,ye=C(!1);Ht("node",M()),Ht("anchorsMounted",vt),Ht("resized",ye),Ht("nodeConnectEvent",_t),Je(()=>{if(L()){const kt={x:d().x-h()/2,y:d().y-f()/2};M().position.set(kt),Fe.set(!0),Fe.set(!1)}B.update(kt=>kt+1)}),ir(()=>{o(Q)&&(l().delete(M()),K(Pe,l())),B.update(kt=>kt-1)});function Qe(){o(Q)?(M()&&l().delete(M()),K(Pe,l())):(M()&&l().add(M()),K(Pe,l()))}function jt(kt){K(Te,k(zt())),v().focus(),w()!==y()&&w()!==1/0&&K(Ct,Ll(W(),y()));const Dt=kt.target;if(!qa.has(Dt.tagName)&&(kt.preventDefault(),gt("nodeClicked",{node:M(),e:kt}),!(p()||P()))){if("touches"in kt){if(kt.touches&&kt.touches.length>1)return}else kt.button===2&&A()&&K(yt(),M());K(Fe,!0),te(kt)}}function te(kt){let Dt,De,Ie=!1;const ce=N();ce&&(Dt=i()[ce],De=k(Dt.parent),Ie=De===M()),Ie?K(F(),ce):K(F(),"selected"),!kt.shiftKey&&o(Q)?K(F(),"selected"):(!kt.shiftKey&&!o(Q)&&!kt.shiftKey&&(l().clear(),K(Pe,l())),Qe()),K(ut(),fs(i().selected.nodes))}function tn(){Pt().delete(ft)}function je(kt){const Dt=k(zt()),De=Dt.x-_().x,Ie=Dt.y-_().y;Math.abs(De)+Math.abs(Ie)<4&&gt("nodeReleased",{e:kt,node:M()}),K(_t,kt)}function Be(kt){return kt.addEventListener("mousedown",jt),kt.addEventListener("touchstart",jt),{destroy(){kt.removeEventListener("mousedown",jt),kt.removeEventListener("touchstart",jt)}}}b(()=>s(),()=>{m(lt,s())}),b(()=>(l(),nt(M())),()=>{m(Q,l().has(M()))}),b(()=>(c(),nt(M())),()=>{m(Y,c().has(M()))}),b(()=>(nt(xt()),a()),()=>{m(it,xt()||a())}),b(()=>(o(Q),u(),nt(M())),()=>{o(Q)&&u()&&gt("duplicate",M())}),Ae(),de();var He=At(),Cn=ct(He);{var Tn=kt=>{var Dt=ja();$(Dt,"id",ft),$(Dt,"tabindex",0);var De=Kt(Dt);{var Ie=H=>{var bt=$a();q(bt,"width","fit-content"),q(bt,"height","fit-content");var Rt=Kt(bt);Wt(Rt,t,"default",{grabHandle:Be,get selected(){return o(Q)},destroy:tn},null),ri(bt,"clientHeight",Gt=>K(ae,Gt)),ri(bt,"clientWidth",Gt=>K(fe,Gt)),O(H,bt)},ce=H=>{var bt=At(),Rt=ct(bt);Wt(Rt,t,"default",{grabHandle:Be,get selected(){return o(Q)},destroy:tn},null),O(H,bt)};Lt(De,H=>{o(it)?H(ce,!1):H(Ie)})}var fn=dt(De,2),En=Kt(fn);Wt(En,t,"anchorWest",{},null);var ve=dt(fn,2),Ke=Kt(ve);Wt(Ke,t,"anchorEast",{},null);var Se=dt(ve,2),D=Kt(Se);Wt(D,t,"anchorNorth",{},null);var T=dt(Se,2),rt=Kt(T);Wt(rt,t,"anchorSouth",{},null),Xn(()=>Tt("contextmenu",Dt,ze(rn(function(H){re.call(this,t,H)})))),Xn(()=>Tt("mouseup",Dt,je)),Bn(Dt,H=>Be==null?void 0:Be(H)),Ut(()=>{$(Dt,"title",mt()),qt(Dt,"selected",o(Q)),qt(Dt,"locked",p()||P()),q(Dt,"top",`${o(lt).y??""}px`),q(Dt,"left",`${o(lt).x??""}px`),q(Dt,"z-index",w()),q(Dt,"width",o(it)?h()+"px":"fit-content"),q(Dt,"height",o(it)?f()+"px":"fit-content"),q(Dt,"transform",`rotate(${I()??""}deg)`),q(Dt,"--prop-background-color",G()||(Ot()||et()?null:"transparent")),q(Dt,"--prop-text-color",J()),q(Dt,"--prop-border-color",z()),q(Dt,"--prop-selection-color",tt()),q(Dt,"--prop-border-radius",U()?`${U()}px`:Ot()||et()?null:"0px"),q(Dt,"--prop-border-width",pt()||(Ot()||et()?null:"0px")),$(fn,"id",`anchors-west-${M().id}`),$(ve,"id",`anchors-east-${M().id}`),$(Se,"id",`anchors-north-${M().id}`),$(T,"id",`anchors-south-${M().id}`)}),O(kt,Dt)};Lt(Cn,kt=>{o(Y)||kt(Tn)})}O(e,He),le(),r()}var Ka=$t('<div class="left svelte-1ryxg7v"></div> <div class="right svelte-1ryxg7v"></div>',1),Ua=$t('<div class="top svelte-1ryxg7v"></div> <div class="bottom svelte-1ryxg7v"></div>',1),Va=$t('<div class="svelte-1ryxg7v"></div>'),Za=$t('<div class="svelte-1ryxg7v"></div>'),Ja=$t("<!> <!> <!> <!>",1);function Qa(e,t){se(t,!1);const[n,r]=be(),i=()=>E(X,"$position",n),s=()=>E(L,"$widthStore",n),l=()=>E(et,"$heightStore",n),c=()=>E(gt,"$resizingHeight",n),a=()=>E(Pt,"$cursor",n),u=()=>E(Ot,"$nodeRotation",n),d=()=>E(ot,"$resizingWidth",n),h=()=>E(M,"$rotating",n),f=()=>E(Te,"$initialClickPosition",n),_=x(),v=x(),w=x(),y=It("graph"),p=It("node"),P=It("resized");let A=g(t,"width",8,!1),N=g(t,"height",8,!1),I=g(t,"rotation",8,!1),G=g(t,"minHeight",12,0),J=g(t,"minWidth",12,0),z,tt=A(),U=A(),pt=N(),lt=N(),Q=A()&&N(),Y=0,it=0,B=x(k(p.position));const X=p.position,ot=p.resizingWidth,gt=p.resizingHeight,M=p.rotating,Ot=p.rotation,et=p.dimensions.height,L=p.dimensions.width,Pt=y.cursor;let Yt=x(),ht=x(),W=x(1);Je(()=>{try{z=document.querySelector(`#${p.id}`),z&&(V=>(J(V[0]),G(V[1])))(fr(z))}catch(V){console.error(V)}});function j(V,Z){const st=Bt=>{Bt.stopPropagation(),Bt.preventDefault(),Z.left||Z.top?m(W,-1):m(W,1),Er.set(!0),K(Te,k(Pt)),m(Yt,s()),m(ht,l()),m(B,i()),Z.both?K(ot,!0):K(ot,!1),K(ot,Z.left||Z.right||Z.both||!1),K(gt,Z.top||Z.bottom||Z.both||!1),z&&(Et=>(J(Et[0]),G(Et[1])))(fr(z)),window.addEventListener("mouseup",Ct)},Ct=()=>{K(ot,!1),K(gt,!1),Er.set(!1),window.removeEventListener("mouseup",Ct)};return V.addEventListener("mousedown",st),{destroy(){V.removeEventListener("mousedown",st)}}}function zt(V){const Z=Ct=>{Ct.stopPropagation(),Ct.preventDefault(),Y=u(),K(Te,k(Pt));const Bt=f().x-o(w).x,Et=f().y-o(w).y;it=Math.atan2(Et,Bt),K(M,!0),window.addEventListener("mouseup",st)},st=()=>{K(M,!1),window.removeEventListener("mouseup",st)};return V.addEventListener("mousedown",Z),{destroy(){V.removeEventListener("mousedown",Z)}}}function ut(){const V=k(Pt),Z=V.x-o(w).x,st=V.y-o(w).y,Ct=Math.atan2(st,Z),Bt=it-Ct;return Y-F(Bt)}function F(V){return V*(180/Math.PI)}Ol(()=>{z&&(V=>(J(V[0]),G(V[1])))(fr(z)),s()<J()&&P.set(!1),l()<G()&&P.set(!1)}),b(()=>(h(),a()),()=>{h()&&(a(),K(Ot,ut()))}),b(()=>(c(),a(),nt(G()),o(ht),o(W),o(B),u()),()=>{if(c()){const V=k(Te),Z=a(),st=Math.max(G(),o(ht)+(Z.y-V.y)*o(W));st>G()?(P.set(!0),K(et,st)):P.set(!1),o(W)===-1&&K(X,{x:o(B).x,y:o(B).y+Z.y-V.y}),u()!==0&&p.position.update(Ct=>({y:o(B).y-(st-o(ht))/2,x:Ct.x}))}}),b(()=>(d(),a(),nt(J()),o(Yt),o(W),o(B),u()),()=>{if(d()){const V=k(Te),Z=a(),st=Math.max(J(),o(Yt)+(Z.x-V.x)*o(W));st>J()?(P.set(!0),K(L,st)):P.set(!1),o(W)===-1&&K(X,{x:o(B).x+Z.x-V.x,y:o(B).y}),u()!==0&&p.position.update(Ct=>({x:o(B).x-(st-o(Yt))/2,y:Ct.y}))}}),b(()=>i(),()=>{m(_,i().x)}),b(()=>i(),()=>{m(v,i().y)}),b(()=>(o(_),s(),o(v),l()),()=>{m(w,{x:o(_)+s()/2,y:o(v)+l()/2})}),Ae(),de();var yt=Ja(),xt=ct(yt);{var mt=V=>{var Z=Ka(),st=ct(Z);Bn(st,(Bt,Et)=>j==null?void 0:j(Bt,Et),()=>({left:tt}));var Ct=dt(st,2);Bn(Ct,(Bt,Et)=>j==null?void 0:j(Bt,Et),()=>({right:U})),Ut(()=>{qt(st,"width",A()),qt(Ct,"width",A())}),O(V,Z)};Lt(xt,V=>{A()&&V(mt)})}var vt=dt(xt,2);{var _t=V=>{var Z=Ua(),st=ct(Z);Bn(st,(Bt,Et)=>j==null?void 0:j(Bt,Et),()=>({top:pt}));var Ct=dt(st,2);Bn(Ct,(Bt,Et)=>j==null?void 0:j(Bt,Et),()=>({bottom:lt})),Ut(()=>{qt(st,"height",N()),qt(Ct,"height",N())}),O(V,Z)};Lt(vt,V=>{N()&&V(_t)})}var ft=dt(vt,2);{var Vt=V=>{var Z=Va();qt(Z,"both",Q),Bn(Z,(st,Ct)=>j==null?void 0:j(st,Ct),()=>({both:Q})),O(V,Z)};Lt(ft,V=>{Q&&V(Vt)})}var fe=dt(ft,2);{var ae=V=>{var Z=Za();Bn(Z,st=>zt==null?void 0:zt(st)),Ut(()=>qt(Z,"rotation",I())),O(V,Z)};Lt(fe,V=>{I()&&V(ae)})}O(e,yt),le(),r()}var tc=$t('<div class="svelvet-anchor svelte-19t6skv"></div>');function ec(e,t){let n=g(t,"output",8),r=g(t,"input",8),i=g(t,"connecting",8),s=g(t,"connected",8),l=g(t,"hovering",8),c=g(t,"bgColor",8);var a=tc();Ut(()=>{qt(a,"output",n()),qt(a,"input",r()),qt(a,"connected",s()),qt(a,"connecting",i()),qt(a,"hovering",l()),q(a,"--prop-anchor-color",c())}),O(e,a)}let vr;function nc(e){const t=e.parentNode;if(!t)return;t.removeChild(e);const n=document.querySelector(".svelvet-graph-wrapper");n&&n.appendChild(e)}var oc=dn('<defs><marker viewBox="0 0 15 15" markerWidth="15" markerHeight="10" refX="12.5" refY="5" orient="auto"><polygon class="arrow svelte-ppcocz" points="0 0, 15 5, 0 10"></polygon></marker><marker viewBox="0 0 15 15" markerWidth="15" markerHeight="10" refX="0" refY="5" orient="auto"><polygon class="arrow svelte-ppcocz" points="0 5, 15 0, 15 10"></polygon></marker></defs>'),rc=dn('<path class="edge svelte-ppcocz"></path>'),ic=$t('<div class="default-label svelte-ppcocz"> </div>'),sc=dn('<foreignObject width="100%" height="100%" class="svelte-ppcocz"><span class="label-wrapper svelte-ppcocz"><!></span></foreignObject>'),lc=dn('<svg class="edges-wrapper svelte-ppcocz"><!><path role="presentation" class="target svelte-ppcocz"></path><!><!></svg>');function mi(e,t){var An,hn;const n=Yr(t);se(t,!1);const[r,i]=be(),s=()=>E(kt,"$sourceDynamic",r),l=()=>E(Dt,"$targetDynamic",r),c=()=>E(o(J),"$edgeColor",r),a=()=>E(o(z),"$edgeLabel",r),u=()=>E(Cn,"$sourcePositionStore",r),d=()=>E(Tn,"$targetPositionStore",r),h=()=>E(ce,"$sourceNodePositionStore",r),f=()=>E(fn,"$targetNodePositionStore",r),_=()=>E(tn,"$sourceDirection",r),v=()=>E(Be,"$sourceRotation",r),w=()=>E(je,"$targetDirection",r),y=()=>E(He,"$targetRotation",r),p=()=>E(En,"$edgeType",r),P=()=>E(De,"$sourceMoving",r),A=()=>E(Ie,"$targetMoving",r),N=()=>E(o(xt),"$sourceZIndex",r),I=()=>E(o(mt),"$targetZIndex",r),G=x(),J=x(),z=x(),tt=x(),U=x(),pt=x(),lt=x(),Q=x(),Y=x(),it=x(),B=x(),X=x(),ot=x(),gt=x(),M=x(),Ot=x(),et=x(),L=x(),Pt=x(),Yt=x(),ht=x(),W=x(),j=x(),zt=x(),ut=x(),F=x(),yt=x(),xt=x(),mt=x(),vt=x(),_t=x(),ft=It("edgeStore"),Vt=It("edgeStyle"),fe=It("endStyles"),ae=It("raiseEdgesOnSelect"),V=It("edgesAboveNode");let Z=g(t,"edge",24,()=>It("edge")),st=g(t,"straight",8,Vt==="straight"),Ct=g(t,"step",8,Vt==="step"),Bt=g(t,"start",24,()=>fe[0]),Et=g(t,"end",24,()=>fe[1]),me=g(t,"animate",8,!1),_e=g(t,"label",8,""),Re=g(t,"enableHover",8,!1),at=g(t,"edgeClick",8,null),Me=g(t,"labelPosition",8,.5),we=g(t,"width",8,null),Ne=g(t,"color",8,null),$e=g(t,"labelColor",8,null),Pe=g(t,"textColor",8,null),ye=g(t,"cornerRadius",8,8),Qe=g(t,"targetColor",8,null);const jt=Z().source,te=Z().target,tn=jt.direction,je=te.direction,Be=jt.rotation,He=te.rotation,Cn=jt.position,Tn=te.position,kt=jt.dynamic,Dt=te.dynamic,De=jt.moving,Ie=te.moving,ce=(An=jt.node)==null?void 0:An.position,fn=(hn=te.node)==null?void 0:hn.position,En=Z().type,ve=Z().id;let Ke=x(),Se=x(),D=x({x:0,y:0}),T=x(!1),rt=x(!1),H=x(!1),bt=x(!1),Rt=x(!1),Gt=x();Z().rendered.set(!0),Je(()=>{setTimeout(()=>{o(Se)&&m(D,hr(o(Se),Me()))},0),nc(o(Gt))}),ss(()=>{o(Se)&&m(D,hr(o(Se),Me()))}),ir(()=>{o(Gt).remove(),cancelAnimationFrame(vr)});function ge(){o(T)&&(o(Se)&&m(D,hr(o(Se),Me())),vr=requestAnimationFrame(ge))}function ne(){if(jt.id===null||te.id===null)return;const ue=ft.match(jt,te);ft.delete(ue[0]),jt==null||jt.connected.update(Zt=>(te&&Zt.delete(te),Zt)),te==null||te.connected.update(Zt=>(jt&&Zt.delete(jt),Zt))}b(()=>(s(),l()),()=>{m(G,s()||l())}),b(()=>{},()=>{_n(m(J,(jt==null?void 0:jt.edgeColor)||(te==null?void 0:te.edgeColor)||null),"$edgeColor",r)}),b(()=>nt(Z()),()=>{var ue;_n(m(z,(ue=Z().label)==null?void 0:ue.text),"$edgeLabel",r)}),b(()=>(nt(Ne()),c()),()=>{m(tt,Ne()||c()||null)}),b(()=>(nt(_e()),a()),()=>{m(U,_e()||a()||"")}),b(()=>o(U),()=>{m(pt,o(U)||n.label)}),b(()=>u(),()=>{m(lt,u())}),b(()=>d(),()=>{m(Q,d())}),b(()=>h(),()=>{m(Y,h())}),b(()=>f(),()=>{m(it,f())}),b(()=>o(lt),()=>{m(B,o(lt).x)}),b(()=>o(lt),()=>{m(X,o(lt).y)}),b(()=>o(Q),()=>{m(ot,o(Q).x)}),b(()=>o(Q),()=>{m(gt,o(Q).y)}),b(()=>(o(ot),o(B)),()=>{m(M,o(ot)-o(B))}),b(()=>(o(gt),o(X)),()=>{m(Ot,o(gt)-o(X))}),b(()=>o(M),()=>{m(et,Math.abs(o(M)))}),b(()=>o(Ot),()=>{m(L,Math.abs(o(Ot)))}),b(()=>o(et),()=>{m(Pt,Math.max(30,Math.min(600,o(et)/2)))}),b(()=>o(L),()=>{m(Yt,Math.max(30,Math.min(600,o(L)/2)))}),b(()=>(o(G),o(it),o(Y),o(H),o(bt),k),()=>{if(o(G)&&jt.node&&te.node){const ue=o(it).x-o(Y).x,Zt=o(it).y-o(Y).y;m(H,Zt>0),m(bt,ue>0);let xe,We;if(o(H)){const Xt=k(jt.node.dimensions.height),Jt=o(Y).y+Xt;xe=o(it).y-Jt}else{const Xt=k(te.node.dimensions.height),Jt=o(it).y+Xt;xe=o(Y).y-Jt}if(o(bt)){const Xt=k(jt.node.dimensions.width),Jt=o(Y).x+Xt;We=o(it).x-Jt}else{const Xt=k(te.node.dimensions.width),Jt=o(it).x+Xt;We=o(Y).x-Jt}m(rt,xe>We)}}),b(()=>(o(G),o(rt),o(H),o(bt),s(),l()),()=>{if(o(G)){let ue,Zt;o(rt)?(ue=o(H)?"south":"north",Zt=o(H)?"north":"south"):(ue=o(bt)?"east":"west",Zt=o(bt)?"west":"east"),s()&&K(tn,ue),l()&&K(je,Zt)}}),b(()=>(_(),v()),()=>{m(ht,di(po[_()],v()||0))}),b(()=>(w(),y()),()=>{m(W,di(po[w()],y()||0))}),b(()=>(o(B),o(ht),o(Pt)),()=>{m(j,o(B)+o(ht).x*o(Pt))}),b(()=>(o(X),o(ht),o(Yt)),()=>{m(zt,o(X)+o(ht).y*o(Yt))}),b(()=>(o(ot),o(W),o(Pt)),()=>{m(ut,o(ot)+o(W).x*o(Pt))}),b(()=>(o(gt),o(W),o(Yt)),()=>{m(F,o(gt)+o(W).y*o(Yt))}),b(()=>(o(j),o(zt),o(ut),o(F)),()=>{m(yt,`C ${o(j)}, ${o(zt)} ${o(ut)}, ${o(F)}`)}),b(()=>(nt(Ct()),p(),o(B),o(X),nt(st()),o(yt),o(ot),o(gt)),()=>{(!Ct()||ve==="cursor"||p()==="bezier")&&m(Ke,`M ${o(B)}, ${o(X)} ${st()?"":o(yt)} ${o(ot)}, ${o(gt)}`)}),b(()=>(o(pt),o(T),P(),A()),()=>{o(pt)&&!o(T)&&(P()||A()||ve==="cursor")?(m(T,!0),ge()):o(T)&&!P()&&!A()&&ve!=="cursor"&&(m(T,!1),cancelAnimationFrame(vr))}),b(()=>(nt(Ct()),p(),o(B),o(X),_(),o(ot),o(gt),w(),nt(ye()),fi),()=>{if(Ct()&&ve!=="cursor"&&!(p()&&p()==="bezier")){const ue={x:o(B),y:o(X),direction:po[_()]},Zt={x:o(ot),y:o(gt),direction:po[w()]},xe=Ca(ue,Zt,ca),We=(Xt,Jt,gn)=>{if(Jt<xe.length-1){const Rn=Ul(Xt,xe[Jt+1]);return Vl(gn,Rn)}return""};m(Ke,xe.reduce((Xt,Jt,gn)=>{const Rn=Math.sign(Jt.x),S=Math.sign(Jt.y);let R=Jt.x,St=Jt.y,Nt="";if(ye()){const wt=xe[gn+1]||{x:0,y:0},Ft=xe[gn-1]||{x:0,y:0},pe=Ro(Jt.x,wt.x,ye()),Ue=Ro(wt.y,Jt.y,ye()),Ye=Ro(Ft.x,Jt.x,ye()),Mn=Ro(Ft.y,Jt.y,ye()),Ve=Math.min(Ye,Mn),Ge=Math.min(pe,Ue);Jt.x?R=Jt.x-(Ge+Ve)*Rn:St=Jt.y-(Ge+Ve)*S,Nt=We(Jt,gn,Ge)}return fi(Xt,R,St,Nt)},`M ${o(B)}, ${o(X)}`))}}),b(()=>{},()=>{_n(m(xt,jt.node.zIndex||0),"$sourceZIndex",r)}),b(()=>{},()=>{_n(m(mt,te.node.zIndex||0),"$targetZIndex",r)}),b(()=>(N(),I()),()=>{m(vt,Math.max(N(),I()))}),b(()=>(o(vt),N(),I()),()=>{m(_t,V==="all"?1e5:V?o(vt):ae===!0?o(vt)-1:ae==="source"?N()-1:ae==="target"?I()-1:0)}),Ae(),de();var Ce=At(),Nn=ct(Ce);{var qn=ue=>{var Zt=lc(),xe=Kt(Zt);{var We=S=>{var R=oc(),St=Kt(R);$(St,"id",ve+"-end-arrow");var Nt=Kt(St),wt=dt(St);$(wt,"id",ve+"-start-arrow");var Ft=Kt(wt);Ut(()=>{q(Nt,"--prop-edge-color",o(tt)),q(Ft,"--prop-edge-color",o(tt))}),O(S,R)};Lt(xe,S=>{(Bt()||Et())&&S(We)})}var Xt=dt(xe);$(Xt,"id",ve+"-target"),eo(Xt,S=>m(Se,S),()=>o(Se));var Jt=dt(Xt);Wt(Jt,t,"default",{get path(){return o(Ke)},destroy:ne,get hovering(){return o(Rt)}},S=>{var R=rc();$(R,"id",ve),Ut(()=>{$(R,"d",o(Ke)),$(R,"marker-end",Et()==="arrow"?`url(#${ve+"-end-arrow"})`:""),$(R,"marker-start",Bt()==="arrow"?`url(#${ve+"-start-arrow"})`:""),qt(R,"animate",me()),q(R,"--prop-edge-color",o(tt)),q(R,"--prop-stroke-width",we()?we()+"px":null)}),O(S,R)});var gn=dt(Jt);{var Rn=S=>{var R=sc(),St=Kt(R),Nt=Kt(St);Wt(Nt,t,"label",{destroy:ne,get hovering(){return o(Rt)}},wt=>{var Ft=ic(),pe=Kt(Ft);Ut(()=>{q(Ft,"--prop-label-color",$e()),q(Ft,"--prop-label-text-color",Pe()),rs(pe,o(U))}),O(wt,Ft)}),Ut(()=>{$(R,"x",o(D).x),$(R,"y",o(D).y)}),O(S,R)};Lt(gn,S=>{o(pt)&&S(Rn)})}eo(Zt,S=>m(Gt,S),()=>o(Gt)),Ut(()=>{q(Zt,"z-index",o(_t)),$(Xt,"d",o(Ke)),qt(Xt,"cursor",ve==="cursor"||!at()&&!Re()),q(Xt,"cursor",at()||o(Rt)?"pointer":"move"),q(Xt,"--prop-target-edge-color",at()||o(Rt)?Qe()||null:"transparent")}),Tt("mousedown",Xt,function(...S){var R;(R=at())==null||R.apply(this,S)}),Tt("mouseenter",Xt,()=>m(Rt,!0)),Tt("mouseleave",Xt,()=>m(Rt,!1)),O(ue,Zt)};Lt(Nn,ue=>{jt&&te&&ue(qn)})}O(e,Ce),Gr(t,"destroy",ne);var en=le({destroy:ne});return i(),en}function _i(e,t){se(t,!1);let n=g(t,"edge",8);Ht("edge",n()),de();var r=At(),i=ct(r);Wt(i,t,"default",{},null),O(e,r),le()}let pr;const nn=C(null);function ac(e,t,n){if(t==="self")return;const r=e.parentNode;if(!r)return;r.removeChild(e);const i=document.querySelector(`#anchors-${t}-${n.id}`);i&&(i.appendChild(e),e&&n.recalculateAnchors())}var cc=$t('<div class="anchor-wrapper svelte-bazd6o" role="button" tabindex="0"><!></div> <!> <!>',1);function mo(e,t){se(t,!1);const[n,r]=be(),i=()=>E(nn,"$connectingFrom",n),s=()=>E(_e,"$nodeLevelConnections",n),l=()=>E(Q,"$anchorsMounted",n),c=()=>E(o(P),"$dynamicDirection",n),a=()=>E(z,"$mounted",n),u=()=>E(lt,"$nodeConnectEvent",n),d=()=>E(Ct,"$anchors",n),h=()=>E(o(p),"$connectedAnchors",n),f=()=>E(Bt,"$resizingWidth",n),_=()=>E(Et,"$resizingHeight",n),v=()=>E(me,"$rotating",n),w=()=>E(et(),"$inputsStore",n),y=x(),p=x(),P=x(),A=It("dynamic"),N=It("node"),I=It("edgeStore"),G=It("cursorAnchor"),J=It("direction"),z=It("mounted"),tt=It("graph"),U=It("nodeStore"),pt=It("graphEdge"),lt=It("nodeConnectEvent"),Q=It("anchorsMounted"),Y=It("flowchart")||void 0;let it=g(t,"bgColor",8,null),B=g(t,"id",8,0),X=g(t,"input",8,!1),ot=g(t,"output",8,!1),gt=g(t,"multiple",24,()=>ot()?!0:!X()),M=g(t,"dynamic",8,A||!1),Ot=g(t,"edge",8,null),et=g(t,"inputsStore",8,null),L=g(t,"key",8,null),Pt=g(t,"outputStore",8,null),Yt=g(t,"connections",28,()=>[]),ht=g(t,"edgeColor",24,()=>C(null)),W=g(t,"edgeLabel",8,""),j=g(t,"locked",8,!1),zt=g(t,"nodeConnect",8,!1),ut=g(t,"edgeStyle",8,null),F=g(t,"endStyles",24,()=>[null,null]),yt=g(t,"invisible",8,!1),xt=g(t,"direction",24,()=>J==="TD"?X()?"north":"south":X()?"west":"east"),mt=g(t,"title",8,"");const vt=no(),_t=no();let ft=x(),Vt=x(!1),fe=x(!1),ae=x(0),V=X()===ot()?null:X()?"input":"output",Z=x([]);const st=N.edge,Ct=N.anchors,Bt=N.resizingWidth,Et=N.resizingHeight,me=N.rotating,_e=N.connections,Re=`A-${B()||Ct.count()+1}/${N.id}`,at=Ta(tt,N,Re,{x:0,y:0},{width:0,height:0},et()||Pt()||null,Ot()||st||pt||null,V,xt(),M(),L(),ht());Ct.add(at,at.id),Je(()=>{var T;o(ft)&&at.recalculatePosition();const D=Array.from(k(N.anchors)).reduce((rt,[,H])=>(H.type==="output"&&rt++,rt),0);if((T=s())!=null&&T.length&&!X()){const rt=[];let H=null;s().forEach((bt,Rt)=>{bt&&(H===null&&(H=Rt),(Rt-H)%D===0?(o(Z).push(bt),rt.push(null)):rt.push(bt))}),K(_e,rt)}Il(Q,l())}),ss(()=>{o(ft)&&at.recalculatePosition()}),ir(()=>{He(),cancelAnimationFrame(pr)});function Me(D){var ge;I.delete("cursor");const T={x:D.changedTouches[0].clientX,y:D.changedTouches[0].clientY},rt=document.elementFromPoint(T.x,T.y);if(!rt)return;const H=rt.parentElement;if(!H)return;const bt=H.id,Rt=bt.split("/")[1],Gt=(ge=U.get(Rt))==null?void 0:ge.anchors.get(bt);Gt&&(I.delete("cursor"),we(at,Gt,D))}function we(D,T,rt){const H=jt(D,T);H&&te(),rt.shiftKey||je(H)}function Ne(D){var T;if("changedTouches"in D&&o(y)){Me(D);return}if(!o(y)){if((T=h())!=null&&T.size&&!gt()){I.delete("cursor"),D.shiftKey||je(!1);return}i()&&Qe(D)}}function $e(D){var T;if(!j()){if((T=h())!=null&&T.size&&!gt()&&!i())return Cn();if(!i())return Pe();Qe(D)}}function Pe(){X()===ot()?(K(nn,{anchor:at,store:null,key:null}),ye(at,G)):X()?(K(nn,{anchor:at,store:et(),key:L()}),ye(G,at)):ot()&&(K(nn,{anchor:at,store:Pt(),key:null}),ye(at,G))}function ye(D,T,rt=!1){const H={color:ht(),label:{text:W()}};rt&&(H.disconnect=!0),ut()&&(H.type=ut()),F()[0]&&(H.start=F()[0]),F()[1]&&(H.start=F()[1]);const bt=hi({source:D,target:T},(D==null?void 0:D.edge)||null,H);I.add(bt,"cursor")}function Qe(D){if(I.delete("cursor"),!i())return;const T=i().anchor.type;if(i().anchor===at||T===at.type&&T){je(!1);return}at.recalculatePosition();let rt,H;X()===ot()?T==="input"?(rt=at,H=i().anchor):(rt=i().anchor,H=at):X()?(rt=i().anchor,H=at):(rt=at,H=i().anchor),we(rt,H,D)}function jt(D,T){if(D===T||k(D.connected).has(at))return!1;const rt={color:ht(),label:{text:W()}};if(Y){const bt=D.node.id.slice(2),Rt=Y.nodeList[bt];if(Rt){const Gt=T.node.id.slice(2),ge=Rt.children.filter(ne=>ne.node.id===Gt)[0];if(ge){const ne=ge;rt.label={text:ne.content}}}}ut()&&(rt.type=ut()),F()[0]&&(rt.start=F()[0]),F()[1]&&(rt.start=F()[1]);const H=hi({source:D,target:T},(D==null?void 0:D.edge)||null,rt);return!D.node||!T.node?!1:(I.add(H,new Set([D,T,D.node,T.node])),!0)}function te(){if(X()&&i()&&i().store)w()&&L()&&et()&&typeof et().set=="function"&&typeof et().update=="function"&&xo(et(),ie(w)[L()]=i().store,ie(w));else if(ot()&&i()&&i().store){const{store:D,key:T}=i();D&&T&&typeof D.update=="function"&&D.update(rt=>(Pt()&&(rt[T]=Pt()),rt))}}function tn(){w()&&L()&&w()[L()]&&xo(et(),ie(w)[L()]=C(k(w()[L()])),ie(w))}function je(D){(D||!u())&&(K(nn,null),K(lt,null))}function Be(){o(Vt)&&(o(ft)&&at.recalculatePosition(),pr=requestAnimationFrame(Be))}function He(){I.delete("cursor"),I.match(at).forEach(T=>I.delete(T)),je(!1),tn()}function Cn(){if(k(at.connected).size>1)return;const D=Array.from(k(at.connected))[0];if(D.type!=="input")if(He(),D.type==="output"){ye(D,G,!0),tn();const T=D.store;K(nn,{anchor:D,store:T,key:null})}else ye(D,G,!0),K(nn,{anchor:D,store:null,key:null})}function Tn(){o(Z).forEach((D,T)=>{if(!D)return;De(D)&&Yt(Yt()[T]=null,!0)}),m(Z,o(Z).filter(D=>D!==null))}function kt(){Yt().forEach(D=>{D&&De(D)})}function Dt(D){const T=`N-${D[0]}`,rt=U.get(T);if(!rt)return;const H=rt.anchors.get(`A-${D[1]}/N-${D[0]}`);if(!H)return;const bt=I.match(at,H);bt&&I.delete(bt[0])}const De=D=>{let T,rt,H=null;Array.isArray(D)?(T=D[0].toString(),rt=D[1].toString()):(T=D.toString(),rt=null);const bt=`N-${T}`,Rt=U.get(bt);if(!Rt)return!1;if(rt){const Gt=`A-${rt}/${bt}`;H=Rt.anchors.get(Gt)||null}else{const Gt=k(Rt.anchors),ge=Array.from(Gt.values());if(!ge.length)return!1;H=ge.reduce((ne,Ce)=>!ne&&Ce.type==="output"?null:Ce.type==="output"?ne:!ne||k(Ce.connected).size<k(ne.connected).size?Ce:ne,null)}if(!H)return!1;if(jt(at,H),H.store&&(et()||Pt())){if(X()&&H.type==="output")w()&&L()&&et()&&typeof et().set=="function"&&typeof et().update=="function"&&xo(et(),ie(w)[L()]=H.store,ie(w));else if(ot()&&H.type==="input"){const{store:Gt,inputKey:ge}=H;Gt&&ge&&typeof Gt.update=="function"&&Gt.update(ne=>(Pt()&&(ne[ge]=Pt()),ne))}}return!0};b(()=>i(),()=>{var D;m(y,((D=i())==null?void 0:D.anchor)===at)}),b(()=>{},()=>{_n(m(p,at.connected),"$connectedAnchors",n)}),b(()=>{},()=>{_n(m(P,at==null?void 0:at.direction),"$dynamicDirection",n)}),b(()=>(nt(M()),o(ft),c()),()=>{M()&&o(ft)&&ac(o(ft),c(),N)}),b(()=>(a(),nt(Yt())),()=>{a()===U.count()&&Yt().length&&kt()}),b(()=>(nt(zt()),u()),()=>{zt()&&u()&&Ne(u())}),b(()=>(a(),o(Z)),()=>{a()===U.count()&&o(Z).length&&Tn()}),b(()=>(o(ft),d(),h(),c()),()=>{o(ft)&&(d(),h(),c(),at.recalculatePosition())}),b(()=>(o(Vt),f(),_(),v()),()=>{!o(Vt)&&(f()||_()||v())?(m(Vt,!0),Be()):!f()&&!_()&&o(Vt)&&!v()&&(m(Vt,!1),cancelAnimationFrame(pr))}),b(()=>(h(),o(ae)),()=>{if(h()){if(h().size<o(ae))_t("disconnection",{node:N,anchor:at});else if(h().size>o(ae)){const D=Array.from(h()),T=D[D.length-1];vt("connection",{node:N,anchor:at,connectedNode:T.node,connectedAnchor:T})}m(ae,h().size)}}),Ae(),de();var Ie=cc(),ce=ct(Ie),fn=Kt(ce);Wt(fn,t,"default",{get linked(){var D;return((D=h())==null?void 0:D.size)>=1},get hovering(){return o(fe)},get connecting(){return o(y)}},D=>{var T=At(),rt=ct(T);{var H=bt=>{const Rt=he(()=>{var Gt;return((Gt=h())==null?void 0:Gt.size)>=1});ec(bt,{get output(){return ot()},get input(){return X()},get connecting(){return o(y)},get hovering(){return o(fe)},get bgColor(){return it()},get connected(){return o(Rt)}})};Lt(rt,bt=>{yt()||bt(H)})}O(D,T)}),eo(ce,D=>m(ft,D),()=>o(ft));var En=dt(ce,2);on(En,1,()=>Array.from(h()),D=>D.id,(D,T,rt,H)=>{var bt=At();const Rt=he(()=>I.fetch(at,o(T)));var Gt=ct(bt);{var ge=ne=>{const Ce=he(()=>o(Rt).component);_i(ne,{get edge(){return o(Rt)},children:(Nn,qn)=>{var en=At(),An=ct(en);Wt(An,t,"edge",{},hn=>{var ue=At(),Zt=ct(ue);{var xe=Xt=>{o(Ce)(Xt,{})},We=Xt=>{mi(Xt,{})};Lt(Zt,Xt=>{o(Ce)?Xt(xe):Xt(We,!1)})}O(hn,ue)}),O(Nn,en)},$$slots:{default:!0}})};Lt(Gt,ne=>{o(Rt)&&o(Rt).source===at&&ne(ge)})}O(D,bt)});var ve=dt(En,2);{var Ke=D=>{var T=At();const rt=he(()=>I.get("cursor"));var H=ct(T);{var bt=Rt=>{const Gt=he(()=>o(rt).component);_i(Rt,{get edge(){return o(rt)},children:(ge,ne)=>{var Ce=At(),Nn=ct(Ce);Wt(Nn,t,"edge",{},qn=>{var en=At(),An=ct(en);{var hn=Zt=>{o(Gt)(Zt,{})},ue=Zt=>{mi(Zt,{})};Lt(An,Zt=>{o(Gt)?Zt(hn):Zt(ue,!1)})}O(qn,en)}),O(ge,Ce)},$$slots:{default:!0}})};Lt(H,Rt=>{o(rt)&&Rt(bt)})}O(D,T)};Lt(ve,D=>{o(y)&&D(Ke)})}Ut(()=>{$(ce,"id",at==null?void 0:at.id),$(ce,"title",mt()||""),qt(ce,"locked",j())}),Tt("mouseenter",ce,()=>m(fe,!0)),Tt("mouseleave",ce,()=>m(fe,!1)),Tt("mousedown",ce,ze(rn($e))),Tt("mouseup",ce,rn(Ne)),Tt("touchstart",ce,ze(rn($e))),Tt("touchend",ce,rn(Ne)),O(e,Ie),Gr(t,"disconnect",Dt);var Se=le({disconnect:Dt});return r(),Se}var uc=$t("<!> <!>",1),dc=$t('<div class="input-anchors svelte-j5bq7k"></div> <div class="output-anchors svelte-j5bq7k"></div>',1),fc=$t('<div class="default-node svelte-j5bq7k"><!> <p class="svelte-j5bq7k"> </p> <!></div>');function hc(e,t){se(t,!1);const[n,r]=be(),i=()=>E(v,"$borderRadius",n),s=()=>E(y,"$inputs",n),l=()=>E(p,"$outputs",n),c=()=>E(w,"$textColor",n),a=()=>E(_,"$label",n),u=()=>E(P,"$resizable",n),d=It("dynamic"),h=It("node");let f=g(t,"selected",8);const _=h.label,v=h.borderRadius,w=h.textColor,y=h.inputs,p=h.outputs,P=h.resizable,A=k(h.direction);let N=A==="TD",I=A==="TD",G=A!=="TD",J=A!=="TD";de();var z=fc(),tt=Kt(z);{var U=B=>{var X=uc(),ot=ct(X);on(ot,1,()=>({length:s()}),Vn,(M,Ot)=>{mo(M,{$$events:{connection(et){re.call(this,t,et)},disconnection(et){re.call(this,t,et)}}})});var gt=dt(ot,2);on(gt,1,()=>({length:l()}),Vn,(M,Ot)=>{mo(M,{$$events:{connection(et){re.call(this,t,et)},disconnection(et){re.call(this,t,et)}}})}),O(B,X)},pt=B=>{var X=dc(),ot=ct(X);qt(ot,"top",N),qt(ot,"left",G),on(ot,5,()=>({length:s()}),Vn,(M,Ot)=>{mo(M,{input:!0,direction:N?"north":"west",$$events:{connection(et){re.call(this,t,et)},disconnection(et){re.call(this,t,et)}}})});var gt=dt(ot,2);qt(gt,"bottom",I),qt(gt,"right",J),on(gt,5,()=>({length:l()}),Vn,(M,Ot)=>{mo(M,{output:!0,direction:N?"south":"east",$$events:{connection(et){re.call(this,t,et)},disconnection(et){re.call(this,t,et)}}})}),O(B,X)};Lt(tt,B=>{d?B(U):B(pt,!1)})}var lt=dt(tt,2),Q=Kt(lt),Y=dt(lt,2);{var it=B=>{Qa(B,{width:!0,height:!0,rotation:!0})};Lt(Y,B=>{u()&&B(it)})}Ut(()=>{qt(z,"selected",f()),q(z,"border-radius",`${i()??""}px`),q(lt,"color",c()),rs(Q,a())}),O(e,z),le(),r()}function $r(e,t){const n=Yr(t);se(t,!1);const[r,i]=be(),s=()=>E(o(c),"$nodePosition",r),l=()=>E(et,"$nodes",r),c=x(),a=It("graph"),u=It("group");let d=g(t,"position",28,()=>({x:0,y:0})),h=g(t,"drop",8,!1),f=g(t,"dimensions",8,null),_=g(t,"id",8,0),v=g(t,"bgColor",8,null),w=g(t,"borderRadius",8,null),y=g(t,"borderColor",8,null),p=g(t,"borderWidth",8,null),P=g(t,"selectionColor",8,null),A=g(t,"textColor",8,null),N=g(t,"resizable",8,!1),I=g(t,"label",8,""),G=g(t,"inputs",8,1),J=g(t,"outputs",8,1),z=g(t,"width",8,null),tt=g(t,"height",8,null),U=g(t,"TD",8,!1),pt=g(t,"LR",8,!1),lt=g(t,"zIndex",8,1),Q=g(t,"editable",8,!0),Y=g(t,"locked",8,!1),it=g(t,"rotation",8,0),B=g(t,"edge",8,null),X=g(t,"connections",24,()=>[]),ot=g(t,"useDefaults",8,!1),gt=g(t,"center",8,!1),M=g(t,"dynamic",8,!1),Ot=g(t,"title",8,"");const et=a.nodes;Ht("dynamic",M());let L=x(),Pt=x(!0);Je(()=>{const F=U()?"TD":pt()?"LR":a.direction,yt=a.groupBoxes.get(u),xt=a.nodes.count()+1;m(Pt,!n.default),(n.anchorWest||n.anchorEast||n.anchorNorth||n.anchorSouth)&&m(Pt,!1);const mt=f()?f():z()||tt()?{width:z()||tt()||200,height:tt()||z()||100}:o(Pt)?{width:200,height:100}:{width:0,height:0},vt={id:_()||xt,position:h()==="cursor"?{x:k(a.cursor).x,y:k(a.cursor).y}:yt?{x:k(yt.position).x+d().x,y:k(yt.position).y+d().y}:d(),dimensions:mt,editable:Q()||a.editable,label:I(),group:u,resizable:N(),inputs:G(),outputs:J(),zIndex:lt(),direction:F,locked:Y(),rotation:it()};X().length&&(vt.connections=X()),p()&&(vt.borderWidth=p()),w()&&(vt.borderRadius=w()),y()&&(vt.borderColor=y()),P()&&(vt.selectionColor=P()),A()&&(vt.textColor=A()),v()&&(vt.bgColor=v()),B()&&(vt.edge=B()),m(L,Ma(vt)),yt&&a.groups.update(_t=>{const ft=k(_t[u].nodes);return _t[u].nodes.set(new Set([...ft,o(L)])),_t}),a.nodes.add(o(L),o(L).id)}),ir(()=>{a.nodes.delete(o(L).id)});function Yt(F){o(L)&&o(L).connections.set([F])}function ht(F){if(!o(L))return;(Array.isArray(F)?F:[F]).forEach(xt=>{const[mt,vt]=Array.isArray(xt)?xt:[xt,null],_t=`N-${mt}`,ft=a.nodes.get(_t);if(!ft)return;let Vt=null;const fe=vt?`A-${vt}/${_t}`:null;fe&&(Vt=ft.anchors.get(fe));const ae=a.edges.match(o(L),ft,Vt);ae.length&&a.edges.delete(ae[ae.length-1])})}Ht("connect",Yt),Ht("disconnect",ht);let W=x(d());b(()=>(o(L),nt(X())),()=>{o(L)&&o(L).connections.set(X())}),b(()=>(o(L),nt(v())),()=>{o(L)&&o(L).bgColor.set(v())}),b(()=>(o(L),nt(I())),()=>{o(L)&&o(L).label.set(I())}),b(()=>(o(L),nt(A())),()=>{o(L)&&o(L).textColor.set(A())}),b(()=>(o(L),nt(y())),()=>{o(L)&&o(L).borderColor.set(y())}),b(()=>(o(L),nt(P())),()=>{o(L)&&o(L).selectionColor.set(P())}),b(()=>(o(L),nt(N())),()=>{o(L)&&o(L).resizable.set(N())}),b(()=>(o(L),nt(Q())),()=>{o(L)&&o(L).editable.set(Q())}),b(()=>(o(L),nt(Y())),()=>{o(L)&&o(L).locked.set(Y())}),b(()=>(o(L),nt(G())),()=>{o(L)&&o(L).inputs.set(G())}),b(()=>(o(L),nt(J())),()=>{o(L)&&o(L).outputs.set(J())}),b(()=>(o(L),nt(lt())),()=>{o(L)&&o(L).zIndex.set(lt())}),b(()=>o(L),()=>{var F;_n(m(c,o(L)&&((F=o(L))==null?void 0:F.position)),"$nodePosition",r)}),b(()=>(o(L),o(W),s(),nt(d())),()=>{if(o(L)){const{x:F,y:yt}=o(W),{x:xt,y:mt}=s(),{x:vt,y:_t}=d();(vt!==xt||_t!==mt)&&(vt!==F||_t!==yt?(m(W,d()),o(L).position.set(d())):(m(W,s()),d(s())))}}),b(()=>(o(L),nt(G())),()=>{o(L)&&o(L).inputs.set(G())}),b(()=>(o(L),nt(J())),()=>{o(L)&&o(L).outputs.set(J())}),Ae(),de();var j=At(),zt=ct(j);{var ut=F=>{const yt=he(()=>gt()||h()==="center"),xt=he(()=>!!f()||!!z()||!!tt()||o(Pt)||!1);Ha(F,{get node(){return o(L)},get center(){return o(yt)},get isDefault(){return o(Pt)},get useDefaults(){return ot()},get dimensionsProvided(){return o(xt)},get nodeStore(){return a.nodes},get locked(){return a.locked},get groups(){return a.groups},get title(){return Ot()},get maxZIndex(){return a.maxZIndex},get centerPoint(){return a.center},get cursor(){return a.cursor},get activeGroup(){return a.activeGroup},get editing(){return a.editing},get initialNodePositions(){return a.initialNodePositions},$$events:{nodeClicked(mt){re.call(this,t,mt)},nodeMount(mt){re.call(this,t,mt)},nodeReleased(mt){re.call(this,t,mt)},duplicate(mt){re.call(this,t,mt)}},children:Tr,$$slots:{default:(mt,vt)=>{const _t=he(()=>vt.destroy),ft=he(()=>vt.selected),Vt=he(()=>vt.grabHandle);var fe=At(),ae=ct(fe);Wt(ae,t,"default",{get selected(){return o(ft)},get grabHandle(){return o(Vt)},disconnect:ht,connect:Yt,get node(){return o(L)},get destroy(){return o(_t)}},V=>{var Z=At(),st=ct(Z);{var Ct=Bt=>{hc(Bt,{get selected(){return o(ft)},$$events:{connection(Et){re.call(this,t,Et)},disconnection(Et){re.call(this,t,Et)}}})};Lt(st,Bt=>{o(Pt)&&Bt(Ct)})}O(V,Z)}),O(mt,fe)},anchorWest:(mt,vt)=>{var _t=At(),ft=ct(_t);Wt(ft,t,"anchorWest",{},null),O(mt,_t)},anchorEast:(mt,vt)=>{var _t=At(),ft=ct(_t);Wt(ft,t,"anchorEast",{},null),O(mt,_t)},anchorNorth:(mt,vt)=>{var _t=At(),ft=ct(_t);Wt(ft,t,"anchorNorth",{},null),O(mt,_t)},anchorSouth:(mt,vt)=>{var _t=At(),ft=ct(_t);Wt(ft,t,"anchorSouth",{},null),O(mt,_t)}}})};Lt(zt,F=>{o(L)&&l().get(o(L).id)&&F(ut)})}O(e,j),le(),i()}var gc=$t('<div class="editor svelte-1nv0yho"><span style="color:white; font-size:45px">Editor</span> <button style="position:absolute; top:10px;right:10px;">X</button> <!> <button>Delete Node</button> <button>Resize Node</button></div>');function vc(e,t){se(t,!1);const n=x();let r=g(t,"editing",8);const i=It("graph");Ht("graph",i),Ht("textStore",r().label),Ht("colorStore",r().bgColor);let s=x({x:150,y:50});function l(u){u.preventDefault(),m(s,{x:u.clientX,y:u.clientY}),i.editing.set(r())}function c(){i.nodes.delete(r().id),i.editing.set(null)}function a(){const u=r().id,d=i.nodes.get(u);if(d){const h=d.dimensions.width,f=d.dimensions.height,_=prompt("Enter new width (for example:250):",h?h.toString():""),v=prompt("Enter new height (for example:200):",f?f.toString():"");if(_===null||v===null)return;d.dimensions.width.set(parseInt(_,10)||0),d.dimensions.height.set(parseInt(v,10)||0),d.resizingWidth.set(!0),d.resizingHeight.set(!0)}}b(()=>{},()=>{m(n,i.cursor)}),Ae(),de(),$r(e,{zIndex:1/0,get position(){return o(s)},bgColor:"white",id:"editor",children:(u,d)=>{var h=gc(),f=dt(Kt(h),2),_=dt(f,2);Fa(_,{placeholder:"Node Label"});var v=dt(_,2),w=dt(v,2);Tt("click",f,()=>i.editing.set(null)),Tt("click",v,c),Tt("click",w,a),Tt("contextmenu",h,l),O(u,h)},$$slots:{default:!0}}),le()}var pc=$t("<!> <!>",1),mc=$t('<section role="presentation" class="svelvet-wrapper svelte-13nq7cv"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></section>');function _c(e,t){se(t,!1);const[n,r]=be(),i=()=>E(mt,"$groups",n),s=()=>E(yt,"$dimensionsStore",n),l=()=>E(ae,"$nodeBounds",n),c=()=>E(zt,"$graphDOMElement",n),a=()=>E(Te,"$initialClickPosition",n),u=()=>E(_t,"$selected",n),d=()=>E(ft,"$activeGroup",n),h=()=>E(nn,"$connectingFrom",n),f=()=>E(Cr,"$touchDistance",n),_=()=>E(F,"$scale",n),v=()=>E(xt,"$translation",n),w=()=>E(fe,"$editing",n),y=x();let p=g(t,"graph",8),P=g(t,"width",8),A=g(t,"height",8),N=g(t,"minimap",12,!1),I=g(t,"controls",12,!1),G=g(t,"toggle",8,!1),J=g(t,"fixedZoom",8,!1),z=g(t,"pannable",8,!0),tt=g(t,"disableSelection",8,!1),U=g(t,"ZOOM_INCREMENT",8,.1),pt=g(t,"PAN_INCREMENT",8,50),lt=g(t,"PAN_TIME",8,250),Q=g(t,"MAX_SCALE",8,3),Y=g(t,"MIN_SCALE",8,.2),it=g(t,"selectionColor",8),B=g(t,"backgroundExists",8),X=g(t,"fitView",8,!1),ot=g(t,"trackpadPan",8),gt=g(t,"modifier",8),M=g(t,"theme",12,"light"),Ot=g(t,"title",8),et=g(t,"drawer",12,!1),L=g(t,"contrast",8,!1);console.log("Initial Graph drawer prop:",et());let Pt;const Yt=no(),ht={},W=C(!1),j=C(0),zt=C(null),ut=p().cursor,F=p().transforms.scale,yt=p().dimensions,xt=p().transforms.translation,mt=p().groups,vt=p().groupBoxes,_t=i().selected.nodes,ft=p().activeGroup,Vt=p().initialNodePositions,fe=p().editing,ae=p().bounds.nodeBounds;let V=0,Z=1,st=x({x:0,y:0,top:0,left:0}),Ct=x(!1),Bt=x(!1),Et=x(!1),me=x(!1),_e=!1,Re=x(!1),at,Me=x(null),we=x(null),Ne=x(null),$e=x(null),Pe=x(null);const ye={id:null,position:p().cursor,offset:C({x:0,y:0}),connected:C(new Set),dynamic:C(!1),edge:null,edgeColor:C(null),direction:C("self"),inputKey:null,type:"output",moving:Ao(!1),store:null,mounted:C(!0),rotation:Ao(0),node:{zIndex:C(1/0),rotating:C(!1),position:p().cursor,dimensions:{width:C(0),height:C(0)}}};Ht("graphDOMElement",zt),Ht("cursorAnchor",ye),Ht("duplicate",W),Ht("graph",p()),Ht("transforms",p().transforms),Ht("dimensions",p().dimensions),Ht("locked",p().locked),Ht("groups",p().groups),Ht("bounds",p().bounds),Ht("edgeStore",p().edges),Ht("nodeStore",p().nodes),Ht("mounted",j),Je(()=>{console.log("Graph component mounted with drawer1:",et()),He()});async function Qe(){await ul(),Fe.set(!0);const{x:S,y:R,scale:St}=Aa(at,l());S!==null&&R!==null&&St!==null&&(p().transforms.scale.set(St),xt.set({x:S,y:R})),Fe.set(!1),m(Re,!0)}async function jt(){m(we,(await go(async()=>{const{default:S}=await Promise.resolve().then(()=>Bc);return{default:S}},void 0,import.meta.url)).default)}async function te(){m(Me,(await go(async()=>{const{default:S}=await import("./ThemeToggle-DiwUIy9A.js");return{default:S}},[],import.meta.url)).default)}async function tn(){m(Ne,(await go(async()=>{const{default:S}=await import("./Controls-DH2AEb_b.js");return{default:S}},__vite__mapDeps([0,1]),import.meta.url)).default)}async function je(){m($e,(await go(async()=>{const{default:S}=await import("./DrawerController-C5VsJ9wc.js");return{default:S}},__vite__mapDeps([2,1,3]),import.meta.url)).default)}async function Be(){m(Pe,(await go(async()=>{const{default:S}=await import("./ContrastTheme-CnhvzHeG.js");return{default:S}},[],import.meta.url)).default)}function He(){if(!c())return;const S=c().getBoundingClientRect();at={top:S.top,left:S.left,bottom:S.bottom,right:S.right,width:S.width,height:S.height},p().dimensions.set(at),X()==="resize"&&Qe()}function Cn(S){var St,Nt;if(o(Bt)){const Ft=`${Kl()}/${p().id}`,pe=k(ut),Ue=pe.x-a().x,Ye=pe.y-a().y,Mn=Math.min(a().y,a().y+Ye),Ve=Math.min(a().x,a().x+Ue),Ge={width:C(Math.abs(Ue)),height:C(Math.abs(Ye))},co=C({x:Ve,y:Mn}),On={group:C(Ft),dimensions:Ge,position:co,color:C(Gl()),moving:C(!1)};vt.add(On,Ft),Array.from(u()).forEach(zn=>{zn.group.set(Ft)}),mt.update(zn=>{const sr={parent:C(On),nodes:C(new Set([...u(),On]))};return zn[Ft]=sr,zn}),K(_t,new Set),m(Bt,!1),m(Ct,!1)}d()&&Array.from(k(i()[d()].nodes)).forEach(Ft=>{const pe=Yo(k(Ft.position).x,k(Ft.position).y);Ft.position.set(pe),Ft.moving.set(!1)});const R=p().edges.get("cursor");R&&(p().edges.delete("cursor"),R.disconnect||Yt("edgeDrop",{cursor:k(ut),source:{node:(St=h())==null?void 0:St.anchor.node.id.slice(2),anchor:(Nt=h())==null?void 0:Nt.anchor.id.split("/")[0].slice(2)}})),K(ft,null),K(Te,{x:0,y:0}),K(Vt,[]),m(Ct,!1),m(me,!1),K(Fe,!1),S.shiftKey||nn.set(null),$n(st,o(st).y=0),$n(st,o(st).x=0)}function Tn(S){if(!z()&&!(S.shiftKey||S.metaKey)||S.button===2)return;c()&&c().focus();const{clientX:R,clientY:St}=S;if(K(Te,k(ut)),S.shiftKey||S.metaKey){S.preventDefault(),m(Ct,!0);const{top:Nt,left:wt}=o(y);$n(st,o(st).y=St-Nt),$n(st,o(st).x=R-wt),$n(st,o(st).top=Nt),$n(st,o(st).left=wt),S.shiftKey&&S.metaKey?m(Bt,!0):m(Bt,!1),S.metaKey&&!S.shiftKey?m(Et,!0):m(Et,!1)}else m(me,!0),K(_t,new Set),K(_t,u())}function kt(S){K(_t,new Set),K(_t,u()),K(Te,k(ut)),m(me,!0),S.touches.length===2&&(De(),V=f(),Z=_())}function Dt(){m(me,!1),_e=!1}function De(){_e||(_e=!0,Pt=requestAnimationFrame(Ie))}function Ie(){if(!_e){cancelAnimationFrame(Pt);return}const R=f()/V;K(F,Z*R),Pt=requestAnimationFrame(Ie)}function ce(S){const{key:R,code:St}=S,Nt=S.target;if(!(Nt.tagName=="INPUT"||Nt.tagName=="TEXTAREA")){if(St==="KeyA"&&S[`${gt()}Key`]){const wt=p().nodes.getAll().filter(Ft=>!k(Ft.locked));K(_t,new Set(wt))}else if(pi(R))D(R,S);else if(R==="=")vi(-1,p().dimensions,p().transforms,U());else if(R==="-")vi(1,p().dimensions,p().transforms,U());else if(R==="0")Qe();else if(R==="Control")i().selected.nodes.set(new Set);else if(St==="KeyD"&&S[`${gt()}Key`])W.set(!0),setTimeout(()=>{W.set(!1)},100);else if(R==="Tab"&&(S.altKey||S.ctrlKey))En();else if(R==="l")M(M()==="light"?"dark":"light");else if(R==="d")et(!et());else if(R==="m")N(!N());else if(R==="c")I(!I());else if(R==="e"){const wt=Array.from(u())[0];p().editing.set(wt)}else return;S.preventDefault()}}function fn(S){var Ye;S.preventDefault();const R=(Ye=c())==null?void 0:Ye.getBoundingClientRect();if(!R)return;const St=S.clientX-R.left,Nt=S.clientY-R.top,{x:wt,y:Ft}=Yo(St,Nt);if(console.log(`Dropped Node at Snapped Position: (${wt}, ${Ft})`),!Ue)return;const pe={id:`node-${Date.now()}`,rotation:C(0),position:C({x:wt,y:Ft}),moving:C(!1),label:C("New Node"),dimensions:{width:C(200),height:C(100)},inputs:C(2),outputs:C(2),anchors:C([]),group:C(null),collapsed:C(!1),resizingWidth:C(!1),resizingHeight:C(!1),rotating:C(!1),editable:C(!0),locked:C(!1),recalculateAnchors:Mn=>{},resizable:C(!0),zIndex:C(1),edge:null,direction:C("TD"),borderRadius:C(5),borderWidth:C(1),connections:C([]),bgColor:C("#007bff"),borderColor:C("#000"),selectionColor:C("#ff0000"),textColor:C("#fff")};let Ue=null;p().nodes.add(pe,pe.id),Ue=null}function En(){const S=p().nodes.getAll(),R=S.findIndex(Nt=>u().has(Nt)),St=R+1;u().delete(S[R]),u().add(S[St])}function ve(S){const{key:R}=S;pi(R)?(clearInterval(ht[R]),delete ht[R]):R==="Shift"&&nn.set(null)}function Ke(S){if(J())return;const R=S.shiftKey?.15:1,{clientX:St,clientY:Nt,deltaY:wt}=S,Ft=v(),pe={x:St,y:Nt};if((ot()||S.metaKey)&&wt%1===0){K(xt,{x:xo(xt,ie(v).x-=S.deltaX,ie(v)),y:xo(xt,ie(v).y-=S.deltaY,ie(v))});return}if(_()>=Q()&&wt<0||_()<=Y()&&wt>0)return;const Ue=Math.min(.009*R*Math.abs(wt),.08),Ye=us(_(),Math.sign(wt),Ue),Mn=cs(_(),Ye,Ft,pe,at);F.set(Ye),xt.set(Mn)}function Se(S){S.preventDefault()}function D(S,R){const St=R.shiftKey?2:1,Nt=S==="ArrowLeft"||S==="ArrowUp"?1:-1,wt=S==="ArrowLeft"||S==="ArrowRight",Ft=wt?v().x:v().y,pe=Ft+Nt*pt()*St;if(!ht[S]){const Ue=performance.now();let Ye=setInterval(()=>{const Mn=performance.now()-Ue;if(u().size===0){const Ve=Ft+(pe-Ft)*(Mn/lt());xt.set({x:wt?Ve:v().x,y:wt?v().y:Ve})}else{const Ve={x:wt?-Nt*2:0,y:wt?0:-Nt*2};Array.from(u()).forEach(Ge=>{const co=k(Ge.position);let On;const zn=k(Ge.group),sr=k(p().groupBoxes);if(zn&&(On=sr.get(zn)),On){const ko=k(Ge.dimensions.width),lr=k(Ge.dimensions.height),ps=gs(On,ko,lr);hs(co,Ve,Ge.position,ps)}else{const ko={x:co.x+Ve.x,y:co.y+Ve.y},lr=Yo(ko.x,ko.y);Ge.position.set(lr)}})}},2);ht[S]=Ye}}b(()=>s(),()=>{m(y,s())}),b(()=>nt(M()),()=>{M()&&document.documentElement.setAttribute("svelvet-theme",M())}),b(()=>(o(Re),nt(X())),()=>{!o(Re)&&X()&&Qe()}),b(()=>(nt(G()),o(Me)),()=>{G()&&!o(Me)&&te()}),b(()=>(nt(N()),o(we)),()=>{N()&&!o(we)&&jt()}),b(()=>(nt(I()),o(Ne)),()=>{I()&&!o(Ne)&&tn()}),b(()=>(nt(et()),o($e)),()=>{et()&&!o($e)&&je()}),b(()=>(nt(L()),o(Pe)),()=>{L()&&!o(Pe)&&Be()}),b(()=>nt(et()),()=>{console.log("Reactive Graph drawer prop:",et())}),Ae(),de();var T=mc();Tt("touchend",Un,Cn),Tt("mouseup",Un,Cn),Tt("resize",Un,He),Tt("scroll",Un,He),$(T,"tabindex",0);var rt=Kt(T);Wa(rt,{get isMovable(){return o(me)},children:(S,R)=>{var St=pc(),Nt=ct(St);{var wt=pe=>{vc(pe,{get editing(){return w()}})};Lt(Nt,pe=>{w()&&pe(wt)})}var Ft=dt(Nt,2);Wt(Ft,t,"default",{},null),O(S,St)},$$slots:{default:!0}});var H=dt(rt,2);{var bt=S=>{var R=At(),St=ct(R);Wt(St,t,"background",{},null),O(S,R)},Rt=S=>{ma(S,{})};Lt(H,S=>{B()?S(bt):S(Rt,!1)})}var Gt=dt(H,2);{var ge=S=>{var R=At(),St=ct(R);ho(St,()=>o(we),(Nt,wt)=>{wt(Nt,{})}),O(S,R)};Lt(Gt,S=>{N()&&S(ge)})}var ne=dt(Gt,2);{var Ce=S=>{var R=At(),St=ct(R);ho(St,()=>o(Ne),(Nt,wt)=>{wt(Nt,{})}),O(S,R)};Lt(ne,S=>{I()&&S(Ce)})}var Nn=dt(ne,2);{var qn=S=>{var R=At(),St=ct(R);ho(St,()=>o(Me),(Nt,wt)=>{wt(Nt,{})}),O(S,R)};Lt(Nn,S=>{G()&&S(qn)})}var en=dt(Nn,2);{var An=S=>{var R=At(),St=ct(R);ho(St,()=>o($e),(Nt,wt)=>{wt(Nt,{})}),O(S,R)};Lt(en,S=>{et()&&S(An)})}var hn=dt(en,2);{var ue=S=>{var R=At(),St=ct(R);ho(St,()=>o(Pe),(Nt,wt)=>{wt(Nt,{})}),O(S,R)};Lt(hn,S=>{L()&&S(ue)})}var Zt=dt(hn,2);Wt(Zt,t,"minimap",{},null);var xe=dt(Zt,2);Wt(xe,t,"drawer",{},null);var We=dt(xe,2);Wt(We,t,"controls",{},null);var Xt=dt(We,2);Wt(Xt,t,"toggle",{},null);var Jt=dt(Xt,2);Wt(Jt,t,"contrast",{},null);var gn=dt(Jt,2);{var Rn=S=>{Jl(S,{get creating(){return o(Bt)},get anchor(){return o(st)},get graph(){return p()},get adding(){return o(Et)},get color(){return it()}})};Lt(gn,S=>{o(Ct)&&!tt()&&S(Rn)})}eo(T,S=>K(zt,S),()=>c()),Ut(()=>{$(T,"id",p().id),$(T,"title",Ot()),q(T,"width",P()?P()+"px":"100%"),q(T,"height",A()?A()+"px":"100%"),q(T,"cursor",z()?"move":"default")}),Tt("wheel",T,ze(Ke)),Tt("mousedown",T,_o(ze(Tn))),Tt("touchend",T,ze(Dt)),Tt("touchstart",T,_o(ze(kt))),Tt("keydown",T,ce),Tt("keyup",T,ve),Tt("dragover",T,ze(Se)),Tt("drop",T,fn),O(e,T),le(),r()}function yc(e){e.parentNodes.forEach(s=>xc(s));const[t,n]=bc(e);wc(t,e),Sc(t);for(let s=0;s<10;s++){let l=!1;for(let c=0;c<=n;c++)if(t[c])for(let a=0;a<t[c].length;a++){const u=t[c][a],d=Ec(t,u,a);d&&(Gn(t[c],a,d),l=!0)}if(!l)break}const r=Nc(t);for(let s=0;s<10&&Ac(t,r);s++);for(let s=0;s<2;s++){let l=!1;for(let c=0;c<=n;c++)for(let a=0;a<t[c].length;a++){const u=t[c][a],d=Cc(t,u,a);d&&(Gn(t[c],a,d),l=!0)}if(!l)break}const i=[];for(let s=0;s<=n;s++)i.push(t[s]);return i}function xc(e,t=0,n=0){const r=[],i=(s,l=0,c=0)=>{s.depth=Math.max(s.depth,l),s.nesting=Math.max(s.nesting,c),r.push(s);for(const a of s.children){const{node:u,length:d}=a;i(u,d+l,c+1)}};i(e,t,n);for(const s of r)if(s.children.length){s.nesting=s.children[0].node.nesting-1,s.depth=s.children[0].node.depth-s.children[0].length;for(const l of s.children)s.nesting=Math.min(s.nesting,l.node.nesting-1),s.depth=Math.min(s.depth,l.node.depth-l.length)}}function bc(e){let t=0;const n={};for(const r in e.nodeList){const{depth:i,parents:s,children:l,type:c,data:a}=e.nodeList[r];t=Math.max(t,i),n[i]||(n[i]=[]);const u={id:r,label:a.content,children:[],parents:[],layer:i,type:c.trim()};a.props&&(u.propsId=a.props.trim());for(const d of s)u.parents.push(d.node.id);for(const d of l)u.children.push(d.node.id);n[i].push(u)}return[n,t]}function wc(e,t){for(const n in t.nodeList)for(const r of t.nodeList[n].children)if(r.node.depth-1>t.nodeList[n].depth){const i=t.nodeList[n].depth+1,s=r.node.depth-1,l=[];let c=0;for(let a=i;a<=s;a++){const u={id:`GHOST_${r.node.id}_${c}`,label:"",children:[],parents:[],layer:a,ignore:!0};l.push(u),c++}for(const a of r.node.parents)l[0].parents.push(a.node.id);l[l.length-1].children.push(r.node.id);for(let a=0;a<l.length-1;a++)l[a].children.push(`GHOST_${r.node.id}_${a+1}`);for(let a=s;a>=i;a--)l.length>0&&e[a].push(l[0]);for(const a of e[t.nodeList[n].depth])a.id===n&&(a.children.push(l[0].id),a.children=a.children.filter(u=>u!==r.node.id))}}function Sc(e){let t=0;for(const n in e)t=Math.max(e[n].length,t);for(const n in e)if(e[n].length<t){const r=Array.from({length:t-e[n].length},()=>({id:"NULL_NODE",children:[],parents:[],layer:parseInt(n),ignore:!0}));e[n]=e[n].concat(r)}}function yi(e,t,n){let r=0,i=0;for(const s of t.parents){for(let l=0;l<e[t.layer-1].length;l++)if(s===e[t.layer-1][l].id){r+=Math.abs(n-l);break}i++}for(const s of t.children){for(let l=0;l<e[t.layer+1].length;l++)if(s===e[t.layer+1][l].id){r+=Math.abs(n-l);break}i++}return isNaN(r/i)?0:r/i}function xi(e,t,n){let r=0,i=0;for(const s of t.parents){for(let l=0;l<e[t.layer-1].length;l++)if(s===e[t.layer-1][l].id){r+=Math.abs(n-l);break}i++}return isNaN(r/i)?0:r/i}function bi(e,t,n){let r=0,i=0;for(const s of t.children){for(let l=0;l<e[t.layer+1].length;l++)if(s===e[t.layer+1][l].id){r+=Math.abs(n-l);break}i++}return isNaN(r/i)?0:r/i}function Cc(e,t,n){const r=Nr(e,t.layer);let i=0;t.layer===0?i=bi(e,t,n):i=xi(e,t,n);let s=i,l=n;for(let c=0;c<e[t.layer].length;c++)if(e[t.layer][c].id==="NULL_NODE"){Gn(e[t.layer],n,c);const u=Nr(e,t.layer);let d=0;t.layer===0?d=bi(e,t,c):d=xi(e,t,c),u<=r&&d<s&&(s=d,l=c),Gn(e[t.layer],c,n)}return l===n?null:l}function Ec(e,t,n){const r={};let i=1/0,s=0;for(let l=0;l<e[t.layer].length;l++){const c=yi(e,t,l),a=yi(e,e[t.layer][l],n);r[l]=c+a}for(const l in r)r[l]<i&&(i=r[l],s=parseInt(l));return s===n?null:s}function Gn(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Nc(e){const t=[];for(const n in e)for(const r of e[n])t.push(r);return t.sort((n,r)=>r.parents.length+r.children.length-(n.parents.length+n.children.length))}function Nr(e,t){let n=0;for(let r=0;r<e[t].length;r++){const i=e[t][r],s=[],l=[];if(e[t-1])for(let c=r+1;c<e[t-1].length;c++)i.parents.includes(e[t-1][c].id)&&s.push(c);if(e[t+1])for(let c=r+1;c<e[t+1].length;c++)i.children.includes(e[t+1][c].id)&&l.push(c);for(let c=r+1;c<e[t].length;c++){const a=e[t][c];if(s.length)for(let u=0;u<e[t-1].length;u++)a.parents.includes(e[t-1][u].id)&&s.forEach(d=>{u<d&&n++});if(l.length)for(let u=0;u<e[t+1].length;u++)a.children.includes(e[t+1][u].id)&&l.forEach(d=>{u<d&&n++})}}return n}function Ac(e,t){let n=!1;for(const r of t){if(r.children.length+r.parents.length===0)return n;let i=0;for(let c=0;c<e[r.layer].length;c++)if(e[r.layer][c].id===r.id){i=c;break}let s=1/0,l=i;for(let c=0;c<e[r.layer].length;c++){Gn(e[r.layer],i,c);const a=Nr(e,r.layer);a<s&&(s=a,l=c),Gn(e[r.layer],c,i)}l!==i&&(Gn(e[r.layer],i,l),n=!0)}return n}function Mc(e,t){se(t,!1);let n=g(t,"mermaid",8,""),r=g(t,"mermaidConfig",24,()=>({}));const i=ql(n());Ht("flowchart",i);const s=yc(i),l=It("graph"),c=100,a=100;let u;Je(()=>{l.nodes.subscribe(_=>u=Object.fromEntries(_));let f=0;for(const _ of s){let v=0,w=-1/0;for(const y of _)y.ignore||(u[`N-${y.id}`].position.update(()=>({x:v,y:f})),u[`N-${y.id}`].dimensions.width.subscribe(p=>v+=p),u[`N-${y.id}`].dimensions.height.subscribe(p=>w=Math.max(w,p))),v+=c;f+=w+a}}),de();var d=At(),h=ct(d);on(h,1,()=>s,Vn,(f,_)=>{var v=At(),w=ct(v);on(w,1,()=>o(_),Vn,(y,p)=>{var P=At(),A=ct(P);{var N=I=>{const G=he(()=>o(p).children.map(J=>[J,"1"]));$r(I,Fr({get label(){return o(p).label},get id(){return o(p).id},TD:!0},()=>r()[o(p).id],{get connections(){return o(G)}}))};Lt(A,I=>{o(p).ignore||I(N)})}O(y,P)}),O(f,v)}),O(e,d),le()}function Pc(e){var r,i;const t=JSON.parse(e);return ds(t.id,{...t,editable:t.editable,direction:t.direction,locked:t.locked,zoom:((r=t.transforms)==null?void 0:r.scale)??1,translation:((i=t.transforms)==null?void 0:i.translation)??{x:0,y:0},edge:t.edge})}var Dc=$t("<!> <!>",1),Ic=$t('<div class="svelvet-temp svelte-lsy29y"></div>');function Lc(e,t){const n=Yr(t);se(t,!1);const r=x(),i=x();let s=g(t,"mermaid",8,""),l=g(t,"theme",8,"light"),c=g(t,"id",8,0),a=g(t,"snapTo",8,0),u=g(t,"zoom",8,1),d=g(t,"TD",8,!1),h=g(t,"editable",8,!0),f=g(t,"locked",8,!1),_=g(t,"width",8,0),v=g(t,"height",8,0),w=g(t,"minimap",8,!1),y=g(t,"controls",8,!1),p=g(t,"toggle",8,!1),P=g(t,"drawer",8,!1),A=g(t,"contrast",8,!1),N=g(t,"fitView",8,!1),I=g(t,"selectionColor",8,"lightblue"),G=g(t,"edgeStyle",8,"bezier"),J=g(t,"endStyles",24,()=>[null,null]),z=g(t,"edge",8,null),tt=g(t,"disableSelection",8,!1),U=g(t,"mermaidConfig",24,()=>({})),pt=g(t,"translation",24,()=>({x:0,y:0})),lt=g(t,"trackpadPan",8,!1),Q=g(t,"modifier",8,"meta"),Y=g(t,"raiseEdgesOnSelect",8,!1),it=g(t,"edgesAboveNode",8,!1),B=g(t,"title",8,""),X=g(t,"fixedZoom",8,!1),ot=g(t,"pannable",8,!0);const gt=no();let M=x(null),Ot=d()?"TD":"LR";Ht("snapTo",a()),Ht("edgeStyle",G()),Ht("endStyles",J()),Ht("graphEdge",z()),Ht("raiseEdgesOnSelect",Y()),Ht("edgesAboveNode",it()),Ht("graph",o(M)),Je(()=>{console.log("Graph component mounted with drawer:",P());const W=localStorage.getItem("state");if(console.log("stateObject during onMount:",W),W)m(M,Pc(W)),console.log("This is the graph set using reloadStore",o(M)),gr.add(o(M),o(M).id),console.log("graphStore updated",o(M));else{let j=`G-${c()||gr.count()+1}`;m(M,ds(j,{zoom:u(),direction:Ot,editable:h(),locked:f(),translation:pt()})),gr.add(o(M),j)}});function et(W,j){if(!o(M))return;const zt=`N-${W[0]}`,ut=o(M).nodes.get(zt);if(!ut)return;const F=ut.anchors.get(`A-${W[1]}/N-${W[0]}`);if(!F)return;const yt=`N-${j[0]}`,xt=o(M).nodes.get(yt);if(!xt)return;const mt=xt.anchors.get(`A-${j[1]}/N-${j[0]}`);if(!mt)return;const vt=o(M).edges.match(F,mt);vt&&o(M).edges.delete(vt[0])}b(()=>{},()=>{m(r,n.background)}),b(()=>o(M),()=>{m(i,o(M)&&o(M).edges)}),b(()=>(o(M),nt(u())),()=>{o(M)&&o(M).transforms.scale.set(u())}),b(()=>o(i),()=>{o(i)&&o(i).onEdgeChange((W,j)=>{gt(j,{sourceAnchor:W.source,targetAnchor:W.target,sourceNode:W.source.node,targetNode:W.target.node})})}),Ae(),de();var L=At(),Pt=ct(L);{var Yt=W=>{_c(W,{get width(){return _()},get height(){return v()},get toggle(){return p()},get backgroundExists(){return o(r)},get minimap(){return w()},get graph(){return o(M)},get fitView(){return N()},get fixedZoom(){return X()},get pannable(){return ot()},get theme(){return l()},get drawer(){return P()},get controls(){return y()},get selectionColor(){return I()},get disableSelection(){return tt()},get trackpadPan(){return lt()},get modifier(){return Q()},get title(){return B()},get contrast(){return A()},$$events:{edgeDrop(j){re.call(this,t,j)}},children:(j,zt)=>{var ut=Dc(),F=ct(ut);{var yt=mt=>{Mc(mt,{get mermaid(){return s()},get mermaidConfig(){return U()}})};Lt(F,mt=>{s().length&&mt(yt)})}var xt=dt(F,2);Wt(xt,t,"default",{},null),O(j,ut)},$$slots:{default:!0,minimap:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"minimap",{},null),O(j,ut)},controls:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"controls",{},null),O(j,ut)},background:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"background",{},null),O(j,ut)},toggle:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"toggle",{},null),O(j,ut)},drawer:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"drawer",{},null),O(j,ut)},contrast:(j,zt)=>{var ut=At(),F=ct(ut);Wt(F,t,"contrast",{},null),O(j,ut)}}})},ht=W=>{var j=Ic();Ut(()=>{q(j,"width",_()?_()+"px":"100%"),q(j,"height",v()?v()+"px":"100%")}),O(W,j)};Lt(Pt,W=>{o(M)?W(Yt):W(ht,!1)})}return O(e,L),Gr(t,"disconnect",et),le({disconnect:et})}var kc=$t('<button class="minimap-node svelte-1hs9omb"></button>');function Tc(e,t){se(t,!1);const[n,r]=be(),i=()=>E(G,"$position",n),s=()=>E(U,"$rotation",n),l=()=>E(o(_),"$zIndex",n),c=()=>E(tt,"$borderRadius",n),a=()=>E(z,"$bgColor",n),u=()=>E(pt,"$width",n),d=()=>E(lt,"$height",n),h=x(),f=x(),_=x(),v=x();let w=g(t,"node",8),y=g(t,"hidden",8,!1),p=g(t,"toggleHidden",8),P=g(t,"top",8),A=g(t,"left",8),N=g(t,"nodeColor",8,null),I=g(t,"hideable",8);const{position:G,dimensions:J,bgColor:z,borderRadius:tt,rotation:U}=w(),{width:pt,height:lt}=J;let Q=x(null);Je(()=>{var it;try{const B=(it=document.querySelector(`#${w().id}`))==null?void 0:it.firstChild;B&&m(Q,window.getComputedStyle(B).backgroundColor)}catch(B){console.error(B)}}),b(()=>i(),()=>{m(h,i())}),b(()=>s(),()=>{m(f,s())}),b(()=>nt(w()),()=>{_n(m(_,w().zIndex),"$zIndex",n)}),b(()=>o(Q),()=>{m(v,o(Q)==="rgba(0, 0, 0, 0)")}),Ae(),de();var Y=kc();Ut(()=>{qt(Y,"hidden",y()),qt(Y,"hideable",I()),q(Y,"z-index",l()),q(Y,"border-radius",`${c()??""}px`),q(Y,"--prop-background-color",N()||a()||!o(v)&&o(Q)||null),q(Y,"width",`${u()??""}px`),q(Y,"height",`${d()??""}px`),q(Y,"transform",`rotate(${o(f)??""}deg)`),q(Y,"top",`${o(h).y-P()}px`),q(Y,"left",`${o(h).x-A()}px`)}),Tt("click",Y,()=>{I()&&p()(w())}),O(e,Y),le(),r()}var Rc=$t('<div class="mini-bounding-box svelte-aoq4g"></div>');function Oc(e,t){se(t,!1);const[n,r]=be(),i=()=>E(u(),"$position",n),s=()=>E(v,"$width",n),l=()=>E(w,"$height",n),c=()=>E(d(),"$color",n);let a=g(t,"dimensions",8),u=g(t,"position",8),d=g(t,"color",8),h=g(t,"groupName",8),f=g(t,"top",8),_=g(t,"left",8);const{width:v,height:w}=a();de();var y=Rc();Ut(()=>{$(y,"id",`mini-${h()}-bounding-box`),$(y,"style",`border: solid 4px ${c()??""};`),q(y,"top",`${i().y-f()}px`),q(y,"left",`${i().x-_()}px`),q(y,"width",`${s()}px`),q(y,"height",`${l()}px`),q(y,"background-color",c())}),O(e,y),le(),r()}var zc=$t('<div class="minimap-wrapper svelte-1qxvbux"><div class="node-wrapper svelte-1qxvbux"><!> <!></div> <div class="overlay svelte-1qxvbux"></div></div>');function vs(e,t){se(t,!1);const[n,r]=be(),i=()=>E(ut,"$graphBounds",n),s=()=>E(yt,"$groups",n),l=()=>E(mt,"$dimensions",n),c=()=>E(_t,"$scale",n),a=()=>E(ft,"$translation",n),u=()=>E(vt,"$hidden",n),d=()=>E(F,"$nodes",n),h=()=>E(Vt,"$groupBoxes",n),f=x(),_=x(),v=x(),w=x(),y=x(),p=x(),P=x(),A=x(),N=x(),I=x(),G=x(),J=x(),z=x(),tt=x(),U=x(),pt=x(),lt=x(),Q=x(),Y=x(),it=x(),B=x(),X=x(),ot=x();let gt=It("graph"),M=g(t,"width",8,100),Ot=g(t,"height",24,M),et=g(t,"mapColor",8,null),L=g(t,"nodeColor",8,null),Pt=g(t,"borderColor",8,null),Yt=g(t,"corner",8,"SE"),ht=g(t,"hideable",8,!1);const W=.9,j=M()*W,zt=Ot()*W,ut=gt.bounds.graphBounds,F=gt.nodes,yt=gt.groups,xt=gt.transforms,mt=gt.dimensions,vt=s().hidden.nodes,_t=xt.scale,ft=xt.translation,Vt=gt.groupBoxes,fe={clientX:0,clientY:0};function ae(Et){u().has(Et)?u().delete(Et):u().add(Et),K(vt,u())}b(()=>i(),()=>{m(f,i())}),b(()=>o(f),()=>{m(_,o(f).top)}),b(()=>o(f),()=>{m(v,o(f).left)}),b(()=>o(f),()=>{m(w,o(f).right)}),b(()=>o(f),()=>{m(y,o(f).bottom)}),b(()=>l(),()=>{m(p,l().width)}),b(()=>l(),()=>{m(P,l().height)}),b(()=>(o(w),o(v)),()=>{m(A,o(w)-o(v))}),b(()=>(o(y),o(_)),()=>{m(N,o(y)-o(_))}),b(()=>(o(A),o(N)),()=>{m(I,o(A)/o(N))}),b(()=>(nt(M()),nt(Ot())),()=>{m(G,M()/Ot())}),b(()=>(o(p),o(P),c(),a()),()=>{m(J,Lo(fe,0,0,o(p),o(P),c(),a()))}),b(()=>(o(p),o(A),c()),()=>{m(z,o(p)/o(A)/c())}),b(()=>(o(P),o(N),c()),()=>{m(tt,o(P)/o(N)/c())}),b(()=>(o(J),o(_),o(N)),()=>{m(U,(o(J).y-o(_))/o(N))}),b(()=>(o(J),o(v),o(A)),()=>{m(pt,(o(J).x-o(v))/o(A))}),b(()=>(o(I),o(G)),()=>{m(Q,o(I)>=o(G))}),b(()=>(o(Q),o(A),o(N)),()=>{m(Y,o(Q)?j/o(A):zt/o(N))}),b(()=>(o(N),o(Y)),()=>{m(ot,o(N)*o(Y))}),b(()=>(nt(Ot()),o(ot)),()=>{m(B,(Ot()-o(ot))/2)}),b(()=>(o(A),o(Y)),()=>{m(X,o(A)*o(Y))}),b(()=>(nt(M()),o(X)),()=>{m(it,(M()-o(X))/2)}),b(()=>(o(B),o(U),o(ot),o(it),o(pt),o(X),o(z),o(tt)),()=>{m(lt,`
		top: ${o(B)+o(U)*o(ot)}px;
		left: ${o(it)+o(pt)*o(X)}px;
		width: ${o(z)*o(X)}px;
		height: ${o(tt)*o(ot)}px;`)}),Ae(),de();var V=zc(),Z=Kt(V),st=Kt(Z);on(st,1,()=>Array.from(d().entries()),([Et,me])=>Et,(Et,me)=>{let _e=()=>o(me)[1];var Re=At(),at=ct(Re);{var Me=we=>{const Ne=he(()=>u().has(_e()));Tc(we,{get node(){return _e()},get top(){return o(_)},get left(){return o(v)},get nodeColor(){return L()},get hidden(){return o(Ne)},toggleHidden:ae,get hideable(){return ht()}})};Lt(at,we=>{_e().id!=="N-editor"&&we(Me)})}O(Et,Re)});var Ct=dt(st,2);on(Ct,1,()=>Array.from(h().entries()),([Et,me])=>Et,(Et,me)=>{let _e=()=>o(me)[0];Oc(Et,Fr(()=>o(me)[1],{get top(){return o(_)},get left(){return o(v)},get groupName(){return _e()}}))});var Bt=dt(Z,2);Ut(()=>{qt(V,"SW",Yt()==="SW"),qt(V,"NE",Yt()==="NE"),qt(V,"SE",Yt()==="SE"),qt(V,"NW",Yt()==="NW"),q(V,"width",`${M()??""}px`),q(V,"height",`${(Ot()?Ot():M())??""}px`),q(V,"--prop-minimap-border-color",Pt()),q(V,"--prop-minimap-background-color",et()),q(Z,"width",`${o(A)??""}px`),q(Z,"height",`${o(N)??""}px`),q(Z,"transform",`scale(${o(Y)??""})`),$(Bt,"style",o(lt))}),O(e,V),le(),r()}const Bc=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),Wc="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23000000'%20d='M105%20105v302h151c148%200%20148-302%200-302H105zm-89%2046v18h71v-18H16zm368.8%2096c.2%206%20.2%2012%200%2018H496v-18H384.8zM16%20343v18h71v-18H16z'/%3e%3c/svg%3e";var Yc=$t('<div class="custom_anchor svelte-qucaqe"></div>'),Gc=$t("<div><!></div>");function mr(e,t){se(t,!1);let n=g(t,"location",24,()=>["left","top"]),r=g(t,"id",8),i=g(t,"io",8);de();var s=Gc(),l=Kt(s);const c=he(()=>`${r()}_${i()}_${n()[0]}_${n()[1]}`),a=he(()=>n()[0]==="left"?"west":"east"),u=he(()=>i()==="input"),d=he(()=>i()==="output");mo(l,{get id(){return o(c)},get direction(){return o(a)},get input(){return o(u)},get output(){return o(d)},multiple:!1,children:Tr,$$slots:{default:(h,f)=>{const _=he(()=>f.linked),v=he(()=>f.hovering),w=he(()=>f.connecting);var y=Yc();Ut(()=>{$(y,"style",`background-color: ${(i()==="input"?"red":"green")??""};`),qt(y,"linked",o(_)),qt(y,"hovering",o(v)),qt(y,"connecting",o(w))}),O(h,y)}}}),Ut(()=>Al(s,`${n()[0]??""} ${n()[1]??""} svelte-qucaqe`)),O(e,s),le()}var Xc=$t('<img alt="AND Gate"> <!> <!> <!>',1);function wi(e,t){let n=g(t,"width",8,80),r=g(t,"height",8,50);const i=localStorage.getItem("and_node_num");let s=1;i===null?localStorage.setItem("and_node_num","1"):(s=parseInt(i,10)+1,s++,localStorage.setItem("and_node_num",s.toString()));const l=`And_Gate_Node_${s}`;localStorage.setItem(`And_Gate_Node_${s}`,s.toString()),$r(e,{id:l,drop:"cursor",children:Tr,$$slots:{default:(c,a)=>{var u=Xc(),d=ct(u);$(d,"src",Wc);var h=dt(d,2);mr(h,{location:["left","bot"],id:l,io:"input"});var f=dt(h,2);mr(f,{location:["left","top"],id:l,io:"input"});var _=dt(f,2);mr(_,{location:["right","mid"],id:l,io:"output"}),Ut(()=>{$(d,"width",n()),$(d,"height",r())}),O(c,u)}}})}var Fc=$t("<!> <!>",1),qc=$t('<div id="AppBar" class="svelte-1i9jzb0"></div> <div id=""></div> <main class="svelte-1i9jzb0"><div class="side_menu svelte-1i9jzb0"></div> <div id="svelvet_canvas" class="svelte-1i9jzb0"><!></div></main>',1);function $c(e,t){se(t,!1),Ao("red"),de();var n=qc(),r=dt(ct(n),4),i=dt(Kt(r),2),s=Kt(i);Lc(s,{theme:"LogiCap",children:(l,c)=>{var a=Fc(),u=ct(a);wi(u,{width:80,height:50});var d=dt(u,2);wi(d,{width:80,height:50}),O(l,a)},$$slots:{default:!0,minimap:(l,c)=>{vs(l,{width:100,corner:"NE",slot:"minimap"})}}}),O(e,n),le()}yl($c,{target:document.getElementById("app")});export{vi as A,Fe as B,Aa as C,he as D,pl as E,Xn as F,Hc as G,Kc as H,Pl as I,ze as J,eo as K,C as L,ir as M,ct as N,$n as O,Yo as P,dn as Q,ho as R,$ as S,on as T,g as a,gr as b,o as c,dt as d,qt as e,q as f,k as g,rs as h,de as i,Tt as j,rn as k,O as l,x as m,le as n,Je as o,se as p,$t as q,Kt as r,m as s,Ut as t,It as u,Wt as v,Lt as w,Al as x,be as y,E as z};
