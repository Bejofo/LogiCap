const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Controls-Rj89vjtG.js","./Icon-DPhLIUDm.js","./DrawerController-xKxRQtjo.js","./DrawerController-CDtfjO5V.css"])))=>i.map(i=>d[i]);
var wJ=Object.defineProperty;var PC=e=>{throw TypeError(e)};var xJ=(e,t,r)=>t in e?wJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var CC=(e,t,r)=>xJ(e,typeof t!="symbol"?t+"":t,r),Bm=(e,t,r)=>t.has(e)||PC("Cannot "+r);var za=(e,t,r)=>(Bm(e,t,"read from private field"),r?r.call(e):t.get(e)),Bf=(e,t,r)=>t.has(e)?PC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),zm=(e,t,r,n)=>(Bm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),RC=(e,t,r)=>(Bm(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const IC=!1;var Mh=Array.isArray,SJ=Array.prototype.indexOf,QE=Array.from,W4=Object.defineProperty,Wa=Object.getOwnPropertyDescriptor,X4=Object.getOwnPropertyDescriptors,EJ=Object.prototype,AJ=Array.prototype,e2=Object.getPrototypeOf,OC=Object.isExtensible;function zf(e){return typeof e=="function"}const qs=()=>{};function TJ(e){return e()}function dh(e){for(var t=0;t<e.length;t++)e[t]()}function PJ(e,t,r=!1){return e===void 0?r?t():t:e}const qo=2,Y4=4,fp=8,t2=16,Ja=32,$l=64,Nv=128,ao=256,qv=512,ws=1024,Qa=2048,wc=4096,Xa=8192,hp=16384,CJ=32768,dp=65536,K4=1<<17,RJ=1<<19,Z4=1<<20,fE=1<<21,pa=Symbol("$state"),J4=Symbol("legacy props"),IJ=Symbol("");function Q4(e){return e===this.v}function vp(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function OJ(e,t){return e!==t}function r2(e){return!vp(e,this.v)}function MJ(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function kJ(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function LJ(e){throw new Error("https://svelte.dev/e/effect_orphan")}function NJ(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function e7(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function qJ(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function DJ(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function FJ(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function BJ(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ul=!1,zJ=!1;function VJ(){Ul=!0}const n2=1,i2=2,t7=4,GJ=8,$J=16,UJ=1,jJ=2,r7=4,HJ=8,WJ=16,n7=1,XJ=2,Xi=Symbol(),YJ="http://www.w3.org/1999/xhtml";function s2(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function jl(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Or=null;function MC(e){Or=e}function yr(e){return i7().get(e)}function jr(e,t){return i7().set(e,t),t}function ur(e,t=!1,r){var n=Or={p:Or,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ul&&!t&&(Or.l={s:null,u:null,r1:[],r2:Il(!1)}),mp(()=>{n.d=!0})}function cr(e){const t=Or;if(t!==null){e!==void 0&&(t.x=e);const o=t.e;if(o!==null){var r=_n,n=sn;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Iu(s.effect),_a(s.reaction),Qi(s.fn)}}finally{Iu(r),_a(n)}}Or=t.p,t.m=!0}return e||{}}function Hl(){return!Ul||Or!==null&&Or.l===null}function i7(e){return Or===null&&jl(),Or.c??(Or.c=new Map(KJ(Or)||void 0))}function KJ(e){let t=e.p;for(;t!==null;){const r=t.c;if(r!==null)return r;t=t.p}return null}function Ro(e,t){if(typeof e!="object"||e===null||pa in e)return e;const r=e2(e);if(r!==EJ&&r!==AJ)return e;var n=new Map,i=Mh(e),s=Cn(0),o=sn,a=u=>{var c=sn;_a(o);var f;return f=u(),_a(c),f};return i&&n.set("length",Cn(e.length)),new Proxy(e,{defineProperty(u,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&DJ();var h=n.get(c);return h===void 0?(h=a(()=>Cn(f.value)),n.set(c,h)):ve(h,a(()=>Ro(f.value))),!0},deleteProperty(u,c){var f=n.get(c);if(f===void 0)c in u&&n.set(c,a(()=>Cn(Xi)));else{if(i&&typeof c=="string"){var h=n.get("length"),p=Number(c);Number.isInteger(p)&&p<h.v&&ve(h,p)}ve(f,Xi),kC(s)}return!0},get(u,c,f){var m;if(c===pa)return e;var h=n.get(c),p=c in u;if(h===void 0&&(!p||(m=Wa(u,c))!=null&&m.writable)&&(h=a(()=>Cn(Ro(p?u[c]:Xi))),n.set(c,h)),h!==void 0){var _=T(h);return _===Xi?void 0:_}return Reflect.get(u,c,f)},getOwnPropertyDescriptor(u,c){var f=Reflect.getOwnPropertyDescriptor(u,c);if(f&&"value"in f){var h=n.get(c);h&&(f.value=T(h))}else if(f===void 0){var p=n.get(c),_=p==null?void 0:p.v;if(p!==void 0&&_!==Xi)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return f},has(u,c){var _;if(c===pa)return!0;var f=n.get(c),h=f!==void 0&&f.v!==Xi||Reflect.has(u,c);if(f!==void 0||_n!==null&&(!h||(_=Wa(u,c))!=null&&_.writable)){f===void 0&&(f=a(()=>Cn(h?Ro(u[c]):Xi)),n.set(c,f));var p=T(f);if(p===Xi)return!1}return h},set(u,c,f,h){var A;var p=n.get(c),_=c in u;if(i&&c==="length")for(var m=f;m<p.v;m+=1){var y=n.get(m+"");y!==void 0?ve(y,Xi):m in u&&(y=a(()=>Cn(Xi)),n.set(m+"",y))}p===void 0?(!_||(A=Wa(u,c))!=null&&A.writable)&&(p=a(()=>Cn(void 0)),ve(p,a(()=>Ro(f))),n.set(c,p)):(_=p.v!==Xi,ve(p,a(()=>Ro(f))));var b=Reflect.getOwnPropertyDescriptor(u,c);if(b!=null&&b.set&&b.set.call(h,f),!_){if(i&&typeof c=="string"){var S=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=S.v&&ve(S,E+1)}kC(s)}return!0},ownKeys(u){T(s);var c=Reflect.ownKeys(u).filter(p=>{var _=n.get(p);return _===void 0||_.v!==Xi});for(var[f,h]of n)h.v!==Xi&&!(f in u)&&c.push(f);return c},setPrototypeOf(){FJ()}})}function kC(e,t=1){ve(e,e.v+t)}function LC(e){try{if(e!==null&&typeof e=="object"&&pa in e)return e[pa]}catch{}return e}function ZJ(e,t){return Object.is(LC(e),LC(t))}const vh=new Map;function Il(e,t){var r={f:0,v:e,reactions:null,equals:Q4,rv:0,wv:0};return r}function Cn(e,t){const r=Il(e);return _7(r),r}function ke(e,t=!1){var n;const r=Il(e);return t||(r.equals=r2),Ul&&Or!==null&&Or.l!==null&&((n=Or.l).s??(n.s=[])).push(r),r}function il(e,t){return ve(e,nn(()=>T(e))),t}function ve(e,t,r=!1){sn!==null&&!fa&&Hl()&&(sn.f&(qo|t2))!==0&&!(rs!=null&&rs.includes(e))&&BJ();let n=r?Ro(t):t;return ph(e,n)}function ph(e,t){if(!e.equals(t)){var r=e.v;Lh?vh.set(e,t):vh.set(e,r),e.v=t,e.wv=b7(),s7(e,Qa),Hl()&&_n!==null&&(_n.f&ws)!==0&&(_n.f&(Ja|$l))===0&&(Js===null?cQ([e]):Js.push(e))}return t}function NC(e,t=1){var r=T(e),n=t===1?r++:r--;return ve(e,r),n}function s7(e,t){var r=e.reactions;if(r!==null)for(var n=Hl(),i=r.length,s=0;s<i;s++){var o=r[s],a=o.f;(a&Qa)===0&&(!n&&o===_n||(Do(o,t),(a&(ws|ao))!==0&&((a&qo)!==0?s7(o,wc):wp(o))))}}let JJ=!1;var pl,o7,a7,u7;function QJ(){if(pl===void 0){pl=window,o7=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;a7=Wa(t,"firstChild").get,u7=Wa(t,"nextSibling").get,OC(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),OC(r)&&(r.__t=void 0)}}function pp(e=""){return document.createTextNode(e)}function $a(e){return a7.call(e)}function gp(e){return u7.call(e)}function Et(e,t){return $a(e)}function bt(e,t){{var r=$a(e);return r instanceof Comment&&r.data===""?gp(r):r}}function ft(e,t=1,r=!1){let n=e;for(;t--;)n=gp(n);return n}function eQ(e){e.textContent=""}function Ol(e){var t=qo|Qa,r=sn!==null&&(sn.f&qo)!==0?sn:null;return _n===null||r!==null&&(r.f&ao)!==0?t|=ao:_n.f|=Z4,{ctx:Or,deps:null,effects:null,equals:Q4,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??_n}}function Li(e){const t=Ol(e);return _7(t),t}function pn(e){const t=Ol(e);return t.equals=r2,t}function c7(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Ru(t[r])}}function tQ(e){for(var t=e.parent;t!==null;){if((t.f&qo)===0)return t;t=t.parent}return null}function rQ(e){var t,r=_n;Iu(tQ(e));try{c7(e),t=x7(e)}finally{Iu(r)}return t}function l7(e){var t=rQ(e),r=(Su||(e.f&ao)!==0)&&e.deps!==null?wc:ws;Do(e,r),e.equals(t)||(e.v=t,e.wv=b7())}function f7(e){_n===null&&sn===null&&LJ(),sn!==null&&(sn.f&ao)!==0&&_n===null&&kJ(),Lh&&MJ()}function nQ(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Wl(e,t,r,n=!0){var i=_n,s={ctx:Or,deps:null,nodes_start:null,nodes_end:null,f:e|Qa,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{bp(s),s.f|=CJ}catch(u){throw Ru(s),u}else t!==null&&wp(s);var o=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Z4|Nv))===0;if(!o&&n&&(i!==null&&nQ(s,i),sn!==null&&(sn.f&qo)!==0)){var a=sn;(a.effects??(a.effects=[])).push(s)}return s}function mp(e){const t=Wl(fp,null,!1);return Do(t,ws),t.teardown=e,t}function Ml(e){f7();var t=_n!==null&&(_n.f&Ja)!==0&&Or!==null&&!Or.m;if(t){var r=Or;(r.e??(r.e=[])).push({fn:e,effect:_n,reaction:sn})}else{var n=Qi(e);return n}}function iQ(e){return f7(),Xl(e)}function sQ(e){const t=Wl($l,e,!0);return(r={})=>new Promise(n=>{r.outro?kl(t,()=>{Ru(t),n(void 0)}):(Ru(t),n(void 0))})}function Qi(e){return Wl(Y4,e,!1)}function De(e,t){var r=Or,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Xl(()=>{e(),!n.ran&&(n.ran=!0,ve(r.l.r2,!0),nn(t))})}function ai(){var e=Or;Xl(()=>{if(T(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&ws)!==0&&Do(r,wc),Yl(r)&&bp(r),t.ran=!1}e.l.r2.v=!1}})}function Xl(e){return Wl(fp,e,!0)}function Nt(e,t=[],r=Ol){const n=t.map(r);return kh(()=>e(...n.map(T)))}function kh(e,t=0){return Wl(fp|t2|t,e,!0)}function pc(e,t=!0){return Wl(fp|Ja,e,!0,t)}function h7(e){var t=e.teardown;if(t!==null){const r=Lh,n=sn;DC(!0),_a(null);try{t.call(null)}finally{DC(r),_a(n)}}}function d7(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&$l)!==0?r.parent=null:Ru(r,t),r=n}}function oQ(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ja)===0&&Ru(t),t=r}}function Ru(e,t=!0){var r=!1;if((t||(e.f&RJ)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:gp(n);n.remove(),n=s}r=!0}d7(e,t&&!r),Vv(e,0),Do(e,hp);var o=e.transitions;if(o!==null)for(const u of o)u.stop();h7(e);var a=e.parent;a!==null&&a.first!==null&&v7(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function v7(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function kl(e,t){var r=[];o2(e,r,!0),p7(r,()=>{Ru(e),t&&t()})}function p7(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function o2(e,t,r){if((e.f&Xa)===0){if(e.f^=Xa,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&dp)!==0||(n.f&Ja)!==0;o2(n,t,s?r:!1),n=i}}}function Dv(e){g7(e,!0)}function g7(e,t){if((e.f&Xa)!==0){e.f^=Xa,(e.f&ws)===0&&(e.f^=ws),Yl(e)&&(Do(e,Qa),wp(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&dp)!==0||(r.f&Ja)!==0;g7(r,i?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let gh=[],hE=[];function m7(){var e=gh;gh=[],dh(e)}function aQ(){var e=hE;hE=[],dh(e)}function _p(e){gh.length===0&&queueMicrotask(m7),gh.push(e)}function qC(){gh.length>0&&m7(),hE.length>0&&aQ()}let Av=!1,Fv=!1,Bv=null,cc=!1,Lh=!1;function DC(e){Lh=e}let ah=[];let sn=null,fa=!1;function _a(e){sn=e}let _n=null;function Iu(e){_n=e}let rs=null;function uQ(e){rs=e}function _7(e){sn!==null&&sn.f&fE&&(rs===null?uQ([e]):rs.push(e))}let Zi=null,Ms=0,Js=null;function cQ(e){Js=e}let y7=1,zv=0,Su=!1,wu=null;function b7(){return++y7}function Yl(e){var h;var t=e.f;if((t&Qa)!==0)return!0;if((t&wc)!==0){var r=e.deps,n=(t&ao)!==0;if(r!==null){var i,s,o=(t&qv)!==0,a=n&&_n!==null&&!Su,u=r.length;if(o||a){var c=e,f=c.parent;for(i=0;i<u;i++)s=r[i],(o||!((h=s==null?void 0:s.reactions)!=null&&h.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=qv),a&&f!==null&&(f.f&ao)===0&&(c.f^=ao)}for(i=0;i<u;i++)if(s=r[i],Yl(s)&&l7(s),s.wv>e.wv)return!0}(!n||_n!==null&&!Su)&&Do(e,ws)}return!1}function lQ(e,t){for(var r=t;r!==null;){if((r.f&Nv)!==0)try{r.fn(e);return}catch{r.f^=Nv}r=r.parent}throw Av=!1,e}function fQ(e){return(e.f&hp)===0&&(e.parent===null||(e.parent.f&Nv)===0)}function yp(e,t,r,n){if(Av){if(r===null&&(Av=!1),fQ(t))throw e;return}r!==null&&(Av=!0);{lQ(e,t);return}}function w7(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];rs!=null&&rs.includes(e)||((s.f&qo)!==0?w7(s,t,!1):t===s&&(r?Do(s,Qa):(s.f&ws)!==0&&Do(s,wc),wp(s)))}}function x7(e){var _;var t=Zi,r=Ms,n=Js,i=sn,s=Su,o=rs,a=Or,u=fa,c=e.f;Zi=null,Ms=0,Js=null,Su=(c&ao)!==0&&(fa||!cc||sn===null),sn=(c&(Ja|$l))===0?e:null,rs=null,MC(e.ctx),fa=!1,zv++,e.f|=fE;try{var f=(0,e.fn)(),h=e.deps;if(Zi!==null){var p;if(Vv(e,Ms),h!==null&&Ms>0)for(h.length=Ms+Zi.length,p=0;p<Zi.length;p++)h[Ms+p]=Zi[p];else e.deps=h=Zi;if(!Su)for(p=Ms;p<h.length;p++)((_=h[p]).reactions??(_.reactions=[])).push(e)}else h!==null&&Ms<h.length&&(Vv(e,Ms),h.length=Ms);if(Hl()&&Js!==null&&!fa&&h!==null&&(e.f&(qo|wc|Qa))===0)for(p=0;p<Js.length;p++)w7(Js[p],e);return i!==null&&(zv++,Js!==null&&(n===null?n=Js:n.push(...Js))),f}finally{Zi=t,Ms=r,Js=n,sn=i,Su=s,rs=o,MC(a),fa=u,e.f^=fE}}function hQ(e,t){let r=t.reactions;if(r!==null){var n=SJ.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&qo)!==0&&(Zi===null||!Zi.includes(t))&&(Do(t,wc),(t.f&(ao|qv))===0&&(t.f^=qv),c7(t),Vv(t,0))}function Vv(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)hQ(e,r[n])}function bp(e){var t=e.f;if((t&hp)===0){Do(e,ws);var r=_n,n=Or,i=cc;_n=e,cc=!0;try{(t&t2)!==0?oQ(e):d7(e),h7(e);var s=x7(e);e.teardown=typeof s=="function"?s:null,e.wv=y7;var o=e.deps,a;IC&&zJ&&e.f&Qa}catch(u){yp(u,e,r,n||e.ctx)}finally{cc=i,_n=r}}}function dQ(){try{NJ()}catch(e){if(Bv!==null)yp(e,Bv,null);else throw e}}function S7(){var e=cc;try{var t=0;for(cc=!0;ah.length>0;){t++>1e3&&dQ();var r=ah,n=r.length;ah=[];for(var i=0;i<n;i++){var s=pQ(r[i]);vQ(s)}}}finally{Fv=!1,cc=e,Bv=null,vh.clear()}}function vQ(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(hp|Xa))===0)try{Yl(n)&&(bp(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?v7(n):n.fn=null))}catch(i){yp(i,n,null,n.ctx)}}}function wp(e){Fv||(Fv=!0,queueMicrotask(S7));for(var t=Bv=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&($l|Ja))!==0){if((r&ws)===0)return;t.f^=ws}}ah.push(t)}function pQ(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(Ja|$l))!==0,s=i&&(n&ws)!==0;if(!s&&(n&Xa)===0){if((n&Y4)!==0)t.push(r);else if(i)r.f^=ws;else{var o=sn;try{sn=r,Yl(r)&&bp(r)}catch(c){yp(c,r,null,r.ctx)}finally{sn=o}}var a=r.first;if(a!==null){r=a;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return t}function gQ(e){var t;for(qC();ah.length>0;)Fv=!0,S7(),qC();return t}async function Zf(){await Promise.resolve(),gQ()}function T(e){var t=e.f,r=(t&qo)!==0;if(wu!==null&&wu.add(e),sn!==null&&!fa){if(!(rs!=null&&rs.includes(e))){var n=sn.deps;e.rv<zv&&(e.rv=zv,Zi===null&&n!==null&&n[Ms]===e?Ms++:Zi===null?Zi=[e]:(!Su||!Zi.includes(e))&&Zi.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&ao)===0&&(i.f^=ao)}return r&&(i=e,Yl(i)&&l7(i)),Lh&&vh.has(e)?vh.get(e):e.v}function mQ(e){var t=wu;wu=new Set;var r=wu,n;try{if(nn(e),t!==null)for(n of wu)t.add(n)}finally{wu=t}return r}function ibe(e){var t=mQ(()=>nn(e));for(var r of t)if((r.f&K4)!==0)for(const n of r.deps||[])(n.f&qo)===0&&ph(n,n.v);else ph(r,r.v)}function nn(e){var t=fa;try{return fa=!0,e()}finally{fa=t}}const _Q=-7169;function Do(e,t){e.f=e.f&_Q|t}function yQ(e,t){var r={};for(var n in e)t.includes(n)||(r[n]=e[n]);return r}function kt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(pa in e)dE(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&pa in r&&dE(r)}}}function dE(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{dE(e[n],t)}catch{}const r=e2(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=X4(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}function bQ(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const wQ=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function xQ(e){return wQ.includes(e)}const SQ={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function EQ(e){return e=e.toLowerCase(),SQ[e]??e}const AQ=["touchstart","touchmove"];function TQ(e){return AQ.includes(e)}function E7(e,t){if(t){const r=document.body;e.autofocus=!0,_p(()=>{document.activeElement===r&&e.focus()})}}let FC=!1;function PQ(){FC||(FC=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function A7(e){var t=sn,r=_n;_a(null),Iu(null);try{return e()}finally{_a(t),Iu(r)}}function T7(e,t,r,n=r){e.addEventListener(t,()=>A7(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),PQ()}const P7=new Set,vE=new Set;function C7(e,t,r,n={}){function i(s){if(n.capture||Jf.call(t,s),!s.cancelBubble)return A7(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_p(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function rr(e,t,r,n,i){var s={capture:n,passive:i},o=C7(e,t,r,s);(t===document.body||t===window||t===document)&&mp(()=>{t.removeEventListener(e,o,s)})}function ku(e){for(var t=0;t<e.length;t++)P7.add(e[t]);for(var r of vE)r(e)}function Jf(e){var E;var t=this,r=t.ownerDocument,n=e.type,i=((E=e.composedPath)==null?void 0:E.call(e))||[],s=i[0]||e.target,o=0,a=e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;u<=c&&(o=u)}if(s=i[o]||e.target,s!==t){W4(e,"currentTarget",{configurable:!0,get(){return s||r}});var f=sn,h=_n;_a(null),Iu(null);try{for(var p,_=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+n];if(y!=null&&(!s.disabled||e.target===s))if(Mh(y)){var[b,...S]=y;b.apply(s,[e,...S])}else y.call(s,e)}catch(A){p?_.push(A):p=A}if(e.cancelBubble||m===t||m===null)break;s=m}if(p){for(let A of _)queueMicrotask(()=>{throw A});throw p}}finally{e.__root=t,delete e.currentTarget,_a(f),Iu(h)}}}function R7(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ll(e,t){var r=_n;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function zt(e,t){var r=(t&n7)!==0,n=(t&XJ)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=R7(s?e:"<!>"+e),r||(i=$a(i)));var o=n||o7?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=$a(o),u=o.lastChild;Ll(a,u)}else Ll(o,o);return o}}function Rn(e,t,r="svg"){var n=!e.startsWith("<!>"),i=(t&n7)!==0,s=`<${r}>${n?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var a=R7(s),u=$a(a);if(i)for(o=document.createDocumentFragment();$a(u);)o.appendChild($a(u));else o=$a(u)}var c=o.cloneNode(!0);if(i){var f=$a(c),h=c.lastChild;Ll(f,h)}else Ll(c,c);return c}}function BC(e=""){{var t=pp(e+"");return Ll(t,t),t}}function Ht(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pp();return e.append(t,r),Ll(t,r),e}function Fe(e,t){e!==null&&e.before(t)}function lo(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function CQ(e,t){return RQ(e,t)}const sl=new Map;function RQ(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0}){QJ();var a=new Set,u=h=>{for(var p=0;p<h.length;p++){var _=h[p];if(!a.has(_)){a.add(_);var m=TQ(_);t.addEventListener(_,Jf,{passive:m});var y=sl.get(_);y===void 0?(document.addEventListener(_,Jf,{passive:m}),sl.set(_,1)):sl.set(_,y+1)}}};u(QE(P7)),vE.add(u);var c=void 0,f=sQ(()=>{var h=r??t.appendChild(pp());return pc(()=>{if(s){ur({});var p=Or;p.c=s}i&&(n.$$events=i),c=e(h,n)||{},s&&cr()}),()=>{var m;for(var p of a){t.removeEventListener(p,Jf);var _=sl.get(p);--_===0?(document.removeEventListener(p,Jf),sl.delete(p)):sl.set(p,_)}vE.delete(u),h!==r&&((m=h.parentNode)==null||m.removeChild(h))}});return IQ.set(c,f),c}let IQ=new WeakMap;function Kt(e,t,[r,n]=[0,0]){var i=e,s=null,o=null,a=Xi,u=r>0?dp:0,c=!1;const f=(p,_=!0)=>{c=!0,h(_,p)},h=(p,_)=>{a!==(a=p)&&(a?(s?Dv(s):_&&(s=pc(()=>_(i))),o&&kl(o,()=>{o=null})):(o?Dv(o):_&&(o=pc(()=>_(i,[r+1,n]))),s&&kl(s,()=>{s=null})))};kh(()=>{c=!1,t(f),c||h(null,null)},u)}function pE(e,t,r){var n=e,i=Xi,s,o=Hl()?OJ:vp;kh(()=>{o(i,i=t())&&(s&&kl(s),s=pc(()=>r(n)))})}function Eu(e,t){return t}function OQ(e,t,r,n){for(var i=[],s=t.length,o=0;o<s;o++)o2(t[o].e,i,!0);var a=s>0&&i.length===0&&r!==null;if(a){var u=r.parentNode;eQ(u),u.append(r),n.clear(),bu(e,t[0].prev,t[s-1].next)}p7(i,()=>{for(var c=0;c<s;c++){var f=t[c];a||(n.delete(f.k),bu(e,f.prev,f.next)),Ru(f.e,!a)}})}function Ni(e,t,r,n,i,s=null){var o=e,a={flags:t,items:new Map,first:null},u=(t&t7)!==0;if(u){var c=e;o=c.appendChild(pp())}var f=null,h=!1,p=pn(()=>{var _=r();return Mh(_)?_:_==null?[]:QE(_)});kh(()=>{var _=T(p),m=_.length;h&&m===0||(h=m===0,MQ(_,a,o,i,t,n,r),s!==null&&(m===0?f?Dv(f):f=pc(()=>s(o)):f!==null&&kl(f,()=>{f=null})),T(p))})}function MQ(e,t,r,n,i,s,o){var J,ae,X,D;var a=(i&GJ)!==0,u=(i&(n2|i2))!==0,c=e.length,f=t.items,h=t.first,p=h,_,m=null,y,b=[],S=[],E,A,P,R;if(a)for(R=0;R<c;R+=1)E=e[R],A=s(E,R),P=f.get(A),P!==void 0&&((J=P.a)==null||J.measure(),(y??(y=new Set)).add(P));for(R=0;R<c;R+=1){if(E=e[R],A=s(E,R),P=f.get(A),P===void 0){var q=p?p.e.nodes_start:r;m=LQ(q,t,m,m===null?t.first:m.next,E,A,R,n,i,o),f.set(A,m),b=[],S=[],p=m.next;continue}if(u&&kQ(P,E,R,i),(P.e.f&Xa)!==0&&(Dv(P.e),a&&((ae=P.a)==null||ae.unfix(),(y??(y=new Set)).delete(P))),P!==p){if(_!==void 0&&_.has(P)){if(b.length<S.length){var d=S[0],C;m=d.prev;var I=b[0],L=b[b.length-1];for(C=0;C<b.length;C+=1)zC(b[C],d,r);for(C=0;C<S.length;C+=1)_.delete(S[C]);bu(t,I.prev,L.next),bu(t,m,I),bu(t,L,d),p=d,m=L,R-=1,b=[],S=[]}else _.delete(P),zC(P,p,r),bu(t,P.prev,P.next),bu(t,P,m===null?t.first:m.next),bu(t,m,P),m=P;continue}for(b=[],S=[];p!==null&&p.k!==A;)(p.e.f&Xa)===0&&(_??(_=new Set)).add(p),S.push(p),p=p.next;if(p===null)continue;P=p}b.push(P),m=P,p=P.next}if(p!==null||_!==void 0){for(var B=_===void 0?[]:QE(_);p!==null;)(p.e.f&Xa)===0&&B.push(p),p=p.next;var H=B.length;if(H>0){var $=(i&t7)!==0&&c===0?r:null;if(a){for(R=0;R<H;R+=1)(X=B[R].a)==null||X.measure();for(R=0;R<H;R+=1)(D=B[R].a)==null||D.fix()}OQ(t,B,$,f)}}a&&_p(()=>{var z;if(y!==void 0)for(P of y)(z=P.a)==null||z.apply()}),_n.first=t.first&&t.first.e,_n.last=m&&m.e}function kQ(e,t,r,n){(n&n2)!==0&&ph(e.v,t),(n&i2)!==0?ph(e.i,r):e.i=r}function LQ(e,t,r,n,i,s,o,a,u,c){var f=(u&n2)!==0,h=(u&$J)===0,p=f?h?ke(i):Il(i):i,_=(u&i2)===0?o:Il(o),m={i:_,v:p,k:s,a:null,e:null,prev:r,next:n};try{return m.e=pc(()=>a(e,p,_,c),JJ),m.e.prev=r&&r.e,m.e.next=n&&n.e,r===null?t.first=m:(r.next=m,r.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function zC(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==n;){var o=gp(s);i.before(s),s=o}}function bu(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function pr(e,t,r,n,i){var a;var s=(a=t.$$slots)==null?void 0:a[r],o=!1;s===!0&&(s=t[r==="default"?"children":r],o=!0),s===void 0?i!==null&&i(e):s(e,o?()=>n:n)}function a2(e){const t={};e.children&&(t.default=!0);for(const r in e.$$slots)t[r]=!0;return t}function sc(e,t,r){var n=e,i,s;kh(()=>{i!==(i=t())&&(s&&(kl(s),s=null),i&&(s=pc(()=>r(n,i))))},dp)}function Qs(e,t,r){Qi(()=>{var n=nn(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,s={};Xl(()=>{var o=r();kt(o),i&&vp(s,o)&&(s=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function I7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=I7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function NQ(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=I7(e))&&(n&&(n+=" "),n+=t);return n}function u2(e){return typeof e=="object"?NQ(e):e??""}const VC=[...` 	
\r\fÂ \v\uFEFF`];function qQ(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+s;(o===0||VC.includes(n[o-1]))&&(a===n.length||VC.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function GC(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var s=e[i];s!=null&&s!==""&&(n+=" "+i+": "+s+r)}return n}function Vm(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function DQ(e,t){if(t){var r="",n,i;if(Array.isArray(t)?(n=t[0],i=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,u=[];n&&u.push(...Object.keys(n).map(Vm)),i&&u.push(...Object.keys(i).map(Vm));var c=0,f=-1;const y=e.length;for(var h=0;h<y;h++){var p=e[h];if(a?p==="/"&&e[h-1]==="*"&&(a=!1):s?s===p&&(s=!1):p==="/"&&e[h+1]==="*"?a=!0:p==='"'||p==="'"?s=p:p==="("?o++:p===")"&&o--,!a&&s===!1&&o===0){if(p===":"&&f===-1)f=h;else if(p===";"||h===y-1){if(f!==-1){var _=Vm(e.substring(c,f).trim());if(!u.includes(_)){p!==";"&&h++;var m=e.substring(c,h).trim();r+=" "+m+";"}}c=h+1,f=-1}}}}return n&&(r+=GC(n)),i&&(r+=GC(i,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Mn(e,t,r,n,i,s){var o=e.__className;if(o!==r||o===void 0){var a=qQ(r,n,s);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=r}else if(s&&i!==s)for(var u in s){var c=!!s[u];(i==null||c!==!!i[u])&&e.classList.toggle(u,c)}return s}function Gm(e,t={},r,n){for(var i in r){var s=r[i];t[i]!==s&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,n))}}function Lr(e,t,r,n){var i=e.__style;if(i!==t){var s=DQ(t,n);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else n&&(Array.isArray(n)?(Gm(e,r==null?void 0:r[0],n[0]),Gm(e,r==null?void 0:r[1],n[1],"important")):Gm(e,r,n));return n}const Vf=Symbol("class"),Gf=Symbol("style"),O7=Symbol("is custom element"),M7=Symbol("is html");function FQ(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function dt(e,t,r,n){var i=k7(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[IJ]=r),r==null?e.removeAttribute(t):typeof r!="string"&&L7(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ti(e,t,r,n,i=!1){var s=k7(e),o=s[O7],a=!s[M7],u=t||{},c=e.tagName==="OPTION";for(var f in t)f in r||(r[f]=null);r.class?r.class=u2(r.class):r[Vf]&&(r.class=null),r[Gf]&&(r.style??(r.style=null));var h=L7(e);for(const E in r){let A=r[E];if(c&&E==="value"&&A==null){e.value=e.__value="",u[E]=A;continue}if(E==="class"){var p=e.namespaceURI==="http://www.w3.org/1999/xhtml";Mn(e,p,A,n,t==null?void 0:t[Vf],r[Vf]),u[E]=A,u[Vf]=r[Vf];continue}if(E==="style"){Lr(e,A,t==null?void 0:t[Gf],r[Gf]),u[E]=A,u[Gf]=r[Gf];continue}var _=u[E];if(A!==_){u[E]=A;var m=E[0]+E[1];if(m!=="$$")if(m==="on"){const P={},R="$$"+E;let q=E.slice(2);var y=xQ(q);if(bQ(q)&&(q=q.slice(0,-7),P.capture=!0),!y&&_){if(A!=null)continue;e.removeEventListener(q,u[R],P),u[R]=null}if(A!=null)if(y)e[`__${q}`]=A,ku([q]);else{let d=function(C){u[E].call(this,C)};u[R]=C7(q,e,d,P)}else y&&(e[`__${q}`]=void 0)}else if(E==="style")dt(e,E,A);else if(E==="autofocus")E7(e,!!A);else if(!o&&(E==="__value"||E==="value"&&A!=null))e.value=e.__value=A;else if(E==="selected"&&c)FQ(e,A);else{var b=E;a||(b=EQ(b));var S=b==="defaultValue"||b==="defaultChecked";if(A==null&&!o&&!S)if(s[E]=null,b==="value"||b==="checked"){let P=e;const R=t===void 0;if(b==="value"){let q=P.defaultValue;P.removeAttribute(b),P.defaultValue=q,P.value=P.__value=R?q:null}else{let q=P.defaultChecked;P.removeAttribute(b),P.defaultChecked=q,P.checked=R?q:!1}}else e.removeAttribute(E);else S||h.includes(b)&&(o||typeof A!="string")?e[b]=A:typeof A!="function"&&dt(e,b,A)}}}return u}function k7(e){return e.__attributes??(e.__attributes={[O7]:e.nodeName.includes("-"),[M7]:e.namespaceURI===YJ})}var $C=new Map;function L7(e){var t=$C.get(e.nodeName);if(t)return t;$C.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=X4(n);for(var s in r)r[s].set&&t.push(s);n=e2(n)}return t}function xp(e,t,r=t){var n=Hl();T7(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=$m(e)?Um(s):s,r(s),n&&s!==(s=t())){var o=e.selectionStart,a=e.selectionEnd;e.value=s??"",a!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(a,e.value.length))}}),nn(t)==null&&e.value&&r($m(e)?Um(e.value):e.value),Xl(()=>{var i=t();$m(e)&&i===Um(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function $m(e){var t=e.type;return t==="number"||t==="range"}function Um(e){return e===""?null:+e}function c2(e,t,r){var n=Wa(e,t);n&&n.set&&(e[t]=r,mp(()=>{e[t]=null}))}function N7(e,t,r){if(e.multiple)return zQ(e,t);for(var n of e.options){var i=uh(n);if(ZJ(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function BQ(e,t){Qi(()=>{var r=new MutationObserver(()=>{var n=e.__value;N7(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function UC(e,t,r=t){var n=!0;T7(e,"change",i=>{var s=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),uh);else{var a=e.querySelector(s)??e.querySelector("option:not([disabled])");o=a&&uh(a)}r(o)}),Qi(()=>{var i=t();if(N7(e,i,n),n&&i===void 0){var s=e.querySelector(":checked");s!==null&&(i=uh(s),r(i))}e.__value=i,n=!1}),BQ(e)}function zQ(e,t){for(var r of e.options)r.selected=~t.indexOf(uh(r))}function uh(e){return"__value"in e?e.__value:e.value}var xu,Rl,Oh,cp,q7;const lp=class lp{constructor(t){Bf(this,cp);Bf(this,xu,new WeakMap);Bf(this,Rl);Bf(this,Oh);zm(this,Oh,t)}observe(t,r){var n=za(this,xu).get(t)||new Set;return n.add(r),za(this,xu).set(t,n),RC(this,cp,q7).call(this).observe(t,za(this,Oh)),()=>{var i=za(this,xu).get(t);i.delete(r),i.size===0&&(za(this,xu).delete(t),za(this,Rl).unobserve(t))}}};xu=new WeakMap,Rl=new WeakMap,Oh=new WeakMap,cp=new WeakSet,q7=function(){return za(this,Rl)??zm(this,Rl,new ResizeObserver(t=>{for(var r of t){lp.entries.set(r.target,r);for(var n of za(this,xu).get(r.target)||[])n(r)}}))},CC(lp,"entries",new WeakMap);let gE=lp;var VQ=new gE({box:"border-box"});function jC(e,t,r){var n=VQ.observe(e,()=>r(e[t]));Qi(()=>(nn(()=>r(e[t])),n))}function HC(e,t){return e===t||(e==null?void 0:e[pa])===t}function ya(e={},t,r,n){return Qi(()=>{var i,s;return Xl(()=>{i=s,s=[],nn(()=>{e!==r(...s)&&(t(e,...s),i&&HC(r(...i),e)&&t(null,...i))})}),()=>{_p(()=>{s&&HC(r(...s),e)&&t(null,...s)})}}),e}function ch(e){return function(...t){var r=t[0];r.target===this&&(e==null||e.apply(this,t))}}function oo(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Ns(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function fn(e=!1){const t=Or,r=t.l.u;if(!r)return;let n=()=>kt(t.s);if(e){let i=0,s={};const o=Ol(()=>{let a=!1;const u=t.s;for(const c in u)u[c]!==s[c]&&(s[c]=u[c],a=!0);return a&&i++,i});n=()=>T(o)}r.b.length&&iQ(()=>{WC(t,n),dh(r.b)}),Ml(()=>{const i=nn(()=>r.m.map(TJ));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&Ml(()=>{WC(t,n),dh(r.a)})}function WC(e,t){if(e.l.s)for(const r of e.l.s)T(r);t()}function ln(e,t){var s;var r=(s=e.$$events)==null?void 0:s[t.type],n=Mh(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,t)}function l2(e,t,r){if(e==null)return t(void 0),r&&r(void 0),qs;const n=nn(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const ol=[];function Ya(e,t){return{subscribe:Xe(e,t).subscribe}}function Xe(e,t=qs){let r=null;const n=new Set;function i(a){if(vp(e,a)&&(e=a,r)){const u=!ol.length;for(const c of n)c[1](),ol.push(c,e);if(u){for(let c=0;c<ol.length;c+=2)ol[c][0](ol[c+1]);ol.length=0}}}function s(a){i(a(e))}function o(a,u=qs){const c=[a,u];return n.add(c),n.size===1&&(r=t(i,s)||qs),a(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function Ds(e,t,r){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return Ya(r,(o,a)=>{let u=!1;const c=[];let f=0,h=qs;const p=()=>{if(f)return;h();const m=t(n?c[0]:c,o,a);s?o(m):h=typeof m=="function"?m:qs},_=i.map((m,y)=>l2(m,b=>{c[y]=b,f&=~(1<<y),u&&p()},()=>{f|=1<<y}));return u=!0,p(),function(){dh(_),h(),u=!1}})}function ot(e){let t;return l2(e,r=>t=r)(),t}let tv=!1,mE=Symbol();function Ue(e,t,r){const n=r[t]??(r[t]={store:null,source:ke(void 0),unsubscribe:qs});if(n.store!==e&&!(mE in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=qs;else{var i=!0;n.unsubscribe=l2(e,s=>{i?n.source.v=s:ve(n.source,s)}),i=!1}return e&&mE in r?ot(e):T(n.source)}function Ua(e,t,r){let n=r[t];return n&&n.store!==e&&(n.unsubscribe(),n.unsubscribe=qs),e}function Lt(e,t){return e.set(t),t}function yn(){const e={};function t(){mp(()=>{for(var r in e)e[r].unsubscribe();W4(e,mE,{enumerable:!1,value:!0})})}return[e,t]}function Pu(e,t,r){return e.set(r),t}function GQ(e,t,r=1){return e.set(t+r),t}function $Q(e,t,r=1){const n=t+r;return e.set(n),n}function UQ(e){var t=tv;try{return tv=!1,[e(),tv]}finally{tv=t}}const jQ={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function ho(e,t,r){return new Proxy({props:e,exclude:t},jQ)}const HQ={get(e,t){if(!e.exclude.includes(t))return T(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=de({get[t](){return e.props[t]}},t,r7)),e.special[t](r),NC(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),NC(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function ba(e,t){return new Proxy({props:e,exclude:t,special:{},version:Il(0)},HQ)}const WQ={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(zf(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let i=e.props[n];zf(i)&&(i=i());const s=Wa(i,t);if(s&&s.set)return s.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(zf(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const i=Wa(n,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===pa||t===J4)return!1;for(let r of e.props)if(zf(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){zf(r)&&(r=r());for(const n in r)t.includes(n)||t.push(n)}return t}};function Nl(...e){return new Proxy({props:e},WQ)}function XC(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function de(e,t,r,n){var d;var i=(r&UJ)!==0,s=!Ul||(r&jJ)!==0,o=(r&HJ)!==0,a=(r&WJ)!==0,u=!1,c;o?[c,u]=UQ(()=>e[t]):c=e[t];var f=pa in e||J4 in e,h=o&&(((d=Wa(e,t))==null?void 0:d.set)??(f&&t in e&&(C=>e[t]=C)))||void 0,p=n,_=!0,m=!1,y=()=>(m=!0,_&&(_=!1,a?p=nn(n):p=n),p);c===void 0&&n!==void 0&&(h&&s&&qJ(),c=y(),h&&h(c));var b;if(s)b=()=>{var C=e[t];return C===void 0?y():(_=!0,m=!1,C)};else{var S=(i?Ol:pn)(()=>e[t]);S.f|=K4,b=()=>{var C=T(S);return C!==void 0&&(p=void 0),C===void 0?p:C}}if((r&r7)===0)return b;if(h){var E=e.$$legacy;return function(C,I){return arguments.length>0?((!s||!I||E||u)&&h(I?b():C),C):b()}}var A=!1,P=!1,R=ke(c),q=Ol(()=>{var C=b(),I=T(R);return A?(A=!1,P=!0,I):(P=!1,R.v=C)});return o&&T(q),i||(q.equals=r2),function(C,I){if(wu!==null&&(A=P,b(),T(R)),arguments.length>0){const L=I?T(q):s&&o?Ro(C):C;if(!q.equals(L)){if(A=!0,ve(R,L),m&&p!==void 0&&(p=L),XC(q))return C;nn(()=>T(q))}return C}return XC(q)?q.v:T(q)}}function ri(e){Or===null&&jl(),Ul&&Or.l!==null?h2(Or).m.push(e):Ml(()=>{const t=nn(e);if(typeof t=="function")return t})}function Lu(e){Or===null&&jl(),ri(()=>()=>nn(e))}function XQ(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function ql(){const e=Or;return e===null&&jl(),(t,r,n)=>{var s;const i=(s=e.s.$$events)==null?void 0:s[t];if(i){const o=Mh(i)?i.slice():[i],a=XQ(t,r,n);for(const u of o)u.call(e.x,a);return!a.defaultPrevented}return!0}}function YQ(e){Or===null&&jl(),Or.l===null&&e7(),h2(Or).b.push(e)}function f2(e){Or===null&&jl(),Or.l===null&&e7(),h2(Or).a.push(e)}function h2(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const KQ="5";var H4;typeof window<"u"&&((H4=window.__svelte??(window.__svelte={})).v??(H4.v=new Set)).add(KQ);VJ();const YC=1,ZQ=.9,JQ=.8,QQ=.17,jm=.1,Hm=.999,eee=.9999,tee=.99,ree=/[\\/_+.#"@[({&]/,nee=/[\\/_+.#"@[({&]/g,iee=/[\s-]/,D7=/[\s-]/g;function _E(e,t,r,n,i,s,o){if(s===t.length)return i===e.length?YC:tee;const a=`${i},${s}`;if(o[a]!==void 0)return o[a];const u=n.charAt(s);let c=r.indexOf(u,i),f=0,h,p,_,m;for(;c>=0;)h=_E(e,t,r,n,c+1,s+1,o),h>f&&(c===i?h*=YC:ree.test(e.charAt(c-1))?(h*=JQ,_=e.slice(i,c-1).match(nee),_&&i>0&&(h*=Math.pow(Hm,_.length))):iee.test(e.charAt(c-1))?(h*=ZQ,m=e.slice(i,c-1).match(D7),m&&i>0&&(h*=Math.pow(Hm,m.length))):(h*=QQ,i>0&&(h*=Math.pow(Hm,c-i))),e.charAt(c)!==t.charAt(s)&&(h*=eee)),(h<jm&&r.charAt(c-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(c-1)!==n.charAt(s))&&(p=_E(e,t,r,n,c+1,s+2,o),p*jm>h&&(h=p*jm)),h>f&&(f=h),c=r.indexOf(u,c+1);return o[a]=f,f}function KC(e){return e.toLowerCase().replace(D7," ")}function see(e,t){return _E(e,t,KC(e),KC(t),0,0,{})}const oee=typeof document<"u";function aee(e){return e instanceof HTMLElement}function d2(e){return e===void 0}let uee="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",cee=(e=21)=>{let t="",r=e|0;for(;r--;)t+=uee[Math.random()*64|0];return t};function ko(){return cee(10)}const $f={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",END:"End",ENTER:"Enter",HOME:"Home"};function lee(e,...t){const r={};for(const n of Object.keys(e))t.includes(n)||(r[n]=e[n]);return r}function F7(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=n)}return t}function fee(e){const t={};return Object.keys(e).forEach(r=>{const n=r,i=e[n];t[n]=Xe(i)}),t}function ic(e,t){const r=hee(e,(n,i)=>({stores:n,onUnsubscribe:i})).subscribe(({stores:n,onUnsubscribe:i})=>{const s=t(n);s&&i(s)});return Lu(r),r}function hee(e,t){let r=[];const n=a=>{r.push(a)},i=()=>{r.forEach(a=>a()),r=[]},s=Ds(e,a=>(i(),t(a,n)));return Lu(i),{...s,subscribe:(...a)=>{const u=s.subscribe(...a);return()=>{u(),i()}}}}function dee(e){return Object.keys(e).reduce((t,r)=>e[r]===void 0?t:t+`${r}:${e[r]};`,"")}const vee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Gv(e,t,r,n){const i=Array.isArray(t)?t:[t];return i.forEach(s=>e.addEventListener(s,r,n)),()=>{i.forEach(s=>e.removeEventListener(s,r,n))}}function B7(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const z7="Command",V7="CommandState",G7="CommandGroup",pee="[data-cmdk-list-sizer]",Uf="[data-cmdk-group]",ZC="[data-cmdk-group-items]",gee="[data-cmdk-group-heading]",$7="[data-cmdk-item]",Wm=`${$7}:not([aria-disabled="true"])`,Co="data-value",U7=(e,t)=>see(e,t);function Sp(){return yr(z7)}function Ep(){return yr(V7)}function mee(e){const t=ko();return jr(G7,{id:t,alwaysRender:d2(e)?!1:e}),{id:t}}function _ee(){const e=yr(G7);if(e)return e}function yee(e){const t={search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}};return Xe(e?{...t,...F7(e)}:t)}const bee={label:"Command menu",shouldFilter:!0,loop:!1,onValueChange:void 0,value:void 0,filter:U7,ids:{root:ko(),list:ko(),label:ko(),input:ko()}};function wee(e){const t={root:ko(),list:ko(),label:ko(),input:ko(),...e.ids},r={...bee,...F7(e)},n=e.state??yee({value:r.value}),i=Xe(new Set),s=Xe(new Map),o=Xe(new Map),a=Xe(null),u=fee(lee(r,"value","ids"));let c=ot(i),f=ot(s),h=ot(o),p=ot(u.shouldFilter),_=ot(u.loop),m=ot(u.label),y=ot(u.filter);ic(u.shouldFilter,D=>{p=D}),ic(u.loop,D=>{_=D}),ic(u.filter,D=>{y=D}),ic(u.label,D=>{m=D}),ic(i,D=>{c=D}),ic(s,D=>{f=D}),ic(o,D=>{h=D});const b={value:(D,z)=>{z!==h.get(D)&&(o.update(j=>(j.set(D,z),j)),n.update(j=>(j.filtered.items.set(D,R(z,j.search)),j)))},item:(D,z)=>(i.update(j=>j.add(D)),z&&s.update(j=>{var ie;return j.has(z)?(ie=j.get(z))==null||ie.add(D):j.set(z,new Set([D])),j}),n.update(j=>{const ie=E(j,p);if(!ie.value){const oe=P();ie.value=oe??""}return ie}),()=>{o.update(j=>(j.delete(D),j)),i.update(j=>(j.delete(D),j)),n.update(j=>{j.filtered.items.delete(D);const ie=C(),oe=E(j);return(ie==null?void 0:ie.getAttribute("id"))===D&&(oe.value=P()??""),j})}),group:D=>(s.update(z=>(z.has(D)||z.set(D,new Set),z)),()=>{o.update(z=>(z.delete(D),z)),s.update(z=>(z.delete(D),z))}),filter:()=>p,label:m||e["aria-label"]||"",commandEl:a,ids:t,updateState:S};function S(D,z,j){n.update(ie=>{var oe;return Object.is(ie[D],z)||(ie[D]=z,D==="search"?(ie=E(ie,p),ie=A(ie,p),Zf().then(()=>n.update(te=>{var ue;return te.value=P()??"",(ue=e.onValueChange)==null||ue.call(e,te.value),te}))):D==="value"&&((oe=e.onValueChange)==null||oe.call(e,ie.value),j||Zf().then(()=>q()))),ie})}function E(D,z){const j=z??p;if(!D.search||!j)return D.filtered.count=c.size,D;D.filtered.groups=new Set;let ie=0;for(const oe of c){const Se=h.get(oe),_e=R(Se,D.search);D.filtered.items.set(oe,_e),_e>0&&ie++}for(const[oe,Se]of f)for(const _e of Se){const te=D.filtered.items.get(_e);te&&te>0&&D.filtered.groups.add(oe)}return D.filtered.count=ie,D}function A(D,z){var ue;const j=z??p;if(!D.search||!j)return D;const ie=D.filtered.items,oe=[];for(const re of D.filtered.groups){const Q=f.get(re);if(!Q)continue;let le=0;for(const Ve of Q){const Le=ie.get(Ve);d2(Le)||(le=Math.max(Le,le))}oe.push([re,le])}const Se=document.getElementById(t.root);if(!Se)return D;const _e=Se.querySelector(pee),te=d(Se).sort((re,Q)=>{const le=re.getAttribute(Co)??"",Ve=Q.getAttribute(Co)??"";return(ie.get(le)??0)-(ie.get(Ve)??0)});for(const re of te){const Q=re.closest(ZC),le=re.closest(`${ZC} > *`);if(Q)if(re.parentElement===Q)Q.appendChild(re);else{if(!le)continue;Q.appendChild(le)}else if(re.parentElement===_e)_e==null||_e.appendChild(re);else{if(!le)continue;_e==null||_e.appendChild(le)}}oe.sort((re,Q)=>Q[1]-re[1]);for(const re of oe){const Q=Se.querySelector(`${Uf}[${Co}="${re[0]}"]`);(ue=Q==null?void 0:Q.parentElement)==null||ue.appendChild(Q)}return D}function P(){const D=d().find(j=>!j.ariaDisabled);if(!D)return;const z=D.getAttribute(Co);if(z)return z}function R(D,z){const j=D==null?void 0:D.toLowerCase().trim(),ie=y;return ie?j?ie(j,z):0:j?U7(j,z):0}function q(){var z;const D=C();D&&(((z=D.parentElement)==null?void 0:z.firstChild)===D&&Zf().then(()=>{var j,ie;return(ie=(j=D.closest(Uf))==null?void 0:j.querySelector(gee))==null?void 0:ie.scrollIntoView({block:"nearest"})}),Zf().then(()=>D.scrollIntoView({block:"nearest"})))}function d(D){const z=D??document.getElementById(t.root);return z?Array.from(z.querySelectorAll(Wm)).filter(j=>!!j):[]}function C(D){const z=document.getElementById(t.root);if(!z)return;const j=z.querySelector(`${Wm}[aria-selected="true"]`);if(j)return j}function I(D){const z=document.getElementById(t.root);if(!z)return;const ie=d(z)[D];ie&&S("value",ie.getAttribute(Co)??"")}function L(D){const z=C(),j=d(),ie=j.findIndex(Se=>Se===z);let oe=j[ie+D];_&&(ie+D<0?oe=j[j.length-1]:ie+D===j.length?oe=j[0]:oe=j[ie+D]),oe&&S("value",oe.getAttribute(Co)??"")}function B(D){const z=C();let j=z==null?void 0:z.closest(Uf),ie;for(;j&&!ie;)j=D>0?xee(j,Uf):See(j,Uf),ie=j==null?void 0:j.querySelector(Wm);ie?S("value",ie.getAttribute(Co)??""):L(D)}function H(){return I(d().length-1)}function $(D){D.preventDefault(),D.metaKey?H():D.altKey?B(1):L(1)}function J(D){D.preventDefault(),D.metaKey?I(0):D.altKey?B(-1):L(-1)}function ae(D){switch(D.key){case $f.ARROW_DOWN:$(D);break;case $f.ARROW_UP:J(D);break;case $f.HOME:D.preventDefault(),I(0);break;case $f.END:D.preventDefault(),H();break;case $f.ENTER:{D.preventDefault();const z=C();z&&(z==null||z.click())}}}jr(z7,b);const X={subscribe:n.subscribe,update:n.update,set:n.set,updateState:S};return jr(V7,X),{state:X,handleRootKeydown:ae,commandEl:a,ids:t}}function xee(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function See(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}var Eee=zt("<div><label> </label> <!></div>");function Aee(e,t){const r=ba(t,["children","$$slots","$$events","$$legacy"]),n=ba(r,["label","shouldFilter","filter","value","onValueChange","loop","onKeydown","state","ids","asChild"]);ur(t,!1);const[i,s]=yn(),o=()=>Ue(R,"$stateStore",i),a=ke();let u=de(t,"label",24,()=>{}),c=de(t,"shouldFilter",8,!0),f=de(t,"filter",24,()=>{}),h=de(t,"value",28,()=>{}),p=de(t,"onValueChange",24,()=>{}),_=de(t,"loop",24,()=>{}),m=de(t,"onKeydown",24,()=>{}),y=de(t,"state",24,()=>{}),b=de(t,"ids",24,()=>{}),S=de(t,"asChild",8,!1);const{commandEl:E,handleRootKeydown:A,ids:P,state:R}=wee({label:u(),shouldFilter:c(),filter:f(),value:h(),onValueChange:X=>{var D;X!==h()&&(h(X),(D=p())==null||D(X))},loop:_(),state:y(),ids:b()});function q(X){X&&X!==o().value&&Pu(R,nn(o).value=X,nn(o))}function d(X){return E.set(X),{destroy:B7(Gv(X,"keydown",L))}}const C={role:"application",id:P.root,"data-cmdk-root":""},I={"data-cmdk-label":"",for:P.input,id:P.label,style:dee(vee)};function L(X){var D;(D=m())==null||D(X),!X.defaultPrevented&&A(X)}const B={action:d,attrs:C};De(()=>kt(h()),()=>{q(h())}),De(()=>o(),()=>{ve(a,{root:B,label:{attrs:I},stateStore:R,state:o()})}),ai(),fn();var H=Ht(),$=bt(H);{var J=X=>{var D=Ht(),z=bt(D);pr(z,t,"default",Nl({},()=>T(a)),null),Fe(X,D)},ae=X=>{var D=Eee();let z;var j=Et(D);let ie;var oe=Et(j),Se=ft(j,2);pr(Se,t,"default",Nl({},()=>T(a)),null),Qs(D,_e=>d==null?void 0:d(_e)),Nt(()=>{z=ti(D,z,{...C,...n}),ie=ti(j,ie,{...I}),lo(oe,u()??"")}),Fe(X,D)};Kt($,X=>{S()?X(J):X(ae,!1)})}Fe(e,H),cr(),s()}function Tee(e){return Object.keys(e).reduce((t,r)=>e[r]===void 0?t:t+`${r}:${e[r]};`,"")}Tee({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function JC(e){function t(r){return r(e),()=>{}}return{subscribe:t}}const rv=e=>new Proxy(e,{get(t,r,n){return Reflect.get(t,r,n)},ownKeys(t){return Reflect.ownKeys(t).filter(r=>r!=="action")}}),QC=e=>typeof e=="function";Pee("empty");function Pee(e,t){const{stores:r,action:n,returned:i}={},s=(()=>{if(r&&i)return Ds(r,a=>{const u=i(a);if(QC(u)){const c=(...f)=>rv({...u(...f),[`data-melt-${e}`]:"",action:n??al});return c.action=n??al,c}return rv({...u,[`data-melt-${e}`]:"",action:n??al})});{const a=i,u=a==null?void 0:a();if(QC(u)){const c=(...f)=>rv({...u(...f),[`data-melt-${e}`]:"",action:n??al});return c.action=n??al,JC(c)}return JC(rv({...u,[`data-melt-${e}`]:"",action:n??al}))}})(),o=n??(()=>{});return o.subscribe=s.subscribe,o}function al(){}function j7(e,t,r,n){const i=Array.isArray(t)?t:[t];return i.forEach(s=>e.addEventListener(s,r,n)),()=>{i.forEach(s=>e.removeEventListener(s,r,n))}}function Cee(e,...t){const r={};for(const n of Object.keys(e))t.includes(n)||(r[n]=e[n]);return r}const Ree={ESCAPE:"Escape"};Ya(void 0,e=>{function t(n){e(n),e(void 0)}return j7(document,"pointerup",t,{passive:!1,capture:!0})});Ya(void 0,e=>{function t(n){n&&n.key===Ree.ESCAPE&&e(n),e(void 0)}return j7(document,"keydown",t,{passive:!1})});Ya(!1),Ya(!1),Ya(void 0);const Iee={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Cee(Iee,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});var Oee=zt("<div> </div>"),Mee=zt("<div><!> <div><!></div></div>");function kee(e,t){const r=ba(t,["children","$$slots","$$events","$$legacy"]),n=ba(r,["heading","value","alwaysRender","asChild"]);ur(t,!1);const[i,s]=yn(),o=()=>Ue(A,"$render",i),a=ke(),u=ke(),c=ke(),f=ke();let h=de(t,"heading",24,()=>{}),p=de(t,"value",12,""),_=de(t,"alwaysRender",8,!1),m=de(t,"asChild",8,!1);const{id:y}=mee(_()),b=Sp(),S=Ep(),E=ko(),A=Ds(S,L=>_()||b.filter()===!1||!L.search?!0:L.filtered.groups.has(y));ri(()=>b.group(y));function P(L){if(p()){b.value(y,p()),L.setAttribute(Co,p());return}h()?p(h().trim().toLowerCase()):L.textContent&&p(L.textContent.trim().toLowerCase()),b.value(y,p()),L.setAttribute(Co,p())}const R={"data-cmdk-group-heading":"","aria-hidden":!0,id:E};De(()=>(o(),kt(p())),()=>{ve(a,{"data-cmdk-group":"",role:"presentation",hidden:o()?void 0:!0,"data-value":p()})}),De(()=>kt(h()),()=>{ve(u,{"data-cmdk-group-items":"",role:"group","aria-labelledby":h()?E:void 0})}),De(()=>T(a),()=>{ve(c,{action:P,attrs:T(a)})}),De(()=>T(u),()=>{ve(f,{attrs:T(u)})}),ai(),fn();var q=Ht(),d=bt(q);{var C=L=>{var B=Ht(),H=bt(B);pr(H,t,"default",{get container(){return T(c)},get group(){return T(f)},heading:{attrs:R}},null),Fe(L,B)},I=L=>{var B=Mee();let H;var $=Et(B);{var J=z=>{var j=Oee();let ie;var oe=Et(j);Nt(()=>{ie=ti(j,ie,{...R}),lo(oe,h())}),Fe(z,j)};Kt($,z=>{h()&&z(J)})}var ae=ft($,2);let X;var D=Et(ae);pr(D,t,"default",{get container(){return T(c)},get group(){return T(f)},heading:{attrs:R}},null),Qs(B,z=>P==null?void 0:P(z)),Nt(()=>{H=ti(B,H,{...T(a),...n}),X=ti(ae,X,{...T(u)})}),Fe(L,B)};Kt(d,L=>{m()?L(C):L(I,!1)})}Fe(e,q),cr(),s()}function Lee(e){return new Promise(t=>setTimeout(t,e))}var Nee=zt("<input>");function qee(e,t){const r=ba(t,["children","$$slots","$$events","$$legacy"]),n=ba(r,["autofocus","value","asChild","el"]);ur(t,!1);const[i,s]=yn(),o=()=>Ue(b,"$selectedItemId",i),{ids:a,commandEl:u}=Sp(),c=Ep(),f=Ds(c,C=>C.search),h=Ds(c,C=>C.value);let p=de(t,"autofocus",24,()=>{}),_=de(t,"value",28,()=>ot(f)),m=de(t,"asChild",8,!1),y=de(t,"el",28,()=>{});const b=Ds([h,u],([C,I])=>{if(!oee)return;const L=I==null?void 0:I.querySelector(`${$7}[${Co}="${CSS.escape(C)}"]`);return L==null?void 0:L.getAttribute("id")});function S(C){c.updateState("search",C)}function E(C){if(p()&&Lee(10).then(()=>C.focus()),m())return{destroy:Gv(C,"change",L=>{const B=L.currentTarget;c.updateState("search",B.value)})}}let A=ke();De(()=>kt(_()),()=>{S(_())}),De(()=>o(),()=>{ve(A,{type:"text","data-cmdk-input":"",autocomplete:"off",autocorrect:"off",spellcheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.list,"aria-labelledby":a.label,"aria-activedescendant":o()??void 0,id:a.input})}),ai(),fn();var P=Ht(),R=bt(P);{var q=C=>{var I=Ht(),L=bt(I);pr(L,t,"default",{action:E,get attrs(){return T(A)}},null),Fe(C,I)},d=C=>{var I=Nee();let L;ya(I,B=>y(B),()=>y()),Qi(()=>xp(I,_)),Qs(I,B=>E==null?void 0:E(B)),Qi(()=>rr("keydown",I,function(B){ln.call(this,t,B)})),Qi(()=>rr("input",I,function(B){ln.call(this,t,B)})),Qi(()=>rr("focus",I,function(B){ln.call(this,t,B)})),Qi(()=>rr("blur",I,function(B){ln.call(this,t,B)})),Qi(()=>rr("change",I,function(B){ln.call(this,t,B)})),Nt(()=>L=ti(I,L,{...T(A),...n})),Fe(C,I)};Kt(R,C=>{m()?C(q):C(d,!1)})}Fe(e,P),cr(),s()}var Dee=zt("<div><!></div>");function Xm(e,t){const r=ba(t,["children","$$slots","$$events","$$legacy"]),n=ba(r,["disabled","value","onSelect","alwaysRender","asChild","id"]);ur(t,!1);const[i,s]=yn(),o=()=>Ue(R,"$selected",i),a=()=>Ue(A,"$render",i),u=ke();let c=de(t,"disabled",8,!1),f=de(t,"value",12,""),h=de(t,"onSelect",24,()=>{}),p=de(t,"alwaysRender",8,!1),_=de(t,"asChild",8,!1),m=de(t,"id",24,ko);const y=_ee(),b=Sp(),S=Ep(),E=p()??(y==null?void 0:y.alwaysRender),A=Ds(S,H=>{if(E||b.filter()===!1||!H.search)return!0;const $=H.filtered.items.get(m());return d2($)?!1:$>0});let P=ke(!0);ri(()=>(ve(P,!1),b.item(m(),y==null?void 0:y.id)));const R=Ds(S,H=>H.value===f());function q(H){!f()&&H.textContent&&f(H.textContent.trim().toLowerCase()),b.value(m(),f()),H.setAttribute(Co,f());const $=B7(Gv(H,"pointermove",()=>{c()||C()}),Gv(H,"click",()=>{c()||d()}));return{destroy(){$()}}}function d(){var H;C(),(H=h())==null||H(f())}function C(){S.updateState("value",f(),!0)}De(()=>(kt(c()),o(),kt(f()),kt(m())),()=>{ve(u,{"aria-disabled":c()?!0:void 0,"aria-selected":o()?!0:void 0,"data-disabled":c()?!0:void 0,"data-selected":o()?!0:void 0,"data-cmdk-item":"","data-value":f(),role:"option",id:m()})}),ai(),fn();var I=Ht(),L=bt(I);{var B=H=>{var $=Ht(),J=bt($);{var ae=D=>{var z=Ht(),j=bt(z);pr(j,t,"default",{action:q,get attrs(){return T(u)}},null),Fe(D,z)},X=D=>{var z=Dee();let j;var ie=Et(z);pr(ie,t,"default",{action:q,get attrs(){return T(u)}},null),Qs(z,oe=>q==null?void 0:q(oe)),Nt(()=>j=ti(z,j,{...T(u),...n})),Fe(D,z)};Kt(J,D=>{_()?D(ae):D(X,!1)})}Fe(H,$)};Kt(L,H=>{(a()||T(P))&&H(B)})}Fe(e,I),cr(),s()}var Fee=zt("<div><div><!></div></div>");function Ym(e,t){const r=ba(t,["children","$$slots","$$events","$$legacy"]),n=ba(r,["el","asChild"]);ur(t,!1);const[i,s]=yn(),o=()=>Ue(u,"$state",i),{ids:a}=Sp(),u=Ep();let c=de(t,"el",28,()=>{}),f=de(t,"asChild",8,!1);function h(P){let R;const q=P.closest("[data-cmdk-list]");if(!aee(q))return;const d=new ResizeObserver(()=>{R=requestAnimationFrame(()=>{const C=P.offsetHeight;q.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return d.observe(P),{destroy(){cancelAnimationFrame(R),d.unobserve(P)}}}const p={"data-cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:a.list,"aria-labelledby":a.input},_={"data-cmdk-list-sizer":""},m={attrs:p},y={attrs:_,action:h};fn();var b=Ht(),S=bt(b);{var E=P=>{var R=Ht(),q=bt(R);pE(q,()=>o().search==="",d=>{var C=Ht(),I=bt(C);pr(I,t,"default",{list:m,sizer:y},null),Fe(d,C)}),Fe(P,R)},A=P=>{var R=Fee();let q;var d=Et(R);let C;var I=Et(d);pE(I,()=>o().search==="",L=>{var B=Ht(),H=bt(B);pr(H,t,"default",{},null),Fe(L,B)}),Qs(d,L=>h==null?void 0:h(L)),ya(R,L=>c(L),()=>c()),Nt(()=>{q=ti(R,q,{...p,...n}),C=ti(d,C,{..._})}),Fe(P,R)};Kt(S,P=>{f()?P(E):P(A,!1)})}Fe(e,b),cr(),s()}const Bee=""+new URL("And-vPRNnjli.webp",import.meta.url).href,zee=""+new URL("Buffer-B3Uvsw-c.webp",import.meta.url).href,Vee=""+new URL("Or-D6Cm5Ena.webp",import.meta.url).href,Gee=""+new URL("Nor-CgPoSiw3.webp",import.meta.url).href,$ee=""+new URL("Xor-FwkKBC7T.webp",import.meta.url).href,Uee=""+new URL("Xnor-D92Hxo_S.webp",import.meta.url).href,jee=""+new URL("Nand-CeX_LhnV.webp",import.meta.url).href,Hee=""+new URL("Not-CKmu_FXd.webp",import.meta.url).href,Wee=""+new URL("outputIcon-C9FYfgf8.png",import.meta.url).href,Xee=""+new URL("inputIcon-6hipRhQs.png",import.meta.url).href;function Yee(e,t){return{type:"Lamp",net:e,inputs:(t==null?void 0:t.inputs)||1,outputs:(t==null?void 0:t.outputs)||0,order:(t==null?void 0:t.order)||0,bits:(t==null?void 0:t.bits)||1,label:(t==null?void 0:t.label)||e,...(t==null?void 0:t.position)&&{position:{x:t.position.x,y:t.position.y}}}}function Kee(e,t){return{type:"Button",label:(t==null?void 0:t.label)||e,net:(t==null?void 0:t.net)||e,bits:(t==null?void 0:t.bits)||1,...(t==null?void 0:t.position)&&{position:{x:t.position.x,y:t.position.y}}}}function pu(e,t,r){return{type:e,label:t,inputs:2,...(r==null?void 0:r.position)&&{position:{x:r.position.x,y:r.position.y}}}}const eR={Button:Kee,Lamp:Yee,And:(e,t)=>pu("And",e,...t?[t]:[]),Nand:(e,t)=>pu("Nand",e,...t?[t]:[]),Or:(e,t)=>pu("Or",e,...t?[t]:[]),Nor:(e,t)=>pu("Nor",e,...t?[t]:[]),Xor:(e,t)=>pu("Xor",e,...t?[t]:[]),Xnor:(e,t)=>pu("Xnor",e,...t?[t]:[]),Not:(e,t)=>pu("Not",e,...t?[t]:[]),Repeater:(e,t)=>pu("Repeater",e,...t?[t]:[])},Zee=()=>{const e={devices:{},connectors:{},subcircuits:{}},{subscribe:t,set:r,update:n}=Xe(e);return{subscribe:t,set:r,update:n,reset:()=>n(()=>({devices:{},connectors:{},subcircuits:{}})),addConnection:(i,s)=>{const o=s.substring(s.indexOf("_")+1);n(a=>(i in a.connectors||(a.connectors[i]=new Array),a.connectors[i]=[...a.connectors[i],[o,s]],console.log(a.connectors),a))},removeConnection:i=>{n(s=>{const o={};for(const a in s.connectors)o[a]=[...s.connectors[a].filter(([,u])=>u!==i)];return s.connectors=o,s})},addCircuitDevice:(i,s,o)=>{const a=`${i}_${s}`;let u=null;if(n(c=>{const f=o===void 0?eR[i](a):eR[i](a,o);return c.devices[a]=f,u=c.devices,c}),u===null)throw new Error("devices null after setting devices");return u}}},Ri=Zee();function Jee(e){const t=JSON.parse(e);return t.nodes.length===0?(console.warn("save json exists but there are no nodes"),null):t.nodes.map(n=>{let[i,s]=n.id.substring(2).split("_");return{nodeType:i,uuid:s,position:n.position}})}function Ap(e){return localStorage.getItem(e)||(console.warn(`No saved "${e}" found in localStorage.`),null)}function Qee(){const t=Ap("state");if(!t)return console.warn("svelvet save unsucessful"),null;const r=Jee(t);if(r===null)return null;Ri.update(n=>(r.forEach(({nodeType:i,uuid:s,position:o})=>{const a=`${i}_${s}`;n.devices[a].position=o}),n))}function ete(){Ap("circuitStoreSave"),localStorage.setItem("circuitStoreSave",JSON.stringify(ot(Ri)))}function tte(){const e=document.querySelector(".save-button"),t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e==null||e.dispatchEvent(t)}async function mh(){tte(),Qee(),ete()}function rte(e){if(!(e!=null&&e.devices)||!(e!=null&&e.connectors)||!(e!=null&&e.subcircuits)){let t="";throw e!=null&&e.devices||(t+="[Devices]"),e!=null&&e.devices||(t+="[Connectors]"),e!=null&&e.devices||(t+="[Subciruits]"),new Error("Parsed circuit object is missing required properties "+t)}else Object.keys(e.devices).length===0&&console.log("Loaded in a valid circuit with empty devices")}function $v(e="default"){let t=e==="default"?Ap("circuitStoreSave"):e;if(!t)return;const r=JSON.parse(t);rte(r),Ri.set(r)}function nte(){mh();const e=localStorage.getItem("circuitStoreSave");e?e==='{"devices":{},"connectors":[],"subcircuits":{}}'?console.warn("EMPTY on delete, do not set prevCircuitStore just empty stores."):localStorage.setItem("prevCircuitStore",e):console.warn("we saved before deleting so this should not be possible"),localStorage.removeItem("circuitStoreSave")}function ite(e){mh();const t=Ap("circuitStoreSave");if(!t)return console.log("Tried to load empty circuit"),null;const r=JSON.parse(t),n=JSON.stringify(r,null,2),i=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(i);e===""&&(e="Circuit");const o=document.createElement("a");o.href=s,o.download=e+".json",o.click(),URL.revokeObjectURL(s),o.remove()}async function ste(){return new Promise(e=>{const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","application/JSON"),t.click(),t.addEventListener("change",async()=>{await ote(t),e()}),t.remove()})}async function ote(e){var n;const t=(n=e.files)==null?void 0:n[0];if(!t)return;const r=await new Promise((i,s)=>{const o=new FileReader;o.onload=a=>{var c;const u=(c=a.target)==null?void 0:c.result;i(u)},o.onerror=a=>{s(new Error("Error reading file"))},o.readAsText(t)});console.log(r),$v(r)}const ate="modulepreload",ute=function(e,t){return new URL(e,t).href},tR={},jf=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=ute(c,n),c in tR)return;tR[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const y=o[m];if(y.href===c&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":ate,f||(_.as="script"),_.crossOrigin="",_.href=c,u&&_.setAttribute("nonce",u),document.head.appendChild(_),f)return new Promise((m,y)=>{_.addEventListener("load",m),_.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function cte(e,t){const r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(r*r+n*n)}function lte(){const e=()=>Math.floor(Math.random()*256),t=e(),r=e(),n=e();return`rgb(${t},${r},${n})`}const fte={"(":"round","[":"square","([":"stadium","[[":"subroutine","[(":"cylindrical","((":"circle","{":"rhombus","{{":"hexagon"},rR={"-":"straight","~":"bezier"},H7={"(":")","[":"]","{":"}"},hte=/[-=~]*>(?:\s*\|(.+?)\|)?/g,dte=e=>{const t=e.split(`
`),r={parentNodes:[],nodeList:{}};for(const n of t){const{parentNodes:i,childNodes:s,edge:o}=vte(n);for(const a of i){r.nodeList[a.id]||r.parentNodes.push(a);for(const u of s){if(r.nodeList[a.id]){if(r.nodeList[u.id]&&r.nodeList[u.id].children.some(({node:c})=>c.id===a.id))throw new Error("Circular reference detected");r.nodeList[a.id].children.push({node:r.nodeList[u.id]||u,...o})}else a.children.push({node:r.nodeList[u.id]||u,...o}),r.nodeList[a.id]=a;r.nodeList[u.id]?r.nodeList[u.id].parents.push({node:r.nodeList[a.id]||a}):(u.parents.push({node:r.nodeList[a.id]||a}),r.nodeList[u.id]=u),r.parentNodes=r.parentNodes.filter(c=>c.id!==u.id)}}}return r},vte=e=>{const t=[],r=[],n=e.trim();let i="";const s=n.match(hte);if(s)i=s[0];else throw new Error("Invalid edge");const[o,a]=n.split(i);for(const c of o.split("&"))t.push(nR(c));for(const c of a.split("&"))r.push(nR(c));const u=pte(i);return{parentNodes:t,childNodes:r,edge:u}},nR=e=>{e=e.trim();const t=e[0],r=e.slice(1);let n="",i="";const s="Default",o={shape:""},a=[];for(let u=0;u<r.length;u++)if(gte(r[u]))a.push(r[u]);else if(H7[a[a.length-1]]===r[u]){i=fte[a.join("")];break}else n+=r[u];return o.shape=i,o.content=n,{id:t,data:o,type:s,children:[],parents:[],depth:0,nesting:0}},pte=e=>{e=e.trim();let t="";const[r,n]=e.split("|"),i=r[0];if(i in rR)t=rR[i];else throw new Error("Not a valid edge type");return n?{shape:t,content:n.trim(),length:Math.floor((r.trim().length-1)/2)}:{shape:t,length:Math.floor((r.trim().length-1)/2)}};function gte(e){return e in H7}function mte(){return Math.random().toString(36).substring(7)}function _te(e,t){const r=Math.sign(e.x).toString(),n=Math.sign(e.y).toString(),i=Math.sign(t.x).toString(),s=Math.sign(t.y).toString();return`${r}${n}${i}${s}`}function yte(e,t){return{1001:`a ${e} ${e} 0 0 1 ${e} ${e}`,"0110":`a ${e} ${e} 0 0 0 ${e} ${e}`,"100-1":`a ${e} ${e} 0 0 0 ${e} -${e}`,"0-110":`a ${e} ${e} 0 0 1 ${e} -${e}`,"-1001":`a ${e} ${e} 0 0 0 -${e} ${e}`,"01-10":`a ${e} ${e} 0 0 1 -${e} ${e}`,"-100-1":`a ${e} ${e} 0 0 1 -${e} -${e}`,"0-1-10":`a ${e} ${e} 0 0 0 -${e} -${e}`}[t]||""}function iR(e,t){const r=t*(Math.PI/180),n=e.x*Math.cos(r)-e.y*Math.sin(r),i=e.x*Math.sin(r)+e.y*Math.cos(r);return{x:n,y:i}}const sR=(e,t,r,n)=>e+` l ${t} ${r} `+n,ps=Xe({x:0,y:0}),yE=Xe(0),uo=Xe(!1),bE=Xe(!1),W7=Ya({x:0,y:0},e=>{const t=s=>{e({x:s.clientX,y:s.clientY})},r=s=>{if(s.touches.length===2){const o=cte(s.touches[0],s.touches[1]);yE.set(o);const a={x:s.touches[0].clientX,y:s.touches[0].clientY};e(a)}else if(s.touches.length===1){const o=s.touches[0].clientX,a=s.touches[0].clientY;e({x:o,y:a}),uo.set(!0)}},n=s=>{r(s),window.addEventListener("touchend",i),window.addEventListener("touchmove",r)},i=()=>{uo.set(!1),yE.set(0),window.removeEventListener("touchmove",r)};return document.addEventListener("mousemove",t),window.addEventListener("touchstart",n,!0),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchstart",n),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",i)}});var bte=zt("<div><div></div></div>");function wte(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(R,"$groups",r),s=()=>Ue(W7,"$cursorPositionRaw",r),o=()=>Ue(T(a),"$selectedNodes",r),a=ke(),u=ke(),c=ke(),f=ke(),h=ke(),p=ke(),_=ke(),m=ke(),y=ke();let b=de(t,"graph",8),S=de(t,"anchor",8),E=de(t,"adding",8,!1),A=de(t,"creating",8,!1),P=de(t,"color",8,null);const{groups:R}=b();let q,d=ke();ri(C);function C(){q=Array.from(document.querySelectorAll(".svelvet-node")).map(X=>{const{top:D,left:z,width:j,height:ie}=X.getBoundingClientRect();return{id:X.id,top:D,left:z,width:j,height:ie}})}function I(){if(!q)return;const ae=q.reduce((X,D)=>{if(T(h)+S().left<=D.left&&T(f)+S().top<=D.top&&T(h)+S().left+Math.abs(T(c))>=D.left+D.width&&T(f)+S().top+Math.abs(T(u))>=D.top+D.height){const z=D.id,j=b().nodes.get(z);if(!j)return X;X.push(j)}return X},[]);E()?ae.forEach(X=>{o().add(X)}):Lt(T(a),new Set(ae)),Lt(T(a),o())}De(()=>i(),()=>{Ua(ve(a,i().selected.nodes),"$selectedNodes",r)}),De(()=>(s(),kt(S())),()=>{ve(u,s().y-S().y-S().top)}),De(()=>(s(),kt(S())),()=>{ve(c,s().x-S().x-S().left)}),De(()=>(kt(S()),T(u)),()=>{ve(f,Math.min(S().y,S().y+T(u)))}),De(()=>(kt(S()),T(c)),()=>{ve(h,Math.min(S().x,S().x+T(c)))}),De(()=>T(f),()=>{ve(p,`${T(f)}px`)}),De(()=>T(h),()=>{ve(_,`${T(h)}px`)}),De(()=>T(u),()=>{ve(m,`${Math.abs(T(u))}px`)}),De(()=>T(c),()=>{ve(y,`${Math.abs(T(c))}px`)}),De(()=>(T(c),T(u)),()=>{(T(c)||T(u))&&I()}),ai(),fn();var L=bte();let B,H;var $=Et(L);let J;ya($,ae=>ve(d,ae),()=>T(d)),Nt((ae,X)=>{B=Mn(L,1,"selection-border svelte-10ds4jd",null,B,ae),H=Lr(L,"",H,{"--prop-selection-box-color":P(),height:T(m),width:T(y),top:T(p),left:T(_)}),J=Mn($,1,"selection-box svelte-10ds4jd",null,J,X)},[()=>({creating:A()}),()=>({creating:A()})],pn),Fe(e,L),cr(),n()}const xte=3,Ste=.1,Ete=10,Ate=100,Tte=50,Pte="#000",Cte="#fff",Rte="12px",Ite=22,Ote=1.4,Mte=40,Qf={north:{x:0,y:-1},south:{x:0,y:1},east:{x:1,y:0},west:{x:-1,y:0},self:{x:0,y:0}};var kte=Rn('<circle class="background-dot svelte-rryw83"></circle>'),Lte=Rn('<line class="background-line svelte-rryw83"></line><line class="background-line svelte-rryw83"></line>',1),Nte=Rn('<circle class="background-dot svelte-rryw83"></circle>'),qte=Rn('<line class="background-line svelte-rryw83"></line><line class="background-line svelte-rryw83"></line>',1),Dte=Rn('<pattern id="graph-coarse-pattern" patternUnits="userSpaceOnUse"><!></pattern>'),Fte=Rn('<rect width="100%" height="100%" fill="url(#graph-coarse-pattern)"></rect>'),Bte=zt('<div id="background-wrapper" class="svelte-rryw83"><svg class="svelte-rryw83"><defs><pattern id="graph-pattern" patternUnits="userSpaceOnUse"><!></pattern><!></defs><rect width="100%" height="100%" fill="url(#graph-pattern)"></rect><!></svg></div>');function zte(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(q,"$translationStore",r),s=()=>Ue(R,"$scaleStore",r),o=ke(),a=ke(),u=ke(),c=ke(),f=ke(),h=yr("graph");let p=de(t,"style",8,"dots"),_=de(t,"gridWidth",8,Ite),m=de(t,"dotSize",8,Ote),y=de(t,"bgColor",8,null),b=de(t,"dotColor",8,null),S=de(t,"opacityThreshold",8,3),E=de(t,"majorGrid",8,0),A=de(t,"minOpacity",8,.4);const P=h.transforms,R=P.scale,q=P.translation;let d=ke(),C=ke(),I=ke(),L=ke(),B=ke(),H=ke(1),$=ke(1);De(()=>i(),()=>{ve(o,i())}),De(()=>s(),()=>{ve(a,s())}),De(()=>(T(a),kt(_())),()=>{ve(u,T(a)*_())}),De(()=>(T(a),kt(m())),()=>{ve(c,T(a)*m()/2)}),De(()=>T(u),()=>{ve(f,T(u)/2)}),De(()=>(T(C),T(d),T(I),T(c),T(a),T(o),kt(S()),kt(A())),()=>{var Q,le;ve(C,((Q=T(d))==null?void 0:Q.offsetWidth)||0),ve(I,((le=T(d))==null?void 0:le.offsetHeight)||0),ve(L,(T(C)+T(c))*(1-T(a))/2+T(o).x),ve(B,(T(I)+T(c))*(1-T(a))/2+T(o).y),ve(H,T(a)>S()?1:T(a)/S()+A()),ve($,T(a)>S()/3?1:T(a)/(S()/3)+A())}),ai(),fn();var J=Bte();let ae;var X=Et(J),D=Et(X),z=Et(D),j=Et(z);{var ie=Q=>{var le=kte();let Ve;Nt(()=>{dt(le,"r",T(c)),dt(le,"cx",T(f)),dt(le,"cy",T(f)),Ve=Lr(le,"",Ve,{"--calculated-dot-color":b()})}),Fe(Q,le)},oe=(Q,le)=>{{var Ve=Le=>{var Ce=Lte(),Je=bt(Ce);dt(Je,"y1",0);let Ge;var N=ft(Je);dt(N,"x1",0);let G;Nt(()=>{dt(Je,"x1",T(f)),dt(Je,"x2",T(f)),dt(Je,"y2",T(u)),dt(Je,"stroke-width",T(c)),Ge=Lr(Je,"",Ge,{"--calculated-dot-color":b()}),dt(N,"y1",T(f)),dt(N,"y2",T(f)),dt(N,"x2",T(u)),dt(N,"stroke-width",T(c)),G=Lr(N,"",G,{"--calculated-dot-color":b()})}),Fe(Le,Ce)};Kt(Q,Le=>{p()==="lines"&&Le(Ve)},le)}};Kt(j,Q=>{p()==="dots"?Q(ie):Q(oe,!1)})}var Se=ft(z);{var _e=Q=>{var le=Dte(),Ve=Et(le);{var Le=Je=>{var Ge=Nte();let N;Nt(()=>{dt(Ge,"r",T(c)*2),dt(Ge,"cx",T(f)),dt(Ge,"cy",T(f)),N=Lr(Ge,"",N,{"--calculated-dot-color":b()})}),Fe(Je,Ge)},Ce=(Je,Ge)=>{{var N=G=>{var Y=qte(),K=bt(Y);dt(K,"y1",0);let Ee;var fe=ft(K);dt(fe,"x1",0);let Te;Nt(()=>{dt(K,"x1",T(f)),dt(K,"x2",T(f)),dt(K,"y2",T(u)*E()),dt(K,"stroke-width",T(c)*1.2),Ee=Lr(K,"",Ee,{"--calculated-dot-color":b()}),dt(fe,"y1",T(f)),dt(fe,"y2",T(f)),dt(fe,"x2",T(u)*E()),dt(fe,"stroke-width",T(c)*1.2),Te=Lr(fe,"",Te,{"--calculated-dot-color":b()})}),Fe(G,Y)};Kt(Je,G=>{p()==="lines"&&G(N)},Ge)}};Kt(Ve,Je=>{p()==="dots"?Je(Le):Je(Ce,!1)})}Nt(()=>{dt(le,"x",T(L)),dt(le,"y",T(B)),dt(le,"width",T(u)*E()),dt(le,"height",T(u)*E())}),Fe(Q,le)};Kt(Se,Q=>{E()>0&&Q(_e)})}var te=ft(D),ue=ft(te);{var re=Q=>{var le=Fte();Nt(()=>dt(le,"opacity",T($))),Fe(Q,le)};Kt(ue,Q=>{E()>0&&Q(re)})}ya(J,Q=>ve(d,Q),()=>T(d)),Nt(()=>{ae=Lr(J,"",ae,{"--calculated-background-color":y()}),dt(z,"x",T(L)),dt(z,"y",T(B)),dt(z,"width",T(u)),dt(z,"height",T(u)),dt(te,"opacity",T(H))}),Fe(e,J),cr(),n()}var Vte=zt('<div role="button" tabindex="0" class="bounding-box-border svelte-1e5jg43"><div class="bounding-box svelte-1e5jg43"></div></div>');function Gte(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(f(),"$position",r),s=()=>Ue(_,"$width",r),o=()=>Ue(m,"$height",r),a=()=>Ue(h(),"$color",r),u=ke();let c=de(t,"dimensions",8),f=de(t,"position",8),h=de(t,"color",8),p=de(t,"groupName",8);const{width:_,height:m}=c(),y=ql();function b(){y("groupClick",{groupName:p()})}De(()=>kt(p()),()=>{ve(u,`${p()}-bounding-box`)}),ai(),fn();var S=Vte();let E;var A=Et(S);let P;Nt(()=>{dt(S,"id",T(u)),E=Lr(S,`border: solid 4px ${a()??""};`,E,{top:`${i().y}px`,left:`${i().x}px`,width:`${s()}px`,height:`${o()}px`}),P=Lr(A,"",P,{"background-color":a()})}),rr("contextmenu",S,Ns(oo(function(R){ln.call(this,t,R)}))),rr("mousedown",S,Ns(oo(b))),Fe(e,S),cr(),n()}function $te(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(o,"$groupBoxes",r),o=yr("graph").groupBoxes;fn();var a=Ht(),u=bt(a);Ni(u,1,()=>Array.from(i()),([c,f])=>c,(c,f)=>{let h=()=>T(f)[0];Gte(c,Nl(()=>T(f)[1],{get groupName(){return h()},$$events:{groupClick(_){ln.call(this,t,_)}}}))}),Fe(e,a),cr(),n()}function Km(e){const t=e.style.width,r=e.style.height;e.style.width="fit-content",e.style.height="fit-content";const n=e.offsetWidth,i=e.offsetHeight;return e.style.width=t,e.style.height=r,[n,i]}function X7(e,t,r,n,i){const s={x:0,y:0},o=n.x-i.left-i.width/2,a=n.y-i.top-i.height/2,u=(o-r.x)/e,c=(a-r.y)/e;return s.x=o-u*t,s.y=a-c*t,s}function Y7(e,t,r){const n=t*r,i=e-n;return Number(Math.max(Ste,Math.min(xte,i)).toFixed(9))}const Nh=(e,t,r,n,i,s,o)=>{const{clientX:a,clientY:u}=e,c=s,f=a-r,h=u-t,p=o.x,_=o.y,m=n*(1-s)/2,y=i*(1-s)/2,b=f-p-m,S=h-_-y,E=b/c,A=S/c;return{x:E,y:A}};function Ute(e,t,r){const{top:n,left:i,width:s,height:o}=ot(e),a=ot(t.scale),u=ot(t.translation);return{scaled:Nh({clientX:r.x,clientY:r.y},n,i,s,o,a,u),scale:a}}function jte(e,t,r){const{scale:n,translation:i}=r,s=ot(n),o=ot(i),a=t.x-e.x,u=t.y-e.y,c=o.x+a*s,f=o.y+u*s;return{x:c,y:f}}function Hte(e,t){return e.x*t.x+e.y*t.y}function Wte(e,t,r){const n=[],i=t.x-e.x,s=t.y-e.y,o=Yte(e.direction,t.direction),a=Hte(e.direction,t.direction)===0,u=Xte(e,t),c=Pn(e.direction,-1,-1),f=Pn(t.direction,-1,-1),h={x:Math.abs(e.direction.y),y:Math.abs(e.direction.x)},p=Pn(e.direction,i-r*e.direction.x*(a?1:o?0:2),s-r*e.direction.y*(a?1:o?0:2)),_=Pn(t.direction,i+r*t.direction.x*(a?1:o?0:2),s+r*t.direction.y*(a?1:o?0:2)),m=Math.sign(p.x)===-1||Math.sign(p.y)===-1,y=Math.sign(_.x)===1||Math.sign(_.y)===1,b=Math.abs(i),S=Math.abs(s),E=Pn(e.direction,r,r),A=Pn(f,r,r),P=Pn(t.direction,r,r),R=Pn(e.direction,b,S),q=Pn(f,b,S),d=Pn(e.direction,b/2,S/2),C=Pn(f,b/2,S/2),I=Pn(h,i,s),L=!u&&!y&&!m,B=e.x+E.x,H=e.y+E.y,$=t.x+P.x,J=t.y+P.y;if(m&&n.push(E),u&&!y&&!m)n.push(R),n.push(q);else if(o)m||n.push(Pn(e.direction,r+b,r+S)),n.push(I),y||n.push(Pn(f,r+b,r+S));else if(L)n.push(d),n.push(I),n.push(C);else if(m&&y)if(a){const ae=Math.abs(B-$),X=Math.abs(H-J);n.push(Pn(t.direction,b<r*2?t.direction.x*(i+t.direction.x*r):b+r,S<r*2?t.direction.y*(s+t.direction.y*r):S+r)),n.push(Pn(c,ae,X))}else{const ae=Math.abs(B-$),X=Math.abs(H-J);n.push(Pn(h,i/2,s/2)),n.push(Pn(t.direction,ae,X)),n.push(Pn(h,i/2,s/2))}else if(m){const ae=Math.abs(B-t.x),X=Math.abs(H-t.y);n.push(Pn(f,b<r*2?b-r:b/2,S<r*2?S-r:S/2)),n.push(Pn(c,ae,X)),n.push(Pn(f,Math.max(r,b/2),Math.max(r,S/2)))}else if(y){const ae=Math.abs($-e.x),X=Math.abs(J-e.y);n.push(Pn(e.direction,Math.max(r,b/2),Math.max(r,S/2))),n.push(Pn(t.direction,ae,X)),n.push(Pn(e.direction,b<r*2?b-r:b/2,S<r*2?S-r:S/2))}return y&&n.push(A),n}function Xte(e,t){const{x:r,y:n}=e.direction,{x:i,y:s}=t.direction,o=t.x-e.x,a=t.y-e.y;return r*s===i*n?!1:Math.sign(a)===Math.sign(n+s)!=(Math.sign(o)===Math.sign(r+i))}function Pn(e,t,r){return{x:e.x*t,y:e.y*r}}function Yte(e,t){return e.x===t.x&&e.y===t.y}function Kte(e,t){const{width:r,height:n}=e,{top:i,left:s,right:o,bottom:a}=t,u=o-s,c=a-i;if(!u||!c)return{x:null,y:null,scale:null};const f=s+u/2,h=i+c/2,p=Math.min(r/u,n/c)*.8,_=r/2,m=n/2,y=_-f,b=m-h;return{x:y*p,y:b*p,scale:p}}const nv=(e,t,r)=>Math.min(Math.abs(e||t)/2,r);function Zm(e,t){const n=e.getTotalLength()*t;return e.getPointAtLength(n)}function Uv(){const e=new Map,{subscribe:t,set:r,update:n}=Xe(e);return{subscribe:t,set:r,update:n,add:(s,o)=>(n(a=>(a.set(o,s),a)),e),get:s=>e.get(s)||null,getAll:()=>Array.from(e.values()),delete:s=>{let o=!1;return n(a=>(a.delete(s),o=!0,a)),o},count:()=>e.size}}function Zte(e){const{id:t,inputs:r,outputs:n,resizable:i,dimensions:s,editable:o,direction:a,zIndex:u,position:c,selectionColor:f,borderWidth:h,edge:p}=e,{bgColor:_,borderColor:m,rotation:y,borderRadius:b,connections:S,textColor:E,locked:A,group:P}=e,R=Uv(),q=(I="self")=>{ot(R).forEach(L=>{(I==="self"||ot(L.direction)===I)&&L.recalculatePosition()})};return{id:typeof t=="string"&&t.slice(0,2)==="N-"?t:`N-${t}`,position:Xe({x:(c==null?void 0:c.x)||0,y:(c==null?void 0:c.y)||0}),dimensions:{width:Xe((s==null?void 0:s.width)||0),height:Xe((s==null?void 0:s.height)||(s==null?void 0:s.width))},group:Xe(P||null),locked:Xe(A||!1),inputs:Xe(r),outputs:Xe(n),recalculateAnchors:q,rotation:Xe(y||0),moving:Xe(!1),resizingWidth:Xe(!1),resizingHeight:Xe(!1),rotating:Xe(!1),editable:Xe(o||!1),resizable:Xe(i),anchors:R,zIndex:Xe(u||2),collapsed:Xe(!1),edge:p||null,borderRadius:Xe(b),bgColor:Xe(_||null),direction:Xe(a),label:Xe(e.label||""),borderColor:Xe(m||null),borderWidth:Xe(h),selectionColor:Xe(f||null),textColor:Xe(E||null),connections:Xe(S)}}function Jte(e,t){const r=[e,t].sort();return`${r[0]}+${r[1]}`}function oR(e,t,r){var a,u,c,f,h;const{source:n,target:i}=e,o={id:n.id&&i.id?Jte(n.id,i.id):"cursor",target:e.target,source:e.source,component:t,type:Xe((r==null?void 0:r.type)||null),color:(r==null?void 0:r.color)||Xe(null),width:Xe((r==null?void 0:r.width)||0),animated:Xe((r==null?void 0:r.animated)||!1),rendered:Xe(!1),start:(r==null?void 0:r.start)||null,end:(r==null?void 0:r.end)||null};if(r!=null&&r.disconnect&&(o.disconnect=!0),r!=null&&r.label){const p={text:Xe(r==null?void 0:r.label.text),color:Xe(((a=r==null?void 0:r.label)==null?void 0:a.color)||Pte),textColor:Xe(((u=r==null?void 0:r.label)==null?void 0:u.textColor)||Cte),fontSize:Xe(((c=r==null?void 0:r.label)==null?void 0:c.fontSize)||Rte),dimensions:{width:Xe(((f=r==null?void 0:r.label.dimensions)==null?void 0:f.width)||Ate),height:Xe(((h=r==null?void 0:r.label.dimensions)==null?void 0:h.height)||Tte)},borderRadius:Xe((r==null?void 0:r.label.borderRadius)||Ete)};o.label=p}return o}function Qte(){const e=new Map,t=new Set,{subscribe:r,set:n,update:i}=Xe(e),s={subscribe:r,set:n,update:i,add:(o,a)=>{if(typeof a!="string"){const u=Array.from(a),c=u[0],f=u[1];if(c.connected.update(h=>h.add(f)),f.connected.update(h=>h.add(c)),s.match(...Array.from(a)).length)return;t.forEach(h=>h(o,"connection"))}i(u=>(u.set(a,o),u))},getAll:()=>Array.from(e.values()),get:o=>e.get(o)||null,match:(...o)=>Array.from(e.keys()).filter(a=>a==="cursor"?!1:o.every(u=>u?a.has(u):!0)),fetch:(o,a)=>{const u=Array.from(e.keys()).filter(c=>c==="cursor"?!1:[o,a].every(f=>f?c.has(f):!0))[0];return e.get(u)||null},delete:o=>{if(typeof o!="string"){const u=Array.from(o),c=u[0],f=u[1];c.connected.update(h=>(h.delete(f),h)),f.connected.update(h=>(h.delete(c),h))}let a=!1;return i(u=>{const c=u.get(o);return c&&(u.delete(o),a=!0,typeof o!="string"&&t.forEach(f=>f(c,"disconnection"))),u}),a},onEdgeChange:o=>(t.add(o),()=>t.delete(o)),count:()=>e.size};return s}function ere(e,t,r,n){return Ds([e,t,r,n],([s,o,a,u])=>{const c={clientX:s.x,clientY:s.y};return Nh(c,o.top,o.left,o.width,o.height,u,a)})}function tre(e,t,r,n){const i=Xe({top:1/0,left:1/0,right:-1/0,bottom:-1/0}),s=Xe({top:1/0,left:1/0,right:-1/0,bottom:-1/0});let o,a=ot(t),u=ot(r),c=ot(n),f=a.width/u,h=a.height/u;function p(){const{x:m,y}=Nh({clientX:a.left,clientY:a.top},a.top,a.left,a.width,a.height,u,c),b=ot(s);i.set({top:Math.min(b.top,y),left:Math.min(b.left,m),right:Math.max(b.right,m+f),bottom:Math.max(b.bottom,h+y)})}function _(m=!1){let y=1/0,b=1/0,S=-1/0,E=-1/0;for(const A of e.getAll()){console.log("dentro del for, este es e node:",A);const{x:P,y:R}=ot(A.position),q=ot(A.dimensions.width),d=ot(A.dimensions.height);b=Math.min(b,P),y=Math.min(y,R),S=Math.max(S,P+q),E=Math.max(E,R+d)}s.set({top:y,left:b,right:S,bottom:E}),p(),m&&(o=requestAnimationFrame(()=>_(m)))}return e.subscribe(()=>{console.log("dentro del nodes.subscribe...........Aqui no estan llegando los nodes"),_()}),bE.subscribe(m=>{m&&_(m),m||cancelAnimationFrame(o)}),uo.subscribe(m=>{m&&_(m),m||cancelAnimationFrame(o)}),t.subscribe(()=>{a=ot(t),f=a.width/u,h=a.height/u,p()}),r.subscribe(()=>{u=ot(r),f=a.width/u,h=a.height/u,p()}),n.subscribe(()=>{c=ot(n),p()}),{graphBounds:i,nodeBounds:s}}function rre(e,t,r){const{width:n,height:i,top:s,left:o}=e,a={clientX:n/2,clientY:i/2};return Nh(a,s,o,n,i,r,t)}function K7(e,t){const{zoom:r,editable:n,translation:i,direction:s,locked:o,edge:a,nodes:u}=t,c=Xe({x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0}),f=Xe({top:0,left:0,width:0,height:0,bottom:0,right:0}),h=Xe(r),p=Xe(!1),_=Uv(),m=tre(_,f,h,c),y=Ds([f,c,h],([S,E,A])=>rre(S,E,A));return{id:e,nodes:_,edges:Qte(),transforms:{translation:c,scale:h},maxZIndex:Xe(2),dimensions:f,bounds:m,center:y,mounted:p,direction:s||"LR",editable:n||!1,edge:a||null,editing:Xe(null),cursor:ere(W7,f,c,h),locked:Xe(o||!1),groups:Xe({selected:{parent:Xe(null),nodes:Xe(new Set)},hidden:{parent:Xe(null),nodes:Xe(new Set)}}),groupBoxes:Uv(),activeGroup:Xe(null),initialNodePositions:Xe([])}}function nre(e,t,r,n,i,s,o,a,u,c,f,h){const{width:p,height:_}=i,{x:m,y}=n,b=ot(t.position),S=Xe({x:m-b.x+p/2,y:y-b.y+_/2}),E=Ds([t.position,S],([I,L])=>({x:I.x+L.x,y:I.y+L.y})),A=e.transforms,P=e.dimensions,R=Xe(u||"self"),q=()=>{const I=document.getElementById(r),L=ot(R),B=Qf[L];if(!I)return;const{x:H,y:$,width:J,height:ae}=I.getBoundingClientRect(),X=ot(S),D=ot(E),{scaled:z,scale:j}=Ute(P,A,{x:H,y:$}),ie=z.x-D.x,oe=z.y-D.y;S.set({x:X.x+ie+J/j/2+B.x*J/j/2,y:X.y+oe+ae/j/2+B.y*ae/j/2})},d=Ds([t.moving,t.resizingWidth,t.resizingHeight,t.rotating],([I,L,B,H])=>I||L||B||H),C=Ds([t.rotation],([I])=>I);return{id:r,position:E,offset:S,direction:R,dynamic:Xe(c||!1),type:a,edge:o,moving:d,mounted:Xe(!1),recalculatePosition:q,connected:Xe(new Set),store:s||null,inputKey:f||null,edgeColor:h||Xe(null),rotation:C,node:t}}const lh=Uv(),iv={width:200,height:100};function Tv(e,t){return{x:Math.round(e/iv.width)*iv.width,y:Math.round(t/iv.height)*iv.height}}const sv=10;function Z7(e){const t=ot(e);return Array.from(t).map(n=>ot(n.position))}function aR(e,t){console.log("moveNodes called");let r;const n=ot(e.groups),i=ot(e.activeGroup);if(console.log("Graph Groups:",n),console.log("Active Group:",i),!i)return;const s=n[i].nodes;if(!s)return;const o=ot(e.initialNodePositions),{x:a,y:u}=ot(ps),c=Array.from(ot(s)),f=ot(e.groupBoxes);console.log("Group Boxes:",f),c.forEach(p=>p.moving.set(!0)),h();function h(){const p=ot(e.cursor);let _=p.x-a,m=p.y-u;if(t){const b=Tv(_,m);_=b.x,m=b.y}const y={x:_,y:m};c.forEach((b,S)=>{const{group:E,position:A}=b,P=o[S];let R;if(i==="selected"){const q=ot(E);q&&(R=f.get(q))}if(!R)ire(P,y,A);else{const q=ot(b.dimensions.width),d=ot(b.dimensions.height),C=Q7(R,q,d);J7(P,y,A,C)}}),ot(uo)?r=requestAnimationFrame(h):cancelAnimationFrame(r)}}function ire(e,t,r){r.set({x:e.x+t.x,y:e.y+t.y})}function J7(e,t,r,n){r.set({x:Math.min(Math.max(n.left,e.x+t.x),n.right),y:Math.min(Math.max(n.top,e.y+t.y),n.bottom)})}function Q7(e,t,r){const{x:n,y:i}=ot(e.position);return console.log("Group Box Position:",{x:n,y:i}),{left:n+sv,right:n+ot(e.dimensions.width)-t-sv,top:i+sv,bottom:i+ot(e.dimensions.height)-r-sv}}function uR(e=1,t,r,n=.1){const i=ot(t),{width:s,height:o,top:a,left:u}=i,c=r.scale,f=ot(r.translation),h=ot(c),p=Y7(h,e,n),_=X7(h,p,f,{x:s/2+u,y:o/2+a},i);c.set(p),r.translation.set(_)}var sre=zt('<div class="svelvet-graph-wrapper svelte-19pa6i0" role="presentation"><!></div>');function ore(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(p,"$translation",r),s=()=>Ue(h,"$scale",r),o=()=>Ue(_,"$cursor",r),a=ke(),u=ke(),c=yr("graph"),f=c.transforms,h=f.scale,p=f.translation,_=c.cursor;let m=de(t,"isMovable",8),y=ke(),b=ke(!1);function S(){Lt(p,jte(ot(ps),o(),f)),ve(y,requestAnimationFrame(S))}De(()=>i(),()=>{ve(a,i())}),De(()=>(T(a),s()),()=>{ve(u,`translate(${T(a).x}px, ${T(a).y}px) scale(${s()})`)}),De(()=>(kt(m()),T(b),T(y)),()=>{m()&&!T(b)?(ve(b,!0),ve(y,requestAnimationFrame(S))):(!m()||!T(b))&&(ve(b,!1),cancelAnimationFrame(T(y)))}),ai(),fn();var E=sre();let A;var P=Et(E);pr(P,t,"default",{},null),Nt(()=>A=Lr(E,"",A,{transform:T(u)})),rr("contextmenu",E,ch(Ns(function(R){ln.call(this,t,R)}))),rr("click",E,ch(Ns(function(R){ln.call(this,t,R)}))),rr("touchstart",E,ch(Ns(function(R){ln.call(this,t,R)}))),Fe(e,E),cr(),n()}var are=zt("<!> <!>",1);function ure(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(h,"$activeGroup",r),s=()=>Ue(uo,"$tracking",r),o=()=>Ue(m,"$cursor",r),a=()=>Ue(p,"$groups",r);console.log("Componente GraphRenderer.svelte");const u=yr("graph"),c=yr("snapTo");let f=de(t,"isMovable",8);const h=u.activeGroup,p=u.groups,_=u.initialNodePositions,m=u.cursor;function y(b){Lt(uo,!0);const{groupName:S}=b.detail;Lt(h,S),Lt(ps,o()),Lt(_,Z7(a()[S].nodes))}De(()=>(i(),s(),aR),()=>{i()&&s()&&aR(u,c)}),ai(),fn(),ore(e,{get isMovable(){return f()},children:(b,S)=>{var E=are(),A=bt(E);pr(A,t,"default",{},null);var P=ft(A,2);$te(P,{$$events:{groupClick:y}}),Fe(b,E)},$$slots:{default:!0}}),cr(),n()}const cre=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],lre=new Set(cre),cR=e=>lre.has(e);var fre=zt('<input type="text">');function hre(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(o,"$textStore",r);let s=de(t,"placeholder",8);const o=yr("textStore");fn();var a=fre();Nt(()=>dt(a,"placeholder",s())),rr("keydown",a,oo(function(u){ln.call(this,t,u)})),rr("click",a,oo(function(u){ln.call(this,t,u)})),rr("mousedown",a,oo(function(u){ln.call(this,t,u)})),xp(a,i,u=>Lt(o,u)),Fe(e,a),cr(),n()}const dre=new Set(["INPUT","SELECT","BUTTON","TEXTAREA"]);var vre=zt("<div><!></div>"),pre=zt('<div role="button"><!> <div class="anchors left svelte-1iknrz0"><!></div> <div class="anchors right svelte-1iknrz0"><!></div> <div class="anchors top svelte-1iknrz0"><!></div> <div class="anchors bottom svelte-1iknrz0"><!></div></div>');function gre(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(re(),"$groups",r),s=()=>Ue(Ee,"$position",r),o=()=>Ue(Nr,"$selectedNodes",r),a=()=>Ue(vr,"$hiddenNodes",r),u=()=>Ue(zr,"$resized",r),c=()=>Ue(D,"$duplicate",r),f=()=>Ue(le(),"$centerPoint",r),h=()=>Ue(fe,"$widthStore",r),p=()=>Ue(Te,"$heightStore",r),_=()=>Ue(ps,"$initialClickPosition",r),m=()=>Ue(z,"$graphDOMElement",r),y=()=>Ue(Ie,"$zIndex",r),b=()=>Ue(Q(),"$maxZIndex",r),S=()=>Ue(ue(),"$locked",r),E=()=>Ue(qe,"$nodeLock",r),A=()=>Ue(ze,"$editable",r),P=()=>Ue(_t,"$group",r),R=()=>Ue(Yt,"$rotation",r),q=()=>Ue(xe,"$bgColor",r),d=()=>Ue(lt,"$textColor",r),C=()=>Ue(ht,"$borderColor",r),I=()=>Ue(Re,"$selectionColor",r),L=()=>Ue(Ye,"$borderRadius",r),B=()=>Ue(it,"$borderWidth",r),H=ke(),$=ke(),J=ke(),ae=ke(),X=yr("mounted"),D=yr("duplicate"),z=yr("graphDOMElement"),j=ql();let ie=de(t,"node",8),oe=de(t,"isDefault",8),Se=de(t,"useDefaults",8),_e=de(t,"center",8),te=de(t,"nodeStore",8),ue=de(t,"locked",8),re=de(t,"groups",8),Q=de(t,"maxZIndex",8),le=de(t,"centerPoint",8),Ve=de(t,"cursor",8),Le=de(t,"initialNodePositions",8),Ce=de(t,"activeGroup",8),Je=de(t,"editing",8),Ge=de(t,"dimensionsProvided",8,!1),N=de(t,"title",8);const G=Xe(0),Y=Xe(null),K=ie().id,Ee=ie().position,fe=ie().dimensions.width,Te=ie().dimensions.height,Re=ie().selectionColor,ze=ie().editable,qe=ie().locked,Ie=ie().zIndex,xe=ie().bgColor,Ye=ie().borderRadius,lt=ie().textColor,_t=ie().group,ht=ie().borderColor,it=ie().borderWidth,Yt=ie().rotation,{selected:xr,hidden:nr}=i(),vr=nr.nodes,Nr=xr.nodes,zr=Xe(!1);jr("node",ie()),jr("anchorsMounted",G),jr("resized",zr),jr("nodeConnectEvent",Y),ri(()=>{if(_e()){const $t={x:f().x-h()/2,y:f().y-p()/2};ie().position.set($t),uo.set(!0),uo.set(!1)}X.update($t=>$t+1)}),Lu(()=>{T($)&&(o().delete(ie()),Lt(Nr,o())),X.update($t=>$t-1)});function En(){T($)?(ie()&&o().delete(ie()),Lt(Nr,o())):(ie()&&o().add(ie()),Lt(Nr,o()))}function sr($t){Lt(ps,ot(Ve())),m().focus(),y()!==b()&&y()!==1/0&&Lt(Ie,$Q(Q(),b()));const Vr=$t.target;if(!dre.has(Vr.tagName)&&($t.preventDefault(),j("nodeClicked",{node:ie(),e:$t}),!(S()||E()))){if("touches"in $t){if($t.touches&&$t.touches.length>1)return}else $t.button===2&&A()&&Lt(Je(),ie());Lt(uo,!0),Mr($t)}}function Mr($t){let Vr,zn,An=!1;const Wr=P();Wr&&(Vr=i()[Wr],zn=ot(Vr.parent),An=zn===ie()),An?Lt(Ce(),Wr):Lt(Ce(),"selected"),!$t.shiftKey&&T($)?Lt(Ce(),"selected"):(!$t.shiftKey&&!T($)&&!$t.shiftKey&&(o().clear(),Lt(Nr,o())),En()),Lt(Le(),Z7(i().selected.nodes))}function bn(){te().delete(K)}function wn($t){const Vr=ot(Ve()),zn=Vr.x-_().x,An=Vr.y-_().y;Math.abs(zn)+Math.abs(An)<4&&j("nodeReleased",{e:$t,node:ie()}),Lt(Y,$t)}function mn($t){return $t.addEventListener("mousedown",sr),$t.addEventListener("touchstart",sr),{destroy(){$t.removeEventListener("mousedown",sr),$t.removeEventListener("touchstart",sr)}}}De(()=>s(),()=>{ve(H,s())}),De(()=>(o(),kt(ie())),()=>{ve($,o().has(ie()))}),De(()=>(a(),kt(ie())),()=>{ve(J,a().has(ie()))}),De(()=>(kt(Ge()),u()),()=>{ve(ae,Ge()||u())}),De(()=>(T($),c(),kt(ie())),()=>{T($)&&c()&&j("duplicate",ie())}),ai(),fn();var Un=Ht(),ii=bt(Un);{var Ut=$t=>{var Vr=pre();dt(Vr,"id",K);let zn;dt(Vr,"tabindex",0);let An;var Wr=Et(Vr);{var jn=Ft=>{var ut=vre();Lr(ut,"",{},{width:"fit-content",height:"fit-content"});var Ke=Et(ut);pr(Ke,t,"default",{grabHandle:mn,get selected(){return T($)},destroy:bn},null),jC(ut,"clientHeight",yt=>Lt(Te,yt)),jC(ut,"clientWidth",yt=>Lt(fe,yt)),Fe(Ft,ut)},pi=Ft=>{var ut=Ht(),Ke=bt(ut);pr(Ke,t,"default",{grabHandle:mn,get selected(){return T($)},destroy:bn},null),Fe(Ft,ut)};Kt(Wr,Ft=>{T(ae)?Ft(pi,!1):Ft(jn)})}var Qr=ft(Wr,2),Hn=Et(Qr);pr(Hn,t,"anchorWest",{},null);var Nn=ft(Qr,2),gi=Et(Nn);pr(gi,t,"anchorEast",{},null);var Ze=ft(Nn,2),Tt=Et(Ze);pr(Tt,t,"anchorNorth",{},null);var Ot=ft(Ze,2),Dt=Et(Ot);pr(Dt,t,"anchorSouth",{},null),Qi(()=>rr("contextmenu",Vr,Ns(oo(function(Ft){ln.call(this,t,Ft)})))),Qi(()=>rr("mouseup",Vr,wn)),Qs(Vr,Ft=>mn==null?void 0:mn(Ft)),Nt(Ft=>{zn=Mn(Vr,1,"svelvet-node svelte-1iknrz0",null,zn,Ft),dt(Vr,"title",N()),An=Lr(Vr,"",An,{top:`${T(H).y??""}px`,left:`${T(H).x??""}px`,"z-index":y(),width:T(ae)?h()+"px":"fit-content",height:T(ae)?p()+"px":"fit-content",transform:`rotate(${R()??""}deg)`,"--prop-background-color":q()||(oe()||Se()?null:"transparent"),"--prop-text-color":d(),"--prop-border-color":C(),"--prop-selection-color":I(),"--prop-border-radius":L()?`${L()}px`:oe()||Se()?null:"0px","--prop-border-width":B()||(oe()||Se()?null:"0px")}),dt(Qr,"id",`anchors-west-${ie().id}`),dt(Nn,"id",`anchors-east-${ie().id}`),dt(Ze,"id",`anchors-north-${ie().id}`),dt(Ot,"id",`anchors-south-${ie().id}`)},[()=>({selected:T($),locked:S()||E()})],pn),Fe($t,Vr)};Kt(ii,$t=>{T(J)||$t(Ut)})}Fe(e,Un),cr(),n()}var mre=zt("<div></div> <div></div>",1),_re=zt("<div></div> <div></div>",1),yre=zt("<div></div>"),bre=zt("<div></div>"),wre=zt("<!> <!> <!> <!>",1);function xre(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(D,"$position",r),s=()=>Ue(_e,"$widthStore",r),o=()=>Ue(Se,"$heightStore",r),a=()=>Ue(j,"$resizingHeight",r),u=()=>Ue(te,"$cursor",r),c=()=>Ue(oe,"$nodeRotation",r),f=()=>Ue(z,"$resizingWidth",r),h=()=>Ue(ie,"$rotating",r),p=()=>Ue(ps,"$initialClickPosition",r),_=ke(),m=ke(),y=ke(),b=yr("graph"),S=yr("node"),E=yr("resized");let A=de(t,"width",8,!1),P=de(t,"height",8,!1),R=de(t,"rotation",8,!1),q=de(t,"minHeight",12,0),d=de(t,"minWidth",12,0),C,I=A(),L=A(),B=P(),H=P(),$=A()&&P(),J=0,ae=0,X=ke(ot(S.position));const D=S.position,z=S.resizingWidth,j=S.resizingHeight,ie=S.rotating,oe=S.rotation,Se=S.dimensions.height,_e=S.dimensions.width,te=b.cursor;let ue=ke(),re=ke(),Q=ke(1);ri(()=>{try{C=document.querySelector(`#${S.id}`),C&&(Re=>(d(Re[0]),q(Re[1])))(Km(C))}catch(Re){console.error(Re)}});function le(Re,ze){const qe=xe=>{xe.stopPropagation(),xe.preventDefault(),ze.left||ze.top?ve(Q,-1):ve(Q,1),bE.set(!0),Lt(ps,ot(te)),ve(ue,s()),ve(re,o()),ve(X,i()),ze.both?Lt(z,!0):Lt(z,!1),Lt(z,ze.left||ze.right||ze.both||!1),Lt(j,ze.top||ze.bottom||ze.both||!1),C&&(Ye=>(d(Ye[0]),q(Ye[1])))(Km(C)),window.addEventListener("mouseup",Ie)},Ie=()=>{Lt(z,!1),Lt(j,!1),bE.set(!1),window.removeEventListener("mouseup",Ie)};return Re.addEventListener("mousedown",qe),{destroy(){Re.removeEventListener("mousedown",qe)}}}function Ve(Re){const ze=Ie=>{Ie.stopPropagation(),Ie.preventDefault(),J=c(),Lt(ps,ot(te));const xe=p().x-T(y).x,Ye=p().y-T(y).y;ae=Math.atan2(Ye,xe),Lt(ie,!0),window.addEventListener("mouseup",qe)},qe=()=>{Lt(ie,!1),window.removeEventListener("mouseup",qe)};return Re.addEventListener("mousedown",ze),{destroy(){Re.removeEventListener("mousedown",ze)}}}function Le(){const Re=ot(te),ze=Re.x-T(y).x,qe=Re.y-T(y).y,Ie=Math.atan2(qe,ze),xe=ae-Ie;return J-Ce(xe)}function Ce(Re){return Re*(180/Math.PI)}YQ(()=>{C&&(Re=>(d(Re[0]),q(Re[1])))(Km(C)),s()<d()&&E.set(!1),o()<q()&&E.set(!1)}),De(()=>(h(),u()),()=>{h()&&(u(),Lt(oe,Le()))}),De(()=>(a(),u(),kt(q()),T(re),T(Q),T(X),c()),()=>{if(a()){const Re=ot(ps),ze=u(),qe=Math.max(q(),T(re)+(ze.y-Re.y)*T(Q));qe>q()?(E.set(!0),Lt(Se,qe)):E.set(!1),T(Q)===-1&&Lt(D,{x:T(X).x,y:T(X).y+ze.y-Re.y}),c()!==0&&S.position.update(Ie=>({y:T(X).y-(qe-T(re))/2,x:Ie.x}))}}),De(()=>(f(),u(),kt(d()),T(ue),T(Q),T(X),c()),()=>{if(f()){const Re=ot(ps),ze=u(),qe=Math.max(d(),T(ue)+(ze.x-Re.x)*T(Q));qe>d()?(E.set(!0),Lt(_e,qe)):E.set(!1),T(Q)===-1&&Lt(D,{x:T(X).x+ze.x-Re.x,y:T(X).y}),c()!==0&&S.position.update(Ie=>({x:T(X).x-(qe-T(ue))/2,y:Ie.y}))}}),De(()=>i(),()=>{ve(_,i().x)}),De(()=>i(),()=>{ve(m,i().y)}),De(()=>(T(_),s(),T(m),o()),()=>{ve(y,{x:T(_)+s()/2,y:T(m)+o()/2})}),ai(),fn();var Je=wre(),Ge=bt(Je);{var N=Re=>{var ze=mre(),qe=bt(ze);let Ie;Qs(qe,(lt,_t)=>le==null?void 0:le(lt,_t),()=>({left:I}));var xe=ft(qe,2);let Ye;Qs(xe,(lt,_t)=>le==null?void 0:le(lt,_t),()=>({right:L})),Nt((lt,_t)=>{Ie=Mn(qe,1,"left svelte-1ryxg7v",null,Ie,lt),Ye=Mn(xe,1,"right svelte-1ryxg7v",null,Ye,_t)},[()=>({width:A()}),()=>({width:A()})],pn),Fe(Re,ze)};Kt(Ge,Re=>{A()&&Re(N)})}var G=ft(Ge,2);{var Y=Re=>{var ze=_re(),qe=bt(ze);let Ie;Qs(qe,(lt,_t)=>le==null?void 0:le(lt,_t),()=>({top:B}));var xe=ft(qe,2);let Ye;Qs(xe,(lt,_t)=>le==null?void 0:le(lt,_t),()=>({bottom:H})),Nt((lt,_t)=>{Ie=Mn(qe,1,"top svelte-1ryxg7v",null,Ie,lt),Ye=Mn(xe,1,"bottom svelte-1ryxg7v",null,Ye,_t)},[()=>({height:P()}),()=>({height:P()})],pn),Fe(Re,ze)};Kt(G,Re=>{P()&&Re(Y)})}var K=ft(G,2);{var Ee=Re=>{var ze=yre();Mn(ze,1,"svelte-1ryxg7v",null,{},{both:$}),Qs(ze,(qe,Ie)=>le==null?void 0:le(qe,Ie),()=>({both:$})),Fe(Re,ze)};Kt(K,Re=>{$&&Re(Ee)})}var fe=ft(K,2);{var Te=Re=>{var ze=bre();let qe;Qs(ze,Ie=>Ve==null?void 0:Ve(Ie)),Nt(Ie=>qe=Mn(ze,1,"svelte-1ryxg7v",null,qe,Ie),[()=>({rotation:R()})],pn),Fe(Re,ze)};Kt(fe,Re=>{R()&&Re(Te)})}Fe(e,Je),cr(),n()}var Sre=zt("<div></div>");function Ere(e,t){let r=de(t,"output",8),n=de(t,"input",8),i=de(t,"connecting",8),s=de(t,"connected",8),o=de(t,"hovering",8),a=de(t,"bgColor",8);var u=Sre();let c,f;Nt(h=>{c=Mn(u,1,"svelvet-anchor svelte-19t6skv",null,c,h),f=Lr(u,"",f,{"--prop-anchor-color":a()})},[()=>({output:r(),input:n(),connected:s(),connecting:i(),hovering:o()})],pn),Fe(e,u)}let Jm;function Are(e){const t=e.parentNode;if(!t)return;t.removeChild(e);const r=document.querySelector(".svelvet-graph-wrapper");r&&r.appendChild(e)}var Tre=Rn('<defs><marker viewBox="0 0 15 15" markerWidth="15" markerHeight="10" refX="12.5" refY="5" orient="auto"><polygon class="arrow svelte-ppcocz" points="0 0, 15 5, 0 10"></polygon></marker><marker viewBox="0 0 15 15" markerWidth="15" markerHeight="10" refX="0" refY="5" orient="auto"><polygon class="arrow svelte-ppcocz" points="0 5, 15 0, 15 10"></polygon></marker></defs>'),Pre=Rn("<path></path>"),Cre=zt('<div class="default-label svelte-ppcocz"> </div>'),Rre=Rn('<foreignObject width="100%" height="100%" class="svelte-ppcocz"><span class="label-wrapper svelte-ppcocz"><!></span></foreignObject>'),Ire=Rn('<svg class="edges-wrapper svelte-ppcocz"><!><path role="presentation"></path><!><!></svg>');function wE(e,t){var qt,en;const r=a2(t);ur(t,!1);const[n,i]=yn(),s=()=>Ue($t,"$sourceDynamic",n),o=()=>Ue(Vr,"$targetDynamic",n),a=()=>Ue(T(d),"$edgeColor",n),u=()=>Ue(T(C),"$edgeLabel",n),c=()=>Ue(ii,"$sourcePositionStore",n),f=()=>Ue(Ut,"$targetPositionStore",n),h=()=>Ue(Wr,"$sourceNodePositionStore",n),p=()=>Ue(jn,"$targetNodePositionStore",n),_=()=>Ue(bn,"$sourceDirection",n),m=()=>Ue(mn,"$sourceRotation",n),y=()=>Ue(wn,"$targetDirection",n),b=()=>Ue(Un,"$targetRotation",n),S=()=>Ue(pi,"$edgeType",n),E=()=>Ue(zn,"$sourceMoving",n),A=()=>Ue(An,"$targetMoving",n),P=()=>Ue(T(Ge),"$sourceZIndex",n),R=()=>Ue(T(N),"$targetZIndex",n),q=ke(),d=ke(),C=ke(),I=ke(),L=ke(),B=ke(),H=ke(),$=ke(),J=ke(),ae=ke(),X=ke(),D=ke(),z=ke(),j=ke(),ie=ke(),oe=ke(),Se=ke(),_e=ke(),te=ke(),ue=ke(),re=ke(),Q=ke(),le=ke(),Ve=ke(),Le=ke(),Ce=ke(),Je=ke(),Ge=ke(),N=ke(),G=ke(),Y=ke(),K=yr("edgeStore"),Ee=yr("edgeStyle"),fe=yr("endStyles"),Te=yr("raiseEdgesOnSelect"),Re=yr("edgesAboveNode");let ze=de(t,"edge",24,()=>yr("edge")),qe=de(t,"straight",8,Ee==="straight"),Ie=de(t,"step",8,Ee==="step"),xe=de(t,"start",24,()=>fe[0]),Ye=de(t,"end",24,()=>fe[1]),lt=de(t,"animate",8,!1),_t=de(t,"label",8,""),ht=de(t,"enableHover",8,!1),it=de(t,"edgeClick",8,null),Yt=de(t,"labelPosition",8,.5),xr=de(t,"width",8,null),nr=de(t,"color",8,null),vr=de(t,"labelColor",8,null),Nr=de(t,"textColor",8,null),zr=de(t,"cornerRadius",8,8),En=de(t,"targetColor",8,null);const sr=ze().source,Mr=ze().target,bn=sr.direction,wn=Mr.direction,mn=sr.rotation,Un=Mr.rotation,ii=sr.position,Ut=Mr.position,$t=sr.dynamic,Vr=Mr.dynamic,zn=sr.moving,An=Mr.moving,Wr=(qt=sr.node)==null?void 0:qt.position,jn=(en=Mr.node)==null?void 0:en.position,pi=ze().type,Qr=ze().id;let Hn=ke(),Nn=ke(),gi=ke({x:0,y:0}),Ze=ke(!1),Tt=ke(!1),Ot=ke(!1),Dt=ke(!1),Ft=ke(!1),ut=ke();ze().rendered.set(!0),ri(()=>{setTimeout(()=>{T(Nn)&&ve(gi,Zm(T(Nn),Yt()))},0),Are(T(ut))}),f2(()=>{T(Nn)&&ve(gi,Zm(T(Nn),Yt()))}),Lu(()=>{T(ut).remove(),cancelAnimationFrame(Jm)});function Ke(){T(Ze)&&(T(Nn)&&ve(gi,Zm(T(Nn),Yt())),Jm=requestAnimationFrame(Ke))}function yt(){if(sr.id===null||Mr.id===null)return;const Tr=K.match(sr,Mr);K.delete(Tr[0]),sr==null||sr.connected.update(qr=>(Mr&&qr.delete(Mr),qr)),Mr==null||Mr.connected.update(qr=>(sr&&qr.delete(sr),qr))}De(()=>(s(),o()),()=>{ve(q,s()||o())}),De(()=>{},()=>{Ua(ve(d,(sr==null?void 0:sr.edgeColor)||(Mr==null?void 0:Mr.edgeColor)||null),"$edgeColor",n)}),De(()=>kt(ze()),()=>{var Tr;Ua(ve(C,(Tr=ze().label)==null?void 0:Tr.text),"$edgeLabel",n)}),De(()=>(kt(nr()),a()),()=>{ve(I,nr()||a()||null)}),De(()=>(kt(_t()),u()),()=>{ve(L,_t()||u()||"")}),De(()=>T(L),()=>{ve(B,T(L)||r.label)}),De(()=>c(),()=>{ve(H,c())}),De(()=>f(),()=>{ve($,f())}),De(()=>h(),()=>{ve(J,h())}),De(()=>p(),()=>{ve(ae,p())}),De(()=>T(H),()=>{ve(X,T(H).x)}),De(()=>T(H),()=>{ve(D,T(H).y)}),De(()=>T($),()=>{ve(z,T($).x)}),De(()=>T($),()=>{ve(j,T($).y)}),De(()=>(T(z),T(X)),()=>{ve(ie,T(z)-T(X))}),De(()=>(T(j),T(D)),()=>{ve(oe,T(j)-T(D))}),De(()=>T(ie),()=>{ve(Se,Math.abs(T(ie)))}),De(()=>T(oe),()=>{ve(_e,Math.abs(T(oe)))}),De(()=>T(Se),()=>{ve(te,Math.max(30,Math.min(600,T(Se)/2)))}),De(()=>T(_e),()=>{ve(ue,Math.max(30,Math.min(600,T(_e)/2)))}),De(()=>(T(q),T(ae),T(J),T(Ot),T(Dt),ot),()=>{if(T(q)&&sr.node&&Mr.node){const Tr=T(ae).x-T(J).x,qr=T(ae).y-T(J).y;ve(Ot,qr>0),ve(Dt,Tr>0);let Gr,Pr;if(T(Ot)){const Tn=ot(sr.node.dimensions.height),Zt=T(J).y+Tn;Gr=T(ae).y-Zt}else{const Tn=ot(Mr.node.dimensions.height),Zt=T(ae).y+Tn;Gr=T(J).y-Zt}if(T(Dt)){const Tn=ot(sr.node.dimensions.width),Zt=T(J).x+Tn;Pr=T(ae).x-Zt}else{const Tn=ot(Mr.node.dimensions.width),Zt=T(ae).x+Tn;Pr=T(J).x-Zt}ve(Tt,Gr>Pr)}}),De(()=>(T(q),T(Tt),T(Ot),T(Dt),s(),o()),()=>{if(T(q)){let Tr,qr;T(Tt)?(Tr=T(Ot)?"south":"north",qr=T(Ot)?"north":"south"):(Tr=T(Dt)?"east":"west",qr=T(Dt)?"west":"east"),s()&&Lt(bn,Tr),o()&&Lt(wn,qr)}}),De(()=>(_(),m()),()=>{ve(re,iR(Qf[_()],m()||0))}),De(()=>(y(),b()),()=>{ve(Q,iR(Qf[y()],b()||0))}),De(()=>(T(X),T(re),T(te)),()=>{ve(le,T(X)+T(re).x*T(te))}),De(()=>(T(D),T(re),T(ue)),()=>{ve(Ve,T(D)+T(re).y*T(ue))}),De(()=>(T(z),T(Q),T(te)),()=>{ve(Le,T(z)+T(Q).x*T(te))}),De(()=>(T(j),T(Q),T(ue)),()=>{ve(Ce,T(j)+T(Q).y*T(ue))}),De(()=>(T(le),T(Ve),T(Le),T(Ce)),()=>{ve(Je,`C ${T(le)}, ${T(Ve)} ${T(Le)}, ${T(Ce)}`)}),De(()=>(kt(Ie()),S(),T(X),T(D),kt(qe()),T(Je),T(z),T(j)),()=>{(!Ie()||Qr==="cursor"||S()==="bezier")&&ve(Hn,`M ${T(X)}, ${T(D)} ${qe()?"":T(Je)} ${T(z)}, ${T(j)}`)}),De(()=>(T(B),T(Ze),E(),A()),()=>{T(B)&&!T(Ze)&&(E()||A()||Qr==="cursor")?(ve(Ze,!0),Ke()):T(Ze)&&!E()&&!A()&&Qr!=="cursor"&&(ve(Ze,!1),cancelAnimationFrame(Jm))}),De(()=>(kt(Ie()),S(),T(X),T(D),_(),T(z),T(j),y(),kt(zr()),sR),()=>{if(Ie()&&Qr!=="cursor"&&!(S()&&S()==="bezier")){const Tr={x:T(X),y:T(D),direction:Qf[_()]},qr={x:T(z),y:T(j),direction:Qf[y()]},Gr=Wte(Tr,qr,Mte),Pr=(Tn,Zt,mi)=>{if(Zt<Gr.length-1){const Ei=_te(Tn,Gr[Zt+1]);return yte(mi,Ei)}return""};ve(Hn,Gr.reduce((Tn,Zt,mi)=>{const Ei=Math.sign(Zt.x),Vi=Math.sign(Zt.y);let Qe=Zt.x,gt=Zt.y,vt="";if(zr()){const pt=Gr[mi+1]||{x:0,y:0},It=Gr[mi-1]||{x:0,y:0},or=nv(Zt.x,pt.x,zr()),Xr=nv(pt.y,Zt.y,zr()),hn=nv(It.x,Zt.x,zr()),$r=nv(It.y,Zt.y,zr()),xn=Math.min(hn,$r),Vn=Math.min(or,Xr);Zt.x?Qe=Zt.x-(Vn+xn)*Ei:gt=Zt.y-(Vn+xn)*Vi,vt=Pr(Zt,mi,Vn)}return sR(Tn,Qe,gt,vt)},`M ${T(X)}, ${T(D)}`))}}),De(()=>{},()=>{Ua(ve(Ge,sr.node.zIndex||0),"$sourceZIndex",n)}),De(()=>{},()=>{Ua(ve(N,Mr.node.zIndex||0),"$targetZIndex",n)}),De(()=>(P(),R()),()=>{ve(G,Math.max(P(),R()))}),De(()=>(T(G),P(),R()),()=>{ve(Y,Re==="all"?1e5:Re?T(G):Te===!0?T(G)-1:Te==="source"?P()-1:Te==="target"?R()-1:0)}),ai(),fn();var Ct=Ht(),jt=bt(Ct);{var un=Tr=>{var qr=Ire();let Gr;var Pr=Et(qr);{var Tn=vt=>{var pt=Tre(),It=Et(pt);dt(It,"id",Qr+"-end-arrow");var or=Et(It);let Xr;var hn=ft(It);dt(hn,"id",Qr+"-start-arrow");var $r=Et(hn);let xn;Nt(()=>{Xr=Lr(or,"",Xr,{"--prop-edge-color":T(I)}),xn=Lr($r,"",xn,{"--prop-edge-color":T(I)})}),Fe(vt,pt)};Kt(Pr,vt=>{(xe()||Ye())&&vt(Tn)})}var Zt=ft(Pr);dt(Zt,"id",Qr+"-target");let mi,Ei;ya(Zt,vt=>ve(Nn,vt),()=>T(Nn));var Vi=ft(Zt);pr(Vi,t,"default",{get path(){return T(Hn)},destroy:yt,get hovering(){return T(Ft)}},vt=>{var pt=Pre();dt(pt,"id",Qr);let It,or;Nt(Xr=>{It=Mn(pt,0,"edge svelte-ppcocz",null,It,Xr),dt(pt,"d",T(Hn)),dt(pt,"marker-end",Ye()==="arrow"?`url(#${Qr+"-end-arrow"})`:""),dt(pt,"marker-start",xe()==="arrow"?`url(#${Qr+"-start-arrow"})`:""),or=Lr(pt,"",or,{"--prop-edge-color":T(I),"--prop-stroke-width":xr()?xr()+"px":null})},[()=>({animate:lt()})],pn),Fe(vt,pt)});var Qe=ft(Vi);{var gt=vt=>{var pt=Rre(),It=Et(pt),or=Et(It);pr(or,t,"label",{destroy:yt,get hovering(){return T(Ft)}},Xr=>{var hn=Cre();let $r;var xn=Et(hn);Nt(()=>{$r=Lr(hn,"",$r,{"--prop-label-color":vr(),"--prop-label-text-color":Nr()}),lo(xn,T(L))}),Fe(Xr,hn)}),Nt(()=>{dt(pt,"x",T(gi).x),dt(pt,"y",T(gi).y)}),Fe(vt,pt)};Kt(Qe,vt=>{T(B)&&vt(gt)})}ya(qr,vt=>ve(ut,vt),()=>T(ut)),Nt(vt=>{Gr=Lr(qr,"",Gr,{"z-index":T(Y)}),mi=Mn(Zt,0,"target svelte-ppcocz",null,mi,vt),dt(Zt,"d",T(Hn)),Ei=Lr(Zt,"",Ei,{cursor:it()||T(Ft)?"pointer":"move","--prop-target-edge-color":it()||T(Ft)?En()||null:"transparent"})},[()=>({cursor:Qr==="cursor"||!it()&&!ht()})],pn),rr("mousedown",Zt,function(...vt){var pt;(pt=it())==null||pt.apply(this,vt)}),rr("mouseenter",Zt,()=>ve(Ft,!0)),rr("mouseleave",Zt,()=>ve(Ft,!1)),Fe(Tr,qr)};Kt(jt,Tr=>{sr&&Mr&&Tr(un)})}Fe(e,Ct),c2(t,"destroy",yt);var Wn=cr({destroy:yt});return i(),Wn}function lR(e,t){ur(t,!1);let r=de(t,"edge",8);jr("edge",r()),fn();var n=Ht(),i=bt(n);pr(i,t,"default",{},null),Fe(e,n),cr()}let Qm;const ua=Xe(null);function Ore(e,t,r){if(t==="self")return;const n=e.parentNode;if(!n)return;n.removeChild(e);const i=document.querySelector(`#anchors-${t}-${r.id}`);i&&(i.appendChild(e),e&&r.recalculateAnchors())}var Mre=zt('<div role="button" tabindex="0"><!></div> <!> <!>',1);function eh(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(ua,"$connectingFrom",r),s=()=>Ue(_t,"$nodeLevelConnections",r),o=()=>Ue($,"$anchorsMounted",r),a=()=>Ue(T(E),"$dynamicDirection",r),u=()=>Ue(C,"$mounted",r),c=()=>Ue(H,"$nodeConnectEvent",r),f=()=>Ue(Ie,"$anchors",r),h=()=>Ue(T(S),"$connectedAnchors",r),p=()=>Ue(xe,"$resizingWidth",r),_=()=>Ue(Ye,"$resizingHeight",r),m=()=>Ue(lt,"$rotating",r),y=()=>Ue(Se(),"$inputsStore",r),b=ke(),S=ke(),E=ke(),A=yr("dynamic"),P=yr("node"),R=yr("edgeStore"),q=yr("cursorAnchor"),d=yr("direction"),C=yr("mounted"),I=yr("graph"),L=yr("nodeStore"),B=yr("graphEdge"),H=yr("nodeConnectEvent"),$=yr("anchorsMounted"),J=yr("flowchart")||void 0;let ae=de(t,"bgColor",8,null),X=de(t,"id",8,0),D=de(t,"input",8,!1),z=de(t,"output",8,!1),j=de(t,"multiple",24,()=>z()?!0:!D()),ie=de(t,"dynamic",8,A||!1),oe=de(t,"edge",8,null),Se=de(t,"inputsStore",8,null),_e=de(t,"key",8,null),te=de(t,"outputStore",8,null),ue=de(t,"connections",28,()=>[]),re=de(t,"edgeColor",24,()=>Xe(null)),Q=de(t,"edgeLabel",8,""),le=de(t,"locked",8,!1),Ve=de(t,"nodeConnect",8,!1),Le=de(t,"edgeStyle",8,null),Ce=de(t,"endStyles",24,()=>[null,null]),Je=de(t,"invisible",8,!1),Ge=de(t,"direction",24,()=>d==="TD"?D()?"north":"south":D()?"west":"east"),N=de(t,"title",8,"");const G=ql(),Y=ql();let K=ke(),Ee=ke(!1),fe=ke(!1),Te=ke(0),Re=D()===z()?null:D()?"input":"output",ze=ke([]);const qe=P.edge,Ie=P.anchors,xe=P.resizingWidth,Ye=P.resizingHeight,lt=P.rotating,_t=P.connections,ht=`A-${X()||Ie.count()+1}/${P.id}`,it=nre(I,P,ht,{x:0,y:0},{width:0,height:0},Se()||te()||null,oe()||qe||B||null,Re,Ge(),ie(),_e(),re());Ie.add(it,it.id),ri(()=>{var Tt;T(K)&&it.recalculatePosition();const Ze=Array.from(ot(P.anchors)).reduce((Ot,[,Dt])=>(Dt.type==="output"&&Ot++,Ot),0);if((Tt=s())!=null&&Tt.length&&!D()){const Ot=[];let Dt=null;s().forEach((Ft,ut)=>{Ft&&(Dt===null&&(Dt=ut),(ut-Dt)%Ze===0?(T(ze).push(Ft),Ot.push(null)):Ot.push(Ft))}),Lt(_t,Ot)}GQ($,o())}),f2(()=>{T(K)&&it.recalculatePosition()}),Lu(()=>{Un(),cancelAnimationFrame(Qm)});function Yt(Ze){var yt;R.delete("cursor");const Tt={x:Ze.changedTouches[0].clientX,y:Ze.changedTouches[0].clientY},Ot=document.elementFromPoint(Tt.x,Tt.y);if(!Ot)return;const Dt=Ot.parentElement;if(!Dt)return;const Ft=Dt.id,ut=Ft.split("/")[1],Ke=(yt=L.get(ut))==null?void 0:yt.anchors.get(Ft);Ke&&(R.delete("cursor"),xr(it,Ke,Ze))}function xr(Ze,Tt,Ot){const Dt=sr(Ze,Tt);Dt&&Mr(),Ot.shiftKey||wn(Dt)}function nr(Ze){var Tt;if("changedTouches"in Ze&&T(b)){Yt(Ze);return}if(!T(b)){if((Tt=h())!=null&&Tt.size&&!j()){R.delete("cursor"),Ze.shiftKey||wn(!1);return}i()&&En(Ze)}}function vr(Ze){var Tt;if(!le()){if((Tt=h())!=null&&Tt.size&&!j()&&!i())return ii();if(!i())return Nr();En(Ze)}}function Nr(){D()===z()?(Lt(ua,{anchor:it,store:null,key:null}),zr(it,q)):D()?(Lt(ua,{anchor:it,store:Se(),key:_e()}),zr(q,it)):z()&&(Lt(ua,{anchor:it,store:te(),key:null}),zr(it,q))}function zr(Ze,Tt,Ot=!1){const Dt={color:re(),label:{text:Q()}};Ot&&(Dt.disconnect=!0),Le()&&(Dt.type=Le()),Ce()[0]&&(Dt.start=Ce()[0]),Ce()[1]&&(Dt.start=Ce()[1]);const Ft=oR({source:Ze,target:Tt},(Ze==null?void 0:Ze.edge)||null,Dt);R.add(Ft,"cursor")}function En(Ze){if(R.delete("cursor"),!i())return;const Tt=i().anchor.type;if(i().anchor===it||Tt===it.type&&Tt){wn(!1);return}it.recalculatePosition();let Ot,Dt;D()===z()?Tt==="input"?(Ot=it,Dt=i().anchor):(Ot=i().anchor,Dt=it):D()?(Ot=i().anchor,Dt=it):(Ot=it,Dt=i().anchor),xr(Ot,Dt,Ze)}function sr(Ze,Tt){if(Ze===Tt||ot(Ze.connected).has(it))return!1;const Ot={color:re(),label:{text:Q()}};if(J){const Ft=Ze.node.id.slice(2),ut=J.nodeList[Ft];if(ut){const Ke=Tt.node.id.slice(2),yt=ut.children.filter(Ct=>Ct.node.id===Ke)[0];if(yt){const Ct=yt;Ot.label={text:Ct.content}}}}Le()&&(Ot.type=Le()),Ce()[0]&&(Ot.start=Ce()[0]),Ce()[1]&&(Ot.start=Ce()[1]);const Dt=oR({source:Ze,target:Tt},(Ze==null?void 0:Ze.edge)||null,Ot);return!Ze.node||!Tt.node?!1:(R.add(Dt,new Set([Ze,Tt,Ze.node,Tt.node])),!0)}function Mr(){if(D()&&i()&&i().store)y()&&_e()&&Se()&&typeof Se().set=="function"&&typeof Se().update=="function"&&Pu(Se(),nn(y)[_e()]=i().store,nn(y));else if(z()&&i()&&i().store){const{store:Ze,key:Tt}=i();Ze&&Tt&&typeof Ze.update=="function"&&Ze.update(Ot=>(te()&&(Ot[Tt]=te()),Ot))}}function bn(){y()&&_e()&&y()[_e()]&&Pu(Se(),nn(y)[_e()]=Xe(ot(y()[_e()])),nn(y))}function wn(Ze){(Ze||!c())&&(Lt(ua,null),Lt(H,null))}function mn(){T(Ee)&&(T(K)&&it.recalculatePosition(),Qm=requestAnimationFrame(mn))}function Un(){R.delete("cursor"),R.match(it).forEach(Tt=>R.delete(Tt)),wn(!1),bn()}function ii(){if(ot(it.connected).size>1)return;const Ze=Array.from(ot(it.connected))[0];if(Ze.type!=="input")if(Un(),Ze.type==="output"){zr(Ze,q,!0),bn();const Tt=Ze.store;Lt(ua,{anchor:Ze,store:Tt,key:null})}else zr(Ze,q,!0),Lt(ua,{anchor:Ze,store:null,key:null})}function Ut(){T(ze).forEach((Ze,Tt)=>{if(!Ze)return;zn(Ze)&&ue(ue()[Tt]=null,!0)}),ve(ze,T(ze).filter(Ze=>Ze!==null))}function $t(){ue().forEach(Ze=>{Ze&&zn(Ze)})}function Vr(Ze){const Tt=`N-${Ze[0]}`,Ot=L.get(Tt);if(!Ot)return;const Dt=Ot.anchors.get(`A-${Ze[1]}/N-${Ze[0]}`);if(!Dt)return;const Ft=R.match(it,Dt);Ft&&R.delete(Ft[0])}const zn=Ze=>{let Tt,Ot,Dt=null;Array.isArray(Ze)?(Tt=Ze[0].toString(),Ot=Ze[1].toString()):(Tt=Ze.toString(),Ot=null);const Ft=`N-${Tt}`,ut=L.get(Ft);if(!ut)return!1;if(Ot){const Ke=`A-${Ot}/${Ft}`;Dt=ut.anchors.get(Ke)||null}else{const Ke=ot(ut.anchors),yt=Array.from(Ke.values());if(!yt.length)return!1;Dt=yt.reduce((Ct,jt)=>!Ct&&jt.type==="output"?null:jt.type==="output"?Ct:!Ct||ot(jt.connected).size<ot(Ct.connected).size?jt:Ct,null)}if(!Dt)return!1;if(sr(it,Dt),Dt.store&&(Se()||te())){if(D()&&Dt.type==="output")y()&&_e()&&Se()&&typeof Se().set=="function"&&typeof Se().update=="function"&&Pu(Se(),nn(y)[_e()]=Dt.store,nn(y));else if(z()&&Dt.type==="input"){const{store:Ke,inputKey:yt}=Dt;Ke&&yt&&typeof Ke.update=="function"&&Ke.update(Ct=>(te()&&(Ct[yt]=te()),Ct))}}return!0};De(()=>i(),()=>{var Ze;ve(b,((Ze=i())==null?void 0:Ze.anchor)===it)}),De(()=>{},()=>{Ua(ve(S,it&&it.connected),"$connectedAnchors",r)}),De(()=>{},()=>{Ua(ve(E,it==null?void 0:it.direction),"$dynamicDirection",r)}),De(()=>(kt(ie()),T(K),a()),()=>{ie()&&T(K)&&Ore(T(K),a(),P)}),De(()=>(u(),kt(ue())),()=>{u()===L.count()&&ue().length&&$t()}),De(()=>(kt(Ve()),c()),()=>{Ve()&&c()&&nr(c())}),De(()=>(u(),T(ze)),()=>{u()===L.count()&&T(ze).length&&Ut()}),De(()=>(T(K),f(),h(),a()),()=>{T(K)&&(f(),h(),a(),it.recalculatePosition())}),De(()=>(T(Ee),p(),_(),m()),()=>{!T(Ee)&&(p()||_()||m())?(ve(Ee,!0),mn()):!p()&&!_()&&T(Ee)&&!m()&&(ve(Ee,!1),cancelAnimationFrame(Qm))}),De(()=>(h(),T(Te)),()=>{if(h()){if(h().size<T(Te))Y("disconnection",{node:P,anchor:it});else if(h().size>T(Te)){const Ze=Array.from(h()),Tt=Ze[Ze.length-1];G("connection",{node:P,anchor:it,connectedNode:Tt.node,connectedAnchor:Tt})}ve(Te,h().size)}}),ai(),fn();var An=Mre(),Wr=bt(An);let jn;var pi=Et(Wr);pr(pi,t,"default",{get linked(){var Ze;return((Ze=h())==null?void 0:Ze.size)>=1},get hovering(){return T(fe)},get connecting(){return T(b)}},Ze=>{var Tt=Ht(),Ot=bt(Tt);{var Dt=Ft=>{const ut=pn(()=>{var Ke;return((Ke=h())==null?void 0:Ke.size)>=1});Ere(Ft,{get output(){return z()},get input(){return D()},get connecting(){return T(b)},get hovering(){return T(fe)},get bgColor(){return ae()},get connected(){return T(ut)}})};Kt(Ot,Ft=>{Je()||Ft(Dt)})}Fe(Ze,Tt)}),ya(Wr,Ze=>ve(K,Ze),()=>T(K));var Qr=ft(Wr,2);Ni(Qr,1,()=>Array.from(h()),Ze=>Ze.id,(Ze,Tt,Ot,Dt)=>{var Ft=Ht();const ut=pn(()=>R.fetch(it,T(Tt)));var Ke=bt(Ft);{var yt=Ct=>{const jt=pn(()=>T(ut).component);lR(Ct,{get edge(){return T(ut)},children:(un,Wn)=>{var qt=Ht(),en=bt(qt);pr(en,t,"edge",{},Tr=>{var qr=Ht(),Gr=bt(qr);{var Pr=Zt=>{T(jt)(Zt,{})},Tn=Zt=>{wE(Zt,{})};Kt(Gr,Zt=>{T(jt)?Zt(Pr):Zt(Tn,!1)})}Fe(Tr,qr)}),Fe(un,qt)},$$slots:{default:!0}})};Kt(Ke,Ct=>{T(ut)&&T(ut).source===it&&Ct(yt)})}Fe(Ze,Ft)});var Hn=ft(Qr,2);{var Nn=Ze=>{var Tt=Ht();const Ot=pn(()=>R.get("cursor"));var Dt=bt(Tt);{var Ft=ut=>{const Ke=pn(()=>T(Ot).component);lR(ut,{get edge(){return T(Ot)},children:(yt,Ct)=>{var jt=Ht(),un=bt(jt);pr(un,t,"edge",{},Wn=>{var qt=Ht(),en=bt(qt);{var Tr=Gr=>{T(Ke)(Gr,{})},qr=Gr=>{wE(Gr,{})};Kt(en,Gr=>{T(Ke)?Gr(Tr):Gr(qr,!1)})}Fe(Wn,qt)}),Fe(yt,jt)},$$slots:{default:!0}})};Kt(Dt,ut=>{T(Ot)&&ut(Ft)})}Fe(Ze,Tt)};Kt(Hn,Ze=>{T(b)&&Ze(Nn)})}Nt(Ze=>{dt(Wr,"id",it==null?void 0:it.id),jn=Mn(Wr,1,"anchor-wrapper svelte-bazd6o",null,jn,Ze),dt(Wr,"title",N()||"")},[()=>({locked:le()})],pn),rr("mouseenter",Wr,()=>ve(fe,!0)),rr("mouseleave",Wr,()=>ve(fe,!1)),rr("mousedown",Wr,Ns(oo(vr))),rr("mouseup",Wr,oo(nr)),rr("touchstart",Wr,Ns(oo(vr))),rr("touchend",Wr,oo(nr)),Fe(e,An),c2(t,"disconnect",Vr);var gi=cr({disconnect:Vr});return n(),gi}var kre=zt("<!> <!>",1),Lre=zt("<div></div> <div></div>",1),Nre=zt('<div><!> <p class="svelte-j5bq7k"> </p> <!></div>');function qre(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(m,"$borderRadius",r),s=()=>Ue(b,"$inputs",r),o=()=>Ue(S,"$outputs",r),a=()=>Ue(y,"$textColor",r),u=()=>Ue(_,"$label",r),c=()=>Ue(E,"$resizable",r),f=yr("dynamic"),h=yr("node");let p=de(t,"selected",8);const _=h.label,m=h.borderRadius,y=h.textColor,b=h.inputs,S=h.outputs,E=h.resizable,A=ot(h.direction);let P=A==="TD",R=A==="TD",q=A!=="TD",d=A!=="TD";fn();var C=Nre();let I,L;var B=Et(C);{var H=j=>{var ie=kre(),oe=bt(ie);Ni(oe,1,()=>({length:s()}),Eu,(_e,te)=>{eh(_e,{$$events:{connection(ue){ln.call(this,t,ue)},disconnection(ue){ln.call(this,t,ue)}}})});var Se=ft(oe,2);Ni(Se,1,()=>({length:o()}),Eu,(_e,te)=>{eh(_e,{$$events:{connection(ue){ln.call(this,t,ue)},disconnection(ue){ln.call(this,t,ue)}}})}),Fe(j,ie)},$=j=>{var ie=Lre(),oe=bt(ie);Mn(oe,1,"input-anchors svelte-j5bq7k",null,{},{top:P,left:q}),Ni(oe,5,()=>({length:s()}),Eu,(_e,te)=>{eh(_e,{input:!0,direction:P?"north":"west",$$events:{connection(ue){ln.call(this,t,ue)},disconnection(ue){ln.call(this,t,ue)}}})});var Se=ft(oe,2);Mn(Se,1,"output-anchors svelte-j5bq7k",null,{},{bottom:R,right:d}),Ni(Se,5,()=>({length:o()}),Eu,(_e,te)=>{eh(_e,{output:!0,direction:P?"south":"east",$$events:{connection(ue){ln.call(this,t,ue)},disconnection(ue){ln.call(this,t,ue)}}})}),Fe(j,ie)};Kt(B,j=>{f?j(H):j($,!1)})}var J=ft(B,2);let ae;var X=Et(J),D=ft(J,2);{var z=j=>{xre(j,{width:!0,height:!0,rotation:!0})};Kt(D,j=>{c()&&j(z)})}Nt(j=>{I=Mn(C,1,"default-node svelte-j5bq7k",null,I,j),L=Lr(C,"",L,{"border-radius":`${i()??""}px`}),ae=Lr(J,"",ae,{color:a()}),lo(X,u())},[()=>({selected:p()})],pn),Fe(e,C),cr(),n()}function v2(e,t){const r=a2(t);ur(t,!1);const[n,i]=yn(),s=()=>Ue(T(a),"$nodePosition",n),o=()=>Ue(Se,"$nodes",n),a=ke(),u=yr("graph"),c=yr("group");let f=de(t,"position",28,()=>({x:0,y:0})),h=de(t,"drop",8,!1),p=de(t,"dimensions",8,null),_=de(t,"id",8,0),m=de(t,"bgColor",8,null),y=de(t,"borderRadius",8,null),b=de(t,"borderColor",8,null),S=de(t,"borderWidth",8,null),E=de(t,"selectionColor",8,null),A=de(t,"textColor",8,null),P=de(t,"resizable",8,!1),R=de(t,"label",8,""),q=de(t,"inputs",8,1),d=de(t,"outputs",8,1),C=de(t,"width",8,null),I=de(t,"height",8,null),L=de(t,"TD",8,!1),B=de(t,"LR",8,!1),H=de(t,"zIndex",8,1),$=de(t,"editable",8,!0),J=de(t,"locked",8,!1),ae=de(t,"rotation",8,0),X=de(t,"edge",8,null),D=de(t,"connections",24,()=>[]),z=de(t,"useDefaults",8,!1),j=de(t,"center",8,!1),ie=de(t,"dynamic",8,!1),oe=de(t,"title",8,"");const Se=u.nodes;jr("dynamic",ie());let _e=ke(),te=ke(!0);ri(()=>{const Ce=L()?"TD":B()?"LR":u.direction,Je=u.groupBoxes.get(c),Ge=u.nodes.count()+1;ve(te,!r.default),(r.anchorWest||r.anchorEast||r.anchorNorth||r.anchorSouth)&&ve(te,!1);const N=p()?p():C()||I()?{width:C()||I()||200,height:I()||C()||100}:T(te)?{width:200,height:100}:{width:0,height:0},G={id:_()||Ge,position:h()==="cursor"?{x:ot(u.cursor).x,y:ot(u.cursor).y}:Je?{x:ot(Je.position).x+f().x,y:ot(Je.position).y+f().y}:f(),dimensions:N,editable:$()||u.editable,label:R(),group:c,resizable:P(),inputs:q(),outputs:d(),zIndex:H(),direction:Ce,locked:J(),rotation:ae()};D().length&&(G.connections=D()),S()&&(G.borderWidth=S()),y()&&(G.borderRadius=y()),b()&&(G.borderColor=b()),E()&&(G.selectionColor=E()),A()&&(G.textColor=A()),m()&&(G.bgColor=m()),X()&&(G.edge=X()),ve(_e,Zte(G)),Je&&u.groups.update(Y=>{const K=ot(Y[c].nodes);return Y[c].nodes.set(new Set([...K,T(_e)])),Y}),u.nodes.add(T(_e),T(_e).id)}),Lu(()=>{u.nodes.delete(T(_e).id)});function ue(Ce){T(_e)&&T(_e).connections.set([Ce])}function re(Ce){if(!T(_e))return;(Array.isArray(Ce)?Ce:[Ce]).forEach(Ge=>{const[N,G]=Array.isArray(Ge)?Ge:[Ge,null],Y=`N-${N}`,K=u.nodes.get(Y);if(!K)return;let Ee=null;const fe=G?`A-${G}/${Y}`:null;fe&&(Ee=K.anchors.get(fe));const Te=u.edges.match(T(_e),K,Ee);Te.length&&u.edges.delete(Te[Te.length-1])})}jr("connect",ue),jr("disconnect",re);let Q=ke(f());De(()=>(T(_e),kt(D())),()=>{T(_e)&&T(_e).connections.set(D())}),De(()=>(T(_e),kt(m())),()=>{T(_e)&&T(_e).bgColor.set(m())}),De(()=>(T(_e),kt(R())),()=>{T(_e)&&T(_e).label.set(R())}),De(()=>(T(_e),kt(A())),()=>{T(_e)&&T(_e).textColor.set(A())}),De(()=>(T(_e),kt(b())),()=>{T(_e)&&T(_e).borderColor.set(b())}),De(()=>(T(_e),kt(E())),()=>{T(_e)&&T(_e).selectionColor.set(E())}),De(()=>(T(_e),kt(P())),()=>{T(_e)&&T(_e).resizable.set(P())}),De(()=>(T(_e),kt($())),()=>{T(_e)&&T(_e).editable.set($())}),De(()=>(T(_e),kt(J())),()=>{T(_e)&&T(_e).locked.set(J())}),De(()=>(T(_e),kt(q())),()=>{T(_e)&&T(_e).inputs.set(q())}),De(()=>(T(_e),kt(d())),()=>{T(_e)&&T(_e).outputs.set(d())}),De(()=>(T(_e),kt(H())),()=>{T(_e)&&T(_e).zIndex.set(H())}),De(()=>T(_e),()=>{var Ce;Ua(ve(a,T(_e)&&((Ce=T(_e))==null?void 0:Ce.position)),"$nodePosition",n)}),De(()=>(T(_e),T(Q),s(),kt(f())),()=>{if(T(_e)){const{x:Ce,y:Je}=T(Q),{x:Ge,y:N}=s(),{x:G,y:Y}=f();(G!==Ge||Y!==N)&&(G!==Ce||Y!==Je?(ve(Q,f()),T(_e).position.set(f())):(ve(Q,s()),f(s())))}}),De(()=>(T(_e),kt(q())),()=>{T(_e)&&T(_e).inputs.set(q())}),De(()=>(T(_e),kt(d())),()=>{T(_e)&&T(_e).outputs.set(d())}),ai(),fn();var le=Ht(),Ve=bt(le);{var Le=Ce=>{const Je=pn(()=>j()||h()==="center"),Ge=pn(()=>!!p()||!!C()||!!I()||T(te)||!1);gre(Ce,{get node(){return T(_e)},get center(){return T(Je)},get isDefault(){return T(te)},get useDefaults(){return z()},get dimensionsProvided(){return T(Ge)},get nodeStore(){return u.nodes},get locked(){return u.locked},get groups(){return u.groups},get title(){return oe()},get maxZIndex(){return u.maxZIndex},get centerPoint(){return u.center},get cursor(){return u.cursor},get activeGroup(){return u.activeGroup},get editing(){return u.editing},get initialNodePositions(){return u.initialNodePositions},$$events:{nodeClicked(N){ln.call(this,t,N)},nodeMount(N){ln.call(this,t,N)},nodeReleased(N){ln.call(this,t,N)},duplicate(N){ln.call(this,t,N)}},children:s2,$$slots:{default:(N,G)=>{const Y=pn(()=>G.destroy),K=pn(()=>G.selected),Ee=pn(()=>G.grabHandle);var fe=Ht(),Te=bt(fe);pr(Te,t,"default",{get selected(){return T(K)},get grabHandle(){return T(Ee)},disconnect:re,connect:ue,get node(){return T(_e)},get destroy(){return T(Y)}},Re=>{var ze=Ht(),qe=bt(ze);{var Ie=xe=>{qre(xe,{get selected(){return T(K)},$$events:{connection(Ye){ln.call(this,t,Ye)},disconnection(Ye){ln.call(this,t,Ye)}}})};Kt(qe,xe=>{T(te)&&xe(Ie)})}Fe(Re,ze)}),Fe(N,fe)},anchorWest:(N,G)=>{var Y=Ht(),K=bt(Y);pr(K,t,"anchorWest",{},null),Fe(N,Y)},anchorEast:(N,G)=>{var Y=Ht(),K=bt(Y);pr(K,t,"anchorEast",{},null),Fe(N,Y)},anchorNorth:(N,G)=>{var Y=Ht(),K=bt(Y);pr(K,t,"anchorNorth",{},null),Fe(N,Y)},anchorSouth:(N,G)=>{var Y=Ht(),K=bt(Y);pr(K,t,"anchorSouth",{},null),Fe(N,Y)}}})};Kt(Ve,Ce=>{T(_e)&&o().get(T(_e).id)&&Ce(Le)})}Fe(e,le),cr(),i()}var Dre=zt('<div class="editor svelte-1nv0yho"><span style="color:white; font-size:45px">Editor</span> <button style="position:absolute; top:10px;right:10px;">X</button> <!> <button>Delete Node</button> <button>Resize Node</button></div>');function Fre(e,t){ur(t,!1);const r=ke();let n=de(t,"editing",8);const i=yr("graph");jr("graph",i),jr("textStore",n().label),jr("colorStore",n().bgColor);let s=ke({x:150,y:50});function o(c){c.preventDefault(),ve(s,{x:c.clientX,y:c.clientY}),i.editing.set(n())}function a(){i.nodes.delete(n().id),i.editing.set(null)}function u(){const c=n().id,f=i.nodes.get(c);if(f){const h=f.dimensions.width,p=f.dimensions.height,_=prompt("Enter new width (for example:250):",h?h.toString():""),m=prompt("Enter new height (for example:200):",p?p.toString():"");if(_===null||m===null)return;f.dimensions.width.set(parseInt(_,10)||0),f.dimensions.height.set(parseInt(m,10)||0),f.resizingWidth.set(!0),f.resizingHeight.set(!0)}}De(()=>{},()=>{ve(r,i.cursor)}),ai(),fn(),v2(e,{zIndex:1/0,get position(){return T(s)},bgColor:"white",id:"editor",children:(c,f)=>{var h=Dre(),p=ft(Et(h),2),_=ft(p,2);hre(_,{placeholder:"Node Label"});var m=ft(_,2),y=ft(m,2);rr("click",p,()=>i.editing.set(null)),rr("click",m,a),rr("click",y,u),rr("contextmenu",h,o),Fe(c,h)},$$slots:{default:!0}}),cr()}var Bre=zt("<!> <!>",1),zre=zt('<section role="presentation" class="svelvet-wrapper svelte-13nq7cv"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></section>');function Vre(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(N,"$groups",r),s=()=>Ue(Je,"$dimensionsStore",r),o=()=>Ue(Te,"$nodeBounds",r),a=()=>Ue(Ve,"$graphDOMElement",r),u=()=>Ue(ps,"$initialClickPosition",r),c=()=>Ue(Y,"$selected",r),f=()=>Ue(K,"$activeGroup",r),h=()=>Ue(ua,"$connectingFrom",r),p=()=>Ue(yE,"$touchDistance",r),_=()=>Ue(Ce,"$scale",r),m=()=>Ue(Ge,"$translation",r),y=()=>Ue(fe,"$editing",r),b=ke();let S=de(t,"graph",8),E=de(t,"width",8),A=de(t,"height",8),P=de(t,"minimap",12,!1),R=de(t,"controls",12,!1),q=de(t,"toggle",8,!1),d=de(t,"fixedZoom",8,!1),C=de(t,"pannable",8,!0),I=de(t,"disableSelection",8,!1),L=de(t,"ZOOM_INCREMENT",8,.1),B=de(t,"PAN_INCREMENT",8,50),H=de(t,"PAN_TIME",8,250),$=de(t,"MAX_SCALE",8,3),J=de(t,"MIN_SCALE",8,.2),ae=de(t,"selectionColor",8),X=de(t,"backgroundExists",8),D=de(t,"fitView",8,!1),z=de(t,"trackpadPan",8),j=de(t,"modifier",8),ie=de(t,"theme",12,"light"),oe=de(t,"title",8),Se=de(t,"drawer",12,!1),_e=de(t,"contrast",8,!1);console.log("Initial Graph drawer prop:",Se());let te;const ue=ql(),re={},Q=Xe(!1),le=Xe(0),Ve=Xe(null),Le=S().cursor,Ce=S().transforms.scale,Je=S().dimensions,Ge=S().transforms.translation,N=S().groups,G=S().groupBoxes,Y=i().selected.nodes,K=S().activeGroup,Ee=S().initialNodePositions,fe=S().editing,Te=S().bounds.nodeBounds;let Re=0,ze=1,qe=ke({x:0,y:0,top:0,left:0}),Ie=ke(!1),xe=ke(!1),Ye=ke(!1),lt=ke(!1),_t=!1,ht=ke(!1),it,Yt=ke(null),xr=ke(null),nr=ke(null),vr=ke(null),Nr=ke(null);const zr={id:null,position:S().cursor,offset:Xe({x:0,y:0}),connected:Xe(new Set),dynamic:Xe(!1),edge:null,edgeColor:Xe(null),direction:Xe("self"),inputKey:null,type:"output",moving:Ya(!1),store:null,mounted:Xe(!0),rotation:Ya(0),node:{zIndex:Xe(1/0),rotating:Xe(!1),position:S().cursor,dimensions:{width:Xe(0),height:Xe(0)}}};jr("graphDOMElement",Ve),jr("cursorAnchor",zr),jr("duplicate",Q),jr("graph",S()),jr("transforms",S().transforms),jr("dimensions",S().dimensions),jr("locked",S().locked),jr("groups",S().groups),jr("bounds",S().bounds),jr("edgeStore",S().edges),jr("nodeStore",S().nodes),jr("mounted",le),ri(()=>{console.log("Graph component mounted with drawer1:",Se()),Un()});async function En(){await Zf(),uo.set(!0);const{x:Qe,y:gt,scale:vt}=Kte(it,o());Qe!==null&&gt!==null&&vt!==null&&(S().transforms.scale.set(vt),Ge.set({x:Qe,y:gt})),uo.set(!1),ve(ht,!0)}async function sr(){ve(xr,(await jf(async()=>{const{default:Qe}=await Promise.resolve().then(()=>ane);return{default:Qe}},void 0,import.meta.url)).default)}async function Mr(){ve(Yt,(await jf(async()=>{const{default:Qe}=await Promise.resolve().then(()=>hne);return{default:Qe}},void 0,import.meta.url)).default)}async function bn(){ve(nr,(await jf(async()=>{const{default:Qe}=await import("./Controls-Rj89vjtG.js");return{default:Qe}},__vite__mapDeps([0,1]),import.meta.url)).default)}async function wn(){ve(vr,(await jf(async()=>{const{default:Qe}=await import("./DrawerController-xKxRQtjo.js");return{default:Qe}},__vite__mapDeps([2,1,3]),import.meta.url)).default)}async function mn(){ve(Nr,(await jf(async()=>{const{default:Qe}=await import("./ContrastTheme-BayD2pvC.js");return{default:Qe}},[],import.meta.url)).default)}function Un(){if(!a())return;const Qe=a().getBoundingClientRect();it={top:Qe.top,left:Qe.left,bottom:Qe.bottom,right:Qe.right,width:Qe.width,height:Qe.height},S().dimensions.set(it),D()==="resize"&&En()}function ii(Qe){var vt,pt;if(T(xe)){const or=`${mte()}/${S().id}`,Xr=ot(Le),hn=Xr.x-u().x,$r=Xr.y-u().y,xn=Math.min(u().y,u().y+$r),Vn=Math.min(u().x,u().x+hn),_i={width:Xe(Math.abs(hn)),height:Xe(Math.abs($r))},Xo=Xe({x:Vn,y:xn}),Es={group:Xe(or),dimensions:_i,position:Xo,color:Xe(lte()),moving:Xe(!1)};G.add(Es,or),Array.from(c()).forEach(Xn=>{Xn.group.set(or)}),N.update(Xn=>{const Pa={parent:Xe(Es),nodes:Xe(new Set([...c(),Es]))};return Xn[or]=Pa,Xn}),Lt(Y,new Set),ve(xe,!1),ve(Ie,!1)}f()&&Array.from(ot(i()[f()].nodes)).forEach(or=>{const Xr=Tv(ot(or.position).x,ot(or.position).y);or.position.set(Xr),or.moving.set(!1)});const gt=S().edges.get("cursor");gt&&(S().edges.delete("cursor"),gt.disconnect||ue("edgeDrop",{cursor:ot(Le),source:{node:(vt=h())==null?void 0:vt.anchor.node.id.slice(2),anchor:(pt=h())==null?void 0:pt.anchor.id.split("/")[0].slice(2)}})),Lt(K,null),Lt(ps,{x:0,y:0}),Lt(Ee,[]),ve(Ie,!1),ve(lt,!1),Lt(uo,!1),Qe.shiftKey||ua.set(null),il(qe,T(qe).y=0),il(qe,T(qe).x=0)}function Ut(Qe){if(!C()&&!(Qe.shiftKey||Qe.metaKey)||Qe.button===2)return;a()&&a().focus();const{clientX:gt,clientY:vt}=Qe;if(Lt(ps,ot(Le)),Qe.shiftKey||Qe.metaKey){Qe.preventDefault(),ve(Ie,!0);const{top:pt,left:It}=T(b);il(qe,T(qe).y=vt-pt),il(qe,T(qe).x=gt-It),il(qe,T(qe).top=pt),il(qe,T(qe).left=It),Qe.shiftKey&&Qe.metaKey?ve(xe,!0):ve(xe,!1),Qe.metaKey&&!Qe.shiftKey?ve(Ye,!0):ve(Ye,!1)}else ve(lt,!0),Lt(Y,new Set),Lt(Y,c())}function $t(Qe){Lt(Y,new Set),Lt(Y,c()),Lt(ps,ot(Le)),ve(lt,!0),Qe.touches.length===2&&(zn(),Re=p(),ze=_())}function Vr(){ve(lt,!1),_t=!1}function zn(){_t||(_t=!0,te=requestAnimationFrame(An))}function An(){if(!_t){cancelAnimationFrame(te);return}const gt=p()/Re;Lt(Ce,ze*gt),te=requestAnimationFrame(An)}function Wr(Qe){const{key:gt,code:vt}=Qe,pt=Qe.target;if(!(pt.tagName=="INPUT"||pt.tagName=="TEXTAREA")){if(vt==="KeyA"&&Qe[`${j()}Key`]){const It=S().nodes.getAll().filter(or=>!ot(or.locked));Lt(Y,new Set(It))}else if(cR(gt))gi(gt,Qe);else if(gt==="=")uR(-1,S().dimensions,S().transforms,L());else if(gt==="-")uR(1,S().dimensions,S().transforms,L());else if(gt==="0")En();else if(gt==="Control")i().selected.nodes.set(new Set);else if(vt==="KeyD"&&Qe[`${j()}Key`])Q.set(!0),setTimeout(()=>{Q.set(!1)},100);else if(gt==="Tab"&&(Qe.altKey||Qe.ctrlKey))pi();else if(gt==="l")ie(ie()==="light"?"dark":"light");else if(gt==="d")Se(!Se());else if(gt==="m")P(!P());else if(gt==="c")R(!R());else if(gt==="e"){const It=Array.from(c())[0];S().editing.set(It)}else return;Qe.preventDefault()}}function jn(Qe){var $r;Qe.preventDefault();const gt=($r=a())==null?void 0:$r.getBoundingClientRect();if(!gt)return;const vt=Qe.clientX-gt.left,pt=Qe.clientY-gt.top,{x:It,y:or}=Tv(vt,pt);if(console.log(`Dropped Node at Snapped Position: (${It}, ${or})`),!hn)return;const Xr={id:`node-${Date.now()}`,rotation:Xe(0),position:Xe({x:It,y:or}),moving:Xe(!1),label:Xe("New Node"),dimensions:{width:Xe(200),height:Xe(100)},inputs:Xe(2),outputs:Xe(2),anchors:Xe([]),group:Xe(null),collapsed:Xe(!1),resizingWidth:Xe(!1),resizingHeight:Xe(!1),rotating:Xe(!1),editable:Xe(!0),locked:Xe(!1),recalculateAnchors:xn=>{},resizable:Xe(!0),zIndex:Xe(1),edge:null,direction:Xe("TD"),borderRadius:Xe(5),borderWidth:Xe(1),connections:Xe([]),bgColor:Xe("#007bff"),borderColor:Xe("#000"),selectionColor:Xe("#ff0000"),textColor:Xe("#fff")};let hn=null;S().nodes.add(Xr,Xr.id),hn=null}function pi(){const Qe=S().nodes.getAll(),gt=Qe.findIndex(pt=>c().has(pt)),vt=gt+1;c().delete(Qe[gt]),c().add(Qe[vt])}function Qr(Qe){const{key:gt}=Qe;cR(gt)?(clearInterval(re[gt]),delete re[gt]):gt==="Shift"&&ua.set(null)}function Hn(Qe){if(d())return;const gt=Qe.shiftKey?.15:1,{clientX:vt,clientY:pt,deltaY:It}=Qe,or=m(),Xr={x:vt,y:pt};if((z()||Qe.metaKey)&&It%1===0){Lt(Ge,{x:Pu(Ge,nn(m).x-=Qe.deltaX,nn(m)),y:Pu(Ge,nn(m).y-=Qe.deltaY,nn(m))});return}if(_()>=$()&&It<0||_()<=J()&&It>0)return;const hn=Math.min(.009*gt*Math.abs(It),.08),$r=Y7(_(),Math.sign(It),hn),xn=X7(_(),$r,or,Xr,it);Ce.set($r),Ge.set(xn)}function Nn(Qe){Qe.preventDefault()}function gi(Qe,gt){const vt=gt.shiftKey?2:1,pt=Qe==="ArrowLeft"||Qe==="ArrowUp"?1:-1,It=Qe==="ArrowLeft"||Qe==="ArrowRight",or=It?m().x:m().y,Xr=or+pt*B()*vt;if(!re[Qe]){const hn=performance.now();let $r=setInterval(()=>{const xn=performance.now()-hn;if(c().size===0){const Vn=or+(Xr-or)*(xn/H());Ge.set({x:It?Vn:m().x,y:It?m().y:Vn})}else{const Vn={x:It?-pt*2:0,y:It?0:-pt*2};Array.from(c()).forEach(_i=>{const Xo=ot(_i.position);let Es;const Xn=ot(_i.group),Pa=ot(S().groupBoxes);if(Xn&&(Es=Pa.get(Xn)),Es){const ss=ot(_i.dimensions.width),Ca=ot(_i.dimensions.height),Yo=Q7(Es,ss,Ca);J7(Xo,Vn,_i.position,Yo)}else{const ss={x:Xo.x+Vn.x,y:Xo.y+Vn.y},Ca=Tv(ss.x,ss.y);_i.position.set(Ca)}})}},2);re[Qe]=$r}}De(()=>s(),()=>{ve(b,s())}),De(()=>kt(ie()),()=>{ie()&&document.documentElement.setAttribute("svelvet-theme",ie())}),De(()=>(T(ht),kt(D())),()=>{!T(ht)&&D()&&En()}),De(()=>(kt(q()),T(Yt)),()=>{q()&&!T(Yt)&&Mr()}),De(()=>(kt(P()),T(xr)),()=>{P()&&!T(xr)&&sr()}),De(()=>(kt(R()),T(nr)),()=>{R()&&!T(nr)&&bn()}),De(()=>(kt(Se()),T(vr)),()=>{Se()&&!T(vr)&&wn()}),De(()=>(kt(_e()),T(Nr)),()=>{_e()&&!T(Nr)&&mn()}),De(()=>kt(Se()),()=>{console.log("Reactive Graph drawer prop:",Se())}),ai(),fn();var Ze=zre();rr("touchend",pl,ii),rr("mouseup",pl,ii),rr("resize",pl,Un),rr("scroll",pl,Un),dt(Ze,"tabindex",0);let Tt;var Ot=Et(Ze);ure(Ot,{get isMovable(){return T(lt)},children:(Qe,gt)=>{var vt=Bre(),pt=bt(vt);{var It=Xr=>{Fre(Xr,{get editing(){return y()}})};Kt(pt,Xr=>{y()&&Xr(It)})}var or=ft(pt,2);pr(or,t,"default",{},null),Fe(Qe,vt)},$$slots:{default:!0}});var Dt=ft(Ot,2);{var Ft=Qe=>{var gt=Ht(),vt=bt(gt);pr(vt,t,"background",{},null),Fe(Qe,gt)},ut=Qe=>{zte(Qe,{})};Kt(Dt,Qe=>{X()?Qe(Ft):Qe(ut,!1)})}var Ke=ft(Dt,2);{var yt=Qe=>{var gt=Ht(),vt=bt(gt);sc(vt,()=>T(xr),(pt,It)=>{It(pt,{})}),Fe(Qe,gt)};Kt(Ke,Qe=>{P()&&Qe(yt)})}var Ct=ft(Ke,2);{var jt=Qe=>{var gt=Ht(),vt=bt(gt);sc(vt,()=>T(nr),(pt,It)=>{It(pt,{})}),Fe(Qe,gt)};Kt(Ct,Qe=>{R()&&Qe(jt)})}var un=ft(Ct,2);{var Wn=Qe=>{var gt=Ht(),vt=bt(gt);sc(vt,()=>T(Yt),(pt,It)=>{It(pt,{})}),Fe(Qe,gt)};Kt(un,Qe=>{q()&&Qe(Wn)})}var qt=ft(un,2);{var en=Qe=>{var gt=Ht(),vt=bt(gt);sc(vt,()=>T(vr),(pt,It)=>{It(pt,{})}),Fe(Qe,gt)};Kt(qt,Qe=>{Se()&&Qe(en)})}var Tr=ft(qt,2);{var qr=Qe=>{var gt=Ht(),vt=bt(gt);sc(vt,()=>T(Nr),(pt,It)=>{It(pt,{})}),Fe(Qe,gt)};Kt(Tr,Qe=>{_e()&&Qe(qr)})}var Gr=ft(Tr,2);pr(Gr,t,"minimap",{},null);var Pr=ft(Gr,2);pr(Pr,t,"drawer",{},null);var Tn=ft(Pr,2);pr(Tn,t,"controls",{},null);var Zt=ft(Tn,2);pr(Zt,t,"toggle",{},null);var mi=ft(Zt,2);pr(mi,t,"contrast",{},null);var Ei=ft(mi,2);{var Vi=Qe=>{wte(Qe,{get creating(){return T(xe)},get anchor(){return T(qe)},get graph(){return S()},get adding(){return T(Ye)},get color(){return ae()}})};Kt(Ei,Qe=>{T(Ie)&&!I()&&Qe(Vi)})}ya(Ze,Qe=>Lt(Ve,Qe),()=>a()),Nt(()=>{dt(Ze,"id",S().id),dt(Ze,"title",oe()),Tt=Lr(Ze,"",Tt,{width:E()?E()+"px":"100%",height:A()?A()+"px":"100%",cursor:C()?"move":"default"})}),rr("wheel",Ze,Ns(Hn)),rr("mousedown",Ze,ch(Ns(Ut))),rr("touchend",Ze,Ns(Vr)),rr("touchstart",Ze,ch(Ns($t))),rr("keydown",Ze,Wr),rr("keyup",Ze,Qr),rr("dragover",Ze,Ns(Nn)),rr("drop",Ze,jn),Fe(e,Ze),cr(),n()}function Gre(e){e.parentNodes.forEach(s=>$re(s));const[t,r]=Ure(e);jre(t,e),Hre(t);for(let s=0;s<10;s++){let o=!1;for(let a=0;a<=r;a++)if(t[a])for(let u=0;u<t[a].length;u++){const c=t[a][u],f=Xre(t,c,u);f&&(lc(t[a],u,f),o=!0)}if(!o)break}const n=Yre(t);for(let s=0;s<10&&Kre(t,n);s++);for(let s=0;s<2;s++){let o=!1;for(let a=0;a<=r;a++)for(let u=0;u<t[a].length;u++){const c=t[a][u],f=Wre(t,c,u);f&&(lc(t[a],u,f),o=!0)}if(!o)break}const i=[];for(let s=0;s<=r;s++)i.push(t[s]);return i}function $re(e,t=0,r=0){const n=[],i=(s,o=0,a=0)=>{s.depth=Math.max(s.depth,o),s.nesting=Math.max(s.nesting,a),n.push(s);for(const u of s.children){const{node:c,length:f}=u;i(c,f+o,a+1)}};i(e,t,r);for(const s of n)if(s.children.length){s.nesting=s.children[0].node.nesting-1,s.depth=s.children[0].node.depth-s.children[0].length;for(const o of s.children)s.nesting=Math.min(s.nesting,o.node.nesting-1),s.depth=Math.min(s.depth,o.node.depth-o.length)}}function Ure(e){let t=0;const r={};for(const n in e.nodeList){const{depth:i,parents:s,children:o,type:a,data:u}=e.nodeList[n];t=Math.max(t,i),r[i]||(r[i]=[]);const c={id:n,label:u.content,children:[],parents:[],layer:i,type:a.trim()};u.props&&(c.propsId=u.props.trim());for(const f of s)c.parents.push(f.node.id);for(const f of o)c.children.push(f.node.id);r[i].push(c)}return[r,t]}function jre(e,t){for(const r in t.nodeList)for(const n of t.nodeList[r].children)if(n.node.depth-1>t.nodeList[r].depth){const i=t.nodeList[r].depth+1,s=n.node.depth-1,o=[];let a=0;for(let u=i;u<=s;u++){const c={id:`GHOST_${n.node.id}_${a}`,label:"",children:[],parents:[],layer:u,ignore:!0};o.push(c),a++}for(const u of n.node.parents)o[0].parents.push(u.node.id);o[o.length-1].children.push(n.node.id);for(let u=0;u<o.length-1;u++)o[u].children.push(`GHOST_${n.node.id}_${u+1}`);for(let u=s;u>=i;u--)o.length>0&&e[u].push(o[0]);for(const u of e[t.nodeList[r].depth])u.id===r&&(u.children.push(o[0].id),u.children=u.children.filter(c=>c!==n.node.id))}}function Hre(e){let t=0;for(const r in e)t=Math.max(e[r].length,t);for(const r in e)if(e[r].length<t){const n=Array.from({length:t-e[r].length},()=>({id:"NULL_NODE",children:[],parents:[],layer:parseInt(r),ignore:!0}));e[r]=e[r].concat(n)}}function fR(e,t,r){let n=0,i=0;for(const s of t.parents){for(let o=0;o<e[t.layer-1].length;o++)if(s===e[t.layer-1][o].id){n+=Math.abs(r-o);break}i++}for(const s of t.children){for(let o=0;o<e[t.layer+1].length;o++)if(s===e[t.layer+1][o].id){n+=Math.abs(r-o);break}i++}return isNaN(n/i)?0:n/i}function hR(e,t,r){let n=0,i=0;for(const s of t.parents){for(let o=0;o<e[t.layer-1].length;o++)if(s===e[t.layer-1][o].id){n+=Math.abs(r-o);break}i++}return isNaN(n/i)?0:n/i}function dR(e,t,r){let n=0,i=0;for(const s of t.children){for(let o=0;o<e[t.layer+1].length;o++)if(s===e[t.layer+1][o].id){n+=Math.abs(r-o);break}i++}return isNaN(n/i)?0:n/i}function Wre(e,t,r){const n=xE(e,t.layer);let i=0;t.layer===0?i=dR(e,t,r):i=hR(e,t,r);let s=i,o=r;for(let a=0;a<e[t.layer].length;a++)if(e[t.layer][a].id==="NULL_NODE"){lc(e[t.layer],r,a);const c=xE(e,t.layer);let f=0;t.layer===0?f=dR(e,t,a):f=hR(e,t,a),c<=n&&f<s&&(s=f,o=a),lc(e[t.layer],a,r)}return o===r?null:o}function Xre(e,t,r){const n={};let i=1/0,s=0;for(let o=0;o<e[t.layer].length;o++){const a=fR(e,t,o),u=fR(e,e[t.layer][o],r);n[o]=a+u}for(const o in n)n[o]<i&&(i=n[o],s=parseInt(o));return s===r?null:s}function lc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Yre(e){const t=[];for(const r in e)for(const n of e[r])t.push(n);return t.sort((r,n)=>n.parents.length+n.children.length-(r.parents.length+r.children.length))}function xE(e,t){let r=0;for(let n=0;n<e[t].length;n++){const i=e[t][n],s=[],o=[];if(e[t-1])for(let a=n+1;a<e[t-1].length;a++)i.parents.includes(e[t-1][a].id)&&s.push(a);if(e[t+1])for(let a=n+1;a<e[t+1].length;a++)i.children.includes(e[t+1][a].id)&&o.push(a);for(let a=n+1;a<e[t].length;a++){const u=e[t][a];if(s.length)for(let c=0;c<e[t-1].length;c++)u.parents.includes(e[t-1][c].id)&&s.forEach(f=>{c<f&&r++});if(o.length)for(let c=0;c<e[t+1].length;c++)u.children.includes(e[t+1][c].id)&&o.forEach(f=>{c<f&&r++})}}return r}function Kre(e,t){let r=!1;for(const n of t){if(n.children.length+n.parents.length===0)return r;let i=0;for(let a=0;a<e[n.layer].length;a++)if(e[n.layer][a].id===n.id){i=a;break}let s=1/0,o=i;for(let a=0;a<e[n.layer].length;a++){lc(e[n.layer],i,a);const u=xE(e,n.layer);u<s&&(s=u,o=a),lc(e[n.layer],a,i)}o!==i&&(lc(e[n.layer],i,o),r=!0)}return r}function Zre(e,t){ur(t,!1);let r=de(t,"mermaid",8,""),n=de(t,"mermaidConfig",24,()=>({}));const i=dte(r());jr("flowchart",i);const s=Gre(i),o=yr("graph"),a=100,u=100;let c;ri(()=>{o.nodes.subscribe(_=>c=Object.fromEntries(_));let p=0;for(const _ of s){let m=0,y=-1/0;for(const b of _)b.ignore||(c[`N-${b.id}`].position.update(()=>({x:m,y:p})),c[`N-${b.id}`].dimensions.width.subscribe(S=>m+=S),c[`N-${b.id}`].dimensions.height.subscribe(S=>y=Math.max(y,S))),m+=a;p+=y+u}}),fn();var f=Ht(),h=bt(f);Ni(h,1,()=>s,Eu,(p,_)=>{var m=Ht(),y=bt(m);Ni(y,1,()=>T(_),Eu,(b,S)=>{var E=Ht(),A=bt(E);{var P=R=>{const q=pn(()=>T(S).children.map(d=>[d,"1"]));v2(R,Nl({get label(){return T(S).label},get id(){return T(S).id},TD:!0},()=>n()[T(S).id],{get connections(){return T(q)}}))};Kt(A,R=>{T(S).ignore||R(P)})}Fe(b,E)}),Fe(p,m)}),Fe(e,f),cr()}function Jre(e){var n,i;const t=JSON.parse(e);return K7(t.id,{...t,editable:t.editable,direction:t.direction,locked:t.locked,zoom:((n=t.transforms)==null?void 0:n.scale)??1,translation:((i=t.transforms)==null?void 0:i.translation)??{x:0,y:0},edge:t.edge})}var Qre=zt("<!> <!>",1),ene=zt('<div class="svelvet-temp svelte-lsy29y"></div>');function tne(e,t){const r=a2(t);ur(t,!1);const n=ke(),i=ke();let s=de(t,"mermaid",8,""),o=de(t,"theme",8,"light"),a=de(t,"id",8,0),u=de(t,"snapTo",8,0),c=de(t,"zoom",8,1),f=de(t,"TD",8,!1),h=de(t,"editable",8,!0),p=de(t,"locked",8,!1),_=de(t,"width",8,0),m=de(t,"height",8,0),y=de(t,"minimap",8,!1),b=de(t,"controls",8,!1),S=de(t,"toggle",8,!1),E=de(t,"drawer",8,!1),A=de(t,"contrast",8,!1),P=de(t,"fitView",8,!1),R=de(t,"selectionColor",8,"lightblue"),q=de(t,"edgeStyle",8,"bezier"),d=de(t,"endStyles",24,()=>[null,null]),C=de(t,"edge",8,null),I=de(t,"disableSelection",8,!1),L=de(t,"mermaidConfig",24,()=>({})),B=de(t,"translation",24,()=>({x:0,y:0})),H=de(t,"trackpadPan",8,!1),$=de(t,"modifier",8,"meta"),J=de(t,"raiseEdgesOnSelect",8,!1),ae=de(t,"edgesAboveNode",8,!1),X=de(t,"title",8,""),D=de(t,"fixedZoom",8,!1),z=de(t,"pannable",8,!0);const j=ql();let ie=ke(null),oe=f()?"TD":"LR";jr("snapTo",u()),jr("edgeStyle",q()),jr("endStyles",d()),jr("graphEdge",C()),jr("raiseEdgesOnSelect",J()),jr("edgesAboveNode",ae()),jr("graph",T(ie)),ri(()=>{console.log("Graph component mounted with drawer:",E());const Q=localStorage.getItem("state");if(console.log("stateObject during onMount:",Q),Q)ve(ie,Jre(Q)),console.log("This is the graph set using reloadStore",T(ie)),lh.add(T(ie),T(ie).id),console.log("graphStore updated",T(ie));else{let le=`G-${a()||lh.count()+1}`;ve(ie,K7(le,{zoom:c(),direction:oe,editable:h(),locked:p(),translation:B()})),lh.add(T(ie),le)}});function Se(Q,le){if(!T(ie))return;const Ve=`N-${Q[0]}`,Le=T(ie).nodes.get(Ve);if(!Le)return;const Ce=Le.anchors.get(`A-${Q[1]}/N-${Q[0]}`);if(!Ce)return;const Je=`N-${le[0]}`,Ge=T(ie).nodes.get(Je);if(!Ge)return;const N=Ge.anchors.get(`A-${le[1]}/N-${le[0]}`);if(!N)return;const G=T(ie).edges.match(Ce,N);G&&T(ie).edges.delete(G[0])}De(()=>{},()=>{ve(n,r.background)}),De(()=>T(ie),()=>{ve(i,T(ie)&&T(ie).edges)}),De(()=>(T(ie),kt(c())),()=>{T(ie)&&T(ie).transforms.scale.set(c())}),De(()=>T(i),()=>{T(i)&&T(i).onEdgeChange((Q,le)=>{j(le,{sourceAnchor:Q.source,targetAnchor:Q.target,sourceNode:Q.source.node,targetNode:Q.target.node})})}),ai(),fn();var _e=Ht(),te=bt(_e);{var ue=Q=>{Vre(Q,{get width(){return _()},get height(){return m()},get toggle(){return S()},get backgroundExists(){return T(n)},get minimap(){return y()},get graph(){return T(ie)},get fitView(){return P()},get fixedZoom(){return D()},get pannable(){return z()},get theme(){return o()},get drawer(){return E()},get controls(){return b()},get selectionColor(){return R()},get disableSelection(){return I()},get trackpadPan(){return H()},get modifier(){return $()},get title(){return X()},get contrast(){return A()},$$events:{edgeDrop(le){ln.call(this,t,le)}},children:(le,Ve)=>{var Le=Qre(),Ce=bt(Le);{var Je=N=>{Zre(N,{get mermaid(){return s()},get mermaidConfig(){return L()}})};Kt(Ce,N=>{s().length&&N(Je)})}var Ge=ft(Ce,2);pr(Ge,t,"default",{},null),Fe(le,Le)},$$slots:{default:!0,minimap:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"minimap",{},null),Fe(le,Le)},controls:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"controls",{},null),Fe(le,Le)},background:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"background",{},null),Fe(le,Le)},toggle:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"toggle",{},null),Fe(le,Le)},drawer:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"drawer",{},null),Fe(le,Le)},contrast:(le,Ve)=>{var Le=Ht(),Ce=bt(Le);pr(Ce,t,"contrast",{},null),Fe(le,Le)}}})},re=Q=>{var le=ene();let Ve;Nt(()=>Ve=Lr(le,"",Ve,{width:_()?_()+"px":"100%",height:m()?m()+"px":"100%"})),Fe(Q,le)};Kt(te,Q=>{T(ie)?Q(ue):Q(re,!1)})}return Fe(e,_e),c2(t,"disconnect",Se),cr({disconnect:Se})}var rne=zt("<button></button>");function nne(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(q,"$position",r),s=()=>Ue(L,"$rotation",r),o=()=>Ue(T(_),"$zIndex",r),a=()=>Ue(I,"$borderRadius",r),u=()=>Ue(C,"$bgColor",r),c=()=>Ue(B,"$width",r),f=()=>Ue(H,"$height",r),h=ke(),p=ke(),_=ke(),m=ke();let y=de(t,"node",8),b=de(t,"hidden",8,!1),S=de(t,"toggleHidden",8),E=de(t,"top",8),A=de(t,"left",8),P=de(t,"nodeColor",8,null),R=de(t,"hideable",8);const{position:q,dimensions:d,bgColor:C,borderRadius:I,rotation:L}=y(),{width:B,height:H}=d;let $=ke(null);ri(()=>{var D;try{const z=(D=document.querySelector(`#${y().id}`))==null?void 0:D.firstChild;z&&ve($,window.getComputedStyle(z).backgroundColor)}catch(z){console.error(z)}}),De(()=>i(),()=>{ve(h,i())}),De(()=>s(),()=>{ve(p,s())}),De(()=>kt(y()),()=>{Ua(ve(_,y().zIndex),"$zIndex",r)}),De(()=>T($),()=>{ve(m,T($)==="rgba(0, 0, 0, 0)")}),ai(),fn();var J=rne();let ae,X;Nt(D=>{ae=Mn(J,1,"minimap-node svelte-1hs9omb",null,ae,D),X=Lr(J,"",X,{"z-index":o(),"border-radius":`${a()??""}px`,"--prop-background-color":P()||u()||!T(m)&&T($)||null,width:`${c()??""}px`,height:`${f()??""}px`,transform:`rotate(${T(p)??""}deg)`,top:`${T(h).y-E()}px`,left:`${T(h).x-A()}px`})},[()=>({hidden:b(),hideable:R()})],pn),rr("click",J,()=>{R()&&S()(y())}),Fe(e,J),cr(),n()}var ine=zt('<div class="mini-bounding-box svelte-aoq4g"></div>');function sne(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(c(),"$position",r),s=()=>Ue(m,"$width",r),o=()=>Ue(y,"$height",r),a=()=>Ue(f(),"$color",r);let u=de(t,"dimensions",8),c=de(t,"position",8),f=de(t,"color",8),h=de(t,"groupName",8),p=de(t,"top",8),_=de(t,"left",8);const{width:m,height:y}=u();fn();var b=ine();let S;Nt(()=>{dt(b,"id",`mini-${h()}-bounding-box`),S=Lr(b,`border: solid 4px ${a()??""};`,S,{top:`${i().y-p()}px`,left:`${i().x-_()}px`,width:`${s()}px`,height:`${o()}px`,"background-color":a()})}),Fe(e,b),cr(),n()}var one=zt('<div><div class="node-wrapper svelte-1qxvbux"><!> <!></div> <div class="overlay svelte-1qxvbux"></div></div>');function eV(e,t){ur(t,!1);const[r,n]=yn(),i=()=>Ue(Le,"$graphBounds",r),s=()=>Ue(Je,"$groups",r),o=()=>Ue(N,"$dimensions",r),a=()=>Ue(Y,"$scale",r),u=()=>Ue(K,"$translation",r),c=()=>Ue(G,"$hidden",r),f=()=>Ue(Ce,"$nodes",r),h=()=>Ue(Ee,"$groupBoxes",r),p=ke(),_=ke(),m=ke(),y=ke(),b=ke(),S=ke(),E=ke(),A=ke(),P=ke(),R=ke(),q=ke(),d=ke(),C=ke(),I=ke(),L=ke(),B=ke(),H=ke(),$=ke(),J=ke(),ae=ke(),X=ke(),D=ke(),z=ke();let j=yr("graph"),ie=de(t,"width",8,100),oe=de(t,"height",24,ie),Se=de(t,"mapColor",8,null),_e=de(t,"nodeColor",8,null),te=de(t,"borderColor",8,null),ue=de(t,"corner",8,"SE"),re=de(t,"hideable",8,!1);const Q=.9,le=ie()*Q,Ve=oe()*Q,Le=j.bounds.graphBounds,Ce=j.nodes,Je=j.groups,Ge=j.transforms,N=j.dimensions,G=s().hidden.nodes,Y=Ge.scale,K=Ge.translation,Ee=j.groupBoxes,fe={clientX:0,clientY:0};function Te(ht){c().has(ht)?c().delete(ht):c().add(ht),Lt(G,c())}De(()=>i(),()=>{ve(p,i())}),De(()=>T(p),()=>{ve(_,T(p).top)}),De(()=>T(p),()=>{ve(m,T(p).left)}),De(()=>T(p),()=>{ve(y,T(p).right)}),De(()=>T(p),()=>{ve(b,T(p).bottom)}),De(()=>o(),()=>{ve(S,o().width)}),De(()=>o(),()=>{ve(E,o().height)}),De(()=>(T(y),T(m)),()=>{ve(A,T(y)-T(m))}),De(()=>(T(b),T(_)),()=>{ve(P,T(b)-T(_))}),De(()=>(T(A),T(P)),()=>{ve(R,T(A)/T(P))}),De(()=>(kt(ie()),kt(oe())),()=>{ve(q,ie()/oe())}),De(()=>(T(S),T(E),a(),u()),()=>{ve(d,Nh(fe,0,0,T(S),T(E),a(),u()))}),De(()=>(T(S),T(A),a()),()=>{ve(C,T(S)/T(A)/a())}),De(()=>(T(E),T(P),a()),()=>{ve(I,T(E)/T(P)/a())}),De(()=>(T(d),T(_),T(P)),()=>{ve(L,(T(d).y-T(_))/T(P))}),De(()=>(T(d),T(m),T(A)),()=>{ve(B,(T(d).x-T(m))/T(A))}),De(()=>(T(R),T(q)),()=>{ve($,T(R)>=T(q))}),De(()=>(T($),T(A),T(P)),()=>{ve(J,T($)?le/T(A):Ve/T(P))}),De(()=>(T(P),T(J)),()=>{ve(z,T(P)*T(J))}),De(()=>(kt(oe()),T(z)),()=>{ve(X,(oe()-T(z))/2)}),De(()=>(T(A),T(J)),()=>{ve(D,T(A)*T(J))}),De(()=>(kt(ie()),T(D)),()=>{ve(ae,(ie()-T(D))/2)}),De(()=>(T(X),T(L),T(z),T(ae),T(B),T(D),T(C),T(I)),()=>{ve(H,`
		top: ${T(X)+T(L)*T(z)}px;
		left: ${T(ae)+T(B)*T(D)}px;
		width: ${T(C)*T(D)}px;
		height: ${T(I)*T(z)}px;`)}),ai(),fn();var Re=one();let ze,qe;var Ie=Et(Re);let xe;var Ye=Et(Ie);Ni(Ye,1,()=>Array.from(f().entries()),([ht,it])=>ht,(ht,it)=>{let Yt=()=>T(it)[1];var xr=Ht(),nr=bt(xr);{var vr=Nr=>{const zr=pn(()=>c().has(Yt()));nne(Nr,{get node(){return Yt()},get top(){return T(_)},get left(){return T(m)},get nodeColor(){return _e()},get hidden(){return T(zr)},toggleHidden:Te,get hideable(){return re()}})};Kt(nr,Nr=>{Yt().id!=="N-editor"&&Nr(vr)})}Fe(ht,xr)});var lt=ft(Ye,2);Ni(lt,1,()=>Array.from(h().entries()),([ht,it])=>ht,(ht,it)=>{let Yt=()=>T(it)[0];sne(ht,Nl(()=>T(it)[1],{get top(){return T(_)},get left(){return T(m)},get groupName(){return Yt()}}))});var _t=ft(Ie,2);Nt(ht=>{ze=Mn(Re,1,"minimap-wrapper svelte-1qxvbux",null,ze,ht),qe=Lr(Re,"",qe,{width:`${ie()??""}px`,height:`${(oe()?oe():ie())??""}px`,"--prop-minimap-border-color":te(),"--prop-minimap-background-color":Se()}),xe=Lr(Ie,"",xe,{width:`${T(A)??""}px`,height:`${T(P)??""}px`,transform:`scale(${T(J)??""})`}),Lr(_t,T(H))},[()=>({SW:ue()==="SW",NE:ue()==="NE",SE:ue()==="SE",NW:ue()==="NW"})],pn),Fe(e,Re),cr(),n()}const ane=Object.freeze(Object.defineProperty({__proto__:null,default:eV},Symbol.toStringTag,{value:"Module"}));function une(e){return e&&typeof e.subscribe=="function"}function Pv(e){const t={};for(const r in e){const n=e[r];if(r==="nodes"&&typeof n=="object"&&typeof n.getAll=="function"){const i=n.getAll();t[r]=i.map(s=>Pv(s))}else if(une(n)){const i=ot(n);t[r]=typeof i=="object"&&i!==null?Pv(i):i}else typeof n=="object"&&n!==null?t[r]=Pv(n):t[r]=n}return t}function cne(e,t){return t instanceof DOMRectReadOnly?{x:t.x,y:t.y,width:t.width,height:t.height}:t}function lne(e){console.log("graph state object:",e);const t=Pv(e),r=JSON.stringify(t,cne);return localStorage.setItem("state",r),r}var fne=zt('<div><button class="svelte-1vnlnjg"><span class="material-symbols-outlined svelte-1vnlnjg"> </span></button> <button class="save-button NW svelte-1vnlnjg">Save</button></div>');function tV(e,t){ur(t,!1),console.log("Componente ThemeToggle.svelte");let r=de(t,"main",8,"light"),n=de(t,"alt",8,"dark"),i=de(t,"mainIcon",8,"light_mode"),s=de(t,"altIcon",8,"dark_mode"),o=de(t,"corner",8,"NE"),a=de(t,"bgColor",8,null),u=de(t,"iconColor",8,null),c=ke(r());function f(){const A=document.documentElement.getAttribute("svelvet-theme");let P;!A||A===r()?P=n():P=r(),ve(c,P),document.documentElement.setAttribute("svelvet-theme",P),localStorage.setItem("currentTheme",P)}ri(()=>{const A=localStorage.getItem("currentTheme");A?(document.documentElement.setAttribute("svelvet-theme",A),ve(c,A)):(document.documentElement.setAttribute("svelvet-theme",r()),ve(c,r()));const P=localStorage.getItem("state");if(P){console.log("Al renderizar la aplicacion este componente se ejecuta en este orden");const R=JSON.parse(P);if(R&&R.nodes){const q=ot(lh);console.log(q),q.set("G-1",R),console.log("Restaurando nodos:",R.nodes)}}});let h=ke();lh.subscribe(A=>{ve(h,A.get("G-1")),console.log("Graph from store:",T(h))}),fn();var p=fne();let _,m;var y=Et(p),b=Et(y),S=Et(b),E=ft(y,2);Nt(A=>{_=Mn(p,1,"controls-wrapper svelte-1vnlnjg",null,_,A),m=Lr(p,"",m,{"--prop-theme-toggle-color":a(),"--prop-theme-toggle-text-color":u()}),lo(S,T(c)===r()?s():i())},[()=>({SW:o()==="SW",NE:o()==="NE",SE:o()==="SE",NW:o()==="NW"})],pn),rr("mousedown",y,oo(f)),rr("touchstart",y,oo(f)),rr("click",E,()=>{lne(T(h))}),Fe(e,p),cr()}const hne=Object.freeze(Object.defineProperty({__proto__:null,default:tV},Symbol.toStringTag,{value:"Module"}));function Ks(e,t,r){return t.map((n,i)=>e(n,r[i]))}function ov(e,t,r,n,i){return t.map((s,o)=>e(s,r[o],n[o],i[o]))}function sa(e,t,r,n){if(t.length==0)return n==1?1:0;let i=t[t.length-1];n==1?i|=~r:i&=r;for(let s=0;s<t.length-1;s++)i=e(i,t[s]);return i=e(i,i>>>16),i=e(i,i>>>8),i=e(i,i>>>4),i=e(i,i>>>2),i=e(i,i>>>1),i&1}function dne(e){return e>>5}function ca(e){return e&31}function gl(e,t,r,n,i){const s=e>0&&!(n[t]&1<<e-1)&&i[t]&1<<e-1;s&&ca(e)&&(i[t]|=-1<<e),s&&t+1<r&&i.fill(-1,t+1)}function p2(e,t){const r={};function n(i,s){if(r[i]=s,!(i.length*e>=t)){for(let o=0;o<1<<e;o+=1)n(i+o.toString(1<<e),s<<e|o|o<<16);n(i+"x",s<<e|(1<<e)-1)}}return n("",0),Object.seal(r),r}const vne=p2(1,8),pne=p2(3,3),gne=p2(4,8);function mne(e,t,r,n){const i=[];let s=0,o=e;for(;s<t;){const a="00000000"+r[o].toString(16),u=r[o]^n[o];o++;for(let c=0;c<8&&s<t;c++,s+=4)u&15<<4*c?i.push("x"):i.push(a[a.length-1-c])}return i.reverse().join("")}function _ne(e,t,r,n){const i=[];let s=0,o=e;for(;s<t;){const a="00000000000000000000000000000000"+r[o].toString(2),u=r[o]^n[o];o++;for(let c=0;c<32&&s<t;c++,s++)u&1<<c?i.push("x"):i.push(a[a.length-1-c])}return i.reverse().join("")}function yne(e,t,r,n,i){const o=r+31>>>5;let a=0,u=-1+t;for(let c=e.length;c>0;){const f=e.slice(Math.max(0,c-2),c);c-=f.length;const h=gne[f];ca(a)==0&&u++;const p=(1<<4*f.length)-1;n[u]|=(h>>>16&p)<<a,i[u]|=(h&p)<<a,a+=4*f.length}a<r&&gl(a,u,o,n,i)}function bne(e,t,r,n,i){const o=r+31>>>5;let a=0,u=-1+t;for(let c=e.length;c>0;){const f=e.slice(Math.max(0,c-8),c);c-=f.length;const h=vne[f];ca(a)==0&&u++;const p=(1<<1*f.length)-1;n[u]|=(h>>>16&p)<<a,i[u]|=(h&p)<<a,a+=1*f.length}a<r&&gl(a,u,o,n,i)}let wne=class rV extends Error{constructor(t){super(t),Object.setPrototypeOf(this,rV.prototype)}};function ki(e,t){if(!e)throw new wne("Assertion failed: "+t)}let wa=class Ir{constructor(t,r,n){this._bits=t,this._avec=r,this._bvec=n}static make(t,r){t=t|0;let n,i;switch(r){case!0:case"1":case 1:n=i=-1;break;case!1:case"0":case-1:case void 0:n=i=0;break;case"x":case 0:n=0,i=-1;break;default:ki(!1,"Vector3vl.make() called with invalid initializer")}const s=(t+31)/32|0;return new Ir(t,new Uint32Array(s).fill(n),new Uint32Array(s).fill(i))}static zeros(t){return Ir.make(t,-1)}static ones(t){return Ir.make(t,1)}static xes(t){return Ir.make(t,0)}static fromBool(t,r=1){return Ir.make(r,t?1:-1)}static concat(...t){const n=t.reduce((u,c)=>c.bits+u,0)+31>>>5;let i=0,s=-1,o=new Uint32Array(n),a=new Uint32Array(n);for(const u of t)if(u.normalize(),ca(i)==0)o.set(u._avec,s+1),a.set(u._bvec,s+1),i+=u._bits,s+=u._bits+31>>>5;else{for(const c in u._avec){if(o[s]|=u._avec[c]<<i,a[s]|=u._bvec[c]<<i,s++,s==n)break;o[s]=u._avec[c]>>>-i,a[s]=u._bvec[c]>>>-i}i+=u._bits,s+1>i+31>>>5&&s--}return new Ir(i,o,a)}static fromIterator(t,r,n){return(r&r-1)==0?Ir.fromIteratorPow2(t,r,n):Ir.fromIteratorAnySkip(t,r,n)}static fromIteratorAnySkip(t,r,n){const i=n+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<r)-1;for(const f of t)ca(s)==0&&o++,a[o]|=(f>>>r&c)<<s,u[o]|=(f&c)<<s,c<<s>>>s!=c&&(o++,a[o]=(f>>>r&c)>>>-s,u[o]=(f&c)>>>-s),s+=r;return s<n&&gl(s,o,i,a,u),new Ir(n,a,u)}static fromIteratorPow2(t,r,n){const i=n+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<r)-1;for(const f of t)ca(s)==0&&o++,a[o]|=(f>>>r&c)<<s,u[o]|=(f&c)<<s,s+=r;return s<n&&gl(s,o,i,a,u),new Ir(n,a,u)}static fromArray(t){const r=t.length,n=1,i=r+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<n)-1;for(const f of t){const h=f+1+ +(f>0);ca(s)==0&&o++,a[o]|=(h>>>n&c)<<s,u[o]|=(h&c)<<s,s+=n}return s<r&&gl(s,o,i,a,u),new Ir(r,a,u)}static fromBin(t,r){r===void 0&&(r=t.length);const n=r+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);return bne(t,0,r,i,s),new Ir(r,i,s)}static fromOct(t,r){r===void 0&&(r=t.length*3);const i=r+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=7;for(let f=t.length-1;f>=0;f--){const h=pne[t[f]];ca(s)==0&&o++,a[o]|=(h>>>16&c)<<s,u[o]|=(h&c)<<s,c<<s>>>s!=c&&(o++,a[o]=(h>>>16&c)>>>-s,u[o]=(h&c)>>>-s),s+=3}return s<r&&gl(s,o,i,a,u),new Ir(r,a,u)}static fromHex(t,r){r===void 0&&(r=t.length*4);const n=r+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);return yne(t,0,r,i,s),new Ir(r,i,s)}static fromString(t){const n=/^([0-9]*)'?(b[01x]*|o[0-7x]*|h[0-9a-fx]*|d[0-9]*)$/.exec(t);ki(n!=null,"Vector3vl.fromString() Invalid string");const i=n[1].length?Number(n[1]):void 0,s=n[2].slice(1);switch(n[2][0]){case"b":return Ir.fromBin(s,i);case"o":return Ir.fromOct(s,i);case"h":return Ir.fromHex(s,i);case"d":return Ir.fromNumber(BigInt(s),i)}}static fromClonable(t){return new Ir(t._bits,t._avec,t._bvec)}static fromNumber(t,r){const n=r===void 0?0:r,i=BigInt(t);if(i>=BigInt(0)){let s=i.toString(2);return Ir.fromBin("0".repeat(Math.max(0,n-s.length))+s,r)}else{const s=(-i).toString(2).length;let a=(i+(BigInt(1)<<BigInt(s))).toString(2);return Ir.fromBin("1".repeat(Math.max(1,n-s))+"0".repeat(s-a.length)+a,r)}}get bits(){return this._bits}get msb(){return this.get(this._bits-1)}get lsb(){return this.get(0)}get(t){const r=ca(t),n=dne(t),i=this._avec[n]>>>r&1,s=this._bvec[n]>>>r&1;return i+s-1}get isHigh(){if(this._bits==0)return!0;const t=this._lastmask,r=n=>n.slice(0,n.length-1).every(i=>~i==0)&&(n[n.length-1]&t)==t;return r(this._avec)&&r(this._bvec)}get isLow(){if(this._bits==0)return!0;const t=this._lastmask,r=n=>n.slice(0,n.length-1).every(i=>i==0)&&(n[n.length-1]&t)==0;return r(this._avec)&&r(this._bvec)}get isDefined(){if(this._bits==0)return!1;const t=Ks((r,n)=>r^n,this._avec,this._bvec);return t[t.length-1]|=~this._lastmask,!t.every(r=>~r==0)}get isFullyDefined(){if(this._bits==0)return!0;const t=Ks((r,n)=>r^n,this._avec,this._bvec);return t[t.length-1]&=this._lastmask,!t.some(r=>!!r)}and(t){return ki(t._bits==this._bits,"Vector3vl.and() called with vectors of different sizes"),new Ir(this._bits,Ks((r,n)=>r&n,t._avec,this._avec),Ks((r,n)=>r&n,t._bvec,this._bvec))}or(t){return ki(t._bits==this._bits,"Vector3vl.or() called with vectors of different sizes"),new Ir(this._bits,Ks((r,n)=>r|n,t._avec,this._avec),Ks((r,n)=>r|n,t._bvec,this._bvec))}xor(t){return ki(t._bits==this._bits,"Vector3vl.xor() called with vectors of different sizes"),new Ir(this._bits,ov((r,n,i,s)=>(r|i)&(n^s),t._avec,t._bvec,this._avec,this._bvec),ov((r,n,i,s)=>r&i^(n|s),t._avec,t._bvec,this._avec,this._bvec))}nand(t){return ki(t._bits==this._bits,"Vector3vl.nand() called with vectors of different sizes"),new Ir(this._bits,Ks((r,n)=>~(r&n),t._bvec,this._bvec),Ks((r,n)=>~(r&n),t._avec,this._avec))}nor(t){return ki(t._bits==this._bits,"Vector3vl.nor() called with vectors of different sizes"),new Ir(this._bits,Ks((r,n)=>~(r|n),t._bvec,this._bvec),Ks((r,n)=>~(r|n),t._avec,this._avec))}xnor(t){return ki(t._bits==this._bits,"Vector3vl.xnor() called with vectors of different sizes"),new Ir(this._bits,ov((r,n,i,s)=>~(r&i^(n|s)),t._avec,t._bvec,this._avec,this._bvec),ov((r,n,i,s)=>~((r|i)&(n^s)),t._avec,t._bvec,this._avec,this._bvec))}not(){return new Ir(this._bits,this._bvec.map(t=>~t),this._avec.map(t=>~t))}xmask(){const t=Ks((r,n)=>r^n,this._avec,this._bvec);return new Ir(this._bits,t,t)}reduceAnd(){return new Ir(1,Uint32Array.of(sa((t,r)=>t&r,this._avec,this._lastmask,1)),Uint32Array.of(sa((t,r)=>t&r,this._bvec,this._lastmask,1)))}reduceOr(){return new Ir(1,Uint32Array.of(sa((t,r)=>t|r,this._avec,this._lastmask,0)),Uint32Array.of(sa((t,r)=>t|r,this._bvec,this._lastmask,0)))}reduceNand(){return new Ir(1,Uint32Array.of(~sa((t,r)=>t&r,this._bvec,this._lastmask,1)),Uint32Array.of(~sa((t,r)=>t&r,this._avec,this._lastmask,1)))}reduceNor(){return new Ir(1,Uint32Array.of(~sa((t,r)=>t|r,this._bvec,this._lastmask,0)),Uint32Array.of(~sa((t,r)=>t|r,this._avec,this._lastmask,0)))}reduceXor(){const t=Ks((i,s)=>~i&s,this._avec,this._bvec),r=sa((i,s)=>i|s,t,this._lastmask,0),n=sa((i,s)=>i^s,this._avec,this._lastmask,0);return new Ir(1,Uint32Array.of(n&~r),Uint32Array.of(n|r))}reduceXnor(){return this.reduceXor().not()}concat(...t){return Ir.concat(this,...t)}slice(t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._bits),r>this.bits&&(r=this.bits),t>r&&(r=t),ca(t)==0){const n=this._avec.slice(t>>>5,r+31>>>5),i=this._bvec.slice(t>>>5,r+31>>>5);return new Ir(r-t,n,i)}else{const n=r-t+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);let o=0;i[o]=this._avec[t>>5]>>>t,s[o]=this._bvec[t>>5]>>>t;for(let a=(t>>5)+1;a<=r>>>5&&(i[o]|=this._avec[a]<<-t,s[o]|=this._bvec[a]<<-t,o++,o!=n);a++)i[o]=this._avec[a]>>>t,s[o]=this._bvec[a]>>>t;return new Ir(r-t,i,s)}}toIterator(t){return(t&t-1)==0?this.toIteratorPow2(t):this.toIteratorAnySkip(t)}*toIteratorAnySkip(t){this.normalize();const r=(1<<t)-1;let n=0,i=0,s=r;for(;n<this._bits;){let o=(this._avec[i]&s)>>>n,a=(this._bvec[i]&s)>>>n;if(s>>>n!=r&&i+1!=this._avec.length){const u=r>>-n;o|=(this._avec[i+1]&u)<<-n,a|=(this._bvec[i+1]&u)<<-n}yield o<<t|a,s<<=t,n+=t,s==0&&(i++,s=r<<n)}}*toIteratorPow2(t){this.normalize();const r=(1<<t)-1;let n=0,i=0,s=r;for(;n<this._bits;){const o=(this._avec[i]&s)>>>n,a=(this._bvec[i]&s)>>>n;yield o<<t|a,s<<=t,n+=t,s==0&&(i++,s=r)}}toArray(){this.normalize();const t=1,r=(1<<t)-1;let n=0,i=0,s=r,o=[];for(;n<this._bits;){const a=(this._avec[i]&s)>>>n,u=(this._bvec[i]&s)>>>n,c=a<<t|u;o.push(c-1-+(c>1)),s<<=t,n+=t,s==0&&(i++,s=r)}return o}toBin(){return _ne(0,this._bits,this._avec,this._bvec)}toOct(){this.normalize();const t=3,r=(1<<t)-1;let n=0,i=0,s=r,o=[];for(;n<this._bits;){let a=(this._avec[i]&s)>>>n,u=(this._bvec[i]&s)>>>n;if(s>>>n!=r&&i+1!=this._avec.length){const f=r>>-n;a|=(this._avec[i+1]&f)<<-n,u|=(this._bvec[i+1]&f)<<-n}const c=a<<t|u;7&c&~(c>>3)?o.push("x"):o.push((c>>3).toString()),s<<=t,n+=t,s==0&&(i++,s=r<<n)}return o.reverse().join("")}toHex(){return this.normalize(),mne(0,this._bits,this._avec,this._bvec)}toString(){return"Vector3vl "+this.toBin()}toClonable(){return{_bits:this._bits,_avec:this._avec,_bvec:this._bvec}}toNumber(t=!1){return t?this.toNumberSigned():(ki(this.isFullyDefined,"Vector3vl.toNumber() called on a not fully defined vector"),ki(this._bits<32,"Vector3vl.toNumber() called on a too wide vector"),this._bits==0?0:Number.parseInt(this.toHex(),16))}toNumberSigned(){return ki(this.isFullyDefined,"Vector3vl.toNumberSigned() called on a not fully defined vector"),ki(this._bits<32,"Vector3vl.toNumberSigned() called on a too wide vector"),ki(this._bits>0,"Vector3vl.toNumberSigned() called on an empty vector"),this.msb==1?Number.parseInt(this.toHex(),16)-(1<<this._bits):Number.parseInt(this.toHex(),16)}toBigInt(t=!1){return t?this.toBigIntSigned():(ki(this.isFullyDefined,"Vector3vl.toBigInt() called on a not fully defined vector"),this._bits==0?BigInt(0):BigInt("0x"+this.toHex()))}toBigIntSigned(){return ki(this.isFullyDefined,"Vector3vl.toBigIntSigned() called on a not fully defined vector"),ki(this._bits>0,"Vector3vl.toBigIntSigned() called on an empty vector"),this.msb==1?BigInt("0x"+this.toHex())-(BigInt(1)<<BigInt(this._bits)):BigInt("0x"+this.toHex())}eq(t){if(t._bits!=this._bits)return!1;this.normalize(),t.normalize();for(const r in this._avec)if(this._avec[r]!=t._avec[r]||this._bvec[r]!=t._bvec[r])return!1;return!0}normalize(){const t=this._lastmask;this._avec[this._avec.length-1]&=t,this._bvec[this._bvec.length-1]&=t}get _lastmask(){return-1>>>-this.bits}};wa.empty=wa.zeros(0);wa.one=wa.ones(1);wa.zero=wa.zeros(1);wa.x=wa.xes(1);var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xne(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var vR={},pR={},e0={exports:{}},gR;function Hr(){if(gR)return e0.exports;gR=1;var e=e0.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();return typeof __g=="number"&&(__g=e),e0.exports}var t0,mR;function vo(){if(mR)return t0;mR=1;var e={}.hasOwnProperty;return t0=function(t,r){return e.call(t,r)},t0}var r0,_R;function Jr(){return _R||(_R=1,r0=function(e){try{return!!e()}catch{return!0}}),r0}var n0,yR;function Bn(){return yR||(yR=1,n0=!Jr()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})),n0}var i0={exports:{}},bR;function Go(){if(bR)return i0.exports;bR=1;var e=i0.exports={version:"2.6.12"};return typeof __e=="number"&&(__e=e),i0.exports}var s0={},o0,wR;function an(){return wR||(wR=1,o0=function(e){return typeof e=="object"?e!==null:typeof e=="function"}),o0}var a0,xR;function wr(){if(xR)return a0;xR=1;var e=an();return a0=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t},a0}var u0,SR;function g2(){if(SR)return u0;SR=1;var e=an(),t=Hr().document,r=e(t)&&e(t.createElement);return u0=function(n){return r?t.createElement(n):{}},u0}var c0,ER;function nV(){return ER||(ER=1,c0=!Bn()&&!Jr()(function(){return Object.defineProperty(g2()("div"),"a",{get:function(){return 7}}).a!=7})),c0}var l0,AR;function xa(){if(AR)return l0;AR=1;var e=an();return l0=function(t,r){if(!e(t))return t;var n,i;if(r&&typeof(n=t.toString)=="function"&&!e(i=n.call(t))||typeof(n=t.valueOf)=="function"&&!e(i=n.call(t))||!r&&typeof(n=t.toString)=="function"&&!e(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},l0}var TR;function ni(){if(TR)return s0;TR=1;var e=wr(),t=nV(),r=xa(),n=Object.defineProperty;return s0.f=Bn()?Object.defineProperty:function(s,o,a){if(e(s),o=r(o,!0),e(a),t)try{return n(s,o,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(s[o]=a.value),s},s0}var f0,PR;function xc(){return PR||(PR=1,f0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),f0}var h0,CR;function Fs(){if(CR)return h0;CR=1;var e=ni(),t=xc();return h0=Bn()?function(r,n,i){return e.f(r,n,t(1,i))}:function(r,n,i){return r[n]=i,r},h0}var d0={exports:{}},v0,RR;function Sc(){if(RR)return v0;RR=1;var e=0,t=Math.random();return v0=function(r){return"Symbol(".concat(r===void 0?"":r,")_",(++e+t).toString(36))},v0}var p0={exports:{}},g0,IR;function Nu(){return IR||(IR=1,g0=!1),g0}var OR;function qh(){if(OR)return p0.exports;OR=1;var e=Go(),t=Hr(),r="__core-js_shared__",n=t[r]||(t[r]={});return(p0.exports=function(i,s){return n[i]||(n[i]=s!==void 0?s:{})})("versions",[]).push({version:e.version,mode:Nu()?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"}),p0.exports}var m0,MR;function Sne(){return MR||(MR=1,m0=qh()("native-function-to-string",Function.toString)),m0}var kR;function Bs(){if(kR)return d0.exports;kR=1;var e=Hr(),t=Fs(),r=vo(),n=Sc()("src"),i=Sne(),s="toString",o=(""+i).split(s);return Go().inspectSource=function(a){return i.call(a)},(d0.exports=function(a,u,c,f){var h=typeof c=="function";h&&(r(c,"name")||t(c,"name",u)),a[u]!==c&&(h&&(r(c,n)||t(c,n,a[u]?""+a[u]:o.join(String(u)))),a===e?a[u]=c:f?a[u]?a[u]=c:t(a,u,c):(delete a[u],t(a,u,c)))})(Function.prototype,s,function(){return typeof this=="function"&&this[n]||i.call(this)}),d0.exports}var _0,LR;function is(){return LR||(LR=1,_0=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}),_0}var y0,NR;function $o(){if(NR)return y0;NR=1;var e=is();return y0=function(t,r,n){if(e(t),r===void 0)return t;switch(n){case 1:return function(i){return t.call(r,i)};case 2:return function(i,s){return t.call(r,i,s)};case 3:return function(i,s,o){return t.call(r,i,s,o)}}return function(){return t.apply(r,arguments)}},y0}var b0,qR;function $e(){if(qR)return b0;qR=1;var e=Hr(),t=Go(),r=Fs(),n=Bs(),i=$o(),s="prototype",o=function(a,u,c){var f=a&o.F,h=a&o.G,p=a&o.S,_=a&o.P,m=a&o.B,y=h?e:p?e[u]||(e[u]={}):(e[u]||{})[s],b=h?t:t[u]||(t[u]={}),S=b[s]||(b[s]={}),E,A,P,R;h&&(c=u);for(E in c)A=!f&&y&&y[E]!==void 0,P=(A?y:c)[E],R=m&&A?i(P,e):_&&typeof P=="function"?i(Function.call,P):P,y&&n(y,E,P,a&o.U),b[E]!=P&&r(b,E,R),_&&S[E]!=P&&(S[E]=P)};return e.core=t,o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,b0=o,b0}var w0={exports:{}},DR;function qu(){if(DR)return w0.exports;DR=1;var e=Sc()("meta"),t=an(),r=vo(),n=ni().f,i=0,s=Object.isExtensible||function(){return!0},o=!Jr()(function(){return s(Object.preventExtensions({}))}),a=function(p){n(p,e,{value:{i:"O"+ ++i,w:{}}})},u=function(p,_){if(!t(p))return typeof p=="symbol"?p:(typeof p=="string"?"S":"P")+p;if(!r(p,e)){if(!s(p))return"F";if(!_)return"E";a(p)}return p[e].i},c=function(p,_){if(!r(p,e)){if(!s(p))return!0;if(!_)return!1;a(p)}return p[e].w},f=function(p){return o&&h.NEED&&s(p)&&!r(p,e)&&a(p),p},h=w0.exports={KEY:e,NEED:!1,fastKey:u,getWeak:c,onFreeze:f};return w0.exports}var x0={exports:{}},FR;function In(){if(FR)return x0.exports;FR=1;var e=qh()("wks"),t=Sc(),r=Hr().Symbol,n=typeof r=="function",i=x0.exports=function(s){return e[s]||(e[s]=n&&r[s]||(n?r:t)("Symbol."+s))};return i.store=e,x0.exports}var S0,BR;function Zl(){if(BR)return S0;BR=1;var e=ni().f,t=vo(),r=In()("toStringTag");return S0=function(n,i,s){n&&!t(n=s?n:n.prototype,r)&&e(n,r,{configurable:!0,value:i})},S0}var E0={},zR;function iV(){return zR||(zR=1,E0.f=In()),E0}var A0,VR;function m2(){if(VR)return A0;VR=1;var e=Hr(),t=Go(),r=Nu(),n=iV(),i=ni().f;return A0=function(s){var o=t.Symbol||(t.Symbol=r?{}:e.Symbol||{});s.charAt(0)!="_"&&!(s in o)&&i(o,s,{value:n.f(s)})},A0}var T0,GR;function Uo(){if(GR)return T0;GR=1;var e={}.toString;return T0=function(t){return e.call(t).slice(8,-1)},T0}var P0,$R;function Dh(){if($R)return P0;$R=1;var e=Uo();return P0=Object("z").propertyIsEnumerable(0)?Object:function(t){return e(t)=="String"?t.split(""):Object(t)},P0}var C0,UR;function Sa(){return UR||(UR=1,C0=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}),C0}var R0,jR;function po(){if(jR)return R0;jR=1;var e=Dh(),t=Sa();return R0=function(r){return e(t(r))},R0}var I0,HR;function jo(){if(HR)return I0;HR=1;var e=Math.ceil,t=Math.floor;return I0=function(r){return isNaN(r=+r)?0:(r>0?t:e)(r)},I0}var O0,WR;function kn(){if(WR)return O0;WR=1;var e=jo(),t=Math.min;return O0=function(r){return r>0?t(e(r),9007199254740991):0},O0}var M0,XR;function Ec(){if(XR)return M0;XR=1;var e=jo(),t=Math.max,r=Math.min;return M0=function(n,i){return n=e(n),n<0?t(n+i,0):r(n,i)},M0}var k0,YR;function Tp(){if(YR)return k0;YR=1;var e=po(),t=kn(),r=Ec();return k0=function(n){return function(i,s,o){var a=e(i),u=t(a.length),c=r(o,u),f;if(n&&s!=s){for(;u>c;)if(f=a[c++],f!=f)return!0}else for(;u>c;c++)if((n||c in a)&&a[c]===s)return n||c||0;return!n&&-1}},k0}var L0,KR;function _2(){if(KR)return L0;KR=1;var e=qh()("keys"),t=Sc();return L0=function(r){return e[r]||(e[r]=t(r))},L0}var N0,ZR;function sV(){if(ZR)return N0;ZR=1;var e=vo(),t=po(),r=Tp()(!1),n=_2()("IE_PROTO");return N0=function(i,s){var o=t(i),a=0,u=[],c;for(c in o)c!=n&&e(o,c)&&u.push(c);for(;s.length>a;)e(o,c=s[a++])&&(~r(u,c)||u.push(c));return u},N0}var q0,JR;function y2(){return JR||(JR=1,q0="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")),q0}var D0,QR;function Ac(){if(QR)return D0;QR=1;var e=sV(),t=y2();return D0=Object.keys||function(n){return e(n,t)},D0}var F0={},eI;function Pp(){return eI||(eI=1,F0.f=Object.getOwnPropertySymbols),F0}var B0={},tI;function Fh(){return tI||(tI=1,B0.f={}.propertyIsEnumerable),B0}var z0,rI;function Ene(){if(rI)return z0;rI=1;var e=Ac(),t=Pp(),r=Fh();return z0=function(n){var i=e(n),s=t.f;if(s)for(var o=s(n),a=r.f,u=0,c;o.length>u;)a.call(n,c=o[u++])&&i.push(c);return i},z0}var V0,nI;function Cp(){if(nI)return V0;nI=1;var e=Uo();return V0=Array.isArray||function(r){return e(r)=="Array"},V0}var G0,iI;function ui(){if(iI)return G0;iI=1;var e=Sa();return G0=function(t){return Object(e(t))},G0}var $0,sI;function oV(){if(sI)return $0;sI=1;var e=ni(),t=wr(),r=Ac();return $0=Bn()?Object.defineProperties:function(i,s){t(i);for(var o=r(s),a=o.length,u=0,c;a>u;)e.f(i,c=o[u++],s[c]);return i},$0}var U0,oI;function b2(){if(oI)return U0;oI=1;var e=Hr().document;return U0=e&&e.documentElement,U0}var j0,aI;function Tc(){if(aI)return j0;aI=1;var e=wr(),t=oV(),r=y2(),n=_2()("IE_PROTO"),i=function(){},s="prototype",o=function(){var a=g2()("iframe"),u=r.length,c="<",f=">",h;for(a.style.display="none",b2().appendChild(a),a.src="javascript:",h=a.contentWindow.document,h.open(),h.write(c+"script"+f+"document.F=Object"+c+"/script"+f),h.close(),o=h.F;u--;)delete o[s][r[u]];return o()};return j0=Object.create||function(u,c){var f;return u!==null?(i[s]=e(u),f=new i,i[s]=null,f[n]=u):f=o(),c===void 0?f:t(f,c)},j0}var H0={},W0={},uI;function Pc(){if(uI)return W0;uI=1;var e=sV(),t=y2().concat("length","prototype");return W0.f=Object.getOwnPropertyNames||function(n){return e(n,t)},W0}var cI;function aV(){if(cI)return H0;cI=1;var e=po(),t=Pc().f,r={}.toString,n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(s){try{return t(s)}catch{return n.slice()}};return H0.f=function(o){return n&&r.call(o)=="[object Window]"?i(o):t(e(o))},H0}var X0={},lI;function go(){if(lI)return X0;lI=1;var e=Fh(),t=xc(),r=po(),n=xa(),i=vo(),s=nV(),o=Object.getOwnPropertyDescriptor;return X0.f=Bn()?o:function(u,c){if(u=r(u),c=n(c,!0),s)try{return o(u,c)}catch{}if(i(u,c))return t(!e.f.call(u,c),u[c])},X0}var fI;function Ane(){if(fI)return pR;fI=1;var e=Hr(),t=vo(),r=Bn(),n=$e(),i=Bs(),s=qu().KEY,o=Jr(),a=qh(),u=Zl(),c=Sc(),f=In(),h=iV(),p=m2(),_=Ene(),m=Cp(),y=wr(),b=an(),S=ui(),E=po(),A=xa(),P=xc(),R=Tc(),q=aV(),d=go(),C=Pp(),I=ni(),L=Ac(),B=d.f,H=I.f,$=q.f,J=e.Symbol,ae=e.JSON,X=ae&&ae.stringify,D="prototype",z=f("_hidden"),j=f("toPrimitive"),ie={}.propertyIsEnumerable,oe=a("symbol-registry"),Se=a("symbols"),_e=a("op-symbols"),te=Object[D],ue=typeof J=="function"&&!!C.f,re=e.QObject,Q=!re||!re[D]||!re[D].findChild,le=r&&o(function(){return R(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a!=7})?function(qe,Ie,xe){var Ye=B(te,Ie);Ye&&delete te[Ie],H(qe,Ie,xe),Ye&&qe!==te&&H(te,Ie,Ye)}:H,Ve=function(qe){var Ie=Se[qe]=R(J[D]);return Ie._k=qe,Ie},Le=ue&&typeof J.iterator=="symbol"?function(qe){return typeof qe=="symbol"}:function(qe){return qe instanceof J},Ce=function(Ie,xe,Ye){return Ie===te&&Ce(_e,xe,Ye),y(Ie),xe=A(xe,!0),y(Ye),t(Se,xe)?(Ye.enumerable?(t(Ie,z)&&Ie[z][xe]&&(Ie[z][xe]=!1),Ye=R(Ye,{enumerable:P(0,!1)})):(t(Ie,z)||H(Ie,z,P(1,{})),Ie[z][xe]=!0),le(Ie,xe,Ye)):H(Ie,xe,Ye)},Je=function(Ie,xe){y(Ie);for(var Ye=_(xe=E(xe)),lt=0,_t=Ye.length,ht;_t>lt;)Ce(Ie,ht=Ye[lt++],xe[ht]);return Ie},Ge=function(Ie,xe){return xe===void 0?R(Ie):Je(R(Ie),xe)},N=function(Ie){var xe=ie.call(this,Ie=A(Ie,!0));return this===te&&t(Se,Ie)&&!t(_e,Ie)?!1:xe||!t(this,Ie)||!t(Se,Ie)||t(this,z)&&this[z][Ie]?xe:!0},G=function(Ie,xe){if(Ie=E(Ie),xe=A(xe,!0),!(Ie===te&&t(Se,xe)&&!t(_e,xe))){var Ye=B(Ie,xe);return Ye&&t(Se,xe)&&!(t(Ie,z)&&Ie[z][xe])&&(Ye.enumerable=!0),Ye}},Y=function(Ie){for(var xe=$(E(Ie)),Ye=[],lt=0,_t;xe.length>lt;)!t(Se,_t=xe[lt++])&&_t!=z&&_t!=s&&Ye.push(_t);return Ye},K=function(Ie){for(var xe=Ie===te,Ye=$(xe?_e:E(Ie)),lt=[],_t=0,ht;Ye.length>_t;)t(Se,ht=Ye[_t++])&&(!xe||t(te,ht))&&lt.push(Se[ht]);return lt};ue||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor!");var Ie=c(arguments.length>0?arguments[0]:void 0),xe=function(Ye){this===te&&xe.call(_e,Ye),t(this,z)&&t(this[z],Ie)&&(this[z][Ie]=!1),le(this,Ie,P(1,Ye))};return r&&Q&&le(te,Ie,{configurable:!0,set:xe}),Ve(Ie)},i(J[D],"toString",function(){return this._k}),d.f=G,I.f=Ce,Pc().f=q.f=Y,Fh().f=N,C.f=K,r&&!Nu()&&i(te,"propertyIsEnumerable",N,!0),h.f=function(qe){return Ve(f(qe))}),n(n.G+n.W+n.F*!ue,{Symbol:J});for(var Ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),fe=0;Ee.length>fe;)f(Ee[fe++]);for(var Te=L(f.store),Re=0;Te.length>Re;)p(Te[Re++]);n(n.S+n.F*!ue,"Symbol",{for:function(qe){return t(oe,qe+="")?oe[qe]:oe[qe]=J(qe)},keyFor:function(Ie){if(!Le(Ie))throw TypeError(Ie+" is not a symbol!");for(var xe in oe)if(oe[xe]===Ie)return xe},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),n(n.S+n.F*!ue,"Object",{create:Ge,defineProperty:Ce,defineProperties:Je,getOwnPropertyDescriptor:G,getOwnPropertyNames:Y,getOwnPropertySymbols:K});var ze=o(function(){C.f(1)});return n(n.S+n.F*ze,"Object",{getOwnPropertySymbols:function(Ie){return C.f(S(Ie))}}),ae&&n(n.S+n.F*(!ue||o(function(){var qe=J();return X([qe])!="[null]"||X({a:qe})!="{}"||X(Object(qe))!="{}"})),"JSON",{stringify:function(Ie){for(var xe=[Ie],Ye=1,lt,_t;arguments.length>Ye;)xe.push(arguments[Ye++]);if(_t=lt=xe[1],!(!b(lt)&&Ie===void 0||Le(Ie)))return m(lt)||(lt=function(ht,it){if(typeof _t=="function"&&(it=_t.call(this,ht,it)),!Le(it))return it}),xe[1]=lt,X.apply(ae,xe)}}),J[D][j]||Fs()(J[D],j,J[D].valueOf),u(J,"Symbol"),u(Math,"Math",!0),u(e.JSON,"JSON",!0),pR}var hI={},dI;function Tne(){if(dI)return hI;dI=1;var e=$e();return e(e.S,"Object",{create:Tc()}),hI}var vI={},pI;function Pne(){if(pI)return vI;pI=1;var e=$e();return e(e.S+e.F*!Bn(),"Object",{defineProperty:ni().f}),vI}var gI={},mI;function Cne(){if(mI)return gI;mI=1;var e=$e();return e(e.S+e.F*!Bn(),"Object",{defineProperties:oV()}),gI}var _I={},Y0,yI;function Ea(){if(yI)return Y0;yI=1;var e=$e(),t=Go(),r=Jr();return Y0=function(n,i){var s=(t.Object||{})[n]||Object[n],o={};o[n]=i(s),e(e.S+e.F*r(function(){s(1)}),"Object",o)},Y0}var bI;function Rne(){if(bI)return _I;bI=1;var e=po(),t=go().f;return Ea()("getOwnPropertyDescriptor",function(){return function(n,i){return t(e(n),i)}}),_I}var wI={},K0,xI;function mo(){if(xI)return K0;xI=1;var e=vo(),t=ui(),r=_2()("IE_PROTO"),n=Object.prototype;return K0=Object.getPrototypeOf||function(i){return i=t(i),e(i,r)?i[r]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?n:null},K0}var SI;function Ine(){if(SI)return wI;SI=1;var e=ui(),t=mo();return Ea()("getPrototypeOf",function(){return function(n){return t(e(n))}}),wI}var EI={},AI;function One(){if(AI)return EI;AI=1;var e=ui(),t=Ac();return Ea()("keys",function(){return function(n){return t(e(n))}}),EI}var TI={},PI;function Mne(){return PI||(PI=1,Ea()("getOwnPropertyNames",function(){return aV().f})),TI}var CI={},RI;function kne(){if(RI)return CI;RI=1;var e=an(),t=qu().onFreeze;return Ea()("freeze",function(r){return function(i){return r&&e(i)?r(t(i)):i}}),CI}var II={},OI;function Lne(){if(OI)return II;OI=1;var e=an(),t=qu().onFreeze;return Ea()("seal",function(r){return function(i){return r&&e(i)?r(t(i)):i}}),II}var MI={},kI;function Nne(){if(kI)return MI;kI=1;var e=an(),t=qu().onFreeze;return Ea()("preventExtensions",function(r){return function(i){return r&&e(i)?r(t(i)):i}}),MI}var LI={},NI;function qne(){if(NI)return LI;NI=1;var e=an();return Ea()("isFrozen",function(t){return function(n){return e(n)?t?t(n):!1:!0}}),LI}var qI={},DI;function Dne(){if(DI)return qI;DI=1;var e=an();return Ea()("isSealed",function(t){return function(n){return e(n)?t?t(n):!1:!0}}),qI}var FI={},BI;function Fne(){if(BI)return FI;BI=1;var e=an();return Ea()("isExtensible",function(t){return function(n){return e(n)?t?t(n):!0:!1}}),FI}var zI={},Z0,VI;function uV(){if(VI)return Z0;VI=1;var e=Bn(),t=Ac(),r=Pp(),n=Fh(),i=ui(),s=Dh(),o=Object.assign;return Z0=!o||Jr()(function(){var a={},u={},c=Symbol(),f="abcdefghijklmnopqrst";return a[c]=7,f.split("").forEach(function(h){u[h]=h}),o({},a)[c]!=7||Object.keys(o({},u)).join("")!=f})?function(u,c){for(var f=i(u),h=arguments.length,p=1,_=r.f,m=n.f;h>p;)for(var y=s(arguments[p++]),b=_?t(y).concat(_(y)):t(y),S=b.length,E=0,A;S>E;)A=b[E++],(!e||m.call(y,A))&&(f[A]=y[A]);return f}:o,Z0}var GI;function Bne(){if(GI)return zI;GI=1;var e=$e();return e(e.S+e.F,"Object",{assign:uV()}),zI}var $I={},J0,UI;function cV(){return UI||(UI=1,J0=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!=t&&r!=r}),J0}var jI;function zne(){if(jI)return $I;jI=1;var e=$e();return e(e.S,"Object",{is:cV()}),$I}var HI={},Q0,WI;function w2(){if(WI)return Q0;WI=1;var e=an(),t=wr(),r=function(n,i){if(t(n),!e(i)&&i!==null)throw TypeError(i+": can't set as prototype!")};return Q0={set:Object.setPrototypeOf||("__proto__"in{}?function(n,i,s){try{s=$o()(Function.call,go().f(Object.prototype,"__proto__").set,2),s(n,[]),i=!(n instanceof Array)}catch{i=!0}return function(a,u){return r(a,u),i?a.__proto__=u:s(a,u),a}}({},!1):void 0),check:r},Q0}var XI;function Vne(){if(XI)return HI;XI=1;var e=$e();return e(e.S,"Object",{setPrototypeOf:w2().set}),HI}var YI={},e_,KI;function Jl(){if(KI)return e_;KI=1;var e=Uo(),t=In()("toStringTag"),r=e(function(){return arguments}())=="Arguments",n=function(i,s){try{return i[s]}catch{}};return e_=function(i){var s,o,a;return i===void 0?"Undefined":i===null?"Null":typeof(o=n(s=Object(i),t))=="string"?o:r?e(s):(a=e(s))=="Object"&&typeof s.callee=="function"?"Arguments":a},e_}var ZI;function Gne(){if(ZI)return YI;ZI=1;var e=Jl(),t={};return t[In()("toStringTag")]="z",t+""!="[object z]"&&Bs()(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0),YI}var JI={},t_,QI;function lV(){return QI||(QI=1,t_=function(e,t,r){var n=r===void 0;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}),t_}var r_,eO;function fV(){if(eO)return r_;eO=1;var e=is(),t=an(),r=lV(),n=[].slice,i={},s=function(o,a,u){if(!(a in i)){for(var c=[],f=0;f<a;f++)c[f]="a["+f+"]";i[a]=Function("F,a","return new F("+c.join(",")+")")}return i[a](o,u)};return r_=Function.bind||function(a){var u=e(this),c=n.call(arguments,1),f=function(){var h=c.concat(n.call(arguments));return this instanceof f?s(u,h.length,h):r(u,h,a)};return t(u.prototype)&&(f.prototype=u.prototype),f},r_}var tO;function $ne(){if(tO)return JI;tO=1;var e=$e();return e(e.P,"Function",{bind:fV()}),JI}var rO={},nO;function Une(){if(nO)return rO;nO=1;var e=ni().f,t=Function.prototype,r=/^\s*function ([^ (]*)/,n="name";return n in t||Bn()&&e(t,n,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch{return""}}}),rO}var iO={},sO;function jne(){if(sO)return iO;sO=1;var e=an(),t=mo(),r=In()("hasInstance"),n=Function.prototype;return r in n||ni().f(n,r,{value:function(i){if(typeof this!="function"||!e(i))return!1;if(!e(this.prototype))return i instanceof this;for(;i=t(i);)if(this.prototype===i)return!0;return!1}}),iO}var oO={},n_,aO;function x2(){return aO||(aO=1,n_=`	
\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\uFEFF`),n_}var i_,uO;function Ql(){if(uO)return i_;uO=1;var e=$e(),t=Sa(),r=Jr(),n=x2(),i="["+n+"]",s="âÂ",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),u=function(f,h,p){var _={},m=r(function(){return!!n[f]()||s[f]()!=s}),y=_[f]=m?h(c):n[f];p&&(_[p]=y),e(e.P+e.F*m,"String",_)},c=u.trim=function(f,h){return f=String(t(f)),h&1&&(f=f.replace(o,"")),h&2&&(f=f.replace(a,"")),f};return i_=u,i_}var s_,cO;function hV(){if(cO)return s_;cO=1;var e=Hr().parseInt,t=Ql().trim,r=x2(),n=/^[-+]?0[xX]/;return s_=e(r+"08")!==8||e(r+"0x16")!==22?function(s,o){var a=t(String(s),3);return e(a,o>>>0||(n.test(a)?16:10))}:e,s_}var lO;function Hne(){if(lO)return oO;lO=1;var e=$e(),t=hV();return e(e.G+e.F*(parseInt!=t),{parseInt:t}),oO}var fO={},o_,hO;function dV(){if(hO)return o_;hO=1;var e=Hr().parseFloat,t=Ql().trim;return o_=1/e(x2()+"-0")!==-1/0?function(n){var i=t(String(n),3),s=e(i);return s===0&&i.charAt(0)=="-"?-0:s}:e,o_}var dO;function Wne(){if(dO)return fO;dO=1;var e=$e(),t=dV();return e(e.G+e.F*(parseFloat!=t),{parseFloat:t}),fO}var vO={},a_,pO;function S2(){if(pO)return a_;pO=1;var e=an(),t=w2().set;return a_=function(r,n,i){var s=n.constructor,o;return s!==i&&typeof s=="function"&&(o=s.prototype)!==i.prototype&&e(o)&&t&&t(r,o),r},a_}var gO;function Xne(){if(gO)return vO;gO=1;var e=Hr(),t=vo(),r=Uo(),n=S2(),i=xa(),s=Jr(),o=Pc().f,a=go().f,u=ni().f,c=Ql().trim,f="Number",h=e[f],p=h,_=h.prototype,m=r(Tc()(_))==f,y="trim"in String.prototype,b=function(P){var R=i(P,!1);if(typeof R=="string"&&R.length>2){R=y?R.trim():c(R,3);var q=R.charCodeAt(0),d,C,I;if(q===43||q===45){if(d=R.charCodeAt(2),d===88||d===120)return NaN}else if(q===48){switch(R.charCodeAt(1)){case 66:case 98:C=2,I=49;break;case 79:case 111:C=8,I=55;break;default:return+R}for(var L=R.slice(2),B=0,H=L.length,$;B<H;B++)if($=L.charCodeAt(B),$<48||$>I)return NaN;return parseInt(L,C)}}return+R};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(R){var q=arguments.length<1?0:R,d=this;return d instanceof h&&(m?s(function(){_.valueOf.call(d)}):r(d)!=f)?n(new p(b(q)),d,h):b(q)};for(var S=Bn()?o(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0,A;S.length>E;E++)t(p,A=S[E])&&!t(h,A)&&u(h,A,a(p,A));h.prototype=_,_.constructor=h,Bs()(e,f,h)}return vO}var mO={},u_,_O;function vV(){if(_O)return u_;_O=1;var e=Uo();return u_=function(t,r){if(typeof t!="number"&&e(t)!="Number")throw TypeError(r);return+t},u_}var c_,yO;function E2(){if(yO)return c_;yO=1;var e=jo(),t=Sa();return c_=function(n){var i=String(t(this)),s="",o=e(n);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(i+=i))o&1&&(s+=i);return s},c_}var bO;function Yne(){if(bO)return mO;bO=1;var e=$e(),t=jo(),r=vV(),n=E2(),i=1 .toFixed,s=Math.floor,o=[0,0,0,0,0,0],a="Number.toFixed: incorrect invocation!",u="0",c=function(m,y){for(var b=-1,S=y;++b<6;)S+=m*o[b],o[b]=S%1e7,S=s(S/1e7)},f=function(m){for(var y=6,b=0;--y>=0;)b+=o[y],o[y]=s(b/m),b=b%m*1e7},h=function(){for(var m=6,y="";--m>=0;)if(y!==""||m===0||o[m]!==0){var b=String(o[m]);y=y===""?b:y+n.call(u,7-b.length)+b}return y},p=function(m,y,b){return y===0?b:y%2===1?p(m,y-1,b*m):p(m*m,y/2,b)},_=function(m){for(var y=0,b=m;b>=4096;)y+=12,b/=4096;for(;b>=2;)y+=1,b/=2;return y};return e(e.P+e.F*(!!i&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!Jr()(function(){i.call({})})),"Number",{toFixed:function(y){var b=r(this,a),S=t(y),E="",A=u,P,R,q,d;if(S<0||S>20)throw RangeError(a);if(b!=b)return"NaN";if(b<=-1e21||b>=1e21)return String(b);if(b<0&&(E="-",b=-b),b>1e-21)if(P=_(b*p(2,69,1))-69,R=P<0?b*p(2,-P,1):b/p(2,P,1),R*=4503599627370496,P=52-P,P>0){for(c(0,R),q=S;q>=7;)c(1e7,0),q-=7;for(c(p(10,q,1),0),q=P-1;q>=23;)f(1<<23),q-=23;f(1<<q),c(1,1),f(2),A=h()}else c(0,R),c(1<<-P,0),A=h()+n.call(u,S);return S>0?(d=A.length,A=E+(d<=S?"0."+n.call(u,S-d)+A:A.slice(0,d-S)+"."+A.slice(d-S))):A=E+A,A}}),mO}var wO={},xO;function Kne(){if(xO)return wO;xO=1;var e=$e(),t=Jr(),r=vV(),n=1 .toPrecision;return e(e.P+e.F*(t(function(){return n.call(1,void 0)!=="1"})||!t(function(){n.call({})})),"Number",{toPrecision:function(s){var o=r(this,"Number#toPrecision: incorrect invocation!");return s===void 0?n.call(o):n.call(o,s)}}),wO}var SO={},EO;function Zne(){if(EO)return SO;EO=1;var e=$e();return e(e.S,"Number",{EPSILON:Math.pow(2,-52)}),SO}var AO={},TO;function Jne(){if(TO)return AO;TO=1;var e=$e(),t=Hr().isFinite;return e(e.S,"Number",{isFinite:function(n){return typeof n=="number"&&t(n)}}),AO}var PO={},l_,CO;function pV(){if(CO)return l_;CO=1;var e=an(),t=Math.floor;return l_=function(n){return!e(n)&&isFinite(n)&&t(n)===n},l_}var RO;function Qne(){if(RO)return PO;RO=1;var e=$e();return e(e.S,"Number",{isInteger:pV()}),PO}var IO={},OO;function eie(){if(OO)return IO;OO=1;var e=$e();return e(e.S,"Number",{isNaN:function(r){return r!=r}}),IO}var MO={},kO;function tie(){if(kO)return MO;kO=1;var e=$e(),t=pV(),r=Math.abs;return e(e.S,"Number",{isSafeInteger:function(i){return t(i)&&r(i)<=9007199254740991}}),MO}var LO={},NO;function rie(){if(NO)return LO;NO=1;var e=$e();return e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991}),LO}var qO={},DO;function nie(){if(DO)return qO;DO=1;var e=$e();return e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),qO}var FO={},BO;function iie(){if(BO)return FO;BO=1;var e=$e(),t=dV();return e(e.S+e.F*(Number.parseFloat!=t),"Number",{parseFloat:t}),FO}var zO={},VO;function sie(){if(VO)return zO;VO=1;var e=$e(),t=hV();return e(e.S+e.F*(Number.parseInt!=t),"Number",{parseInt:t}),zO}var GO={},f_,$O;function gV(){return $O||($O=1,f_=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}),f_}var UO;function oie(){if(UO)return GO;UO=1;var e=$e(),t=gV(),r=Math.sqrt,n=Math.acosh;return e(e.S+e.F*!(n&&Math.floor(n(Number.MAX_VALUE))==710&&n(1/0)==1/0),"Math",{acosh:function(s){return(s=+s)<1?NaN:s>9490626562425156e-8?Math.log(s)+Math.LN2:t(s-1+r(s-1)*r(s+1))}}),GO}var jO={},HO;function aie(){if(HO)return jO;HO=1;var e=$e(),t=Math.asinh;function r(n){return!isFinite(n=+n)||n==0?n:n<0?-r(-n):Math.log(n+Math.sqrt(n*n+1))}return e(e.S+e.F*!(t&&1/t(0)>0),"Math",{asinh:r}),jO}var WO={},XO;function uie(){if(XO)return WO;XO=1;var e=$e(),t=Math.atanh;return e(e.S+e.F*!(t&&1/t(-0)<0),"Math",{atanh:function(n){return(n=+n)==0?n:Math.log((1+n)/(1-n))/2}}),WO}var YO={},h_,KO;function A2(){return KO||(KO=1,h_=Math.sign||function(t){return(t=+t)==0||t!=t?t:t<0?-1:1}),h_}var ZO;function cie(){if(ZO)return YO;ZO=1;var e=$e(),t=A2();return e(e.S,"Math",{cbrt:function(n){return t(n=+n)*Math.pow(Math.abs(n),1/3)}}),YO}var JO={},QO;function lie(){if(QO)return JO;QO=1;var e=$e();return e(e.S,"Math",{clz32:function(r){return(r>>>=0)?31-Math.floor(Math.log(r+.5)*Math.LOG2E):32}}),JO}var eM={},tM;function fie(){if(tM)return eM;tM=1;var e=$e(),t=Math.exp;return e(e.S,"Math",{cosh:function(n){return(t(n=+n)+t(-n))/2}}),eM}var rM={},d_,nM;function T2(){if(nM)return d_;nM=1;var e=Math.expm1;return d_=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(r){return(r=+r)==0?r:r>-1e-6&&r<1e-6?r+r*r/2:Math.exp(r)-1}:e,d_}var iM;function hie(){if(iM)return rM;iM=1;var e=$e(),t=T2();return e(e.S+e.F*(t!=Math.expm1),"Math",{expm1:t}),rM}var sM={},v_,oM;function mV(){if(oM)return v_;oM=1;var e=A2(),t=Math.pow,r=t(2,-52),n=t(2,-23),i=t(2,127)*(2-n),s=t(2,-126),o=function(a){return a+1/r-1/r};return v_=Math.fround||function(u){var c=Math.abs(u),f=e(u),h,p;return c<s?f*o(c/s/n)*s*n:(h=(1+n/r)*c,p=h-(h-c),p>i||p!=p?f*(1/0):f*p)},v_}var aM;function die(){if(aM)return sM;aM=1;var e=$e();return e(e.S,"Math",{fround:mV()}),sM}var uM={},cM;function vie(){if(cM)return uM;cM=1;var e=$e(),t=Math.abs;return e(e.S,"Math",{hypot:function(n,i){for(var s=0,o=0,a=arguments.length,u=0,c,f;o<a;)c=t(arguments[o++]),u<c?(f=u/c,s=s*f*f+1,u=c):c>0?(f=c/u,s+=f*f):s+=c;return u===1/0?1/0:u*Math.sqrt(s)}}),uM}var lM={},fM;function pie(){if(fM)return lM;fM=1;var e=$e(),t=Math.imul;return e(e.S+e.F*Jr()(function(){return t(4294967295,5)!=-5||t.length!=2}),"Math",{imul:function(n,i){var s=65535,o=+n,a=+i,u=s&o,c=s&a;return 0|u*c+((s&o>>>16)*c+u*(s&a>>>16)<<16>>>0)}}),lM}var hM={},dM;function gie(){if(dM)return hM;dM=1;var e=$e();return e(e.S,"Math",{log10:function(r){return Math.log(r)*Math.LOG10E}}),hM}var vM={},pM;function mie(){if(pM)return vM;pM=1;var e=$e();return e(e.S,"Math",{log1p:gV()}),vM}var gM={},mM;function _ie(){if(mM)return gM;mM=1;var e=$e();return e(e.S,"Math",{log2:function(r){return Math.log(r)/Math.LN2}}),gM}var _M={},yM;function yie(){if(yM)return _M;yM=1;var e=$e();return e(e.S,"Math",{sign:A2()}),_M}var bM={},wM;function bie(){if(wM)return bM;wM=1;var e=$e(),t=T2(),r=Math.exp;return e(e.S+e.F*Jr()(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(i){return Math.abs(i=+i)<1?(t(i)-t(-i))/2:(r(i-1)-r(-i-1))*(Math.E/2)}}),bM}var xM={},SM;function wie(){if(SM)return xM;SM=1;var e=$e(),t=T2(),r=Math.exp;return e(e.S,"Math",{tanh:function(i){var s=t(i=+i),o=t(-i);return s==1/0?1:o==1/0?-1:(s-o)/(r(i)+r(-i))}}),xM}var EM={},AM;function xie(){if(AM)return EM;AM=1;var e=$e();return e(e.S,"Math",{trunc:function(r){return(r>0?Math.floor:Math.ceil)(r)}}),EM}var TM={},PM;function Sie(){if(PM)return TM;PM=1;var e=$e(),t=Ec(),r=String.fromCharCode,n=String.fromCodePoint;return e(e.S+e.F*(!!n&&n.length!=1),"String",{fromCodePoint:function(s){for(var o=[],a=arguments.length,u=0,c;a>u;){if(c=+arguments[u++],t(c,1114111)!==c)throw RangeError(c+" is not a valid code point");o.push(c<65536?r(c):r(((c-=65536)>>10)+55296,c%1024+56320))}return o.join("")}}),TM}var CM={},RM;function Eie(){if(RM)return CM;RM=1;var e=$e(),t=po(),r=kn();return e(e.S,"String",{raw:function(i){for(var s=t(i.raw),o=r(s.length),a=arguments.length,u=[],c=0;o>c;)u.push(String(s[c++])),c<a&&u.push(String(arguments[c]));return u.join("")}}),CM}var IM={},OM;function Aie(){return OM||(OM=1,Ql()("trim",function(e){return function(){return e(this,3)}})),IM}var MM={},p_,kM;function Rp(){if(kM)return p_;kM=1;var e=jo(),t=Sa();return p_=function(r){return function(n,i){var s=String(t(n)),o=e(i),a=s.length,u,c;return o<0||o>=a?r?"":void 0:(u=s.charCodeAt(o),u<55296||u>56319||o+1===a||(c=s.charCodeAt(o+1))<56320||c>57343?r?s.charAt(o):u:r?s.slice(o,o+2):(u-55296<<10)+(c-56320)+65536)}},p_}var g_,LM;function ef(){return LM||(LM=1,g_={}),g_}var m_,NM;function P2(){if(NM)return m_;NM=1;var e=Tc(),t=xc(),r=Zl(),n={};return Fs()(n,In()("iterator"),function(){return this}),m_=function(i,s,o){i.prototype=e(n,{next:t(1,o)}),r(i,s+" Iterator")},m_}var __,qM;function C2(){if(qM)return __;qM=1;var e=Nu(),t=$e(),r=Bs(),n=Fs(),i=ef(),s=P2(),o=Zl(),a=mo(),u=In()("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",h="keys",p="values",_=function(){return this};return __=function(m,y,b,S,E,A,P){s(b,y,S);var R=function(D){if(!c&&D in I)return I[D];switch(D){case h:return function(){return new b(this,D)};case p:return function(){return new b(this,D)}}return function(){return new b(this,D)}},q=y+" Iterator",d=E==p,C=!1,I=m.prototype,L=I[u]||I[f]||E&&I[E],B=L||R(E),H=E?d?R("entries"):B:void 0,$=y=="Array"&&I.entries||L,J,ae,X;if($&&(X=a($.call(new m)),X!==Object.prototype&&X.next&&(o(X,q,!0),!e&&typeof X[u]!="function"&&n(X,u,_))),d&&L&&L.name!==p&&(C=!0,B=function(){return L.call(this)}),(!e||P)&&(c||C||!I[u])&&n(I,u,B),i[y]=B,i[q]=_,E)if(J={values:d?B:R(p),keys:A?B:R(h),entries:H},P)for(ae in J)ae in I||r(I,ae,J[ae]);else t(t.P+t.F*(c||C),y,J);return J},__}var DM;function Tie(){if(DM)return MM;DM=1;var e=Rp()(!0);return C2()(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,r=this._i,n;return r>=t.length?{value:void 0,done:!0}:(n=e(t,r),this._i+=n.length,{value:n,done:!1})}),MM}var FM={},BM;function Pie(){if(BM)return FM;BM=1;var e=$e(),t=Rp()(!1);return e(e.P,"String",{codePointAt:function(n){return t(this,n)}}),FM}var zM={},y_,VM;function Ip(){if(VM)return y_;VM=1;var e=an(),t=Uo(),r=In()("match");return y_=function(n){var i;return e(n)&&((i=n[r])!==void 0?!!i:t(n)=="RegExp")},y_}var b_,GM;function R2(){if(GM)return b_;GM=1;var e=Ip(),t=Sa();return b_=function(r,n,i){if(e(n))throw TypeError("String#"+i+" doesn't accept regex!");return String(t(r))},b_}var w_,$M;function I2(){if($M)return w_;$M=1;var e=In()("match");return w_=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,!"/./"[t](r)}catch{}}return!0},w_}var UM;function Cie(){if(UM)return zM;UM=1;var e=$e(),t=kn(),r=R2(),n="endsWith",i=""[n];return e(e.P+e.F*I2()(n),"String",{endsWith:function(o){var a=r(this,o,n),u=arguments.length>1?arguments[1]:void 0,c=t(a.length),f=u===void 0?c:Math.min(t(u),c),h=String(o);return i?i.call(a,h,f):a.slice(f-h.length,f)===h}}),zM}var jM={},HM;function Rie(){if(HM)return jM;HM=1;var e=$e(),t=R2(),r="includes";return e(e.P+e.F*I2()(r),"String",{includes:function(i){return!!~t(this,i,r).indexOf(i,arguments.length>1?arguments[1]:void 0)}}),jM}var WM={},XM;function Iie(){if(XM)return WM;XM=1;var e=$e();return e(e.P,"String",{repeat:E2()}),WM}var YM={},KM;function Oie(){if(KM)return YM;KM=1;var e=$e(),t=kn(),r=R2(),n="startsWith",i=""[n];return e(e.P+e.F*I2()(n),"String",{startsWith:function(o){var a=r(this,o,n),u=t(Math.min(arguments.length>1?arguments[1]:void 0,a.length)),c=String(o);return i?i.call(a,c,u):a.slice(u,u+c.length)===c}}),YM}var ZM={},x_,JM;function zs(){if(JM)return x_;JM=1;var e=$e(),t=Jr(),r=Sa(),n=/"/g,i=function(s,o,a,u){var c=String(r(s)),f="<"+o;return a!==""&&(f+=" "+a+'="'+String(u).replace(n,"&quot;")+'"'),f+">"+c+"</"+o+">"};return x_=function(s,o){var a={};a[s]=o(i),e(e.P+e.F*t(function(){var u=""[s]('"');return u!==u.toLowerCase()||u.split('"').length>3}),"String",a)},x_}var QM;function Mie(){return QM||(QM=1,zs()("anchor",function(e){return function(r){return e(this,"a","name",r)}})),ZM}var ek={},tk;function kie(){return tk||(tk=1,zs()("big",function(e){return function(){return e(this,"big","","")}})),ek}var rk={},nk;function Lie(){return nk||(nk=1,zs()("blink",function(e){return function(){return e(this,"blink","","")}})),rk}var ik={},sk;function Nie(){return sk||(sk=1,zs()("bold",function(e){return function(){return e(this,"b","","")}})),ik}var ok={},ak;function qie(){return ak||(ak=1,zs()("fixed",function(e){return function(){return e(this,"tt","","")}})),ok}var uk={},ck;function Die(){return ck||(ck=1,zs()("fontcolor",function(e){return function(r){return e(this,"font","color",r)}})),uk}var lk={},fk;function Fie(){return fk||(fk=1,zs()("fontsize",function(e){return function(r){return e(this,"font","size",r)}})),lk}var hk={},dk;function Bie(){return dk||(dk=1,zs()("italics",function(e){return function(){return e(this,"i","","")}})),hk}var vk={},pk;function zie(){return pk||(pk=1,zs()("link",function(e){return function(r){return e(this,"a","href",r)}})),vk}var gk={},mk;function Vie(){return mk||(mk=1,zs()("small",function(e){return function(){return e(this,"small","","")}})),gk}var _k={},yk;function Gie(){return yk||(yk=1,zs()("strike",function(e){return function(){return e(this,"strike","","")}})),_k}var bk={},wk;function $ie(){return wk||(wk=1,zs()("sub",function(e){return function(){return e(this,"sub","","")}})),bk}var xk={},Sk;function Uie(){return Sk||(Sk=1,zs()("sup",function(e){return function(){return e(this,"sup","","")}})),xk}var Ek={},Ak;function jie(){if(Ak)return Ek;Ak=1;var e=$e();return e(e.S,"Date",{now:function(){return new Date().getTime()}}),Ek}var Tk={},Pk;function Hie(){if(Pk)return Tk;Pk=1;var e=$e(),t=ui(),r=xa();return e(e.P+e.F*Jr()(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(i){var s=t(this),o=r(s);return typeof o=="number"&&!isFinite(o)?null:s.toISOString()}}),Tk}var Ck={},S_,Rk;function Wie(){if(Rk)return S_;Rk=1;var e=Jr(),t=Date.prototype.getTime,r=Date.prototype.toISOString,n=function(i){return i>9?i:"0"+i};return S_=e(function(){return r.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!e(function(){r.call(new Date(NaN))})?function(){if(!isFinite(t.call(this)))throw RangeError("Invalid time value");var s=this,o=s.getUTCFullYear(),a=s.getUTCMilliseconds(),u=o<0?"-":o>9999?"+":"";return u+("00000"+Math.abs(o)).slice(u?-6:-4)+"-"+n(s.getUTCMonth()+1)+"-"+n(s.getUTCDate())+"T"+n(s.getUTCHours())+":"+n(s.getUTCMinutes())+":"+n(s.getUTCSeconds())+"."+(a>99?a:"0"+n(a))+"Z"}:r,S_}var Ik;function Xie(){if(Ik)return Ck;Ik=1;var e=$e(),t=Wie();return e(e.P+e.F*(Date.prototype.toISOString!==t),"Date",{toISOString:t}),Ck}var Ok={},Mk;function Yie(){if(Mk)return Ok;Mk=1;var e=Date.prototype,t="Invalid Date",r="toString",n=e[r],i=e.getTime;return new Date(NaN)+""!=t&&Bs()(e,r,function(){var o=i.call(this);return o===o?n.call(this):t}),Ok}var kk={},E_,Lk;function Kie(){if(Lk)return E_;Lk=1;var e=wr(),t=xa(),r="number";return E_=function(n){if(n!=="string"&&n!==r&&n!=="default")throw TypeError("Incorrect hint");return t(e(this),n!=r)},E_}var Nk;function Zie(){if(Nk)return kk;Nk=1;var e=In()("toPrimitive"),t=Date.prototype;return e in t||Fs()(t,e,Kie()),kk}var qk={},Dk;function Jie(){if(Dk)return qk;Dk=1;var e=$e();return e(e.S,"Array",{isArray:Cp()}),qk}var Fk={},A_,Bk;function _V(){if(Bk)return A_;Bk=1;var e=wr();return A_=function(t,r,n,i){try{return i?r(e(n)[0],n[1]):r(n)}catch(o){var s=t.return;throw s!==void 0&&e(s.call(t)),o}},A_}var T_,zk;function O2(){if(zk)return T_;zk=1;var e=ef(),t=In()("iterator"),r=Array.prototype;return T_=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},T_}var P_,Vk;function M2(){if(Vk)return P_;Vk=1;var e=ni(),t=xc();return P_=function(r,n,i){n in r?e.f(r,n,t(0,i)):r[n]=i},P_}var C_,Gk;function k2(){if(Gk)return C_;Gk=1;var e=Jl(),t=In()("iterator"),r=ef();return C_=Go().getIteratorMethod=function(n){if(n!=null)return n[t]||n["@@iterator"]||r[e(n)]},C_}var R_,$k;function Op(){if($k)return R_;$k=1;var e=In()("iterator"),t=!1;try{var r=[7][e]();r.return=function(){t=!0},Array.from(r,function(){throw 2})}catch{}return R_=function(n,i){if(!i&&!t)return!1;var s=!1;try{var o=[7],a=o[e]();a.next=function(){return{done:s=!0}},o[e]=function(){return a},n(o)}catch{}return s},R_}var Uk;function Qie(){if(Uk)return Fk;Uk=1;var e=$o(),t=$e(),r=ui(),n=_V(),i=O2(),s=kn(),o=M2(),a=k2();return t(t.S+t.F*!Op()(function(u){Array.from(u)}),"Array",{from:function(c){var f=r(c),h=typeof this=="function"?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,m=_!==void 0,y=0,b=a(f),S,E,A,P;if(m&&(_=e(_,p>2?arguments[2]:void 0,2)),b!=null&&!(h==Array&&i(b)))for(P=b.call(f),E=new h;!(A=P.next()).done;y++)o(E,y,m?n(P,_,[A.value,y],!0):A.value);else for(S=s(f.length),E=new h(S);S>y;y++)o(E,y,m?_(f[y],y):f[y]);return E.length=y,E}}),Fk}var jk={},Hk;function ese(){if(Hk)return jk;Hk=1;var e=$e(),t=M2();return e(e.S+e.F*Jr()(function(){function r(){}return!(Array.of.call(r)instanceof r)}),"Array",{of:function(){for(var n=0,i=arguments.length,s=new(typeof this=="function"?this:Array)(i);i>n;)t(s,n,arguments[n++]);return s.length=i,s}}),jk}var Wk={},I_,Xk;function Ho(){if(Xk)return I_;Xk=1;var e=Jr();return I_=function(t,r){return!!t&&e(function(){r?t.call(null,function(){},1):t.call(null)})},I_}var Yk;function tse(){if(Yk)return Wk;Yk=1;var e=$e(),t=po(),r=[].join;return e(e.P+e.F*(Dh()!=Object||!Ho()(r)),"Array",{join:function(i){return r.call(t(this),i===void 0?",":i)}}),Wk}var Kk={},Zk;function rse(){if(Zk)return Kk;Zk=1;var e=$e(),t=b2(),r=Uo(),n=Ec(),i=kn(),s=[].slice;return e(e.P+e.F*Jr()(function(){t&&s.call(t)}),"Array",{slice:function(a,u){var c=i(this.length),f=r(this);if(u=u===void 0?c:u,f=="Array")return s.call(this,a,u);for(var h=n(a,c),p=n(u,c),_=i(p-h),m=new Array(_),y=0;y<_;y++)m[y]=f=="String"?this.charAt(h+y):this[h+y];return m}}),Kk}var Jk={},Qk;function nse(){if(Qk)return Jk;Qk=1;var e=$e(),t=is(),r=ui(),n=Jr(),i=[].sort,s=[1,2,3];return e(e.P+e.F*(n(function(){s.sort(void 0)})||!n(function(){s.sort(null)})||!Ho()(i)),"Array",{sort:function(a){return a===void 0?i.call(r(this)):i.call(r(this),t(a))}}),Jk}var eL={},O_,tL;function ise(){if(tL)return O_;tL=1;var e=an(),t=Cp(),r=In()("species");return O_=function(n){var i;return t(n)&&(i=n.constructor,typeof i=="function"&&(i===Array||t(i.prototype))&&(i=void 0),e(i)&&(i=i[r],i===null&&(i=void 0))),i===void 0?Array:i},O_}var M_,rL;function L2(){if(rL)return M_;rL=1;var e=ise();return M_=function(t,r){return new(e(t))(r)},M_}var k_,nL;function Aa(){if(nL)return k_;nL=1;var e=$o(),t=Dh(),r=ui(),n=kn(),i=L2();return k_=function(s,o){var a=s==1,u=s==2,c=s==3,f=s==4,h=s==6,p=s==5||h,_=o||i;return function(m,y,b){for(var S=r(m),E=t(S),A=e(y,b,3),P=n(E.length),R=0,q=a?_(m,P):u?_(m,0):void 0,d,C;P>R;R++)if((p||R in E)&&(d=E[R],C=A(d,R,S),s)){if(a)q[R]=C;else if(C)switch(s){case 3:return!0;case 5:return d;case 6:return R;case 2:q.push(d)}else if(f)return!1}return h?-1:c||f?f:q}},k_}var iL;function sse(){if(iL)return eL;iL=1;var e=$e(),t=Aa()(0),r=Ho()([].forEach,!0);return e(e.P+e.F*!r,"Array",{forEach:function(i){return t(this,i,arguments[1])}}),eL}var sL={},oL;function ose(){if(oL)return sL;oL=1;var e=$e(),t=Aa()(1);return e(e.P+e.F*!Ho()([].map,!0),"Array",{map:function(n){return t(this,n,arguments[1])}}),sL}var aL={},uL;function ase(){if(uL)return aL;uL=1;var e=$e(),t=Aa()(2);return e(e.P+e.F*!Ho()([].filter,!0),"Array",{filter:function(n){return t(this,n,arguments[1])}}),aL}var cL={},lL;function use(){if(lL)return cL;lL=1;var e=$e(),t=Aa()(3);return e(e.P+e.F*!Ho()([].some,!0),"Array",{some:function(n){return t(this,n,arguments[1])}}),cL}var fL={},hL;function cse(){if(hL)return fL;hL=1;var e=$e(),t=Aa()(4);return e(e.P+e.F*!Ho()([].every,!0),"Array",{every:function(n){return t(this,n,arguments[1])}}),fL}var dL={},L_,vL;function yV(){if(vL)return L_;vL=1;var e=is(),t=ui(),r=Dh(),n=kn();return L_=function(i,s,o,a,u){e(s);var c=t(i),f=r(c),h=n(c.length),p=u?h-1:0,_=u?-1:1;if(o<2)for(;;){if(p in f){a=f[p],p+=_;break}if(p+=_,u?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;u?p>=0:h>p;p+=_)p in f&&(a=s(a,f[p],p,c));return a},L_}var pL;function lse(){if(pL)return dL;pL=1;var e=$e(),t=yV();return e(e.P+e.F*!Ho()([].reduce,!0),"Array",{reduce:function(n){return t(this,n,arguments.length,arguments[1],!1)}}),dL}var gL={},mL;function fse(){if(mL)return gL;mL=1;var e=$e(),t=yV();return e(e.P+e.F*!Ho()([].reduceRight,!0),"Array",{reduceRight:function(n){return t(this,n,arguments.length,arguments[1],!0)}}),gL}var _L={},yL;function hse(){if(yL)return _L;yL=1;var e=$e(),t=Tp()(!1),r=[].indexOf,n=!!r&&1/[1].indexOf(1,-0)<0;return e(e.P+e.F*(n||!Ho()(r)),"Array",{indexOf:function(s){return n?r.apply(this,arguments)||0:t(this,s,arguments[1])}}),_L}var bL={},wL;function dse(){if(wL)return bL;wL=1;var e=$e(),t=po(),r=jo(),n=kn(),i=[].lastIndexOf,s=!!i&&1/[1].lastIndexOf(1,-0)<0;return e(e.P+e.F*(s||!Ho()(i)),"Array",{lastIndexOf:function(a){if(s)return i.apply(this,arguments)||0;var u=t(this),c=n(u.length),f=c-1;for(arguments.length>1&&(f=Math.min(f,r(arguments[1]))),f<0&&(f=c+f);f>=0;f--)if(f in u&&u[f]===a)return f||0;return-1}}),bL}var xL={},N_,SL;function bV(){if(SL)return N_;SL=1;var e=ui(),t=Ec(),r=kn();return N_=[].copyWithin||function(i,s){var o=e(this),a=r(o.length),u=t(i,a),c=t(s,a),f=arguments.length>2?arguments[2]:void 0,h=Math.min((f===void 0?a:t(f,a))-c,a-u),p=1;for(c<u&&u<c+h&&(p=-1,c+=h-1,u+=h-1);h-- >0;)c in o?o[u]=o[c]:delete o[u],u+=p,c+=p;return o},N_}var q_,EL;function Du(){if(EL)return q_;EL=1;var e=In()("unscopables"),t=Array.prototype;return t[e]==null&&Fs()(t,e,{}),q_=function(r){t[e][r]=!0},q_}var AL;function vse(){if(AL)return xL;AL=1;var e=$e();return e(e.P,"Array",{copyWithin:bV()}),Du()("copyWithin"),xL}var TL={},D_,PL;function N2(){if(PL)return D_;PL=1;var e=ui(),t=Ec(),r=kn();return D_=function(i){for(var s=e(this),o=r(s.length),a=arguments.length,u=t(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,f=c===void 0?o:t(c,o);f>u;)s[u++]=i;return s},D_}var CL;function pse(){if(CL)return TL;CL=1;var e=$e();return e(e.P,"Array",{fill:N2()}),Du()("fill"),TL}var RL={},IL;function gse(){if(IL)return RL;IL=1;var e=$e(),t=Aa()(5),r="find",n=!0;return r in[]&&Array(1)[r](function(){n=!1}),e(e.P+e.F*n,"Array",{find:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0)}}),Du()(r),RL}var OL={},ML;function mse(){if(ML)return OL;ML=1;var e=$e(),t=Aa()(6),r="findIndex",n=!0;return r in[]&&Array(1)[r](function(){n=!1}),e(e.P+e.F*n,"Array",{findIndex:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0)}}),Du()(r),OL}var kL={},F_,LL;function Cc(){if(LL)return F_;LL=1;var e=Hr(),t=ni(),r=Bn(),n=In()("species");return F_=function(i){var s=e[i];r&&s&&!s[n]&&t.f(s,n,{configurable:!0,get:function(){return this}})},F_}var NL;function _se(){return NL||(NL=1,Cc()("Array")),kL}var B_,qL;function wV(){return qL||(qL=1,B_=function(e,t){return{value:t,done:!!e}}),B_}var z_,DL;function q2(){if(DL)return z_;DL=1;var e=Du(),t=wV(),r=ef(),n=po();return z_=C2()(Array,"Array",function(i,s){this._t=n(i),this._i=0,this._k=s},function(){var i=this._t,s=this._k,o=this._i++;return!i||o>=i.length?(this._t=void 0,t(1)):s=="keys"?t(0,o):s=="values"?t(0,i[o]):t(0,[o,i[o]])},"values"),r.Arguments=r.Array,e("keys"),e("values"),e("entries"),z_}var FL={},V_,BL;function Bh(){if(BL)return V_;BL=1;var e=wr();return V_=function(){var t=e(this),r="";return t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.unicode&&(r+="u"),t.sticky&&(r+="y"),r},V_}var zL;function yse(){if(zL)return FL;zL=1;var e=Hr(),t=S2(),r=ni().f,n=Pc().f,i=Ip(),s=Bh(),o=e.RegExp,a=o,u=o.prototype,c=/a/g,f=/a/g,h=new o(c)!==c;if(Bn()&&(!h||Jr()(function(){return f[In()("match")]=!1,o(c)!=c||o(f)==f||o(c,"i")!="/a/i"}))){o=function(b,S){var E=this instanceof o,A=i(b),P=S===void 0;return!E&&A&&b.constructor===o&&P?b:t(h?new a(A&&!P?b.source:b,S):a((A=b instanceof o)?b.source:b,A&&P?s.call(b):S),E?this:u,o)};for(var p=function(y){y in o||r(o,y,{configurable:!0,get:function(){return a[y]},set:function(b){a[y]=b}})},_=n(a),m=0;_.length>m;)p(_[m++]);u.constructor=o,o.prototype=u,Bs()(e,"RegExp",o)}return Cc()("RegExp"),FL}var VL={},G_,GL;function D2(){if(GL)return G_;GL=1;var e=Bh(),t=RegExp.prototype.exec,r=String.prototype.replace,n=t,i="lastIndex",s=function(){var u=/a/,c=/b*/g;return t.call(u,"a"),t.call(c,"a"),u[i]!==0||c[i]!==0}(),o=/()??/.exec("")[1]!==void 0,a=s||o;return a&&(n=function(c){var f=this,h,p,_,m;return o&&(p=new RegExp("^"+f.source+"$(?!\\s)",e.call(f))),s&&(h=f[i]),_=t.call(f,c),s&&_&&(f[i]=f.global?_.index+_[0].length:h),o&&_&&_.length>1&&r.call(_[0],p,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(_[m]=void 0)}),_}),G_=n,G_}var $L;function xV(){if($L)return VL;$L=1;var e=D2();return $e()({target:"RegExp",proto:!0,forced:e!==/./.exec},{exec:e}),VL}var UL={},jL={},HL;function SV(){return HL||(HL=1,Bn()&&/./g.flags!="g"&&ni().f(RegExp.prototype,"flags",{configurable:!0,get:Bh()})),jL}var WL;function bse(){if(WL)return UL;WL=1,SV();var e=wr(),t=Bh(),r=Bn(),n="toString",i=/./[n],s=function(o){Bs()(RegExp.prototype,n,o,!0)};return Jr()(function(){return i.call({source:"a",flags:"b"})!="/a/b"})?s(function(){var a=e(this);return"/".concat(a.source,"/","flags"in a?a.flags:!r&&a instanceof RegExp?t.call(a):void 0)}):i.name!=n&&s(function(){return i.call(this)}),UL}var XL={},$_,YL;function F2(){if(YL)return $_;YL=1;var e=Rp()(!0);return $_=function(t,r,n){return r+(n?e(t,r).length:1)},$_}var U_,KL;function Mp(){if(KL)return U_;KL=1;var e=Jl(),t=RegExp.prototype.exec;return U_=function(r,n){var i=r.exec;if(typeof i=="function"){var s=i.call(r,n);if(typeof s!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if(e(r)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return t.call(r,n)},U_}var j_,ZL;function kp(){if(ZL)return j_;ZL=1,xV();var e=Bs(),t=Fs(),r=Jr(),n=Sa(),i=In(),s=D2(),o=i("species"),a=!r(function(){var c=/./;return c.exec=function(){var f=[];return f.groups={a:"7"},f},"".replace(c,"$<a>")!=="7"}),u=function(){var c=/(?:)/,f=c.exec;c.exec=function(){return f.apply(this,arguments)};var h="ab".split(c);return h.length===2&&h[0]==="a"&&h[1]==="b"}();return j_=function(c,f,h){var p=i(c),_=!r(function(){var A={};return A[p]=function(){return 7},""[c](A)!=7}),m=_?!r(function(){var A=!1,P=/a/;return P.exec=function(){return A=!0,null},c==="split"&&(P.constructor={},P.constructor[o]=function(){return P}),P[p](""),!A}):void 0;if(!_||!m||c==="replace"&&!a||c==="split"&&!u){var y=/./[p],b=h(n,p,""[c],function(P,R,q,d,C){return R.exec===s?_&&!C?{done:!0,value:y.call(R,q,d)}:{done:!0,value:P.call(q,R,d)}:{done:!1}}),S=b[0],E=b[1];e(String.prototype,c,S),t(RegExp.prototype,p,f==2?function(A,P){return E.call(A,this,P)}:function(A){return E.call(A,this)})}},j_}var JL;function wse(){if(JL)return XL;JL=1;var e=wr(),t=kn(),r=F2(),n=Mp();return kp()("match",1,function(i,s,o,a){return[function(c){var f=i(this),h=c==null?void 0:c[s];return h!==void 0?h.call(c,f):new RegExp(c)[s](String(f))},function(u){var c=a(o,u,this);if(c.done)return c.value;var f=e(u),h=String(this);if(!f.global)return n(f,h);var p=f.unicode;f.lastIndex=0;for(var _=[],m=0,y;(y=n(f,h))!==null;){var b=String(y[0]);_[m]=b,b===""&&(f.lastIndex=r(h,t(f.lastIndex),p)),m++}return m===0?null:_}]}),XL}var QL={},eN;function xse(){if(eN)return QL;eN=1;var e=wr(),t=ui(),r=kn(),n=jo(),i=F2(),s=Mp(),o=Math.max,a=Math.min,u=Math.floor,c=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,h=function(p){return p===void 0?p:String(p)};return kp()("replace",2,function(p,_,m,y){return[function(E,A){var P=p(this),R=E==null?void 0:E[_];return R!==void 0?R.call(E,P,A):m.call(String(P),E,A)},function(S,E){var A=y(m,S,this,E);if(A.done)return A.value;var P=e(S),R=String(this),q=typeof E=="function";q||(E=String(E));var d=P.global;if(d){var C=P.unicode;P.lastIndex=0}for(var I=[];;){var L=s(P,R);if(L===null||(I.push(L),!d))break;var B=String(L[0]);B===""&&(P.lastIndex=i(R,r(P.lastIndex),C))}for(var H="",$=0,J=0;J<I.length;J++){L=I[J];for(var ae=String(L[0]),X=o(a(n(L.index),R.length),0),D=[],z=1;z<L.length;z++)D.push(h(L[z]));var j=L.groups;if(q){var ie=[ae].concat(D,X,R);j!==void 0&&ie.push(j);var oe=String(E.apply(void 0,ie))}else oe=b(ae,R,X,D,j,E);X>=$&&(H+=R.slice($,X)+oe,$=X+ae.length)}return H+R.slice($)}];function b(S,E,A,P,R,q){var d=A+S.length,C=P.length,I=f;return R!==void 0&&(R=t(R),I=c),m.call(q,I,function(L,B){var H;switch(B.charAt(0)){case"$":return"$";case"&":return S;case"`":return E.slice(0,A);case"'":return E.slice(d);case"<":H=R[B.slice(1,-1)];break;default:var $=+B;if($===0)return L;if($>C){var J=u($/10);return J===0?L:J<=C?P[J-1]===void 0?B.charAt(1):P[J-1]+B.charAt(1):L}H=P[$-1]}return H===void 0?"":H})}}),QL}var tN={},rN;function Sse(){if(rN)return tN;rN=1;var e=wr(),t=cV(),r=Mp();return kp()("search",1,function(n,i,s,o){return[function(u){var c=n(this),f=u==null?void 0:u[i];return f!==void 0?f.call(u,c):new RegExp(u)[i](String(c))},function(a){var u=o(s,a,this);if(u.done)return u.value;var c=e(a),f=String(this),h=c.lastIndex;t(h,0)||(c.lastIndex=0);var p=r(c,f);return t(c.lastIndex,h)||(c.lastIndex=h),p===null?-1:p.index}]}),tN}var nN={},H_,iN;function zh(){if(iN)return H_;iN=1;var e=wr(),t=is(),r=In()("species");return H_=function(n,i){var s=e(n).constructor,o;return s===void 0||(o=e(s)[r])==null?i:t(o)},H_}var sN;function Ese(){if(sN)return nN;sN=1;var e=Ip(),t=wr(),r=zh(),n=F2(),i=kn(),s=Mp(),o=D2(),a=Jr(),u=Math.min,c=[].push,f="split",h="length",p="lastIndex",_=4294967295,m=!a(function(){});return kp()("split",2,function(y,b,S,E){var A;return"abbc"[f](/(b)*/)[1]=="c"||"test"[f](/(?:)/,-1)[h]!=4||"ab"[f](/(?:ab)*/)[h]!=2||"."[f](/(.?)(.?)/)[h]!=4||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?A=function(P,R){var q=String(this);if(P===void 0&&R===0)return[];if(!e(P))return S.call(q,P,R);for(var d=[],C=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),I=0,L=R===void 0?_:R>>>0,B=new RegExp(P.source,C+"g"),H,$,J;(H=o.call(B,q))&&($=B[p],!($>I&&(d.push(q.slice(I,H.index)),H[h]>1&&H.index<q[h]&&c.apply(d,H.slice(1)),J=H[0][h],I=$,d[h]>=L)));)B[p]===H.index&&B[p]++;return I===q[h]?(J||!B.test(""))&&d.push(""):d.push(q.slice(I)),d[h]>L?d.slice(0,L):d}:"0"[f](void 0,0)[h]?A=function(P,R){return P===void 0&&R===0?[]:S.call(this,P,R)}:A=S,[function(R,q){var d=y(this),C=R==null?void 0:R[b];return C!==void 0?C.call(R,d,q):A.call(String(d),R,q)},function(P,R){var q=E(A,P,this,R,A!==S);if(q.done)return q.value;var d=t(P),C=String(this),I=r(d,RegExp),L=d.unicode,B=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),H=new I(m?d:"^(?:"+d.source+")",B),$=R===void 0?_:R>>>0;if($===0)return[];if(C.length===0)return s(H,C)===null?[C]:[];for(var J=0,ae=0,X=[];ae<C.length;){H.lastIndex=m?ae:0;var D=s(H,m?C:C.slice(ae)),z;if(D===null||(z=u(i(H.lastIndex+(m?0:ae)),C.length))===J)ae=n(C,ae,L);else{if(X.push(C.slice(J,ae)),X.length===$)return X;for(var j=1;j<=D.length-1;j++)if(X.push(D[j]),X.length===$)return X;ae=J=z}}return X.push(C.slice(J)),X}]}),nN}var oN={},W_,aN;function Rc(){return aN||(aN=1,W_=function(e,t,r,n){if(!(e instanceof t)||n!==void 0&&n in e)throw TypeError(r+": incorrect invocation!");return e}),W_}var X_={exports:{}},uN;function Ic(){if(uN)return X_.exports;uN=1;var e=$o(),t=_V(),r=O2(),n=wr(),i=kn(),s=k2(),o={},a={},u=X_.exports=function(c,f,h,p,_){var m=_?function(){return c}:s(c),y=e(h,p,f?2:1),b=0,S,E,A,P;if(typeof m!="function")throw TypeError(c+" is not iterable!");if(r(m)){for(S=i(c.length);S>b;b++)if(P=f?y(n(E=c[b])[0],E[1]):y(c[b]),P===o||P===a)return P}else for(A=m.call(c);!(E=A.next()).done;)if(P=t(A,y,E.value,f),P===o||P===a)return P};return u.BREAK=o,u.RETURN=a,X_.exports}var Y_,cN;function B2(){if(cN)return Y_;cN=1;var e=$o(),t=lV(),r=b2(),n=g2(),i=Hr(),s=i.process,o=i.setImmediate,a=i.clearImmediate,u=i.MessageChannel,c=i.Dispatch,f=0,h={},p="onreadystatechange",_,m,y,b=function(){var E=+this;if(h.hasOwnProperty(E)){var A=h[E];delete h[E],A()}},S=function(E){b.call(E.data)};return(!o||!a)&&(o=function(A){for(var P=[],R=1;arguments.length>R;)P.push(arguments[R++]);return h[++f]=function(){t(typeof A=="function"?A:Function(A),P)},_(f),f},a=function(A){delete h[A]},Uo()(s)=="process"?_=function(E){s.nextTick(e(b,E,1))}:c&&c.now?_=function(E){c.now(e(b,E,1))}:u?(m=new u,y=m.port2,m.port1.onmessage=S,_=e(y.postMessage,y,1)):i.addEventListener&&typeof postMessage=="function"&&!i.importScripts?(_=function(E){i.postMessage(E+"","*")},i.addEventListener("message",S,!1)):p in n("script")?_=function(E){r.appendChild(n("script"))[p]=function(){r.removeChild(this),b.call(E)}}:_=function(E){setTimeout(e(b,E,1),0)}),Y_={set:o,clear:a},Y_}var K_,lN;function z2(){if(lN)return K_;lN=1;var e=Hr(),t=B2().set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,i=e.Promise,s=Uo()(n)=="process";return K_=function(){var o,a,u,c=function(){var _,m;for(s&&(_=n.domain)&&_.exit();o;){m=o.fn,o=o.next;try{m()}catch(y){throw o?u():a=void 0,y}}a=void 0,_&&_.enter()};if(s)u=function(){n.nextTick(c)};else if(r&&!(e.navigator&&e.navigator.standalone)){var f=!0,h=document.createTextNode("");new r(c).observe(h,{characterData:!0}),u=function(){h.data=f=!f}}else if(i&&i.resolve){var p=i.resolve(void 0);u=function(){p.then(c)}}else u=function(){t.call(e,c)};return function(_){var m={fn:_,next:void 0};a&&(a.next=m),o||(o=m,u()),a=m}},K_}var Z_={},fN;function V2(){if(fN)return Z_;fN=1;var e=is();function t(r){var n,i;this.promise=new r(function(s,o){if(n!==void 0||i!==void 0)throw TypeError("Bad Promise constructor");n=s,i=o}),this.resolve=e(n),this.reject=e(i)}return Z_.f=function(r){return new t(r)},Z_}var J_,hN;function EV(){return hN||(hN=1,J_=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}),J_}var Q_,dN;function Lp(){if(dN)return Q_;dN=1;var e=Hr(),t=e.navigator;return Q_=t&&t.userAgent||"",Q_}var ey,vN;function AV(){if(vN)return ey;vN=1;var e=wr(),t=an(),r=V2();return ey=function(n,i){if(e(n),t(i)&&i.constructor===n)return i;var s=r.f(n),o=s.resolve;return o(i),s.promise},ey}var ty,pN;function Oc(){if(pN)return ty;pN=1;var e=Bs();return ty=function(t,r,n){for(var i in r)e(t,i,r[i],n);return t},ty}var gN;function Ase(){if(gN)return oN;gN=1;var e=Nu(),t=Hr(),r=$o(),n=Jl(),i=$e(),s=an(),o=is(),a=Rc(),u=Ic(),c=zh(),f=B2().set,h=z2()(),p=V2(),_=EV(),m=Lp(),y=AV(),b="Promise",S=t.TypeError,E=t.process,A=E&&E.versions,P=A&&A.v8||"",R=t[b],q=n(E)=="process",d=function(){},C,I,L,B,H=I=p.f,$=!!function(){try{var oe=R.resolve(1),Se=(oe.constructor={})[In()("species")]=function(_e){_e(d,d)};return(q||typeof PromiseRejectionEvent=="function")&&oe.then(d)instanceof Se&&P.indexOf("6.6")!==0&&m.indexOf("Chrome/66")===-1}catch{}}(),J=function(oe){var Se;return s(oe)&&typeof(Se=oe.then)=="function"?Se:!1},ae=function(oe,Se){if(!oe._n){oe._n=!0;var _e=oe._c;h(function(){for(var te=oe._v,ue=oe._s==1,re=0,Q=function(le){var Ve=ue?le.ok:le.fail,Le=le.resolve,Ce=le.reject,Je=le.domain,Ge,N,G;try{Ve?(ue||(oe._h==2&&z(oe),oe._h=1),Ve===!0?Ge=te:(Je&&Je.enter(),Ge=Ve(te),Je&&(Je.exit(),G=!0)),Ge===le.promise?Ce(S("Promise-chain cycle")):(N=J(Ge))?N.call(Ge,Le,Ce):Le(Ge)):Ce(te)}catch(Y){Je&&!G&&Je.exit(),Ce(Y)}};_e.length>re;)Q(_e[re++]);oe._c=[],oe._n=!1,Se&&!oe._h&&X(oe)})}},X=function(oe){f.call(t,function(){var Se=oe._v,_e=D(oe),te,ue,re;if(_e&&(te=_(function(){q?E.emit("unhandledRejection",Se,oe):(ue=t.onunhandledrejection)?ue({promise:oe,reason:Se}):(re=t.console)&&re.error&&re.error("Unhandled promise rejection",Se)}),oe._h=q||D(oe)?2:1),oe._a=void 0,_e&&te.e)throw te.v})},D=function(oe){return oe._h!==1&&(oe._a||oe._c).length===0},z=function(oe){f.call(t,function(){var Se;q?E.emit("rejectionHandled",oe):(Se=t.onrejectionhandled)&&Se({promise:oe,reason:oe._v})})},j=function(oe){var Se=this;Se._d||(Se._d=!0,Se=Se._w||Se,Se._v=oe,Se._s=2,Se._a||(Se._a=Se._c.slice()),ae(Se,!0))},ie=function(oe){var Se=this,_e;if(!Se._d){Se._d=!0,Se=Se._w||Se;try{if(Se===oe)throw S("Promise can't be resolved itself");(_e=J(oe))?h(function(){var te={_w:Se,_d:!1};try{_e.call(oe,r(ie,te,1),r(j,te,1))}catch(ue){j.call(te,ue)}}):(Se._v=oe,Se._s=1,ae(Se,!1))}catch(te){j.call({_w:Se,_d:!1},te)}}};return $||(R=function(Se){a(this,R,b,"_h"),o(Se),C.call(this);try{Se(r(ie,this,1),r(j,this,1))}catch(_e){j.call(this,_e)}},C=function(Se){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},C.prototype=Oc()(R.prototype,{then:function(Se,_e){var te=H(c(this,R));return te.ok=typeof Se=="function"?Se:!0,te.fail=typeof _e=="function"&&_e,te.domain=q?E.domain:void 0,this._c.push(te),this._a&&this._a.push(te),this._s&&ae(this,!1),te.promise},catch:function(oe){return this.then(void 0,oe)}}),L=function(){var oe=new C;this.promise=oe,this.resolve=r(ie,oe,1),this.reject=r(j,oe,1)},p.f=H=function(oe){return oe===R||oe===B?new L(oe):I(oe)}),i(i.G+i.W+i.F*!$,{Promise:R}),Zl()(R,b),Cc()(b),B=Go()[b],i(i.S+i.F*!$,b,{reject:function(Se){var _e=H(this),te=_e.reject;return te(Se),_e.promise}}),i(i.S+i.F*(e||!$),b,{resolve:function(Se){return y(e&&this===B?R:this,Se)}}),i(i.S+i.F*!($&&Op()(function(oe){R.all(oe).catch(d)})),b,{all:function(Se){var _e=this,te=H(_e),ue=te.resolve,re=te.reject,Q=_(function(){var le=[],Ve=0,Le=1;u(Se,!1,function(Ce){var Je=Ve++,Ge=!1;le.push(void 0),Le++,_e.resolve(Ce).then(function(N){Ge||(Ge=!0,le[Je]=N,--Le||ue(le))},re)}),--Le||ue(le)});return Q.e&&re(Q.v),te.promise},race:function(Se){var _e=this,te=H(_e),ue=te.reject,re=_(function(){u(Se,!1,function(Q){_e.resolve(Q).then(te.resolve,ue)})});return re.e&&ue(re.v),te.promise}}),oN}var ry,mN;function gc(){if(mN)return ry;mN=1;var e=an();return ry=function(t,r){if(!e(t)||t._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return t},ry}var ny,_N;function TV(){if(_N)return ny;_N=1;var e=ni().f,t=Tc(),r=Oc(),n=$o(),i=Rc(),s=Ic(),o=C2(),a=wV(),u=Cc(),c=Bn(),f=qu().fastKey,h=gc(),p=c?"_s":"size",_=function(m,y){var b=f(y),S;if(b!=="F")return m._i[b];for(S=m._f;S;S=S.n)if(S.k==y)return S};return ny={getConstructor:function(m,y,b,S){var E=m(function(A,P){i(A,E,y,"_i"),A._t=y,A._i=t(null),A._f=void 0,A._l=void 0,A[p]=0,P!=null&&s(P,b,A[S],A)});return r(E.prototype,{clear:function(){for(var P=h(this,y),R=P._i,q=P._f;q;q=q.n)q.r=!0,q.p&&(q.p=q.p.n=void 0),delete R[q.i];P._f=P._l=void 0,P[p]=0},delete:function(A){var P=h(this,y),R=_(P,A);if(R){var q=R.n,d=R.p;delete P._i[R.i],R.r=!0,d&&(d.n=q),q&&(q.p=d),P._f==R&&(P._f=q),P._l==R&&(P._l=d),P[p]--}return!!R},forEach:function(P){h(this,y);for(var R=n(P,arguments.length>1?arguments[1]:void 0,3),q;q=q?q.n:this._f;)for(R(q.v,q.k,this);q&&q.r;)q=q.p},has:function(P){return!!_(h(this,y),P)}}),c&&e(E.prototype,"size",{get:function(){return h(this,y)[p]}}),E},def:function(m,y,b){var S=_(m,y),E,A;return S?S.v=b:(m._l=S={i:A=f(y,!0),k:y,v:b,p:E=m._l,n:void 0,r:!1},m._f||(m._f=S),E&&(E.n=S),m[p]++,A!=="F"&&(m._i[A]=S)),m},getEntry:_,setStrong:function(m,y,b){o(m,y,function(S,E){this._t=h(S,y),this._k=E,this._l=void 0},function(){for(var S=this,E=S._k,A=S._l;A&&A.r;)A=A.p;return!S._t||!(S._l=A=A?A.n:S._t._f)?(S._t=void 0,a(1)):E=="keys"?a(0,A.k):E=="values"?a(0,A.v):a(0,[A.k,A.v])},b?"entries":"values",!b,!0),u(y)}},ny}var iy,yN;function Np(){if(yN)return iy;yN=1;var e=Hr(),t=$e(),r=Bs(),n=Oc(),i=qu(),s=Ic(),o=Rc(),a=an(),u=Jr(),c=Op(),f=Zl(),h=S2();return iy=function(p,_,m,y,b,S){var E=e[p],A=E,P=b?"set":"add",R=A&&A.prototype,q={},d=function($){var J=R[$];r(R,$,$=="delete"?function(ae){return S&&!a(ae)?!1:J.call(this,ae===0?0:ae)}:$=="has"?function(X){return S&&!a(X)?!1:J.call(this,X===0?0:X)}:$=="get"?function(X){return S&&!a(X)?void 0:J.call(this,X===0?0:X)}:$=="add"?function(X){return J.call(this,X===0?0:X),this}:function(X,D){return J.call(this,X===0?0:X,D),this})};if(typeof A!="function"||!(S||R.forEach&&!u(function(){new A().entries().next()})))A=y.getConstructor(_,p,b,P),n(A.prototype,m),i.NEED=!0;else{var C=new A,I=C[P](S?{}:-0,1)!=C,L=u(function(){C.has(1)}),B=c(function($){new A($)}),H=!S&&u(function(){for(var $=new A,J=5;J--;)$[P](J,J);return!$.has(-0)});B||(A=_(function($,J){o($,A,p);var ae=h(new E,$,A);return J!=null&&s(J,b,ae[P],ae),ae}),A.prototype=R,R.constructor=A),(L||H)&&(d("delete"),d("has"),b&&d("get")),(H||I)&&d(P),S&&R.clear&&delete R.clear}return f(A,p),q[p]=A,t(t.G+t.W+t.F*(A!=E),q),S||y.setStrong(A,p,b),A},iy}var sy,bN;function PV(){if(bN)return sy;bN=1;var e=TV(),t=gc(),r="Map";return sy=Np()(r,function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}},{get:function(i){var s=e.getEntry(t(this,r),i);return s&&s.v},set:function(i,s){return e.def(t(this,r),i===0?0:i,s)}},e,!0),sy}var oy,wN;function CV(){if(wN)return oy;wN=1;var e=TV(),t=gc(),r="Set";return oy=Np()(r,function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return e.def(t(this,r),i=i===0?0:i,i)}},e),oy}var ay={exports:{}},uy,xN;function RV(){if(xN)return uy;xN=1;var e=Oc(),t=qu().getWeak,r=wr(),n=an(),i=Rc(),s=Ic(),o=Aa(),a=vo(),u=gc(),c=o(5),f=o(6),h=0,p=function(y){return y._l||(y._l=new _)},_=function(){this.a=[]},m=function(y,b){return c(y.a,function(S){return S[0]===b})};return _.prototype={get:function(y){var b=m(this,y);if(b)return b[1]},has:function(y){return!!m(this,y)},set:function(y,b){var S=m(this,y);S?S[1]=b:this.a.push([y,b])},delete:function(y){var b=f(this.a,function(S){return S[0]===y});return~b&&this.a.splice(b,1),!!~b}},uy={getConstructor:function(y,b,S,E){var A=y(function(P,R){i(P,A,b,"_i"),P._t=b,P._i=h++,P._l=void 0,R!=null&&s(R,S,P[E],P)});return e(A.prototype,{delete:function(P){if(!n(P))return!1;var R=t(P);return R===!0?p(u(this,b)).delete(P):R&&a(R,this._i)&&delete R[this._i]},has:function(R){if(!n(R))return!1;var q=t(R);return q===!0?p(u(this,b)).has(R):q&&a(q,this._i)}}),A},def:function(y,b,S){var E=t(r(b),!0);return E===!0?p(y).set(b,S):E[y._i]=S,y},ufstore:p},uy}var SN;function IV(){if(SN)return ay.exports;SN=1;var e=Hr(),t=Aa()(0),r=Bs(),n=qu(),i=uV(),s=RV(),o=an(),a=gc(),u=gc(),c=!e.ActiveXObject&&"ActiveXObject"in e,f="WeakMap",h=n.getWeak,p=Object.isExtensible,_=s.ufstore,m,y=function(E){return function(){return E(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(A){if(o(A)){var P=h(A);return P===!0?_(a(this,f)).get(A):P?P[this._i]:void 0}},set:function(A,P){return s.def(a(this,f),A,P)}},S=ay.exports=Np()(f,y,b,s,!0,!0);return u&&c&&(m=s.getConstructor(y,f),i(m.prototype,b),n.NEED=!0,t(["delete","has","get","set"],function(E){var A=S.prototype,P=A[E];r(A,E,function(R,q){if(o(R)&&!p(R)){this._f||(this._f=new m);var d=this._f[E](R,q);return E=="set"?this:d}return P.call(this,R,q)})})),ay.exports}var EN={},AN;function Tse(){if(AN)return EN;AN=1;var e=RV(),t=gc(),r="WeakSet";return Np()(r,function(n){return function(){return n(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return e.def(t(this,r),i,!0)}},e,!1,!0),EN}var TN={},cy,PN;function qp(){if(PN)return cy;PN=1;for(var e=Hr(),t=Fs(),r=Sc(),n=r("typed_array"),i=r("view"),s=!!(e.ArrayBuffer&&e.DataView),o=s,a=0,u=9,c,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");a<u;)(c=e[f[a++]])?(t(c.prototype,n,!0),t(c.prototype,i,!0)):o=!1;return cy={ABV:s,CONSTR:o,TYPED:n,VIEW:i},cy}var ly={},fy,CN;function OV(){if(CN)return fy;CN=1;var e=jo(),t=kn();return fy=function(r){if(r===void 0)return 0;var n=e(r),i=t(n);if(n!==i)throw RangeError("Wrong length!");return i},fy}var RN;function G2(){return RN||(RN=1,function(e){var t=Hr(),r=Bn(),n=Nu(),i=qp(),s=Fs(),o=Oc(),a=Jr(),u=Rc(),c=jo(),f=kn(),h=OV(),p=Pc().f,_=ni().f,m=N2(),y=Zl(),b="ArrayBuffer",S="DataView",E="prototype",A="Wrong length!",P="Wrong index!",R=t[b],q=t[S],d=t.Math,C=t.RangeError,I=t.Infinity,L=R,B=d.abs,H=d.pow,$=d.floor,J=d.log,ae=d.LN2,X="buffer",D="byteLength",z="byteOffset",j=r?"_b":X,ie=r?"_l":D,oe=r?"_o":z;function Se(fe,Te,Re){var ze=new Array(Re),qe=Re*8-Te-1,Ie=(1<<qe)-1,xe=Ie>>1,Ye=Te===23?H(2,-24)-H(2,-77):0,lt=0,_t=fe<0||fe===0&&1/fe<0?1:0,ht,it,Yt;for(fe=B(fe),fe!=fe||fe===I?(it=fe!=fe?1:0,ht=Ie):(ht=$(J(fe)/ae),fe*(Yt=H(2,-ht))<1&&(ht--,Yt*=2),ht+xe>=1?fe+=Ye/Yt:fe+=Ye*H(2,1-xe),fe*Yt>=2&&(ht++,Yt/=2),ht+xe>=Ie?(it=0,ht=Ie):ht+xe>=1?(it=(fe*Yt-1)*H(2,Te),ht=ht+xe):(it=fe*H(2,xe-1)*H(2,Te),ht=0));Te>=8;ze[lt++]=it&255,it/=256,Te-=8);for(ht=ht<<Te|it,qe+=Te;qe>0;ze[lt++]=ht&255,ht/=256,qe-=8);return ze[--lt]|=_t*128,ze}function _e(fe,Te,Re){var ze=Re*8-Te-1,qe=(1<<ze)-1,Ie=qe>>1,xe=ze-7,Ye=Re-1,lt=fe[Ye--],_t=lt&127,ht;for(lt>>=7;xe>0;_t=_t*256+fe[Ye],Ye--,xe-=8);for(ht=_t&(1<<-xe)-1,_t>>=-xe,xe+=Te;xe>0;ht=ht*256+fe[Ye],Ye--,xe-=8);if(_t===0)_t=1-Ie;else{if(_t===qe)return ht?NaN:lt?-I:I;ht=ht+H(2,Te),_t=_t-Ie}return(lt?-1:1)*ht*H(2,_t-Te)}function te(fe){return fe[3]<<24|fe[2]<<16|fe[1]<<8|fe[0]}function ue(fe){return[fe&255]}function re(fe){return[fe&255,fe>>8&255]}function Q(fe){return[fe&255,fe>>8&255,fe>>16&255,fe>>24&255]}function le(fe){return Se(fe,52,8)}function Ve(fe){return Se(fe,23,4)}function Le(fe,Te,Re){_(fe[E],Te,{get:function(){return this[Re]}})}function Ce(fe,Te,Re,ze){var qe=+Re,Ie=h(qe);if(Ie+Te>fe[ie])throw C(P);var xe=fe[j]._b,Ye=Ie+fe[oe],lt=xe.slice(Ye,Ye+Te);return ze?lt:lt.reverse()}function Je(fe,Te,Re,ze,qe,Ie){var xe=+Re,Ye=h(xe);if(Ye+Te>fe[ie])throw C(P);for(var lt=fe[j]._b,_t=Ye+fe[oe],ht=ze(+qe),it=0;it<Te;it++)lt[_t+it]=ht[Ie?it:Te-it-1]}if(!i.ABV)R=function(Te){u(this,R,b);var Re=h(Te);this._b=m.call(new Array(Re),0),this[ie]=Re},q=function(Te,Re,ze){u(this,q,S),u(Te,R,S);var qe=Te[ie],Ie=c(Re);if(Ie<0||Ie>qe)throw C("Wrong offset!");if(ze=ze===void 0?qe-Ie:f(ze),Ie+ze>qe)throw C(A);this[j]=Te,this[oe]=Ie,this[ie]=ze},r&&(Le(R,D,"_l"),Le(q,X,"_b"),Le(q,D,"_l"),Le(q,z,"_o")),o(q[E],{getInt8:function(Te){return Ce(this,1,Te)[0]<<24>>24},getUint8:function(Te){return Ce(this,1,Te)[0]},getInt16:function(Te){var Re=Ce(this,2,Te,arguments[1]);return(Re[1]<<8|Re[0])<<16>>16},getUint16:function(Te){var Re=Ce(this,2,Te,arguments[1]);return Re[1]<<8|Re[0]},getInt32:function(Te){return te(Ce(this,4,Te,arguments[1]))},getUint32:function(Te){return te(Ce(this,4,Te,arguments[1]))>>>0},getFloat32:function(Te){return _e(Ce(this,4,Te,arguments[1]),23,4)},getFloat64:function(Te){return _e(Ce(this,8,Te,arguments[1]),52,8)},setInt8:function(Te,Re){Je(this,1,Te,ue,Re)},setUint8:function(Te,Re){Je(this,1,Te,ue,Re)},setInt16:function(Te,Re){Je(this,2,Te,re,Re,arguments[2])},setUint16:function(Te,Re){Je(this,2,Te,re,Re,arguments[2])},setInt32:function(Te,Re){Je(this,4,Te,Q,Re,arguments[2])},setUint32:function(Te,Re){Je(this,4,Te,Q,Re,arguments[2])},setFloat32:function(Te,Re){Je(this,4,Te,Ve,Re,arguments[2])},setFloat64:function(Te,Re){Je(this,8,Te,le,Re,arguments[2])}});else{if(!a(function(){R(1)})||!a(function(){new R(-1)})||a(function(){return new R,new R(1.5),new R(NaN),R.name!=b})){R=function(Te){return u(this,R),new L(h(Te))};for(var Ge=R[E]=L[E],N=p(L),G=0,Y;N.length>G;)(Y=N[G++])in R||s(R,Y,L[Y]);n||(Ge.constructor=R)}var K=new q(new R(2)),Ee=q[E].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),(K.getInt8(0)||!K.getInt8(1))&&o(q[E],{setInt8:function(Te,Re){Ee.call(this,Te,Re<<24>>24)},setUint8:function(Te,Re){Ee.call(this,Te,Re<<24>>24)}},!0)}y(R,b),y(q,S),s(q[E],i.VIEW,!0),e[b]=R,e[S]=q}(ly)),ly}var IN;function Pse(){if(IN)return TN;IN=1;var e=$e(),t=qp(),r=G2(),n=wr(),i=Ec(),s=kn(),o=an(),a=Hr().ArrayBuffer,u=zh(),c=r.ArrayBuffer,f=r.DataView,h=t.ABV&&a.isView,p=c.prototype.slice,_=t.VIEW,m="ArrayBuffer";return e(e.G+e.W+e.F*(a!==c),{ArrayBuffer:c}),e(e.S+e.F*!t.CONSTR,m,{isView:function(b){return h&&h(b)||o(b)&&_ in b}}),e(e.P+e.U+e.F*Jr()(function(){return!new c(2).slice(1,void 0).byteLength}),m,{slice:function(b,S){if(p!==void 0&&S===void 0)return p.call(n(this),b);for(var E=n(this).byteLength,A=i(b,E),P=i(S===void 0?E:S,E),R=new(u(this,c))(s(P-A)),q=new f(this),d=new f(R),C=0;A<P;)d.setUint8(C++,q.getUint8(A++));return R}}),Cc()(m),TN}var ON={},MN;function Cse(){if(MN)return ON;MN=1;var e=$e();return e(e.G+e.W+e.F*!qp().ABV,{DataView:G2().DataView}),ON}var kN={},av={exports:{}},LN;function eu(){if(LN)return av.exports;if(LN=1,Bn()){var e=Nu(),t=Hr(),r=Jr(),n=$e(),i=qp(),s=G2(),o=$o(),a=Rc(),u=xc(),c=Fs(),f=Oc(),h=jo(),p=kn(),_=OV(),m=Ec(),y=xa(),b=vo(),S=Jl(),E=an(),A=ui(),P=O2(),R=Tc(),q=mo(),d=Pc().f,C=k2(),I=Sc(),L=In(),B=Aa(),H=Tp(),$=zh(),J=q2(),ae=ef(),X=Op(),D=Cc(),z=N2(),j=bV(),ie=ni(),oe=go(),Se=ie.f,_e=oe.f,te=t.RangeError,ue=t.TypeError,re=t.Uint8Array,Q="ArrayBuffer",le="Shared"+Q,Ve="BYTES_PER_ELEMENT",Le="prototype",Ce=Array[Le],Je=s.ArrayBuffer,Ge=s.DataView,N=B(0),G=B(2),Y=B(3),K=B(4),Ee=B(5),fe=B(6),Te=H(!0),Re=H(!1),ze=J.values,qe=J.keys,Ie=J.entries,xe=Ce.lastIndexOf,Ye=Ce.reduce,lt=Ce.reduceRight,_t=Ce.join,ht=Ce.sort,it=Ce.slice,Yt=Ce.toString,xr=Ce.toLocaleString,nr=L("iterator"),vr=L("toStringTag"),Nr=I("typed_constructor"),zr=I("def_constructor"),En=i.CONSTR,sr=i.TYPED,Mr=i.VIEW,bn="Wrong length!",wn=B(1,function(ut,Ke){return $t($(ut,ut[zr]),Ke)}),mn=r(function(){return new re(new Uint16Array([1]).buffer)[0]===1}),Un=!!re&&!!re[Le].set&&r(function(){new re(1).set({})}),ii=function(ut,Ke){var yt=h(ut);if(yt<0||yt%Ke)throw te("Wrong offset!");return yt},Ut=function(ut){if(E(ut)&&sr in ut)return ut;throw ue(ut+" is not a typed array!")},$t=function(ut,Ke){if(!(E(ut)&&Nr in ut))throw ue("It is not a typed array constructor!");return new ut(Ke)},Vr=function(ut,Ke){return zn($(ut,ut[zr]),Ke)},zn=function(ut,Ke){for(var yt=0,Ct=Ke.length,jt=$t(ut,Ct);Ct>yt;)jt[yt]=Ke[yt++];return jt},An=function(ut,Ke,yt){Se(ut,Ke,{get:function(){return this._d[yt]}})},Wr=function(Ke){var yt=A(Ke),Ct=arguments.length,jt=Ct>1?arguments[1]:void 0,un=jt!==void 0,Wn=C(yt),qt,en,Tr,qr,Gr,Pr;if(Wn!=null&&!P(Wn)){for(Pr=Wn.call(yt),Tr=[],qt=0;!(Gr=Pr.next()).done;qt++)Tr.push(Gr.value);yt=Tr}for(un&&Ct>2&&(jt=o(jt,arguments[2],2)),qt=0,en=p(yt.length),qr=$t(this,en);en>qt;qt++)qr[qt]=un?jt(yt[qt],qt):yt[qt];return qr},jn=function(){for(var Ke=0,yt=arguments.length,Ct=$t(this,yt);yt>Ke;)Ct[Ke]=arguments[Ke++];return Ct},pi=!!re&&r(function(){xr.call(new re(1))}),Qr=function(){return xr.apply(pi?it.call(Ut(this)):Ut(this),arguments)},Hn={copyWithin:function(Ke,yt){return j.call(Ut(this),Ke,yt,arguments.length>2?arguments[2]:void 0)},every:function(Ke){return K(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},fill:function(Ke){return z.apply(Ut(this),arguments)},filter:function(Ke){return Vr(this,G(Ut(this),Ke,arguments.length>1?arguments[1]:void 0))},find:function(Ke){return Ee(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},findIndex:function(Ke){return fe(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},forEach:function(Ke){N(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},indexOf:function(Ke){return Re(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},includes:function(Ke){return Te(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},join:function(Ke){return _t.apply(Ut(this),arguments)},lastIndexOf:function(Ke){return xe.apply(Ut(this),arguments)},map:function(Ke){return wn(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},reduce:function(Ke){return Ye.apply(Ut(this),arguments)},reduceRight:function(Ke){return lt.apply(Ut(this),arguments)},reverse:function(){for(var Ke=this,yt=Ut(Ke).length,Ct=Math.floor(yt/2),jt=0,un;jt<Ct;)un=Ke[jt],Ke[jt++]=Ke[--yt],Ke[yt]=un;return Ke},some:function(Ke){return Y(Ut(this),Ke,arguments.length>1?arguments[1]:void 0)},sort:function(Ke){return ht.call(Ut(this),Ke)},subarray:function(Ke,yt){var Ct=Ut(this),jt=Ct.length,un=m(Ke,jt);return new($(Ct,Ct[zr]))(Ct.buffer,Ct.byteOffset+un*Ct.BYTES_PER_ELEMENT,p((yt===void 0?jt:m(yt,jt))-un))}},Nn=function(Ke,yt){return Vr(this,it.call(Ut(this),Ke,yt))},gi=function(Ke){Ut(this);var yt=ii(arguments[1],1),Ct=this.length,jt=A(Ke),un=p(jt.length),Wn=0;if(un+yt>Ct)throw te(bn);for(;Wn<un;)this[yt+Wn]=jt[Wn++]},Ze={entries:function(){return Ie.call(Ut(this))},keys:function(){return qe.call(Ut(this))},values:function(){return ze.call(Ut(this))}},Tt=function(ut,Ke){return E(ut)&&ut[sr]&&typeof Ke!="symbol"&&Ke in ut&&String(+Ke)==String(Ke)},Ot=function(Ke,yt){return Tt(Ke,yt=y(yt,!0))?u(2,Ke[yt]):_e(Ke,yt)},Dt=function(Ke,yt,Ct){return Tt(Ke,yt=y(yt,!0))&&E(Ct)&&b(Ct,"value")&&!b(Ct,"get")&&!b(Ct,"set")&&!Ct.configurable&&(!b(Ct,"writable")||Ct.writable)&&(!b(Ct,"enumerable")||Ct.enumerable)?(Ke[yt]=Ct.value,Ke):Se(Ke,yt,Ct)};En||(oe.f=Ot,ie.f=Dt),n(n.S+n.F*!En,"Object",{getOwnPropertyDescriptor:Ot,defineProperty:Dt}),r(function(){Yt.call({})})&&(Yt=xr=function(){return _t.call(this)});var Ft=f({},Hn);f(Ft,Ze),c(Ft,nr,Ze.values),f(Ft,{slice:Nn,set:gi,constructor:function(){},toString:Yt,toLocaleString:Qr}),An(Ft,"buffer","b"),An(Ft,"byteOffset","o"),An(Ft,"byteLength","l"),An(Ft,"length","e"),Se(Ft,vr,{get:function(){return this[sr]}}),av.exports=function(ut,Ke,yt,Ct){Ct=!!Ct;var jt=ut+(Ct?"Clamped":"")+"Array",un="get"+ut,Wn="set"+ut,qt=t[jt],en=qt||{},Tr=qt&&q(qt),qr=!qt||!i.ABV,Gr={},Pr=qt&&qt[Le],Tn=function(gt,vt){var pt=gt._d;return pt.v[un](vt*Ke+pt.o,mn)},Zt=function(gt,vt,pt){var It=gt._d;Ct&&(pt=(pt=Math.round(pt))<0?0:pt>255?255:pt&255),It.v[Wn](vt*Ke+It.o,pt,mn)},mi=function(gt,vt){Se(gt,vt,{get:function(){return Tn(this,vt)},set:function(pt){return Zt(this,vt,pt)},enumerable:!0})};qr?(qt=yt(function(gt,vt,pt,It){a(gt,qt,jt,"_d");var or=0,Xr=0,hn,$r,xn,Vn;if(!E(vt))xn=_(vt),$r=xn*Ke,hn=new Je($r);else if(vt instanceof Je||(Vn=S(vt))==Q||Vn==le){hn=vt,Xr=ii(pt,Ke);var _i=vt.byteLength;if(It===void 0){if(_i%Ke||($r=_i-Xr,$r<0))throw te(bn)}else if($r=p(It)*Ke,$r+Xr>_i)throw te(bn);xn=$r/Ke}else return sr in vt?zn(qt,vt):Wr.call(qt,vt);for(c(gt,"_d",{b:hn,o:Xr,l:$r,e:xn,v:new Ge(hn)});or<xn;)mi(gt,or++)}),Pr=qt[Le]=R(Ft),c(Pr,"constructor",qt)):(!r(function(){qt(1)})||!r(function(){new qt(-1)})||!X(function(gt){new qt,new qt(null),new qt(1.5),new qt(gt)},!0))&&(qt=yt(function(gt,vt,pt,It){a(gt,qt,jt);var or;return E(vt)?vt instanceof Je||(or=S(vt))==Q||or==le?It!==void 0?new en(vt,ii(pt,Ke),It):pt!==void 0?new en(vt,ii(pt,Ke)):new en(vt):sr in vt?zn(qt,vt):Wr.call(qt,vt):new en(_(vt))}),N(Tr!==Function.prototype?d(en).concat(d(Tr)):d(en),function(gt){gt in qt||c(qt,gt,en[gt])}),qt[Le]=Pr,e||(Pr.constructor=qt));var Ei=Pr[nr],Vi=!!Ei&&(Ei.name=="values"||Ei.name==null),Qe=Ze.values;c(qt,Nr,!0),c(Pr,sr,jt),c(Pr,Mr,!0),c(Pr,zr,qt),(Ct?new qt(1)[vr]!=jt:!(vr in Pr))&&Se(Pr,vr,{get:function(){return jt}}),Gr[jt]=qt,n(n.G+n.W+n.F*(qt!=en),Gr),n(n.S,jt,{BYTES_PER_ELEMENT:Ke}),n(n.S+n.F*r(function(){en.of.call(qt,1)}),jt,{from:Wr,of:jn}),Ve in Pr||c(Pr,Ve,Ke),n(n.P,jt,Hn),D(jt),n(n.P+n.F*Un,jt,{set:gi}),n(n.P+n.F*!Vi,jt,Ze),!e&&Pr.toString!=Yt&&(Pr.toString=Yt),n(n.P+n.F*r(function(){new qt(1).slice()}),jt,{slice:Nn}),n(n.P+n.F*(r(function(){return[1,2].toLocaleString()!=new qt([1,2]).toLocaleString()})||!r(function(){Pr.toLocaleString.call([1,2])})),jt,{toLocaleString:Qr}),ae[jt]=Vi?Ei:Qe,!e&&!Vi&&c(Pr,nr,Qe)}}else av.exports=function(){};return av.exports}var NN;function Rse(){return NN||(NN=1,eu()("Int8",1,function(e){return function(r,n,i){return e(this,r,n,i)}})),kN}var qN={},DN;function Ise(){return DN||(DN=1,eu()("Uint8",1,function(e){return function(r,n,i){return e(this,r,n,i)}})),qN}var FN={},BN;function Ose(){return BN||(BN=1,eu()("Uint8",1,function(e){return function(r,n,i){return e(this,r,n,i)}},!0)),FN}var zN={},VN;function Mse(){return VN||(VN=1,eu()("Int16",2,function(e){return function(r,n,i){return e(this,r,n,i)}})),zN}var GN={},$N;function kse(){return $N||($N=1,eu()("Uint16",2,function(e){return function(r,n,i){return e(this,r,n,i)}})),GN}var UN={},jN;function Lse(){return jN||(jN=1,eu()("Int32",4,function(e){return function(r,n,i){return e(this,r,n,i)}})),UN}var HN={},WN;function Nse(){return WN||(WN=1,eu()("Uint32",4,function(e){return function(r,n,i){return e(this,r,n,i)}})),HN}var XN={},YN;function qse(){return YN||(YN=1,eu()("Float32",4,function(e){return function(r,n,i){return e(this,r,n,i)}})),XN}var KN={},ZN;function Dse(){return ZN||(ZN=1,eu()("Float64",8,function(e){return function(r,n,i){return e(this,r,n,i)}})),KN}var JN={},QN;function Fse(){if(QN)return JN;QN=1;var e=$e(),t=is(),r=wr(),n=(Hr().Reflect||{}).apply,i=Function.apply;return e(e.S+e.F*!Jr()(function(){n(function(){})}),"Reflect",{apply:function(o,a,u){var c=t(o),f=r(u);return n?n(c,a,f):i.call(c,a,f)}}),JN}var eq={},tq;function Bse(){if(tq)return eq;tq=1;var e=$e(),t=Tc(),r=is(),n=wr(),i=an(),s=Jr(),o=fV(),a=(Hr().Reflect||{}).construct,u=s(function(){function f(){}return!(a(function(){},[],f)instanceof f)}),c=!s(function(){a(function(){})});return e(e.S+e.F*(u||c),"Reflect",{construct:function(h,p){r(h),n(p);var _=arguments.length<3?h:r(arguments[2]);if(c&&!u)return a(h,p,_);if(h==_){switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3])}var m=[null];return m.push.apply(m,p),new(o.apply(h,m))}var y=_.prototype,b=t(i(y)?y:Object.prototype),S=Function.apply.call(h,b,p);return i(S)?S:b}}),eq}var rq={},nq;function zse(){if(nq)return rq;nq=1;var e=ni(),t=$e(),r=wr(),n=xa();return t(t.S+t.F*Jr()(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(s,o,a){r(s),o=n(o,!0),r(a);try{return e.f(s,o,a),!0}catch{return!1}}}),rq}var iq={},sq;function Vse(){if(sq)return iq;sq=1;var e=$e(),t=go().f,r=wr();return e(e.S,"Reflect",{deleteProperty:function(i,s){var o=t(r(i),s);return o&&!o.configurable?!1:delete i[s]}}),iq}var oq={},aq;function Gse(){if(aq)return oq;aq=1;var e=$e(),t=wr(),r=function(n){this._t=t(n),this._i=0;var i=this._k=[],s;for(s in n)i.push(s)};return P2()(r,"Object",function(){var n=this,i=n._k,s;do if(n._i>=i.length)return{value:void 0,done:!0};while(!((s=i[n._i++])in n._t));return{value:s,done:!1}}),e(e.S,"Reflect",{enumerate:function(i){return new r(i)}}),oq}var uq={},cq;function $se(){if(cq)return uq;cq=1;var e=go(),t=mo(),r=vo(),n=$e(),i=an(),s=wr();function o(a,u){var c=arguments.length<3?a:arguments[2],f,h;if(s(a)===c)return a[u];if(f=e.f(a,u))return r(f,"value")?f.value:f.get!==void 0?f.get.call(c):void 0;if(i(h=t(a)))return o(h,u,c)}return n(n.S,"Reflect",{get:o}),uq}var lq={},fq;function Use(){if(fq)return lq;fq=1;var e=go(),t=$e(),r=wr();return t(t.S,"Reflect",{getOwnPropertyDescriptor:function(i,s){return e.f(r(i),s)}}),lq}var hq={},dq;function jse(){if(dq)return hq;dq=1;var e=$e(),t=mo(),r=wr();return e(e.S,"Reflect",{getPrototypeOf:function(i){return t(r(i))}}),hq}var vq={},pq;function Hse(){if(pq)return vq;pq=1;var e=$e();return e(e.S,"Reflect",{has:function(r,n){return n in r}}),vq}var gq={},mq;function Wse(){if(mq)return gq;mq=1;var e=$e(),t=wr(),r=Object.isExtensible;return e(e.S,"Reflect",{isExtensible:function(i){return t(i),r?r(i):!0}}),gq}var _q={},hy,yq;function MV(){if(yq)return hy;yq=1;var e=Pc(),t=Pp(),r=wr(),n=Hr().Reflect;return hy=n&&n.ownKeys||function(s){var o=e.f(r(s)),a=t.f;return a?o.concat(a(s)):o},hy}var bq;function Xse(){if(bq)return _q;bq=1;var e=$e();return e(e.S,"Reflect",{ownKeys:MV()}),_q}var wq={},xq;function Yse(){if(xq)return wq;xq=1;var e=$e(),t=wr(),r=Object.preventExtensions;return e(e.S,"Reflect",{preventExtensions:function(i){t(i);try{return r&&r(i),!0}catch{return!1}}}),wq}var Sq={},Eq;function Kse(){if(Eq)return Sq;Eq=1;var e=ni(),t=go(),r=mo(),n=vo(),i=$e(),s=xc(),o=wr(),a=an();function u(c,f,h){var p=arguments.length<4?c:arguments[3],_=t.f(o(c),f),m,y;if(!_){if(a(y=r(c)))return u(y,f,h,p);_=s(0)}if(n(_,"value")){if(_.writable===!1||!a(p))return!1;if(m=t.f(p,f)){if(m.get||m.set||m.writable===!1)return!1;m.value=h,e.f(p,f,m)}else e.f(p,f,s(0,h));return!0}return _.set===void 0?!1:(_.set.call(p,h),!0)}return i(i.S,"Reflect",{set:u}),Sq}var Aq={},Tq;function Zse(){if(Tq)return Aq;Tq=1;var e=$e(),t=w2();return t&&e(e.S,"Reflect",{setPrototypeOf:function(n,i){t.check(n,i);try{return t.set(n,i),!0}catch{return!1}}}),Aq}var Pq={},Cq;function Jse(){if(Cq)return Pq;Cq=1;var e=$e(),t=Tp()(!0);return e(e.P,"Array",{includes:function(n){return t(this,n,arguments.length>1?arguments[1]:void 0)}}),Du()("includes"),Pq}var Rq={},dy,Iq;function kV(){if(Iq)return dy;Iq=1;var e=Cp(),t=an(),r=kn(),n=$o(),i=In()("isConcatSpreadable");function s(o,a,u,c,f,h,p,_){for(var m=f,y=0,b=p?n(p,_,3):!1,S,E;y<c;){if(y in u){if(S=b?b(u[y],y,a):u[y],E=!1,t(S)&&(E=S[i],E=E!==void 0?!!E:e(S)),E&&h>0)m=s(o,a,S,r(S.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError();o[m]=S}m++}y++}return m}return dy=s,dy}var Oq;function Qse(){if(Oq)return Rq;Oq=1;var e=$e(),t=kV(),r=ui(),n=kn(),i=is(),s=L2();return e(e.P,"Array",{flatMap:function(a){var u=r(this),c,f;return i(a),c=n(u.length),f=s(u,0),t(f,u,u,c,0,1,a,arguments[1]),f}}),Du()("flatMap"),Rq}var Mq={},kq;function eoe(){if(kq)return Mq;kq=1;var e=$e(),t=kV(),r=ui(),n=kn(),i=jo(),s=L2();return e(e.P,"Array",{flatten:function(){var a=arguments[0],u=r(this),c=n(u.length),f=s(u,0);return t(f,u,u,c,0,a===void 0?1:i(a)),f}}),Du()("flatten"),Mq}var Lq={},Nq;function toe(){if(Nq)return Lq;Nq=1;var e=$e(),t=Rp()(!0),r=Jr(),n=r(function(){return"ð ®·".at(0)!=="ð ®·"});return e(e.P+e.F*n,"String",{at:function(s){return t(this,s)}}),Lq}var qq={},vy,Dq;function LV(){if(Dq)return vy;Dq=1;var e=kn(),t=E2(),r=Sa();return vy=function(n,i,s,o){var a=String(r(n)),u=a.length,c=s===void 0?" ":String(s),f=e(i);if(f<=u||c=="")return a;var h=f-u,p=t.call(c,Math.ceil(h/c.length));return p.length>h&&(p=p.slice(0,h)),o?p+a:a+p},vy}var Fq;function roe(){if(Fq)return qq;Fq=1;var e=$e(),t=LV(),r=Lp(),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);return e(e.P+e.F*n,"String",{padStart:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0,!0)}}),qq}var Bq={},zq;function noe(){if(zq)return Bq;zq=1;var e=$e(),t=LV(),r=Lp(),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);return e(e.P+e.F*n,"String",{padEnd:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0,!1)}}),Bq}var Vq={},Gq;function ioe(){return Gq||(Gq=1,Ql()("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")),Vq}var $q={},Uq;function soe(){return Uq||(Uq=1,Ql()("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")),$q}var jq={},Hq;function ooe(){if(Hq)return jq;Hq=1;var e=$e(),t=Sa(),r=kn(),n=Ip(),i=Bh(),s=RegExp.prototype,o=function(a,u){this._r=a,this._s=u};return P2()(o,"RegExp String",function(){var u=this._r.exec(this._s);return{value:u,done:u===null}}),e(e.P,"String",{matchAll:function(u){if(t(this),!n(u))throw TypeError(u+" is not a regexp!");var c=String(this),f="flags"in s?String(u.flags):i.call(u),h=new RegExp(u.source,~f.indexOf("g")?f:"g"+f);return h.lastIndex=r(u.lastIndex),new o(h,c)}}),jq}var Wq={},Xq;function aoe(){return Xq||(Xq=1,m2()("asyncIterator")),Wq}var Yq={},Kq;function uoe(){return Kq||(Kq=1,m2()("observable")),Yq}var Zq={},Jq;function coe(){if(Jq)return Zq;Jq=1;var e=$e(),t=MV(),r=po(),n=go(),i=M2();return e(e.S,"Object",{getOwnPropertyDescriptors:function(o){for(var a=r(o),u=n.f,c=t(a),f={},h=0,p,_;c.length>h;)_=u(a,p=c[h++]),_!==void 0&&i(f,p,_);return f}}),Zq}var Qq={},py,e3;function NV(){if(e3)return py;e3=1;var e=Bn(),t=Ac(),r=po(),n=Fh().f;return py=function(i){return function(s){for(var o=r(s),a=t(o),u=a.length,c=0,f=[],h;u>c;)h=a[c++],(!e||n.call(o,h))&&f.push(i?[h,o[h]]:o[h]);return f}},py}var t3;function loe(){if(t3)return Qq;t3=1;var e=$e(),t=NV()(!1);return e(e.S,"Object",{values:function(n){return t(n)}}),Qq}var r3={},n3;function foe(){if(n3)return r3;n3=1;var e=$e(),t=NV()(!0);return e(e.S,"Object",{entries:function(n){return t(n)}}),r3}var i3={},gy,s3;function Dp(){return s3||(s3=1,gy=Nu()||!Jr()(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete Hr()[e]})),gy}var o3;function hoe(){if(o3)return i3;o3=1;var e=$e(),t=ui(),r=is(),n=ni();return Bn()&&e(e.P+Dp(),"Object",{__defineGetter__:function(s,o){n.f(t(this),s,{get:r(o),enumerable:!0,configurable:!0})}}),i3}var a3={},u3;function doe(){if(u3)return a3;u3=1;var e=$e(),t=ui(),r=is(),n=ni();return Bn()&&e(e.P+Dp(),"Object",{__defineSetter__:function(s,o){n.f(t(this),s,{set:r(o),enumerable:!0,configurable:!0})}}),a3}var c3={},l3;function voe(){if(l3)return c3;l3=1;var e=$e(),t=ui(),r=xa(),n=mo(),i=go().f;return Bn()&&e(e.P+Dp(),"Object",{__lookupGetter__:function(o){var a=t(this),u=r(o,!0),c;do if(c=i(a,u))return c.get;while(a=n(a))}}),c3}var f3={},h3;function poe(){if(h3)return f3;h3=1;var e=$e(),t=ui(),r=xa(),n=mo(),i=go().f;return Bn()&&e(e.P+Dp(),"Object",{__lookupSetter__:function(o){var a=t(this),u=r(o,!0),c;do if(c=i(a,u))return c.set;while(a=n(a))}}),f3}var d3={},my,v3;function qV(){if(v3)return my;v3=1;var e=Ic();return my=function(t,r){var n=[];return e(t,!1,n.push,n,r),n},my}var _y,p3;function DV(){if(p3)return _y;p3=1;var e=Jl(),t=qV();return _y=function(r){return function(){if(e(this)!=r)throw TypeError(r+"#toJSON isn't generic");return t(this)}},_y}var g3;function goe(){if(g3)return d3;g3=1;var e=$e();return e(e.P+e.R,"Map",{toJSON:DV()("Map")}),d3}var m3={},_3;function moe(){if(_3)return m3;_3=1;var e=$e();return e(e.P+e.R,"Set",{toJSON:DV()("Set")}),m3}var y3={},yy,b3;function Fp(){if(b3)return yy;b3=1;var e=$e();return yy=function(t){e(e.S,t,{of:function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];return new this(i)}})},yy}var w3;function _oe(){return w3||(w3=1,Fp()("Map")),y3}var x3={},S3;function yoe(){return S3||(S3=1,Fp()("Set")),x3}var E3={},A3;function boe(){return A3||(A3=1,Fp()("WeakMap")),E3}var T3={},P3;function woe(){return P3||(P3=1,Fp()("WeakSet")),T3}var C3={},by,R3;function Bp(){if(R3)return by;R3=1;var e=$e(),t=is(),r=$o(),n=Ic();return by=function(i){e(e.S,i,{from:function(o){var a=arguments[1],u,c,f,h;return t(this),u=a!==void 0,u&&t(a),o==null?new this:(c=[],u?(f=0,h=r(a,arguments[2],2),n(o,!1,function(p){c.push(h(p,f++))})):n(o,!1,c.push,c),new this(c))}})},by}var I3;function xoe(){return I3||(I3=1,Bp()("Map")),C3}var O3={},M3;function Soe(){return M3||(M3=1,Bp()("Set")),O3}var k3={},L3;function Eoe(){return L3||(L3=1,Bp()("WeakMap")),k3}var N3={},q3;function Aoe(){return q3||(q3=1,Bp()("WeakSet")),N3}var D3={},F3;function Toe(){if(F3)return D3;F3=1;var e=$e();return e(e.G,{global:Hr()}),D3}var B3={},z3;function Poe(){if(z3)return B3;z3=1;var e=$e();return e(e.S,"System",{global:Hr()}),B3}var V3={},G3;function Coe(){if(G3)return V3;G3=1;var e=$e(),t=Uo();return e(e.S,"Error",{isError:function(n){return t(n)==="Error"}}),V3}var $3={},U3;function Roe(){if(U3)return $3;U3=1;var e=$e();return e(e.S,"Math",{clamp:function(r,n,i){return Math.min(i,Math.max(n,r))}}),$3}var j3={},H3;function Ioe(){if(H3)return j3;H3=1;var e=$e();return e(e.S,"Math",{DEG_PER_RAD:Math.PI/180}),j3}var W3={},X3;function Ooe(){if(X3)return W3;X3=1;var e=$e(),t=180/Math.PI;return e(e.S,"Math",{degrees:function(n){return n*t}}),W3}var Y3={},wy,K3;function FV(){return K3||(K3=1,wy=Math.scale||function(t,r,n,i,s){return arguments.length===0||t!=t||r!=r||n!=n||i!=i||s!=s?NaN:t===1/0||t===-1/0?t:(t-r)*(s-i)/(n-r)+i}),wy}var Z3;function Moe(){if(Z3)return Y3;Z3=1;var e=$e(),t=FV(),r=mV();return e(e.S,"Math",{fscale:function(i,s,o,a,u){return r(t(i,s,o,a,u))}}),Y3}var J3={},Q3;function koe(){if(Q3)return J3;Q3=1;var e=$e();return e(e.S,"Math",{iaddh:function(r,n,i,s){var o=r>>>0,a=n>>>0,u=i>>>0;return a+(s>>>0)+((o&u|(o|u)&~(o+u>>>0))>>>31)|0}}),J3}var eD={},tD;function Loe(){if(tD)return eD;tD=1;var e=$e();return e(e.S,"Math",{isubh:function(r,n,i,s){var o=r>>>0,a=n>>>0,u=i>>>0;return a-(s>>>0)-((~o&u|~(o^u)&o-u>>>0)>>>31)|0}}),eD}var rD={},nD;function Noe(){if(nD)return rD;nD=1;var e=$e();return e(e.S,"Math",{imulh:function(r,n){var i=65535,s=+r,o=+n,a=s&i,u=o&i,c=s>>16,f=o>>16,h=(c*u>>>0)+(a*u>>>16);return c*f+(h>>16)+((a*f>>>0)+(h&i)>>16)}}),rD}var iD={},sD;function qoe(){if(sD)return iD;sD=1;var e=$e();return e(e.S,"Math",{RAD_PER_DEG:180/Math.PI}),iD}var oD={},aD;function Doe(){if(aD)return oD;aD=1;var e=$e(),t=Math.PI/180;return e(e.S,"Math",{radians:function(n){return n*t}}),oD}var uD={},cD;function Foe(){if(cD)return uD;cD=1;var e=$e();return e(e.S,"Math",{scale:FV()}),uD}var lD={},fD;function Boe(){if(fD)return lD;fD=1;var e=$e();return e(e.S,"Math",{umulh:function(r,n){var i=65535,s=+r,o=+n,a=s&i,u=o&i,c=s>>>16,f=o>>>16,h=(c*u>>>0)+(a*u>>>16);return c*f+(h>>>16)+((a*f>>>0)+(h&i)>>>16)}}),lD}var hD={},dD;function zoe(){if(dD)return hD;dD=1;var e=$e();return e(e.S,"Math",{signbit:function(r){return(r=+r)!=r?r:r==0?1/r==1/0:r>0}}),hD}var vD={},pD;function Voe(){if(pD)return vD;pD=1;var e=$e(),t=Go(),r=Hr(),n=zh(),i=AV();return e(e.P+e.R,"Promise",{finally:function(s){var o=n(this,t.Promise||r.Promise),a=typeof s=="function";return this.then(a?function(u){return i(o,s()).then(function(){return u})}:s,a?function(u){return i(o,s()).then(function(){throw u})}:s)}}),vD}var gD={},mD;function Goe(){if(mD)return gD;mD=1;var e=$e(),t=V2(),r=EV();return e(e.S,"Promise",{try:function(n){var i=t.f(this),s=r(n);return(s.e?i.reject:i.resolve)(s.v),i.promise}}),gD}var _D={},xy,yD;function tu(){if(yD)return xy;yD=1;var e=PV(),t=$e(),r=qh()("metadata"),n=r.store||(r.store=new(IV())),i=function(h,p,_){var m=n.get(h);if(!m){if(!_)return;n.set(h,m=new e)}var y=m.get(p);if(!y){if(!_)return;m.set(p,y=new e)}return y},s=function(h,p,_){var m=i(p,_,!1);return m===void 0?!1:m.has(h)},o=function(h,p,_){var m=i(p,_,!1);return m===void 0?void 0:m.get(h)},a=function(h,p,_,m){i(_,m,!0).set(h,p)},u=function(h,p){var _=i(h,p,!1),m=[];return _&&_.forEach(function(y,b){m.push(b)}),m},c=function(h){return h===void 0||typeof h=="symbol"?h:String(h)},f=function(h){t(t.S,"Reflect",h)};return xy={store:n,map:i,has:s,get:o,set:a,keys:u,key:c,exp:f},xy}var bD;function $oe(){if(bD)return _D;bD=1;var e=tu(),t=wr(),r=e.key,n=e.set;return e.exp({defineMetadata:function(s,o,a,u){n(s,o,t(a),r(u))}}),_D}var wD={},xD;function Uoe(){if(xD)return wD;xD=1;var e=tu(),t=wr(),r=e.key,n=e.map,i=e.store;return e.exp({deleteMetadata:function(o,a){var u=arguments.length<3?void 0:r(arguments[2]),c=n(t(a),u,!1);if(c===void 0||!c.delete(o))return!1;if(c.size)return!0;var f=i.get(a);return f.delete(u),!!f.size||i.delete(a)}}),wD}var SD={},ED;function joe(){if(ED)return SD;ED=1;var e=tu(),t=wr(),r=mo(),n=e.has,i=e.get,s=e.key,o=function(a,u,c){var f=n(a,u,c);if(f)return i(a,u,c);var h=r(u);return h!==null?o(a,h,c):void 0};return e.exp({getMetadata:function(u,c){return o(u,t(c),arguments.length<3?void 0:s(arguments[2]))}}),SD}var AD={},TD;function Hoe(){if(TD)return AD;TD=1;var e=CV(),t=qV(),r=tu(),n=wr(),i=mo(),s=r.keys,o=r.key,a=function(u,c){var f=s(u,c),h=i(u);if(h===null)return f;var p=a(h,c);return p.length?f.length?t(new e(f.concat(p))):p:f};return r.exp({getMetadataKeys:function(c){return a(n(c),arguments.length<2?void 0:o(arguments[1]))}}),AD}var PD={},CD;function Woe(){if(CD)return PD;CD=1;var e=tu(),t=wr(),r=e.get,n=e.key;return e.exp({getOwnMetadata:function(s,o){return r(s,t(o),arguments.length<3?void 0:n(arguments[2]))}}),PD}var RD={},ID;function Xoe(){if(ID)return RD;ID=1;var e=tu(),t=wr(),r=e.keys,n=e.key;return e.exp({getOwnMetadataKeys:function(s){return r(t(s),arguments.length<2?void 0:n(arguments[1]))}}),RD}var OD={},MD;function Yoe(){if(MD)return OD;MD=1;var e=tu(),t=wr(),r=mo(),n=e.has,i=e.key,s=function(o,a,u){var c=n(o,a,u);if(c)return!0;var f=r(a);return f!==null?s(o,f,u):!1};return e.exp({hasMetadata:function(a,u){return s(a,t(u),arguments.length<3?void 0:i(arguments[2]))}}),OD}var kD={},LD;function Koe(){if(LD)return kD;LD=1;var e=tu(),t=wr(),r=e.has,n=e.key;return e.exp({hasOwnMetadata:function(s,o){return r(s,t(o),arguments.length<3?void 0:n(arguments[2]))}}),kD}var ND={},qD;function Zoe(){if(qD)return ND;qD=1;var e=tu(),t=wr(),r=is(),n=e.key,i=e.set;return e.exp({metadata:function(o,a){return function(c,f){i(o,a,(f!==void 0?t:r)(c),n(f))}}}),ND}var DD={},FD;function Joe(){if(FD)return DD;FD=1;var e=$e(),t=z2()(),r=Hr().process,n=Uo()(r)=="process";return e(e.G,{asap:function(s){var o=n&&r.domain;t(o?o.bind(s):s)}}),DD}var BD={},zD;function Qoe(){if(zD)return BD;zD=1;var e=$e(),t=Hr(),r=Go(),n=z2()(),i=In()("observable"),s=is(),o=wr(),a=Rc(),u=Oc(),c=Fs(),f=Ic(),h=f.RETURN,p=function(A){return A==null?void 0:s(A)},_=function(A){var P=A._c;P&&(A._c=void 0,P())},m=function(A){return A._o===void 0},y=function(A){m(A)||(A._o=void 0,_(A))},b=function(A,P){o(A),this._c=void 0,this._o=A,A=new S(this);try{var R=P(A),q=R;R!=null&&(typeof R.unsubscribe=="function"?R=function(){q.unsubscribe()}:s(R),this._c=R)}catch(d){A.error(d);return}m(this)&&_(this)};b.prototype=u({},{unsubscribe:function(){y(this)}});var S=function(A){this._s=A};S.prototype=u({},{next:function(P){var R=this._s;if(!m(R)){var q=R._o;try{var d=p(q.next);if(d)return d.call(q,P)}catch(C){try{y(R)}finally{throw C}}}},error:function(P){var R=this._s;if(m(R))throw P;var q=R._o;R._o=void 0;try{var d=p(q.error);if(!d)throw P;P=d.call(q,P)}catch(C){try{_(R)}finally{throw C}}return _(R),P},complete:function(P){var R=this._s;if(!m(R)){var q=R._o;R._o=void 0;try{var d=p(q.complete);P=d?d.call(q,P):void 0}catch(C){try{_(R)}finally{throw C}}return _(R),P}}});var E=function(P){a(this,E,"Observable","_f")._f=s(P)};return u(E.prototype,{subscribe:function(P){return new b(P,this._f)},forEach:function(P){var R=this;return new(r.Promise||t.Promise)(function(q,d){s(P);var C=R.subscribe({next:function(I){try{return P(I)}catch(L){d(L),C.unsubscribe()}},error:d,complete:q})})}}),u(E,{from:function(P){var R=typeof this=="function"?this:E,q=p(o(P)[i]);if(q){var d=o(q.call(P));return d.constructor===R?d:new R(function(C){return d.subscribe(C)})}return new R(function(C){var I=!1;return n(function(){if(!I){try{if(f(P,!1,function(L){if(C.next(L),I)return h})===h)return}catch(L){if(I)throw L;C.error(L);return}C.complete()}}),function(){I=!0}})},of:function(){for(var P=0,R=arguments.length,q=new Array(R);P<R;)q[P]=arguments[P++];return new(typeof this=="function"?this:E)(function(d){var C=!1;return n(function(){if(!C){for(var I=0;I<q.length;++I)if(d.next(q[I]),C)return;d.complete()}}),function(){C=!0}})}}),c(E.prototype,i,function(){return this}),e(e.G,{Observable:E}),Cc()("Observable"),BD}var VD={},GD;function eae(){if(GD)return VD;GD=1;var e=Hr(),t=$e(),r=Lp(),n=[].slice,i=/MSIE .\./.test(r),s=function(o){return function(a,u){var c=arguments.length>2,f=c?n.call(arguments,2):!1;return o(c?function(){(typeof a=="function"?a:Function(a)).apply(this,f)}:a,u)}};return t(t.G+t.B+t.F*i,{setTimeout:s(e.setTimeout),setInterval:s(e.setInterval)}),VD}var $D={},UD;function tae(){if(UD)return $D;UD=1;var e=$e(),t=B2();return e(e.G+e.B,{setImmediate:t.set,clearImmediate:t.clear}),$D}var jD={},HD;function rae(){if(HD)return jD;HD=1;for(var e=q2(),t=Ac(),r=Bs(),n=Hr(),i=Fs(),s=ef(),o=In(),a=o("iterator"),u=o("toStringTag"),c=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=t(f),p=0;p<h.length;p++){var _=h[p],m=f[_],y=n[_],b=y&&y.prototype,S;if(b&&(b[a]||i(b,a,c),b[u]||i(b,u,_),s[_]=c,m))for(S in e)b[S]||r(b,S,e[S],!0)}return jD}var Sy,WD;function nae(){return WD||(WD=1,Ane(),Tne(),Pne(),Cne(),Rne(),Ine(),One(),Mne(),kne(),Lne(),Nne(),qne(),Dne(),Fne(),Bne(),zne(),Vne(),Gne(),$ne(),Une(),jne(),Hne(),Wne(),Xne(),Yne(),Kne(),Zne(),Jne(),Qne(),eie(),tie(),rie(),nie(),iie(),sie(),oie(),aie(),uie(),cie(),lie(),fie(),hie(),die(),vie(),pie(),gie(),mie(),_ie(),yie(),bie(),wie(),xie(),Sie(),Eie(),Aie(),Tie(),Pie(),Cie(),Rie(),Iie(),Oie(),Mie(),kie(),Lie(),Nie(),qie(),Die(),Fie(),Bie(),zie(),Vie(),Gie(),$ie(),Uie(),jie(),Hie(),Xie(),Yie(),Zie(),Jie(),Qie(),ese(),tse(),rse(),nse(),sse(),ose(),ase(),use(),cse(),lse(),fse(),hse(),dse(),vse(),pse(),gse(),mse(),_se(),q2(),yse(),xV(),bse(),SV(),wse(),xse(),Sse(),Ese(),Ase(),PV(),CV(),IV(),Tse(),Pse(),Cse(),Rse(),Ise(),Ose(),Mse(),kse(),Lse(),Nse(),qse(),Dse(),Fse(),Bse(),zse(),Vse(),Gse(),$se(),Use(),jse(),Hse(),Wse(),Xse(),Yse(),Kse(),Zse(),Jse(),Qse(),eoe(),toe(),roe(),noe(),ioe(),soe(),ooe(),aoe(),uoe(),coe(),loe(),foe(),hoe(),doe(),voe(),poe(),goe(),moe(),_oe(),yoe(),boe(),woe(),xoe(),Soe(),Eoe(),Aoe(),Toe(),Poe(),Coe(),Roe(),Ioe(),Ooe(),Moe(),koe(),Loe(),Noe(),qoe(),Doe(),Foe(),Boe(),zoe(),Voe(),Goe(),$oe(),Uoe(),joe(),Hoe(),Woe(),Xoe(),Yoe(),Koe(),Zoe(),Joe(),Qoe(),eae(),tae(),rae(),Sy=Go()),Sy}var Cv={exports:{}},iae=Cv.exports,XD;function sae(){return XD||(XD=1,function(e){(function(t){var r=Object.prototype,n=r.hasOwnProperty,i,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c){e.exports=c;return}c=t.regeneratorRuntime=e.exports;function f(D,z,j,ie){var oe=z&&z.prototype instanceof S?z:S,Se=Object.create(oe.prototype),_e=new J(ie||[]);return Se._invoke=L(D,j,_e),Se}c.wrap=f;function h(D,z,j){try{return{type:"normal",arg:D.call(z,j)}}catch(ie){return{type:"throw",arg:ie}}}var p="suspendedStart",_="suspendedYield",m="executing",y="completed",b={};function S(){}function E(){}function A(){}var P={};P[o]=function(){return this};var R=Object.getPrototypeOf,q=R&&R(R(ae([])));q&&q!==r&&n.call(q,o)&&(P=q);var d=A.prototype=S.prototype=Object.create(P);E.prototype=d.constructor=A,A.constructor=E,A[u]=E.displayName="GeneratorFunction";function C(D){["next","throw","return"].forEach(function(z){D[z]=function(j){return this._invoke(z,j)}})}c.isGeneratorFunction=function(D){var z=typeof D=="function"&&D.constructor;return z?z===E||(z.displayName||z.name)==="GeneratorFunction":!1},c.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,A):(D.__proto__=A,u in D||(D[u]="GeneratorFunction")),D.prototype=Object.create(d),D},c.awrap=function(D){return{__await:D}};function I(D){function z(oe,Se,_e,te){var ue=h(D[oe],D,Se);if(ue.type==="throw")te(ue.arg);else{var re=ue.arg,Q=re.value;return Q&&typeof Q=="object"&&n.call(Q,"__await")?Promise.resolve(Q.__await).then(function(le){z("next",le,_e,te)},function(le){z("throw",le,_e,te)}):Promise.resolve(Q).then(function(le){re.value=le,_e(re)},te)}}typeof t.process=="object"&&t.process.domain&&(z=t.process.domain.bind(z));var j;function ie(oe,Se){function _e(){return new Promise(function(te,ue){z(oe,Se,te,ue)})}return j=j?j.then(_e,_e):_e()}this._invoke=ie}C(I.prototype),I.prototype[a]=function(){return this},c.AsyncIterator=I,c.async=function(D,z,j,ie){var oe=new I(f(D,z,j,ie));return c.isGeneratorFunction(z)?oe:oe.next().then(function(Se){return Se.done?Se.value:oe.next()})};function L(D,z,j){var ie=p;return function(Se,_e){if(ie===m)throw new Error("Generator is already running");if(ie===y){if(Se==="throw")throw _e;return X()}for(j.method=Se,j.arg=_e;;){var te=j.delegate;if(te){var ue=B(te,j);if(ue){if(ue===b)continue;return ue}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(ie===p)throw ie=y,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);ie=m;var re=h(D,z,j);if(re.type==="normal"){if(ie=j.done?y:_,re.arg===b)continue;return{value:re.arg,done:j.done}}else re.type==="throw"&&(ie=y,j.method="throw",j.arg=re.arg)}}}function B(D,z){var j=D.iterator[z.method];if(j===i){if(z.delegate=null,z.method==="throw"){if(D.iterator.return&&(z.method="return",z.arg=i,B(D,z),z.method==="throw"))return b;z.method="throw",z.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var ie=h(j,D.iterator,z.arg);if(ie.type==="throw")return z.method="throw",z.arg=ie.arg,z.delegate=null,b;var oe=ie.arg;if(!oe)return z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,b;if(oe.done)z[D.resultName]=oe.value,z.next=D.nextLoc,z.method!=="return"&&(z.method="next",z.arg=i);else return oe;return z.delegate=null,b}C(d),d[u]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"};function H(D){var z={tryLoc:D[0]};1 in D&&(z.catchLoc=D[1]),2 in D&&(z.finallyLoc=D[2],z.afterLoc=D[3]),this.tryEntries.push(z)}function $(D){var z=D.completion||{};z.type="normal",delete z.arg,D.completion=z}function J(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(H,this),this.reset(!0)}c.keys=function(D){var z=[];for(var j in D)z.push(j);return z.reverse(),function ie(){for(;z.length;){var oe=z.pop();if(oe in D)return ie.value=oe,ie.done=!1,ie}return ie.done=!0,ie}};function ae(D){if(D){var z=D[o];if(z)return z.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var j=-1,ie=function oe(){for(;++j<D.length;)if(n.call(D,j))return oe.value=D[j],oe.done=!1,oe;return oe.value=i,oe.done=!0,oe};return ie.next=ie}}return{next:X}}c.values=ae;function X(){return{value:i,done:!0}}J.prototype={constructor:J,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach($),!D)for(var z in this)z.charAt(0)==="t"&&n.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=i)},stop:function(){this.done=!0;var D=this.tryEntries[0],z=D.completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var z=this;function j(ue,re){return Se.type="throw",Se.arg=D,z.next=ue,re&&(z.method="next",z.arg=i),!!re}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var oe=this.tryEntries[ie],Se=oe.completion;if(oe.tryLoc==="root")return j("end");if(oe.tryLoc<=this.prev){var _e=n.call(oe,"catchLoc"),te=n.call(oe,"finallyLoc");if(_e&&te){if(this.prev<oe.catchLoc)return j(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return j(oe.finallyLoc)}else if(_e){if(this.prev<oe.catchLoc)return j(oe.catchLoc,!0)}else if(te){if(this.prev<oe.finallyLoc)return j(oe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(D,z){for(var j=this.tryEntries.length-1;j>=0;--j){var ie=this.tryEntries[j];if(ie.tryLoc<=this.prev&&n.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var oe=ie;break}}oe&&(D==="break"||D==="continue")&&oe.tryLoc<=z&&z<=oe.finallyLoc&&(oe=null);var Se=oe?oe.completion:{};return Se.type=D,Se.arg=z,oe?(this.method="next",this.next=oe.finallyLoc,b):this.complete(Se)},complete:function(D,z){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&z&&(this.next=z),b},finish:function(D){for(var z=this.tryEntries.length-1;z>=0;--z){var j=this.tryEntries[z];if(j.finallyLoc===D)return this.complete(j.completion,j.afterLoc),$(j),b}},catch:function(D){for(var z=this.tryEntries.length-1;z>=0;--z){var j=this.tryEntries[z];if(j.tryLoc===D){var ie=j.completion;if(ie.type==="throw"){var oe=ie.arg;$(j)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(D,z,j){return this.delegate={iterator:ae(D),resultName:z,nextLoc:j},this.method==="next"&&(this.arg=i),b}}})(typeof qi=="object"?qi:typeof window=="object"?window:typeof self=="object"?self:iae)}(Cv)),Cv.exports}var YD={},Ey,KD;function oae(){return KD||(KD=1,Ey=function(e,t){var r=t===Object(t)?function(n){return t[n]}:t;return function(n){return String(n).replace(e,r)}}),Ey}var ZD;function aae(){if(ZD)return YD;ZD=1;var e=$e(),t=oae()(/[\\^$*+?.()|[\]{}]/g,"\\$&");return e(e.S,"RegExp",{escape:function(n){return t(n)}}),YD}var Ay,JD;function uae(){return JD||(JD=1,aae(),Ay=Go().RegExp.escape),Ay}var QD;function cae(){if(QD)return vR;if(QD=1,nae(),sae(),uae(),qi._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");qi._babelPolyfill=!0;var e="defineProperty";function t(r,n,i){r[n]||Object[e](r,n,{writable:!0,configurable:!0,value:i})}return t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(r){[][r]&&t(Array,r,Function.call.bind([][r]))}),vR}cae();function $2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ty,eF;function lae(){if(eF)return Ty;eF=1;function e(){this.__data__=[],this.size=0}return Ty=e,Ty}var Py,tF;function tf(){if(tF)return Py;tF=1;function e(t,r){return t===r||t!==t&&r!==r}return Py=e,Py}var Cy,rF;function zp(){if(rF)return Cy;rF=1;var e=tf();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Cy=t,Cy}var Ry,nF;function fae(){if(nF)return Ry;nF=1;var e=zp(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return Ry=n,Ry}var Iy,iF;function hae(){if(iF)return Iy;iF=1;var e=zp();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Iy=t,Iy}var Oy,sF;function dae(){if(sF)return Oy;sF=1;var e=zp();function t(r){return e(this.__data__,r)>-1}return Oy=t,Oy}var My,oF;function vae(){if(oF)return My;oF=1;var e=zp();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return My=t,My}var ky,aF;function Vp(){if(aF)return ky;aF=1;var e=lae(),t=fae(),r=hae(),n=dae(),i=vae();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,ky=s,ky}var Ly,uF;function pae(){if(uF)return Ly;uF=1;var e=Vp();function t(){this.__data__=new e,this.size=0}return Ly=t,Ly}var Ny,cF;function gae(){if(cF)return Ny;cF=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Ny=e,Ny}var qy,lF;function mae(){if(lF)return qy;lF=1;function e(t){return this.__data__.get(t)}return qy=e,qy}var Dy,fF;function _ae(){if(fF)return Dy;fF=1;function e(t){return this.__data__.has(t)}return Dy=e,Dy}var Fy,hF;function BV(){if(hF)return Fy;hF=1;var e=typeof qi=="object"&&qi&&qi.Object===Object&&qi;return Fy=e,Fy}var By,dF;function Wo(){if(dF)return By;dF=1;var e=BV(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return By=r,By}var zy,vF;function rf(){if(vF)return zy;vF=1;var e=Wo(),t=e.Symbol;return zy=t,zy}var Vy,pF;function yae(){if(pF)return Vy;pF=1;var e=rf(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=r.call(o,i),u=o[i];try{o[i]=void 0;var c=!0}catch{}var f=n.call(o);return c&&(a?o[i]=u:delete o[i]),f}return Vy=s,Vy}var Gy,gF;function bae(){if(gF)return Gy;gF=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Gy=r,Gy}var $y,mF;function Mc(){if(mF)return $y;mF=1;var e=rf(),t=yae(),r=bae(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?t(a):r(a)}return $y=o,$y}var Uy,_F;function _o(){if(_F)return Uy;_F=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Uy=e,Uy}var jy,yF;function Vh(){if(yF)return jy;yF=1;var e=Mc(),t=_o(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==n||u==i||u==r||u==s}return jy=o,jy}var Hy,bF;function wae(){if(bF)return Hy;bF=1;var e=Wo(),t=e["__core-js_shared__"];return Hy=t,Hy}var Wy,wF;function xae(){if(wF)return Wy;wF=1;var e=wae(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Wy=r,Wy}var Xy,xF;function zV(){if(xF)return Xy;xF=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Xy=r,Xy}var Yy,SF;function Sae(){if(SF)return Yy;SF=1;var e=Vh(),t=xae(),r=_o(),n=zV(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,c=a.hasOwnProperty,f=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||t(p))return!1;var _=e(p)?f:s;return _.test(n(p))}return Yy=h,Yy}var Ky,EF;function Eae(){if(EF)return Ky;EF=1;function e(t,r){return t==null?void 0:t[r]}return Ky=e,Ky}var Zy,AF;function kc(){if(AF)return Zy;AF=1;var e=Sae(),t=Eae();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Zy=r,Zy}var Jy,TF;function U2(){if(TF)return Jy;TF=1;var e=kc(),t=Wo(),r=e(t,"Map");return Jy=r,Jy}var Qy,PF;function Gp(){if(PF)return Qy;PF=1;var e=kc(),t=e(Object,"create");return Qy=t,Qy}var eb,CF;function Aae(){if(CF)return eb;CF=1;var e=Gp();function t(){this.__data__=e?e(null):{},this.size=0}return eb=t,eb}var tb,RF;function Tae(){if(RF)return tb;RF=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return tb=e,tb}var rb,IF;function Pae(){if(IF)return rb;IF=1;var e=Gp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return n.call(o,s)?o[s]:void 0}return rb=i,rb}var nb,OF;function Cae(){if(OF)return nb;OF=1;var e=Gp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return nb=n,nb}var ib,MF;function Rae(){if(MF)return ib;MF=1;var e=Gp(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return ib=r,ib}var sb,kF;function Iae(){if(kF)return sb;kF=1;var e=Aae(),t=Tae(),r=Pae(),n=Cae(),i=Rae();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,sb=s,sb}var ob,LF;function Oae(){if(LF)return ob;LF=1;var e=Iae(),t=Vp(),r=U2();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return ob=n,ob}var ab,NF;function Mae(){if(NF)return ab;NF=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return ab=e,ab}var ub,qF;function $p(){if(qF)return ub;qF=1;var e=Mae();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ub=t,ub}var cb,DF;function kae(){if(DF)return cb;DF=1;var e=$p();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return cb=t,cb}var lb,FF;function Lae(){if(FF)return lb;FF=1;var e=$p();function t(r){return e(this,r).get(r)}return lb=t,lb}var fb,BF;function Nae(){if(BF)return fb;BF=1;var e=$p();function t(r){return e(this,r).has(r)}return fb=t,fb}var hb,zF;function qae(){if(zF)return hb;zF=1;var e=$p();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return hb=t,hb}var db,VF;function j2(){if(VF)return db;VF=1;var e=Oae(),t=kae(),r=Lae(),n=Nae(),i=qae();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,db=s,db}var vb,GF;function Dae(){if(GF)return vb;GF=1;var e=Vp(),t=U2(),r=j2(),n=200;function i(s,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(u)}return a.set(s,o),this.size=a.size,this}return vb=i,vb}var pb,$F;function Up(){if($F)return pb;$F=1;var e=Vp(),t=pae(),r=gae(),n=mae(),i=_ae(),s=Dae();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,pb=o,pb}var gb,UF;function H2(){if(UF)return gb;UF=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return gb=e,gb}var mb,jF;function VV(){if(jF)return mb;jF=1;var e=kc(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return mb=t,mb}var _b,HF;function jp(){if(HF)return _b;HF=1;var e=VV();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return _b=t,_b}var yb,WF;function Hp(){if(WF)return yb;WF=1;var e=jp(),t=tf(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a){var u=s[o];(!(n.call(s,o)&&t(u,a))||a===void 0&&!(o in s))&&e(s,o,a)}return yb=i,yb}var bb,XF;function Gh(){if(XF)return bb;XF=1;var e=Hp(),t=jp();function r(n,i,s,o){var a=!s;s||(s={});for(var u=-1,c=i.length;++u<c;){var f=i[u],h=o?o(s[f],n[f],f,s,n):void 0;h===void 0&&(h=n[f]),a?t(s,f,h):e(s,f,h)}return s}return bb=r,bb}var wb,YF;function Fae(){if(YF)return wb;YF=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return wb=e,wb}var xb,KF;function Ta(){if(KF)return xb;KF=1;function e(t){return t!=null&&typeof t=="object"}return xb=e,xb}var Sb,ZF;function Bae(){if(ZF)return Sb;ZF=1;var e=Mc(),t=Ta(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Sb=n,Sb}var Eb,JF;function $h(){if(JF)return Eb;JF=1;var e=Bae(),t=Ta(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Eb=s,Eb}var Ab,QF;function ci(){if(QF)return Ab;QF=1;var e=Array.isArray;return Ab=e,Ab}var th={exports:{}},Tb,e6;function zae(){if(e6)return Tb;e6=1;function e(){return!1}return Tb=e,Tb}th.exports;var t6;function nf(){return t6||(t6=1,function(e,t){var r=Wo(),n=zae(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,u=a?a.isBuffer:void 0,c=u||n;e.exports=c}(th,th.exports)),th.exports}var Pb,r6;function Wp(){if(r6)return Pb;r6=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Pb=r,Pb}var Cb,n6;function W2(){if(n6)return Cb;n6=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Cb=t,Cb}var Rb,i6;function Vae(){if(i6)return Rb;i6=1;var e=Mc(),t=W2(),r=Ta(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",c="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",_="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",q="[object Int32Array]",d="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",B={};B[E]=B[A]=B[P]=B[R]=B[q]=B[d]=B[C]=B[I]=B[L]=!0,B[n]=B[i]=B[b]=B[s]=B[S]=B[o]=B[a]=B[u]=B[c]=B[f]=B[h]=B[p]=B[_]=B[m]=B[y]=!1;function H($){return r($)&&t($.length)&&!!B[e($)]}return Rb=H,Rb}var Ib,s6;function Xp(){if(s6)return Ib;s6=1;function e(t){return function(r){return t(r)}}return Ib=e,Ib}var rh={exports:{}};rh.exports;var o6;function X2(){return o6||(o6=1,function(e,t){var r=BV(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(rh,rh.exports)),rh.exports}var Ob,a6;function Uh(){if(a6)return Ob;a6=1;var e=Vae(),t=Xp(),r=X2(),n=r&&r.isTypedArray,i=n?t(n):e;return Ob=i,Ob}var Mb,u6;function GV(){if(u6)return Mb;u6=1;var e=Fae(),t=$h(),r=ci(),n=nf(),i=Wp(),s=Uh(),o=Object.prototype,a=o.hasOwnProperty;function u(c,f){var h=r(c),p=!h&&t(c),_=!h&&!p&&n(c),m=!h&&!p&&!_&&s(c),y=h||p||_||m,b=y?e(c.length,String):[],S=b.length;for(var E in c)(f||a.call(c,E))&&!(y&&(E=="length"||_&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,S)))&&b.push(E);return b}return Mb=u,Mb}var kb,c6;function Yp(){if(c6)return kb;c6=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return kb=t,kb}var Lb,l6;function $V(){if(l6)return Lb;l6=1;function e(t,r){return function(n){return t(r(n))}}return Lb=e,Lb}var Nb,f6;function Gae(){if(f6)return Nb;f6=1;var e=$V(),t=e(Object.keys,Object);return Nb=t,Nb}var qb,h6;function Y2(){if(h6)return qb;h6=1;var e=Yp(),t=Gae(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return qb=i,qb}var Db,d6;function ru(){if(d6)return Db;d6=1;var e=Vh(),t=W2();function r(n){return n!=null&&t(n.length)&&!e(n)}return Db=r,Db}var Fb,v6;function Fu(){if(v6)return Fb;v6=1;var e=GV(),t=Y2(),r=ru();function n(i){return r(i)?e(i):t(i)}return Fb=n,Fb}var Bb,p6;function $ae(){if(p6)return Bb;p6=1;var e=Gh(),t=Fu();function r(n,i){return n&&e(i,t(i),n)}return Bb=r,Bb}var zb,g6;function Uae(){if(g6)return zb;g6=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return zb=e,zb}var Vb,m6;function jae(){if(m6)return Vb;m6=1;var e=_o(),t=Yp(),r=Uae(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var a=t(o),u=[];for(var c in o)c=="constructor"&&(a||!i.call(o,c))||u.push(c);return u}return Vb=s,Vb}var Gb,_6;function Lc(){if(_6)return Gb;_6=1;var e=GV(),t=jae(),r=ru();function n(i){return r(i)?e(i,!0):t(i)}return Gb=n,Gb}var $b,y6;function Hae(){if(y6)return $b;y6=1;var e=Gh(),t=Lc();function r(n,i){return n&&e(i,t(i),n)}return $b=r,$b}var nh={exports:{}};nh.exports;var b6;function UV(){return b6||(b6=1,function(e,t){var r=Wo(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(c,f){if(f)return c.slice();var h=c.length,p=a?a(h):new c.constructor(h);return c.copy(p),p}e.exports=u}(nh,nh.exports)),nh.exports}var Ub,w6;function jV(){if(w6)return Ub;w6=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return Ub=e,Ub}var jb,x6;function HV(){if(x6)return jb;x6=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var a=t[n];r(a,n,t)&&(o[s++]=a)}return o}return jb=e,jb}var Hb,S6;function WV(){if(S6)return Hb;S6=1;function e(){return[]}return Hb=e,Hb}var Wb,E6;function K2(){if(E6)return Wb;E6=1;var e=HV(),t=WV(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return n.call(o,a)}))}:t;return Wb=s,Wb}var Xb,A6;function Wae(){if(A6)return Xb;A6=1;var e=Gh(),t=K2();function r(n,i){return e(n,t(n),i)}return Xb=r,Xb}var Yb,T6;function Z2(){if(T6)return Yb;T6=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return Yb=e,Yb}var Kb,P6;function Kp(){if(P6)return Kb;P6=1;var e=$V(),t=e(Object.getPrototypeOf,Object);return Kb=t,Kb}var Zb,C6;function XV(){if(C6)return Zb;C6=1;var e=Z2(),t=Kp(),r=K2(),n=WV(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,r(o)),o=t(o);return a}:n;return Zb=s,Zb}var Jb,R6;function Xae(){if(R6)return Jb;R6=1;var e=Gh(),t=XV();function r(n,i){return e(n,t(n),i)}return Jb=r,Jb}var Qb,I6;function YV(){if(I6)return Qb;I6=1;var e=Z2(),t=ci();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return Qb=r,Qb}var e1,O6;function KV(){if(O6)return e1;O6=1;var e=YV(),t=K2(),r=Fu();function n(i){return e(i,r,t)}return e1=n,e1}var t1,M6;function Yae(){if(M6)return t1;M6=1;var e=YV(),t=XV(),r=Lc();function n(i){return e(i,r,t)}return t1=n,t1}var r1,k6;function Kae(){if(k6)return r1;k6=1;var e=kc(),t=Wo(),r=e(t,"DataView");return r1=r,r1}var n1,L6;function Zae(){if(L6)return n1;L6=1;var e=kc(),t=Wo(),r=e(t,"Promise");return n1=r,n1}var i1,N6;function ZV(){if(N6)return i1;N6=1;var e=kc(),t=Wo(),r=e(t,"Set");return i1=r,i1}var s1,q6;function Jae(){if(q6)return s1;q6=1;var e=kc(),t=Wo(),r=e(t,"WeakMap");return s1=r,s1}var o1,D6;function sf(){if(D6)return o1;D6=1;var e=Kae(),t=U2(),r=Zae(),n=ZV(),i=Jae(),s=Mc(),o=zV(),a="[object Map]",u="[object Object]",c="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",_=o(e),m=o(t),y=o(r),b=o(n),S=o(i),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=p||t&&E(new t)!=a||r&&E(r.resolve())!=c||n&&E(new n)!=f||i&&E(new i)!=h)&&(E=function(A){var P=s(A),R=P==u?A.constructor:void 0,q=R?o(R):"";if(q)switch(q){case _:return p;case m:return a;case y:return c;case b:return f;case S:return h}return P}),o1=E,o1}var a1,F6;function Qae(){if(F6)return a1;F6=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,s=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return a1=r,a1}var u1,B6;function JV(){if(B6)return u1;B6=1;var e=Wo(),t=e.Uint8Array;return u1=t,u1}var c1,z6;function J2(){if(z6)return c1;z6=1;var e=JV();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return c1=t,c1}var l1,V6;function eue(){if(V6)return l1;V6=1;var e=J2();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return l1=t,l1}var f1,G6;function tue(){if(G6)return f1;G6=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return f1=t,f1}var h1,$6;function rue(){if($6)return h1;$6=1;var e=rf(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return h1=n,h1}var d1,U6;function QV(){if(U6)return d1;U6=1;var e=J2();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return d1=t,d1}var v1,j6;function nue(){if(j6)return v1;j6=1;var e=J2(),t=eue(),r=tue(),n=rue(),i=QV(),s="[object Boolean]",o="[object Date]",a="[object Map]",u="[object Number]",c="[object RegExp]",f="[object Set]",h="[object String]",p="[object Symbol]",_="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",q="[object Uint16Array]",d="[object Uint32Array]";function C(I,L,B){var H=I.constructor;switch(L){case _:return e(I);case s:case o:return new H(+I);case m:return t(I,B);case y:case b:case S:case E:case A:case P:case R:case q:case d:return i(I,B);case a:return new H;case u:case h:return new H(I);case c:return r(I);case f:return new H;case p:return n(I)}}return v1=C,v1}var p1,H6;function eG(){if(H6)return p1;H6=1;var e=_o(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var s=new n;return n.prototype=void 0,s}}();return p1=r,p1}var g1,W6;function tG(){if(W6)return g1;W6=1;var e=eG(),t=Kp(),r=Yp();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return g1=n,g1}var m1,X6;function iue(){if(X6)return m1;X6=1;var e=sf(),t=Ta(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return m1=n,m1}var _1,Y6;function sue(){if(Y6)return _1;Y6=1;var e=iue(),t=Xp(),r=X2(),n=r&&r.isMap,i=n?t(n):e;return _1=i,_1}var y1,K6;function oue(){if(K6)return y1;K6=1;var e=sf(),t=Ta(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return y1=n,y1}var b1,Z6;function aue(){if(Z6)return b1;Z6=1;var e=oue(),t=Xp(),r=X2(),n=r&&r.isSet,i=n?t(n):e;return b1=i,b1}var w1,J6;function rG(){if(J6)return w1;J6=1;var e=Up(),t=H2(),r=Hp(),n=$ae(),i=Hae(),s=UV(),o=jV(),a=Wae(),u=Xae(),c=KV(),f=Yae(),h=sf(),p=Qae(),_=nue(),m=tG(),y=ci(),b=nf(),S=sue(),E=_o(),A=aue(),P=Fu(),R=Lc(),q=1,d=2,C=4,I="[object Arguments]",L="[object Array]",B="[object Boolean]",H="[object Date]",$="[object Error]",J="[object Function]",ae="[object GeneratorFunction]",X="[object Map]",D="[object Number]",z="[object Object]",j="[object RegExp]",ie="[object Set]",oe="[object String]",Se="[object Symbol]",_e="[object WeakMap]",te="[object ArrayBuffer]",ue="[object DataView]",re="[object Float32Array]",Q="[object Float64Array]",le="[object Int8Array]",Ve="[object Int16Array]",Le="[object Int32Array]",Ce="[object Uint8Array]",Je="[object Uint8ClampedArray]",Ge="[object Uint16Array]",N="[object Uint32Array]",G={};G[I]=G[L]=G[te]=G[ue]=G[B]=G[H]=G[re]=G[Q]=G[le]=G[Ve]=G[Le]=G[X]=G[D]=G[z]=G[j]=G[ie]=G[oe]=G[Se]=G[Ce]=G[Je]=G[Ge]=G[N]=!0,G[$]=G[J]=G[_e]=!1;function Y(K,Ee,fe,Te,Re,ze){var qe,Ie=Ee&q,xe=Ee&d,Ye=Ee&C;if(fe&&(qe=Re?fe(K,Te,Re,ze):fe(K)),qe!==void 0)return qe;if(!E(K))return K;var lt=y(K);if(lt){if(qe=p(K),!Ie)return o(K,qe)}else{var _t=h(K),ht=_t==J||_t==ae;if(b(K))return s(K,Ie);if(_t==z||_t==I||ht&&!Re){if(qe=xe||ht?{}:m(K),!Ie)return xe?u(K,i(qe,K)):a(K,n(qe,K))}else{if(!G[_t])return Re?K:{};qe=_(K,_t,Ie)}}ze||(ze=new e);var it=ze.get(K);if(it)return it;ze.set(K,qe),A(K)?K.forEach(function(nr){qe.add(Y(nr,Ee,fe,nr,K,ze))}):S(K)&&K.forEach(function(nr,vr){qe.set(vr,Y(nr,Ee,fe,vr,K,ze))});var Yt=Ye?xe?f:c:xe?R:P,xr=lt?void 0:Yt(K);return t(xr||K,function(nr,vr){xr&&(vr=nr,nr=K[vr]),r(qe,vr,Y(nr,Ee,fe,vr,K,ze))}),qe}return w1=Y,w1}var x1,Q6;function uue(){if(Q6)return x1;Q6=1;var e=rG(),t=4;function r(n){return e(n,t)}return x1=r,x1}var S1,eB;function Q2(){if(eB)return S1;eB=1;function e(t){return function(){return t}}return S1=e,S1}var E1,tB;function cue(){if(tB)return E1;tB=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),u=a.length;u--;){var c=a[t?u:++s];if(n(o[c],c,o)===!1)break}return r}}return E1=e,E1}var A1,rB;function eA(){if(rB)return A1;rB=1;var e=cue(),t=e();return A1=t,A1}var T1,nB;function tA(){if(nB)return T1;nB=1;var e=eA(),t=Fu();function r(n,i){return n&&e(n,i,t)}return T1=r,T1}var P1,iB;function lue(){if(iB)return P1;iB=1;var e=ru();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,a=n?o:-1,u=Object(i);(n?a--:++a<o)&&s(u[a],a,u)!==!1;);return i}}return P1=t,P1}var C1,sB;function Zp(){if(sB)return C1;sB=1;var e=tA(),t=lue(),r=t(e);return C1=r,C1}var R1,oB;function Nc(){if(oB)return R1;oB=1;function e(t){return t}return R1=e,R1}var I1,aB;function nG(){if(aB)return I1;aB=1;var e=Nc();function t(r){return typeof r=="function"?r:e}return I1=t,I1}var O1,uB;function iG(){if(uB)return O1;uB=1;var e=H2(),t=Zp(),r=nG(),n=ci();function i(s,o){var a=n(s)?e:t;return a(s,r(o))}return O1=i,O1}var M1,cB;function sG(){return cB||(cB=1,M1=iG()),M1}var k1,lB;function fue(){if(lB)return k1;lB=1;var e=Zp();function t(r,n){var i=[];return e(r,function(s,o,a){n(s,o,a)&&i.push(s)}),i}return k1=t,k1}var L1,fB;function hue(){if(fB)return L1;fB=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return L1=t,L1}var N1,hB;function due(){if(hB)return N1;hB=1;function e(t){return this.__data__.has(t)}return N1=e,N1}var q1,dB;function oG(){if(dB)return q1;dB=1;var e=j2(),t=hue(),r=due();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,q1=n,q1}var D1,vB;function vue(){if(vB)return D1;vB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return D1=e,D1}var F1,pB;function aG(){if(pB)return F1;pB=1;function e(t,r){return t.has(r)}return F1=e,F1}var B1,gB;function uG(){if(gB)return B1;gB=1;var e=oG(),t=vue(),r=aG(),n=1,i=2;function s(o,a,u,c,f,h){var p=u&n,_=o.length,m=a.length;if(_!=m&&!(p&&m>_))return!1;var y=h.get(o),b=h.get(a);if(y&&b)return y==a&&b==o;var S=-1,E=!0,A=u&i?new e:void 0;for(h.set(o,a),h.set(a,o);++S<_;){var P=o[S],R=a[S];if(c)var q=p?c(R,P,S,a,o,h):c(P,R,S,o,a,h);if(q!==void 0){if(q)continue;E=!1;break}if(A){if(!t(a,function(d,C){if(!r(A,C)&&(P===d||f(P,d,u,c,h)))return A.push(C)})){E=!1;break}}else if(!(P===R||f(P,R,u,c,h))){E=!1;break}}return h.delete(o),h.delete(a),E}return B1=s,B1}var z1,mB;function pue(){if(mB)return z1;mB=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return z1=e,z1}var V1,_B;function rA(){if(_B)return V1;_B=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return V1=e,V1}var G1,yB;function gue(){if(yB)return G1;yB=1;var e=rf(),t=JV(),r=tf(),n=uG(),i=pue(),s=rA(),o=1,a=2,u="[object Boolean]",c="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",_="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",E="[object DataView]",A=e?e.prototype:void 0,P=A?A.valueOf:void 0;function R(q,d,C,I,L,B,H){switch(C){case E:if(q.byteLength!=d.byteLength||q.byteOffset!=d.byteOffset)return!1;q=q.buffer,d=d.buffer;case S:return!(q.byteLength!=d.byteLength||!B(new t(q),new t(d)));case u:case c:case p:return r(+q,+d);case f:return q.name==d.name&&q.message==d.message;case _:case y:return q==d+"";case h:var $=i;case m:var J=I&o;if($||($=s),q.size!=d.size&&!J)return!1;var ae=H.get(q);if(ae)return ae==d;I|=a,H.set(q,d);var X=n($(q),$(d),I,L,B,H);return H.delete(q),X;case b:if(P)return P.call(q)==P.call(d)}return!1}return G1=R,G1}var $1,bB;function mue(){if(bB)return $1;bB=1;var e=KV(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,u,c,f){var h=a&t,p=e(s),_=p.length,m=e(o),y=m.length;if(_!=y&&!h)return!1;for(var b=_;b--;){var S=p[b];if(!(h?S in o:n.call(o,S)))return!1}var E=f.get(s),A=f.get(o);if(E&&A)return E==o&&A==s;var P=!0;f.set(s,o),f.set(o,s);for(var R=h;++b<_;){S=p[b];var q=s[S],d=o[S];if(u)var C=h?u(d,q,S,o,s,f):u(q,d,S,s,o,f);if(!(C===void 0?q===d||c(q,d,a,u,f):C)){P=!1;break}R||(R=S=="constructor")}if(P&&!R){var I=s.constructor,L=o.constructor;I!=L&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(P=!1)}return f.delete(s),f.delete(o),P}return $1=i,$1}var U1,wB;function _ue(){if(wB)return U1;wB=1;var e=Up(),t=uG(),r=gue(),n=mue(),i=sf(),s=ci(),o=nf(),a=Uh(),u=1,c="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,_=p.hasOwnProperty;function m(y,b,S,E,A,P){var R=s(y),q=s(b),d=R?f:i(y),C=q?f:i(b);d=d==c?h:d,C=C==c?h:C;var I=d==h,L=C==h,B=d==C;if(B&&o(y)){if(!o(b))return!1;R=!0,I=!1}if(B&&!I)return P||(P=new e),R||a(y)?t(y,b,S,E,A,P):r(y,b,d,S,E,A,P);if(!(S&u)){var H=I&&_.call(y,"__wrapped__"),$=L&&_.call(b,"__wrapped__");if(H||$){var J=H?y.value():y,ae=$?b.value():b;return P||(P=new e),A(J,ae,S,E,P)}}return B?(P||(P=new e),n(y,b,S,E,A,P)):!1}return U1=m,U1}var j1,xB;function cG(){if(xB)return j1;xB=1;var e=_ue(),t=Ta();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,a)}return j1=r,j1}var H1,SB;function yue(){if(SB)return H1;SB=1;var e=Up(),t=cG(),r=1,n=2;function i(s,o,a,u){var c=a.length,f=c,h=!u;if(s==null)return!f;for(s=Object(s);c--;){var p=a[c];if(h&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++c<f;){p=a[c];var _=p[0],m=s[_],y=p[1];if(h&&p[2]){if(m===void 0&&!(_ in s))return!1}else{var b=new e;if(u)var S=u(m,y,_,s,o,b);if(!(S===void 0?t(y,m,r|n,u,b):S))return!1}}return!0}return H1=i,H1}var W1,EB;function lG(){if(EB)return W1;EB=1;var e=_o();function t(r){return r===r&&!e(r)}return W1=t,W1}var X1,AB;function bue(){if(AB)return X1;AB=1;var e=lG(),t=Fu();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,e(a)]}return i}return X1=r,X1}var Y1,TB;function fG(){if(TB)return Y1;TB=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Y1=e,Y1}var K1,PB;function wue(){if(PB)return K1;PB=1;var e=yue(),t=bue(),r=fG();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return K1=n,K1}var Z1,CB;function of(){if(CB)return Z1;CB=1;var e=Mc(),t=Ta(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Z1=n,Z1}var J1,RB;function nA(){if(RB)return J1;RB=1;var e=ci(),t=of(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return J1=i,J1}var Q1,IB;function xue(){if(IB)return Q1;IB=1;var e=j2(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],u=s.cache;if(u.has(a))return u.get(a);var c=n.apply(this,o);return s.cache=u.set(a,c)||u,c};return s.cache=new(r.Cache||e),s}return r.Cache=e,Q1=r,Q1}var ew,OB;function Sue(){if(OB)return ew;OB=1;var e=xue(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return ew=r,ew}var tw,MB;function Eue(){if(MB)return tw;MB=1;var e=Sue(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,u,c){s.push(u?c.replace(r,"$1"):a||o)}),s});return tw=n,tw}var rw,kB;function Jp(){if(kB)return rw;kB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return rw=e,rw}var nw,LB;function Aue(){if(LB)return nw;LB=1;var e=rf(),t=Jp(),r=ci(),n=of(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(r(a))return t(a,o)+"";if(n(a))return s?s.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}return nw=o,nw}var iw,NB;function hG(){if(NB)return iw;NB=1;var e=Aue();function t(r){return r==null?"":e(r)}return iw=t,iw}var sw,qB;function Qp(){if(qB)return sw;qB=1;var e=ci(),t=nA(),r=Eue(),n=hG();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return sw=i,sw}var ow,DB;function jh(){if(DB)return ow;DB=1;var e=of();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ow=t,ow}var aw,FB;function eg(){if(FB)return aw;FB=1;var e=Qp(),t=jh();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return aw=r,aw}var uw,BB;function Tue(){if(BB)return uw;BB=1;var e=eg();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return uw=t,uw}var cw,zB;function Pue(){if(zB)return cw;zB=1;function e(t,r){return t!=null&&r in Object(t)}return cw=e,cw}var lw,VB;function dG(){if(VB)return lw;VB=1;var e=Qp(),t=$h(),r=ci(),n=Wp(),i=W2(),s=jh();function o(a,u,c){u=e(u,a);for(var f=-1,h=u.length,p=!1;++f<h;){var _=s(u[f]);if(!(p=a!=null&&c(a,_)))break;a=a[_]}return p||++f!=h?p:(h=a==null?0:a.length,!!h&&i(h)&&n(_,h)&&(r(a)||t(a)))}return lw=o,lw}var fw,GB;function vG(){if(GB)return fw;GB=1;var e=Pue(),t=dG();function r(n,i){return n!=null&&t(n,i,e)}return fw=r,fw}var hw,$B;function Cue(){if($B)return hw;$B=1;var e=cG(),t=Tue(),r=vG(),n=nA(),i=lG(),s=fG(),o=jh(),a=1,u=2;function c(f,h){return n(f)&&i(h)?s(o(f),h):function(p){var _=t(p,f);return _===void 0&&_===h?r(p,f):e(h,_,a|u)}}return hw=c,hw}var dw,UB;function pG(){if(UB)return dw;UB=1;function e(t){return function(r){return r==null?void 0:r[t]}}return dw=e,dw}var vw,jB;function Rue(){if(jB)return vw;jB=1;var e=eg();function t(r){return function(n){return e(n,r)}}return vw=t,vw}var pw,HB;function Iue(){if(HB)return pw;HB=1;var e=pG(),t=Rue(),r=nA(),n=jh();function i(s){return r(s)?e(n(s)):t(s)}return pw=i,pw}var gw,WB;function nu(){if(WB)return gw;WB=1;var e=wue(),t=Cue(),r=Nc(),n=ci(),i=Iue();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return gw=s,gw}var mw,XB;function gG(){if(XB)return mw;XB=1;var e=HV(),t=fue(),r=nu(),n=ci();function i(s,o){var a=n(s)?e:t;return a(s,r(o,3))}return mw=i,mw}var _w,YB;function Oue(){if(YB)return _w;YB=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return _w=r,_w}var yw,KB;function mG(){if(KB)return yw;KB=1;var e=Oue(),t=dG();function r(n,i){return n!=null&&t(n,i,e)}return yw=r,yw}var bw,ZB;function Mue(){if(ZB)return bw;ZB=1;var e=Y2(),t=sf(),r=$h(),n=ci(),i=ru(),s=nf(),o=Yp(),a=Uh(),u="[object Map]",c="[object Set]",f=Object.prototype,h=f.hasOwnProperty;function p(_){if(_==null)return!0;if(i(_)&&(n(_)||typeof _=="string"||typeof _.splice=="function"||s(_)||a(_)||r(_)))return!_.length;var m=t(_);if(m==u||m==c)return!_.size;if(o(_))return!e(_).length;for(var y in _)if(h.call(_,y))return!1;return!0}return bw=p,bw}var ww,JB;function _G(){if(JB)return ww;JB=1;function e(t){return t===void 0}return ww=e,ww}var xw,QB;function yG(){if(QB)return xw;QB=1;var e=Zp(),t=ru();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(a,u,c){o[++s]=i(a,u,c)}),o}return xw=r,xw}var Sw,e5;function bG(){if(e5)return Sw;e5=1;var e=Jp(),t=nu(),r=yG(),n=ci();function i(s,o){var a=n(s)?e:r;return a(s,t(o,3))}return Sw=i,Sw}var Ew,t5;function kue(){if(t5)return Ew;t5=1;function e(t,r,n,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++s]);++s<o;)n=r(n,t[s],s,t);return n}return Ew=e,Ew}var Aw,r5;function Lue(){if(r5)return Aw;r5=1;function e(t,r,n,i,s){return s(t,function(o,a,u){n=i?(i=!1,o):r(n,o,a,u)}),n}return Aw=e,Aw}var Tw,n5;function wG(){if(n5)return Tw;n5=1;var e=kue(),t=Zp(),r=nu(),n=Lue(),i=ci();function s(o,a,u){var c=i(o)?e:n,f=arguments.length<3;return c(o,r(a,4),u,f,t)}return Tw=s,Tw}var Pw,i5;function Nue(){if(i5)return Pw;i5=1;var e=Mc(),t=ci(),r=Ta(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return Pw=i,Pw}var Cw,s5;function que(){if(s5)return Cw;s5=1;var e=pG(),t=e("length");return Cw=t,Cw}var Rw,o5;function Due(){if(o5)return Rw;o5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function u(c){return a.test(c)}return Rw=u,Rw}var Iw,a5;function Fue(){if(a5)return Iw;a5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+u+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",m=c+"?",y="["+s+"]?",b="(?:"+_+"(?:"+[f,h,p].join("|")+")"+y+m+")*",S=y+m+b,E="(?:"+[f+a+"?",a,h,p,o].join("|")+")",A=RegExp(u+"(?="+u+")|"+E+S,"g");function P(R){for(var q=A.lastIndex=0;A.test(R);)++q;return q}return Iw=P,Iw}var Ow,u5;function Bue(){if(u5)return Ow;u5=1;var e=que(),t=Due(),r=Fue();function n(i){return t(i)?r(i):e(i)}return Ow=n,Ow}var Mw,c5;function zue(){if(c5)return Mw;c5=1;var e=Y2(),t=sf(),r=ru(),n=Nue(),i=Bue(),s="[object Map]",o="[object Set]";function a(u){if(u==null)return 0;if(r(u))return n(u)?i(u):u.length;var c=t(u);return c==s||c==o?u.size:e(u).length}return Mw=a,Mw}var kw,l5;function Vue(){if(l5)return kw;l5=1;var e=H2(),t=eG(),r=tA(),n=nu(),i=Kp(),s=ci(),o=nf(),a=Vh(),u=_o(),c=Uh();function f(h,p,_){var m=s(h),y=m||o(h)||c(h);if(p=n(p,4),_==null){var b=h&&h.constructor;y?_=m?new b:[]:u(h)?_=a(b)?t(i(h)):{}:_={}}return(y?e:r)(h,function(S,E,A){return p(_,S,E,A)}),_}return kw=f,kw}var Lw,f5;function Gue(){if(f5)return Lw;f5=1;var e=rf(),t=$h(),r=ci(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Lw=i,Lw}var Nw,h5;function iA(){if(h5)return Nw;h5=1;var e=Z2(),t=Gue();function r(n,i,s,o,a){var u=-1,c=n.length;for(s||(s=t),a||(a=[]);++u<c;){var f=n[u];i>0&&s(f)?i>1?r(f,i-1,s,o,a):e(a,f):o||(a[a.length]=f)}return a}return Nw=r,Nw}var qw,d5;function $ue(){if(d5)return qw;d5=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return qw=e,qw}var Dw,v5;function xG(){if(v5)return Dw;v5=1;var e=$ue(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,u=t(o.length-i,0),c=Array(u);++a<u;)c[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(c),e(n,this,f)}}return Dw=r,Dw}var Fw,p5;function Uue(){if(p5)return Fw;p5=1;var e=Q2(),t=VV(),r=Nc(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Fw=n,Fw}var Bw,g5;function jue(){if(g5)return Bw;g5=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),u=t-(a-o);if(o=a,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Bw=n,Bw}var zw,m5;function SG(){if(m5)return zw;m5=1;var e=Uue(),t=jue(),r=t(e);return zw=r,zw}var Vw,_5;function tg(){if(_5)return Vw;_5=1;var e=Nc(),t=xG(),r=SG();function n(i,s){return r(t(i,s,e),i+"")}return Vw=n,Vw}var Gw,y5;function EG(){if(y5)return Gw;y5=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return Gw=e,Gw}var $w,b5;function Hue(){if(b5)return $w;b5=1;function e(t){return t!==t}return $w=e,$w}var Uw,w5;function Wue(){if(w5)return Uw;w5=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return Uw=e,Uw}var jw,x5;function Xue(){if(x5)return jw;x5=1;var e=EG(),t=Hue(),r=Wue();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return jw=n,jw}var Hw,S5;function Yue(){if(S5)return Hw;S5=1;var e=Xue();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Hw=t,Hw}var Ww,E5;function Kue(){if(E5)return Ww;E5=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return Ww=e,Ww}var Xw,A5;function Zue(){if(A5)return Xw;A5=1;function e(){}return Xw=e,Xw}var Yw,T5;function Jue(){if(T5)return Yw;T5=1;var e=ZV(),t=Zue(),r=rA(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Yw=i,Yw}var Kw,P5;function Que(){if(P5)return Kw;P5=1;var e=oG(),t=Yue(),r=Kue(),n=aG(),i=Jue(),s=rA(),o=200;function a(u,c,f){var h=-1,p=t,_=u.length,m=!0,y=[],b=y;if(f)m=!1,p=r;else if(_>=o){var S=c?null:i(u);if(S)return s(S);m=!1,p=n,b=new e}else b=c?[]:y;e:for(;++h<_;){var E=u[h],A=c?c(E):E;if(E=f||E!==0?E:0,m&&A===A){for(var P=b.length;P--;)if(b[P]===A)continue e;c&&b.push(A),y.push(E)}else p(b,A,f)||(b!==y&&b.push(A),y.push(E))}return y}return Kw=a,Kw}var Zw,C5;function AG(){if(C5)return Zw;C5=1;var e=ru(),t=Ta();function r(n){return t(n)&&e(n)}return Zw=r,Zw}var Jw,R5;function ece(){if(R5)return Jw;R5=1;var e=iA(),t=tg(),r=Que(),n=AG(),i=t(function(s){return r(e(s,1,n,!0))});return Jw=i,Jw}var Qw,I5;function tce(){if(I5)return Qw;I5=1;var e=Jp();function t(r,n){return e(n,function(i){return r[i]})}return Qw=t,Qw}var ex,O5;function TG(){if(O5)return ex;O5=1;var e=tce(),t=Fu();function r(n){return n==null?[]:e(n,t(n))}return ex=r,ex}var tx,M5;function yo(){if(M5)return tx;M5=1;var e;if(typeof $2=="function")try{e={clone:uue(),constant:Q2(),each:sG(),filter:gG(),has:mG(),isArray:ci(),isEmpty:Mue(),isFunction:Vh(),isUndefined:_G(),keys:Fu(),map:bG(),reduce:wG(),size:zue(),transform:Vue(),union:ece(),values:TG()}}catch{}return e||(e=window._),tx=e,tx}var rx,k5;function sA(){if(k5)return rx;k5=1;var e=yo();rx=i;var t="\0",r="\0",n="";function i(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(f){return this._label=f,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(h){return e.isEmpty(f._in[h])})},i.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(h){return e.isEmpty(f._out[h])})},i.prototype.setNodes=function(f,h){var p=arguments,_=this;return e.each(f,function(m){p.length>1?_.setNode(m,h):_.setNode(m)}),this},i.prototype.setNode=function(f,h){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=h),this):(this._nodes[f]=arguments.length>1?h:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=r,this._children[f]={},this._children[r][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},i.prototype.node=function(f){return this._nodes[f]},i.prototype.hasNode=function(f){return e.has(this._nodes,f)},i.prototype.removeNode=function(f){var h=this;if(e.has(this._nodes,f)){var p=function(_){h.removeEdge(h._edgeObjs[_])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(_){h.setParent(_)}),delete this._children[f]),e.each(e.keys(this._in[f]),p),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),p),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},i.prototype.setParent=function(f,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(h))h=r;else{h+="";for(var p=h;!e.isUndefined(p);p=this.parent(p))if(p===f)throw new Error("Setting "+h+" as parent of "+f+" would create a cycle");this.setNode(h)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=h,this._children[h][f]=!0,this},i.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},i.prototype.parent=function(f){if(this._isCompound){var h=this._parent[f];if(h!==r)return h}},i.prototype.children=function(f){if(e.isUndefined(f)&&(f=r),this._isCompound){var h=this._children[f];if(h)return e.keys(h)}else{if(f===r)return this.nodes();if(this.hasNode(f))return[]}},i.prototype.predecessors=function(f){var h=this._preds[f];if(h)return e.keys(h)},i.prototype.successors=function(f){var h=this._sucs[f];if(h)return e.keys(h)},i.prototype.neighbors=function(f){var h=this.predecessors(f);if(h)return e.union(h,this.successors(f))},i.prototype.isLeaf=function(f){var h;return this.isDirected()?h=this.successors(f):h=this.neighbors(f),h.length===0},i.prototype.filterNodes=function(f){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var p=this;e.each(this._nodes,function(y,b){f(b)&&h.setNode(b,y)}),e.each(this._edgeObjs,function(y){h.hasNode(y.v)&&h.hasNode(y.w)&&h.setEdge(y,p.edge(y))});var _={};function m(y){var b=p.parent(y);return b===void 0||h.hasNode(b)?(_[y]=b,b):b in _?_[b]:m(b)}return this._isCompound&&e.each(h.nodes(),function(y){h.setParent(y,m(y))}),h},i.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(f,h){var p=this,_=arguments;return e.reduce(f,function(m,y){return _.length>1?p.setEdge(m,y,h):p.setEdge(m,y),y}),this},i.prototype.setEdge=function(){var f,h,p,_,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(f=y.v,h=y.w,p=y.name,arguments.length===2&&(_=arguments[1],m=!0)):(f=y,h=arguments[1],p=arguments[3],arguments.length>2&&(_=arguments[2],m=!0)),f=""+f,h=""+h,e.isUndefined(p)||(p=""+p);var b=a(this._isDirected,f,h,p);if(e.has(this._edgeLabels,b))return m&&(this._edgeLabels[b]=_),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(h),this._edgeLabels[b]=m?_:this._defaultEdgeLabelFn(f,h,p);var S=u(this._isDirected,f,h,p);return f=S.v,h=S.w,Object.freeze(S),this._edgeObjs[b]=S,s(this._preds[h],f),s(this._sucs[f],h),this._in[h][b]=S,this._out[f][b]=S,this._edgeCount++,this},i.prototype.edge=function(f,h,p){var _=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,f,h,p);return this._edgeLabels[_]},i.prototype.hasEdge=function(f,h,p){var _=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,f,h,p);return e.has(this._edgeLabels,_)},i.prototype.removeEdge=function(f,h,p){var _=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,f,h,p),m=this._edgeObjs[_];return m&&(f=m.v,h=m.w,delete this._edgeLabels[_],delete this._edgeObjs[_],o(this._preds[h],f),o(this._sucs[f],h),delete this._in[h][_],delete this._out[f][_],this._edgeCount--),this},i.prototype.inEdges=function(f,h){var p=this._in[f];if(p){var _=e.values(p);return h?e.filter(_,function(m){return m.v===h}):_}},i.prototype.outEdges=function(f,h){var p=this._out[f];if(p){var _=e.values(p);return h?e.filter(_,function(m){return m.w===h}):_}},i.prototype.nodeEdges=function(f,h){var p=this.inEdges(f,h);if(p)return p.concat(this.outEdges(f,h))};function s(f,h){f[h]?f[h]++:f[h]=1}function o(f,h){--f[h]||delete f[h]}function a(f,h,p,_){var m=""+h,y=""+p;if(!f&&m>y){var b=m;m=y,y=b}return m+n+y+n+(e.isUndefined(_)?t:_)}function u(f,h,p,_){var m=""+h,y=""+p;if(!f&&m>y){var b=m;m=y,y=b}var S={v:m,w:y};return _&&(S.name=_),S}function c(f,h){return a(f,h.v,h.w,h.name)}return rx}var nx,L5;function rce(){return L5||(L5=1,nx="2.1.8"),nx}var ix,N5;function nce(){return N5||(N5=1,ix={Graph:sA(),version:rce()}),ix}var sx,q5;function ice(){if(q5)return sx;q5=1;var e=yo(),t=sA();sx={write:r,read:s};function r(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function n(o){return e.map(o.nodes(),function(a){var u=o.node(a),c=o.parent(a),f={v:a};return e.isUndefined(u)||(f.value=u),e.isUndefined(c)||(f.parent=c),f})}function i(o){return e.map(o.edges(),function(a){var u=o.edge(a),c={v:a.v,w:a.w};return e.isUndefined(a.name)||(c.name=a.name),e.isUndefined(u)||(c.value=u),c})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(u){a.setNode(u.v,u.value),u.parent&&a.setParent(u.v,u.parent)}),e.each(o.edges,function(u){a.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),a}return sx}var ox,D5;function sce(){if(D5)return ox;D5=1;var e=yo();ox=t;function t(r){var n={},i=[],s;function o(a){e.has(n,a)||(n[a]=!0,s.push(a),e.each(r.successors(a),o),e.each(r.predecessors(a),o))}return e.each(r.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return ox}var ax,F5;function PG(){if(F5)return ax;F5=1;var e=yo();ax=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var s=this._arr,o=s.length;return i[r]=o,s.push({key:r,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,s=i+1,o=r;i<n.length&&(o=n[i].priority<n[o].priority?i:o,s<n.length&&(o=n[s].priority<n[o].priority?s:o),o!==r&&(this._swap(r,o),this._heapify(o)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,s;r!==0&&(s=r>>1,!(n[s].priority<i));)this._swap(r,s),r=s},t.prototype._swap=function(r,n){var i=this._arr,s=this._keyIndices,o=i[r],a=i[n];i[r]=a,i[n]=o,s[a.key]=r,s[o.key]=n},ax}var ux,B5;function CG(){if(B5)return ux;B5=1;var e=yo(),t=PG();ux=n;var r=e.constant(1);function n(s,o,a,u){return i(s,String(o),a||r,u||function(c){return s.outEdges(c)})}function i(s,o,a,u){var c={},f=new t,h,p,_=function(m){var y=m.v!==h?m.v:m.w,b=c[y],S=a(m),E=p.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+S);E<b.distance&&(b.distance=E,b.predecessor=h,f.decrease(y,E))};for(s.nodes().forEach(function(m){var y=m===o?0:Number.POSITIVE_INFINITY;c[m]={distance:y},f.add(m,y)});f.size()>0&&(h=f.removeMin(),p=c[h],p.distance!==Number.POSITIVE_INFINITY);)u(h).forEach(_);return c}return ux}var cx,z5;function oce(){if(z5)return cx;z5=1;var e=CG(),t=yo();cx=r;function r(n,i,s){return t.transform(n.nodes(),function(o,a){o[a]=e(n,a,i,s)},{})}return cx}var lx,V5;function RG(){if(V5)return lx;V5=1;var e=yo();lx=t;function t(r){var n=0,i=[],s={},o=[];function a(u){var c=s[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),r.successors(u).forEach(function(p){e.has(s,p)?s[p].onStack&&(c.lowlink=Math.min(c.lowlink,s[p].index)):(a(p),c.lowlink=Math.min(c.lowlink,s[p].lowlink))}),c.lowlink===c.index){var f=[],h;do h=i.pop(),s[h].onStack=!1,f.push(h);while(u!==h);o.push(f)}}return r.nodes().forEach(function(u){e.has(s,u)||a(u)}),o}return lx}var fx,G5;function ace(){if(G5)return fx;G5=1;var e=yo(),t=RG();fx=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return fx}var hx,$5;function uce(){if($5)return hx;$5=1;var e=yo();hx=r;var t=e.constant(1);function r(i,s,o){return n(i,s||t,o||function(a){return i.outEdges(a)})}function n(i,s,o){var a={},u=i.nodes();return u.forEach(function(c){a[c]={},a[c][c]={distance:0},u.forEach(function(f){c!==f&&(a[c][f]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(f){var h=f.v===c?f.w:f.v,p=s(f);a[c][h]={distance:p,predecessor:c}})}),u.forEach(function(c){var f=a[c];u.forEach(function(h){var p=a[h];u.forEach(function(_){var m=p[c],y=f[_],b=p[_],S=m.distance+y.distance;S<b.distance&&(b.distance=S,b.predecessor=y.predecessor)})})}),a}return hx}var dx,U5;function IG(){if(U5)return dx;U5=1;var e=yo();dx=t,t.CycleException=r;function t(n){var i={},s={},o=[];function a(u){if(e.has(s,u))throw new r;e.has(i,u)||(s[u]=!0,i[u]=!0,e.each(n.predecessors(u),a),delete s[u],o.push(u))}if(e.each(n.sinks(),a),e.size(i)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,dx}var vx,j5;function cce(){if(j5)return vx;j5=1;var e=IG();vx=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return vx}var px,H5;function OG(){if(H5)return px;H5=1;var e=yo();px=t;function t(n,i,s){e.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],u={};return e.each(i,function(c){if(!n.hasNode(c))throw new Error("Graph does not have node: "+c);r(n,c,s==="post",u,o,a)}),a}function r(n,i,s,o,a,u){e.has(o,i)||(o[i]=!0,s||u.push(i),e.each(a(i),function(c){r(n,c,s,o,a,u)}),s&&u.push(i))}return px}var gx,W5;function lce(){if(W5)return gx;W5=1;var e=OG();gx=t;function t(r,n){return e(r,n,"post")}return gx}var mx,X5;function fce(){if(X5)return mx;X5=1;var e=OG();mx=t;function t(r,n){return e(r,n,"pre")}return mx}var _x,Y5;function hce(){if(Y5)return _x;Y5=1;var e=yo(),t=sA(),r=PG();_x=n;function n(i,s){var o=new t,a={},u=new r,c;function f(p){var _=p.v===c?p.w:p.v,m=u.priority(_);if(m!==void 0){var y=s(p);y<m&&(a[_]=c,u.decrease(_,y))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(p){u.add(p,Number.POSITIVE_INFINITY),o.setNode(p)}),u.decrease(i.nodes()[0],0);for(var h=!1;u.size()>0;){if(c=u.removeMin(),e.has(a,c))o.setEdge(c,a[c]);else{if(h)throw new Error("Input graph is not connected: "+i);h=!0}i.nodeEdges(c).forEach(f)}return o}return _x}var yx,K5;function dce(){return K5||(K5=1,yx={components:sce(),dijkstra:CG(),dijkstraAll:oce(),findCycles:ace(),floydWarshall:uce(),isAcyclic:cce(),postorder:lce(),preorder:fce(),prim:hce(),tarjan:RG(),topsort:IG()}),yx}var bx,Z5;function MG(){if(Z5)return bx;Z5=1;var e=nce();return bx={Graph:e.Graph,json:ice(),alg:dce(),version:e.version},bx}var wx,J5;function Fo(){if(J5)return wx;J5=1;var e;if(typeof $2=="function")try{e=MG()}catch{}return e||(e=window.graphlib),wx=e,wx}var xx,Q5;function vce(){if(Q5)return xx;Q5=1;var e=rG(),t=1,r=4;function n(i){return e(i,t|r)}return xx=n,xx}var Sx,e8;function rg(){if(e8)return Sx;e8=1;var e=tf(),t=ru(),r=Wp(),n=_o();function i(s,o,a){if(!n(a))return!1;var u=typeof o;return(u=="number"?t(a)&&r(o,a.length):u=="string"&&o in a)?e(a[o],s):!1}return Sx=i,Sx}var Ex,t8;function pce(){if(t8)return Ex;t8=1;var e=tg(),t=tf(),r=rg(),n=Lc(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,u){a=Object(a);var c=-1,f=u.length,h=f>2?u[2]:void 0;for(h&&r(u[0],u[1],h)&&(f=1);++c<f;)for(var p=u[c],_=n(p),m=-1,y=_.length;++m<y;){var b=_[m],S=a[b];(S===void 0||t(S,i[b])&&!s.call(a,b))&&(a[b]=p[b])}return a});return Ex=o,Ex}var Ax,r8;function gce(){if(r8)return Ax;r8=1;var e=nu(),t=ru(),r=Fu();function n(i){return function(s,o,a){var u=Object(s);if(!t(s)){var c=e(o,3);s=r(s),o=function(h){return c(u[h],h,u)}}var f=i(s,o,a);return f>-1?u[c?s[f]:f]:void 0}}return Ax=n,Ax}var Tx,n8;function mce(){if(n8)return Tx;n8=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Tx=t,Tx}var Px,i8;function _ce(){if(i8)return Px;i8=1;var e=mce(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Px=r,Px}var Cx,s8;function yce(){if(s8)return Cx;s8=1;var e=_ce(),t=_o(),r=of(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=t(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=s.test(c);return h||o.test(c)?a(c.slice(2),h?2:8):i.test(c)?n:+c}return Cx=u,Cx}var Rx,o8;function kG(){if(o8)return Rx;o8=1;var e=yce(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var s=i<0?-1:1;return s*r}return i===i?i:0}return Rx=n,Rx}var Ix,a8;function bce(){if(a8)return Ix;a8=1;var e=kG();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Ix=t,Ix}var Ox,u8;function wce(){if(u8)return Ox;u8=1;var e=EG(),t=nu(),r=bce(),n=Math.max;function i(s,o,a){var u=s==null?0:s.length;if(!u)return-1;var c=a==null?0:r(a);return c<0&&(c=n(u+c,0)),e(s,t(o,3),c)}return Ox=i,Ox}var Mx,c8;function xce(){if(c8)return Mx;c8=1;var e=gce(),t=wce(),r=e(t);return Mx=r,Mx}var kx,l8;function LG(){if(l8)return kx;l8=1;var e=iA();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return kx=t,kx}var Lx,f8;function Sce(){if(f8)return Lx;f8=1;var e=eA(),t=nG(),r=Lc();function n(i,s){return i==null?i:e(i,t(s),r)}return Lx=n,Lx}var Nx,h8;function Ece(){if(h8)return Nx;h8=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Nx=e,Nx}var qx,d8;function Ace(){if(d8)return qx;d8=1;var e=jp(),t=tA(),r=nu();function n(i,s){var o={};return s=r(s,3),t(i,function(a,u,c){e(o,u,s(a,u,c))}),o}return qx=n,qx}var Dx,v8;function oA(){if(v8)return Dx;v8=1;var e=of();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],u=n(a);if(u!=null&&(c===void 0?u===u&&!e(u):i(u,c)))var c=u,f=a}return f}return Dx=t,Dx}var Fx,p8;function Tce(){if(p8)return Fx;p8=1;function e(t,r){return t>r}return Fx=e,Fx}var Bx,g8;function Pce(){if(g8)return Bx;g8=1;var e=oA(),t=Tce(),r=Nc();function n(i){return i&&i.length?e(i,r,t):void 0}return Bx=n,Bx}var zx,m8;function NG(){if(m8)return zx;m8=1;var e=jp(),t=tf();function r(n,i,s){(s!==void 0&&!t(n[i],s)||s===void 0&&!(i in n))&&e(n,i,s)}return zx=r,zx}var Vx,_8;function Cce(){if(_8)return Vx;_8=1;var e=Mc(),t=Kp(),r=Ta(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,u=o.call(Object);function c(f){if(!r(f)||e(f)!=n)return!1;var h=t(f);if(h===null)return!0;var p=a.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return Vx=c,Vx}var Gx,y8;function qG(){if(y8)return Gx;y8=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Gx=e,Gx}var $x,b8;function Rce(){if(b8)return $x;b8=1;var e=Gh(),t=Lc();function r(n){return e(n,t(n))}return $x=r,$x}var Ux,w8;function Ice(){if(w8)return Ux;w8=1;var e=NG(),t=UV(),r=QV(),n=jV(),i=tG(),s=$h(),o=ci(),a=AG(),u=nf(),c=Vh(),f=_o(),h=Cce(),p=Uh(),_=qG(),m=Rce();function y(b,S,E,A,P,R,q){var d=_(b,E),C=_(S,E),I=q.get(C);if(I){e(b,E,I);return}var L=R?R(d,C,E+"",b,S,q):void 0,B=L===void 0;if(B){var H=o(C),$=!H&&u(C),J=!H&&!$&&p(C);L=C,H||$||J?o(d)?L=d:a(d)?L=n(d):$?(B=!1,L=t(C,!0)):J?(B=!1,L=r(C,!0)):L=[]:h(C)||s(C)?(L=d,s(d)?L=m(d):(!f(d)||c(d))&&(L=i(C))):B=!1}B&&(q.set(C,L),P(L,C,A,R,q),q.delete(C)),e(b,E,L)}return Ux=y,Ux}var jx,x8;function Oce(){if(x8)return jx;x8=1;var e=Up(),t=NG(),r=eA(),n=Ice(),i=_o(),s=Lc(),o=qG();function a(u,c,f,h,p){u!==c&&r(c,function(_,m){if(p||(p=new e),i(_))n(u,c,m,f,a,h,p);else{var y=h?h(o(u,m),_,m+"",u,c,p):void 0;y===void 0&&(y=_),t(u,m,y)}},s)}return jx=a,jx}var Hx,S8;function Mce(){if(S8)return Hx;S8=1;var e=tg(),t=rg();function r(n){return e(function(i,s){var o=-1,a=s.length,u=a>1?s[a-1]:void 0,c=a>2?s[2]:void 0;for(u=n.length>3&&typeof u=="function"?(a--,u):void 0,c&&t(s[0],s[1],c)&&(u=a<3?void 0:u,a=1),i=Object(i);++o<a;){var f=s[o];f&&n(i,f,o,u)}return i})}return Hx=r,Hx}var Wx,E8;function kce(){if(E8)return Wx;E8=1;var e=Oce(),t=Mce(),r=t(function(n,i,s){e(n,i,s)});return Wx=r,Wx}var Xx,A8;function DG(){if(A8)return Xx;A8=1;function e(t,r){return t<r}return Xx=e,Xx}var Yx,T8;function Lce(){if(T8)return Yx;T8=1;var e=oA(),t=DG(),r=Nc();function n(i){return i&&i.length?e(i,r,t):void 0}return Yx=n,Yx}var Kx,P8;function Nce(){if(P8)return Kx;P8=1;var e=oA(),t=nu(),r=DG();function n(i,s){return i&&i.length?e(i,t(s,2),r):void 0}return Kx=n,Kx}var Zx,C8;function qce(){if(C8)return Zx;C8=1;var e=Wo(),t=function(){return e.Date.now()};return Zx=t,Zx}var Jx,R8;function Dce(){if(R8)return Jx;R8=1;var e=Hp(),t=Qp(),r=Wp(),n=_o(),i=jh();function s(o,a,u,c){if(!n(o))return o;a=t(a,o);for(var f=-1,h=a.length,p=h-1,_=o;_!=null&&++f<h;){var m=i(a[f]),y=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(f!=p){var b=_[m];y=c?c(b,m,_):void 0,y===void 0&&(y=n(b)?b:r(a[f+1])?[]:{})}e(_,m,y),_=_[m]}return o}return Jx=s,Jx}var Qx,I8;function Fce(){if(I8)return Qx;I8=1;var e=eg(),t=Dce(),r=Qp();function n(i,s,o){for(var a=-1,u=s.length,c={};++a<u;){var f=s[a],h=e(i,f);o(h,f)&&t(c,r(f,i),h)}return c}return Qx=n,Qx}var eS,O8;function Bce(){if(O8)return eS;O8=1;var e=Fce(),t=vG();function r(n,i){return e(n,i,function(s,o){return t(n,o)})}return eS=r,eS}var tS,M8;function zce(){if(M8)return tS;M8=1;var e=LG(),t=xG(),r=SG();function n(i){return r(t(i,void 0,e),i+"")}return tS=n,tS}var rS,k8;function Vce(){if(k8)return rS;k8=1;var e=Bce(),t=zce(),r=t(function(n,i){return n==null?{}:e(n,i)});return rS=r,rS}var nS,L8;function Gce(){if(L8)return nS;L8=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var a=-1,u=t(e((i-n)/(s||1)),0),c=Array(u);u--;)c[o?u:++a]=n,n+=s;return c}return nS=r,nS}var iS,N8;function $ce(){if(N8)return iS;N8=1;var e=Gce(),t=rg(),r=kG();function n(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),e(s,o,a,i)}}return iS=n,iS}var sS,q8;function Uce(){if(q8)return sS;q8=1;var e=$ce(),t=e();return sS=t,sS}var oS,D8;function jce(){if(D8)return oS;D8=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return oS=e,oS}var aS,F8;function Hce(){if(F8)return aS;F8=1;var e=of();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=e(r),u=n!==void 0,c=n===null,f=n===n,h=e(n);if(!c&&!h&&!a&&r>n||a&&u&&f&&!c&&!h||s&&u&&f||!i&&f||!o)return 1;if(!s&&!a&&!h&&r<n||h&&i&&o&&!s&&!a||c&&i&&o||!u&&o||!f)return-1}return 0}return aS=t,aS}var uS,B8;function Wce(){if(B8)return uS;B8=1;var e=Hce();function t(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,u=o.length,c=i.length;++s<u;){var f=e(o[s],a[s]);if(f){if(s>=c)return f;var h=i[s];return f*(h=="desc"?-1:1)}}return r.index-n.index}return uS=t,uS}var cS,z8;function Xce(){if(z8)return cS;z8=1;var e=Jp(),t=eg(),r=nu(),n=yG(),i=jce(),s=Xp(),o=Wce(),a=Nc(),u=ci();function c(f,h,p){h.length?h=e(h,function(y){return u(y)?function(b){return t(b,y.length===1?y[0]:y)}:y}):h=[a];var _=-1;h=e(h,s(r));var m=n(f,function(y,b,S){var E=e(h,function(A){return A(y)});return{criteria:E,index:++_,value:y}});return i(m,function(y,b){return o(y,b,p)})}return cS=c,cS}var lS,V8;function Yce(){if(V8)return lS;V8=1;var e=iA(),t=Xce(),r=tg(),n=rg(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return lS=i,lS}var fS,G8;function Kce(){if(G8)return fS;G8=1;var e=hG(),t=0;function r(n){var i=++t;return e(n)+i}return fS=r,fS}var hS,$8;function Zce(){if($8)return hS;$8=1;function e(t,r,n){for(var i=-1,s=t.length,o=r.length,a={};++i<s;){var u=i<o?r[i]:void 0;n(a,t[i],u)}return a}return hS=e,hS}var dS,U8;function Jce(){if(U8)return dS;U8=1;var e=Hp(),t=Zce();function r(n,i){return t(n||[],i||[],e)}return dS=r,dS}var vS,j8;function Ln(){if(j8)return vS;j8=1;var e;if(typeof $2=="function")try{e={cloneDeep:vce(),constant:Q2(),defaults:pce(),each:sG(),filter:gG(),find:xce(),flatten:LG(),forEach:iG(),forIn:Sce(),has:mG(),isUndefined:_G(),last:Ece(),map:bG(),mapValues:Ace(),max:Pce(),merge:kce(),min:Lce(),minBy:Nce(),now:qce(),pick:Vce(),range:Uce(),reduce:wG(),sortBy:Yce(),uniqueId:Kce(),values:TG(),zipObject:Jce()}}catch{}return e||(e=window._),vS=e,vS}var pS,H8;function Qce(){if(H8)return pS;H8=1,pS=e;function e(){var n={};n._next=n._prev=n,this._sentinel=n}e.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return t(i),i},e.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&t(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},e.prototype.toString=function(){for(var n=[],i=this._sentinel,s=i._prev;s!==i;)n.push(JSON.stringify(s,r)),s=s._prev;return"["+n.join(", ")+"]"};function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return pS}var gS,W8;function ele(){if(W8)return gS;W8=1;var e=Ln(),t=Fo().Graph,r=Qce();gS=i;var n=e.constant(1);function i(c,f){if(c.nodeCount()<=1)return[];var h=a(c,f||n),p=s(h.graph,h.buckets,h.zeroIdx);return e.flatten(e.map(p,function(_){return c.outEdges(_.v,_.w)}),!0)}function s(c,f,h){for(var p=[],_=f[f.length-1],m=f[0],y;c.nodeCount();){for(;y=m.dequeue();)o(c,f,h,y);for(;y=_.dequeue();)o(c,f,h,y);if(c.nodeCount()){for(var b=f.length-2;b>0;--b)if(y=f[b].dequeue(),y){p=p.concat(o(c,f,h,y,!0));break}}}return p}function o(c,f,h,p,_){var m=_?[]:void 0;return e.forEach(c.inEdges(p.v),function(y){var b=c.edge(y),S=c.node(y.v);_&&m.push({v:y.v,w:y.w}),S.out-=b,u(f,h,S)}),e.forEach(c.outEdges(p.v),function(y){var b=c.edge(y),S=y.w,E=c.node(S);E.in-=b,u(f,h,E)}),c.removeNode(p.v),m}function a(c,f){var h=new t,p=0,_=0;e.forEach(c.nodes(),function(b){h.setNode(b,{v:b,in:0,out:0})}),e.forEach(c.edges(),function(b){var S=h.edge(b.v,b.w)||0,E=f(b),A=S+E;h.setEdge(b.v,b.w,A),_=Math.max(_,h.node(b.v).out+=E),p=Math.max(p,h.node(b.w).in+=E)});var m=e.range(_+p+3).map(function(){return new r}),y=p+1;return e.forEach(h.nodes(),function(b){u(m,y,h.node(b))}),{graph:h,buckets:m,zeroIdx:y}}function u(c,f,h){h.out?h.in?c[h.out-h.in+f].enqueue(h):c[c.length-1].enqueue(h):c[0].enqueue(h)}return gS}var mS,X8;function tle(){if(X8)return mS;X8=1;var e=Ln(),t=ele();mS={run:r,undo:i};function r(s){var o=s.graph().acyclicer==="greedy"?t(s,a(s)):n(s);e.forEach(o,function(u){var c=s.edge(u);s.removeEdge(u),c.forwardName=u.name,c.reversed=!0,s.setEdge(u.w,u.v,c,e.uniqueId("rev"))});function a(u){return function(c){return u.edge(c).weight}}}function n(s){var o=[],a={},u={};function c(f){e.has(u,f)||(u[f]=!0,a[f]=!0,e.forEach(s.outEdges(f),function(h){e.has(a,h.w)?o.push(h):c(h.w)}),delete a[f])}return e.forEach(s.nodes(),c),o}function i(s){e.forEach(s.edges(),function(o){var a=s.edge(o);if(a.reversed){s.removeEdge(o);var u=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,u)}})}return mS}var _S,Y8;function ms(){if(Y8)return _S;Y8=1;var e=Ln(),t=Fo().Graph;_S={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:o,intersectRect:a,buildLayerMatrix:u,normalizeRanks:c,removeEmptyRanks:f,addBorderNode:h,maxRank:p,partition:_,time:m,notime:y};function r(b,S,E,A){var P;do P=e.uniqueId(A);while(b.hasNode(P));return E.dummy=S,b.setNode(P,E),P}function n(b){var S=new t().setGraph(b.graph());return e.forEach(b.nodes(),function(E){S.setNode(E,b.node(E))}),e.forEach(b.edges(),function(E){var A=S.edge(E.v,E.w)||{weight:0,minlen:1},P=b.edge(E);S.setEdge(E.v,E.w,{weight:A.weight+P.weight,minlen:Math.max(A.minlen,P.minlen)})}),S}function i(b){var S=new t({multigraph:b.isMultigraph()}).setGraph(b.graph());return e.forEach(b.nodes(),function(E){b.children(E).length||S.setNode(E,b.node(E))}),e.forEach(b.edges(),function(E){S.setEdge(E,b.edge(E))}),S}function s(b){var S=e.map(b.nodes(),function(E){var A={};return e.forEach(b.outEdges(E),function(P){A[P.w]=(A[P.w]||0)+b.edge(P).weight}),A});return e.zipObject(b.nodes(),S)}function o(b){var S=e.map(b.nodes(),function(E){var A={};return e.forEach(b.inEdges(E),function(P){A[P.v]=(A[P.v]||0)+b.edge(P).weight}),A});return e.zipObject(b.nodes(),S)}function a(b,S){var E=b.x,A=b.y,P=S.x-E,R=S.y-A,q=b.width/2,d=b.height/2;if(!P&&!R)throw new Error("Not possible to find intersection inside of the rectangle");var C,I;return Math.abs(R)*q>Math.abs(P)*d?(R<0&&(d=-d),C=d*P/R,I=d):(P<0&&(q=-q),C=q,I=q*R/P),{x:E+C,y:A+I}}function u(b){var S=e.map(e.range(p(b)+1),function(){return[]});return e.forEach(b.nodes(),function(E){var A=b.node(E),P=A.rank;e.isUndefined(P)||(S[P][A.order]=E)}),S}function c(b){var S=e.min(e.map(b.nodes(),function(E){return b.node(E).rank}));e.forEach(b.nodes(),function(E){var A=b.node(E);e.has(A,"rank")&&(A.rank-=S)})}function f(b){var S=e.min(e.map(b.nodes(),function(R){return b.node(R).rank})),E=[];e.forEach(b.nodes(),function(R){var q=b.node(R).rank-S;E[q]||(E[q]=[]),E[q].push(R)});var A=0,P=b.graph().nodeRankFactor;e.forEach(E,function(R,q){e.isUndefined(R)&&q%P!==0?--A:A&&e.forEach(R,function(d){b.node(d).rank+=A})})}function h(b,S,E,A){var P={width:0,height:0};return arguments.length>=4&&(P.rank=E,P.order=A),r(b,"border",P,S)}function p(b){return e.max(e.map(b.nodes(),function(S){var E=b.node(S).rank;if(!e.isUndefined(E))return E}))}function _(b,S){var E={lhs:[],rhs:[]};return e.forEach(b,function(A){S(A)?E.lhs.push(A):E.rhs.push(A)}),E}function m(b,S){var E=e.now();try{return S()}finally{console.log(b+" time: "+(e.now()-E)+"ms")}}function y(b,S){return S()}return _S}var yS,K8;function rle(){if(K8)return yS;K8=1;var e=Ln(),t=ms();yS={run:r,undo:i};function r(s){s.graph().dummyChains=[],e.forEach(s.edges(),function(o){n(s,o)})}function n(s,o){var a=o.v,u=s.node(a).rank,c=o.w,f=s.node(c).rank,h=o.name,p=s.edge(o),_=p.labelRank;if(f!==u+1){s.removeEdge(o);var m,y,b;for(b=0,++u;u<f;++b,++u)p.points=[],y={width:0,height:0,edgeLabel:p,edgeObj:o,rank:u},m=t.addDummyNode(s,"edge",y,"_d"),u===_&&(y.width=p.width,y.height=p.height,y.dummy="edge-label",y.labelpos=p.labelpos),s.setEdge(a,m,{weight:p.weight},h),b===0&&s.graph().dummyChains.push(m),a=m;s.setEdge(a,c,{weight:p.weight},h)}}function i(s){e.forEach(s.graph().dummyChains,function(o){var a=s.node(o),u=a.edgeLabel,c;for(s.setEdge(a.edgeObj,u);a.dummy;)c=s.successors(o)[0],s.removeNode(o),u.points.push({x:a.x,y:a.y}),a.dummy==="edge-label"&&(u.x=a.x,u.y=a.y,u.width=a.width,u.height=a.height),o=c,a=s.node(o)})}return yS}var bS,Z8;function jv(){if(Z8)return bS;Z8=1;var e=Ln();bS={longestPath:t,slack:r};function t(n){var i={};function s(o){var a=n.node(o);if(e.has(i,o))return a.rank;i[o]=!0;var u=e.min(e.map(n.outEdges(o),function(c){return s(c.w)-n.edge(c).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),a.rank=u}e.forEach(n.sources(),s)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return bS}var wS,J8;function FG(){if(J8)return wS;J8=1;var e=Ln(),t=Fo().Graph,r=jv().slack;wS=n;function n(a){var u=new t({directed:!1}),c=a.nodes()[0],f=a.nodeCount();u.setNode(c,{});for(var h,p;i(u,a)<f;)h=s(u,a),p=u.hasNode(h.v)?r(a,h):-r(a,h),o(u,a,p);return u}function i(a,u){function c(f){e.forEach(u.nodeEdges(f),function(h){var p=h.v,_=f===p?h.w:p;!a.hasNode(_)&&!r(u,h)&&(a.setNode(_,{}),a.setEdge(f,_,{}),c(_))})}return e.forEach(a.nodes(),c),a.nodeCount()}function s(a,u){return e.minBy(u.edges(),function(c){if(a.hasNode(c.v)!==a.hasNode(c.w))return r(u,c)})}function o(a,u,c){e.forEach(a.nodes(),function(f){u.node(f).rank+=c})}return wS}var xS,Q8;function nle(){if(Q8)return xS;Q8=1;var e=Ln(),t=FG(),r=jv().slack,n=jv().longestPath,i=Fo().alg.preorder,s=Fo().alg.postorder,o=ms().simplify;xS=a,a.initLowLimValues=h,a.initCutValues=u,a.calcCutValue=f,a.leaveEdge=_,a.enterEdge=m,a.exchangeEdges=y;function a(A){A=o(A),n(A);var P=t(A);h(P),u(P,A);for(var R,q;R=_(P);)q=m(P,A,R),y(P,A,R,q)}function u(A,P){var R=s(A,A.nodes());R=R.slice(0,R.length-1),e.forEach(R,function(q){c(A,P,q)})}function c(A,P,R){var q=A.node(R),d=q.parent;A.edge(R,d).cutvalue=f(A,P,R)}function f(A,P,R){var q=A.node(R),d=q.parent,C=!0,I=P.edge(R,d),L=0;return I||(C=!1,I=P.edge(d,R)),L=I.weight,e.forEach(P.nodeEdges(R),function(B){var H=B.v===R,$=H?B.w:B.v;if($!==d){var J=H===C,ae=P.edge(B).weight;if(L+=J?ae:-ae,S(A,R,$)){var X=A.edge(R,$).cutvalue;L+=J?-X:X}}}),L}function h(A,P){arguments.length<2&&(P=A.nodes()[0]),p(A,{},1,P)}function p(A,P,R,q,d){var C=R,I=A.node(q);return P[q]=!0,e.forEach(A.neighbors(q),function(L){e.has(P,L)||(R=p(A,P,R,L,q))}),I.low=C,I.lim=R++,d?I.parent=d:delete I.parent,R}function _(A){return e.find(A.edges(),function(P){return A.edge(P).cutvalue<0})}function m(A,P,R){var q=R.v,d=R.w;P.hasEdge(q,d)||(q=R.w,d=R.v);var C=A.node(q),I=A.node(d),L=C,B=!1;C.lim>I.lim&&(L=I,B=!0);var H=e.filter(P.edges(),function($){return B===E(A,A.node($.v),L)&&B!==E(A,A.node($.w),L)});return e.minBy(H,function($){return r(P,$)})}function y(A,P,R,q){var d=R.v,C=R.w;A.removeEdge(d,C),A.setEdge(q.v,q.w,{}),h(A),u(A,P),b(A,P)}function b(A,P){var R=e.find(A.nodes(),function(d){return!P.node(d).parent}),q=i(A,R);q=q.slice(1),e.forEach(q,function(d){var C=A.node(d).parent,I=P.edge(d,C),L=!1;I||(I=P.edge(C,d),L=!0),P.node(d).rank=P.node(C).rank+(L?I.minlen:-I.minlen)})}function S(A,P,R){return A.hasEdge(P,R)}function E(A,P,R){return R.low<=P.lim&&P.lim<=R.lim}return xS}var SS,ez;function ile(){if(ez)return SS;ez=1;var e=jv(),t=e.longestPath,r=FG(),n=nle();SS=i;function i(u){switch(u.graph().ranker){case"network-simplex":a(u);break;case"tight-tree":o(u);break;case"longest-path":s(u);break;default:a(u)}}var s=t;function o(u){t(u),r(u)}function a(u){n(u)}return SS}var ES,tz;function sle(){if(tz)return ES;tz=1;var e=Ln();ES=t;function t(i){var s=n(i);e.forEach(i.graph().dummyChains,function(o){for(var a=i.node(o),u=a.edgeObj,c=r(i,s,u.v,u.w),f=c.path,h=c.lca,p=0,_=f[p],m=!0;o!==u.w;){if(a=i.node(o),m){for(;(_=f[p])!==h&&i.node(_).maxRank<a.rank;)p++;_===h&&(m=!1)}if(!m){for(;p<f.length-1&&i.node(_=f[p+1]).minRank<=a.rank;)p++;_=f[p]}i.setParent(o,_),o=i.successors(o)[0]}})}function r(i,s,o,a){var u=[],c=[],f=Math.min(s[o].low,s[a].low),h=Math.max(s[o].lim,s[a].lim),p,_;p=o;do p=i.parent(p),u.push(p);while(p&&(s[p].low>f||h>s[p].lim));for(_=p,p=a;(p=i.parent(p))!==_;)c.push(p);return{path:u.concat(c.reverse()),lca:_}}function n(i){var s={},o=0;function a(u){var c=o;e.forEach(i.children(u),a),s[u]={low:c,lim:o++}}return e.forEach(i.children(),a),s}return ES}var AS,rz;function ole(){if(rz)return AS;rz=1;var e=Ln(),t=ms();AS={run:r,cleanup:o};function r(a){var u=t.addDummyNode(a,"root",{},"_root"),c=i(a),f=e.max(e.values(c))-1,h=2*f+1;a.graph().nestingRoot=u,e.forEach(a.edges(),function(_){a.edge(_).minlen*=h});var p=s(a)+1;e.forEach(a.children(),function(_){n(a,u,h,p,f,c,_)}),a.graph().nodeRankFactor=h}function n(a,u,c,f,h,p,_){var m=a.children(_);if(!m.length){_!==u&&a.setEdge(u,_,{weight:0,minlen:c});return}var y=t.addBorderNode(a,"_bt"),b=t.addBorderNode(a,"_bb"),S=a.node(_);a.setParent(y,_),S.borderTop=y,a.setParent(b,_),S.borderBottom=b,e.forEach(m,function(E){n(a,u,c,f,h,p,E);var A=a.node(E),P=A.borderTop?A.borderTop:E,R=A.borderBottom?A.borderBottom:E,q=A.borderTop?f:2*f,d=P!==R?1:h-p[_]+1;a.setEdge(y,P,{weight:q,minlen:d,nestingEdge:!0}),a.setEdge(R,b,{weight:q,minlen:d,nestingEdge:!0})}),a.parent(_)||a.setEdge(u,y,{weight:0,minlen:h+p[_]})}function i(a){var u={};function c(f,h){var p=a.children(f);p&&p.length&&e.forEach(p,function(_){c(_,h+1)}),u[f]=h}return e.forEach(a.children(),function(f){c(f,1)}),u}function s(a){return e.reduce(a.edges(),function(u,c){return u+a.edge(c).weight},0)}function o(a){var u=a.graph();a.removeNode(u.nestingRoot),delete u.nestingRoot,e.forEach(a.edges(),function(c){var f=a.edge(c);f.nestingEdge&&a.removeEdge(c)})}return AS}var TS,nz;function ale(){if(nz)return TS;nz=1;var e=Ln(),t=ms();TS=r;function r(i){function s(o){var a=i.children(o),u=i.node(o);if(a.length&&e.forEach(a,s),e.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var c=u.minRank,f=u.maxRank+1;c<f;++c)n(i,"borderLeft","_bl",o,u,c),n(i,"borderRight","_br",o,u,c)}}e.forEach(i.children(),s)}function n(i,s,o,a,u,c){var f={width:0,height:0,rank:c,borderType:s},h=u[s][c-1],p=t.addDummyNode(i,"border",f,o);u[s][c]=p,i.setParent(p,a),h&&i.setEdge(h,p,{weight:1})}return TS}var PS,iz;function ule(){if(iz)return PS;iz=1;var e=Ln();PS={adjust:t,undo:r};function t(c){var f=c.graph().rankdir.toLowerCase();(f==="lr"||f==="rl")&&n(c)}function r(c){var f=c.graph().rankdir.toLowerCase();(f==="bt"||f==="rl")&&s(c),(f==="lr"||f==="rl")&&(a(c),n(c))}function n(c){e.forEach(c.nodes(),function(f){i(c.node(f))}),e.forEach(c.edges(),function(f){i(c.edge(f))})}function i(c){var f=c.width;c.width=c.height,c.height=f}function s(c){e.forEach(c.nodes(),function(f){o(c.node(f))}),e.forEach(c.edges(),function(f){var h=c.edge(f);e.forEach(h.points,o),e.has(h,"y")&&o(h)})}function o(c){c.y=-c.y}function a(c){e.forEach(c.nodes(),function(f){u(c.node(f))}),e.forEach(c.edges(),function(f){var h=c.edge(f);e.forEach(h.points,u),e.has(h,"x")&&u(h)})}function u(c){var f=c.x;c.x=c.y,c.y=f}return PS}var CS,sz;function cle(){if(sz)return CS;sz=1;var e=Ln();CS=t;function t(r){var n={},i=e.filter(r.nodes(),function(c){return!r.children(c).length}),s=e.max(e.map(i,function(c){return r.node(c).rank})),o=e.map(e.range(s+1),function(){return[]});function a(c){if(!e.has(n,c)){n[c]=!0;var f=r.node(c);o[f.rank].push(c),e.forEach(r.successors(c),a)}}var u=e.sortBy(i,function(c){return r.node(c).rank});return e.forEach(u,a),o}return CS}var RS,oz;function lle(){if(oz)return RS;oz=1;var e=Ln();RS=t;function t(n,i){for(var s=0,o=1;o<i.length;++o)s+=r(n,i[o-1],i[o]);return s}function r(n,i,s){for(var o=e.zipObject(s,e.map(s,function(p,_){return _})),a=e.flatten(e.map(i,function(p){return e.sortBy(e.map(n.outEdges(p),function(_){return{pos:o[_.w],weight:n.edge(_).weight}}),"pos")}),!0),u=1;u<s.length;)u<<=1;var c=2*u-1;u-=1;var f=e.map(new Array(c),function(){return 0}),h=0;return e.forEach(a.forEach(function(p){var _=p.pos+u;f[_]+=p.weight;for(var m=0;_>0;)_%2&&(m+=f[_+1]),_=_-1>>1,f[_]+=p.weight;h+=p.weight*m})),h}return RS}var IS,az;function fle(){if(az)return IS;az=1;var e=Ln();IS=t;function t(r,n){return e.map(n,function(i){var s=r.inEdges(i);if(s.length){var o=e.reduce(s,function(a,u){var c=r.edge(u),f=r.node(u.v);return{sum:a.sum+c.weight*f.order,weight:a.weight+c.weight}},{sum:0,weight:0});return{v:i,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:i}})}return IS}var OS,uz;function hle(){if(uz)return OS;uz=1;var e=Ln();OS=t;function t(i,s){var o={};e.forEach(i,function(u,c){var f=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:c};e.isUndefined(u.barycenter)||(f.barycenter=u.barycenter,f.weight=u.weight)}),e.forEach(s.edges(),function(u){var c=o[u.v],f=o[u.w];!e.isUndefined(c)&&!e.isUndefined(f)&&(f.indegree++,c.out.push(o[u.w]))});var a=e.filter(o,function(u){return!u.indegree});return r(a)}function r(i){var s=[];function o(c){return function(f){f.merged||(e.isUndefined(f.barycenter)||e.isUndefined(c.barycenter)||f.barycenter>=c.barycenter)&&n(c,f)}}function a(c){return function(f){f.in.push(c),--f.indegree===0&&i.push(f)}}for(;i.length;){var u=i.pop();s.push(u),e.forEach(u.in.reverse(),o(u)),e.forEach(u.out,a(u))}return e.map(e.filter(s,function(c){return!c.merged}),function(c){return e.pick(c,["vs","i","barycenter","weight"])})}function n(i,s){var o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return OS}var MS,cz;function dle(){if(cz)return MS;cz=1;var e=Ln(),t=ms();MS=r;function r(s,o){var a=t.partition(s,function(y){return e.has(y,"barycenter")}),u=a.lhs,c=e.sortBy(a.rhs,function(y){return-y.i}),f=[],h=0,p=0,_=0;u.sort(i(!!o)),_=n(f,c,_),e.forEach(u,function(y){_+=y.vs.length,f.push(y.vs),h+=y.barycenter*y.weight,p+=y.weight,_=n(f,c,_)});var m={vs:e.flatten(f,!0)};return p&&(m.barycenter=h/p,m.weight=p),m}function n(s,o,a){for(var u;o.length&&(u=e.last(o)).i<=a;)o.pop(),s.push(u.vs),a++;return a}function i(s){return function(o,a){return o.barycenter<a.barycenter?-1:o.barycenter>a.barycenter?1:s?a.i-o.i:o.i-a.i}}return MS}var kS,lz;function vle(){if(lz)return kS;lz=1;var e=Ln(),t=fle(),r=hle(),n=dle();kS=i;function i(a,u,c,f){var h=a.children(u),p=a.node(u),_=p?p.borderLeft:void 0,m=p?p.borderRight:void 0,y={};_&&(h=e.filter(h,function(R){return R!==_&&R!==m}));var b=t(a,h);e.forEach(b,function(R){if(a.children(R.v).length){var q=i(a,R.v,c,f);y[R.v]=q,e.has(q,"barycenter")&&o(R,q)}});var S=r(b,c);s(S,y);var E=n(S,f);if(_&&(E.vs=e.flatten([_,E.vs,m],!0),a.predecessors(_).length)){var A=a.node(a.predecessors(_)[0]),P=a.node(a.predecessors(m)[0]);e.has(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+A.order+P.order)/(E.weight+2),E.weight+=2}return E}function s(a,u){e.forEach(a,function(c){c.vs=e.flatten(c.vs.map(function(f){return u[f]?u[f].vs:f}),!0)})}function o(a,u){e.isUndefined(a.barycenter)?(a.barycenter=u.barycenter,a.weight=u.weight):(a.barycenter=(a.barycenter*a.weight+u.barycenter*u.weight)/(a.weight+u.weight),a.weight+=u.weight)}return kS}var LS,fz;function ple(){if(fz)return LS;fz=1;var e=Ln(),t=Fo().Graph;LS=r;function r(i,s,o){var a=n(i),u=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(c){return i.node(c)});return e.forEach(i.nodes(),function(c){var f=i.node(c),h=i.parent(c);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(u.setNode(c),u.setParent(c,h||a),e.forEach(i[o](c),function(p){var _=p.v===c?p.w:p.v,m=u.edge(_,c),y=e.isUndefined(m)?0:m.weight;u.setEdge(_,c,{weight:i.edge(p).weight+y})}),e.has(f,"minRank")&&u.setNode(c,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),u}function n(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return LS}var NS,hz;function gle(){if(hz)return NS;hz=1;var e=Ln();NS=t;function t(r,n,i){var s={},o;e.forEach(i,function(a){for(var u=r.parent(a),c,f;u;){if(c=r.parent(u),c?(f=s[c],s[c]=u):(f=o,o=u),f&&f!==u){n.setEdge(f,u);return}u=c}})}return NS}var qS,dz;function mle(){if(dz)return qS;dz=1;var e=Ln(),t=cle(),r=lle(),n=vle(),i=ple(),s=gle(),o=Fo().Graph,a=ms();qS=u;function u(p){var _=a.maxRank(p),m=c(p,e.range(1,_+1),"inEdges"),y=c(p,e.range(_-1,-1,-1),"outEdges"),b=t(p);h(p,b);for(var S=Number.POSITIVE_INFINITY,E,A=0,P=0;P<4;++A,++P){f(A%2?m:y,A%4>=2),b=a.buildLayerMatrix(p);var R=r(p,b);R<S&&(P=0,E=e.cloneDeep(b),S=R)}h(p,E)}function c(p,_,m){return e.map(_,function(y){return i(p,y,m)})}function f(p,_){var m=new o;e.forEach(p,function(y){var b=y.graph().root,S=n(y,b,m,_);e.forEach(S.vs,function(E,A){y.node(E).order=A}),s(y,m,S.vs)})}function h(p,_){e.forEach(_,function(m){e.forEach(m,function(y,b){p.node(y).order=b})})}return qS}var DS,vz;function _le(){if(vz)return DS;vz=1;var e=Ln(),t=Fo().Graph,r=ms();DS={positionX:m,findType1Conflicts:n,findType2Conflicts:i,addConflict:o,hasConflict:a,verticalAlignment:u,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:h,balance:_};function n(S,E){var A={};function P(R,q){var d=0,C=0,I=R.length,L=e.last(q);return e.forEach(q,function(B,H){var $=s(S,B),J=$?S.node($).order:I;($||B===L)&&(e.forEach(q.slice(C,H+1),function(ae){e.forEach(S.predecessors(ae),function(X){var D=S.node(X),z=D.order;(z<d||J<z)&&!(D.dummy&&S.node(ae).dummy)&&o(A,X,ae)})}),C=H+1,d=J)}),q}return e.reduce(E,P),A}function i(S,E){var A={};function P(q,d,C,I,L){var B;e.forEach(e.range(d,C),function(H){B=q[H],S.node(B).dummy&&e.forEach(S.predecessors(B),function($){var J=S.node($);J.dummy&&(J.order<I||J.order>L)&&o(A,$,B)})})}function R(q,d){var C=-1,I,L=0;return e.forEach(d,function(B,H){if(S.node(B).dummy==="border"){var $=S.predecessors(B);$.length&&(I=S.node($[0]).order,P(d,L,H,C,I),L=H,C=I)}P(d,L,d.length,I,q.length)}),d}return e.reduce(E,R),A}function s(S,E){if(S.node(E).dummy)return e.find(S.predecessors(E),function(A){return S.node(A).dummy})}function o(S,E,A){if(E>A){var P=E;E=A,A=P}var R=S[E];R||(S[E]=R={}),R[A]=!0}function a(S,E,A){if(E>A){var P=E;E=A,A=P}return e.has(S[E],A)}function u(S,E,A,P){var R={},q={},d={};return e.forEach(E,function(C){e.forEach(C,function(I,L){R[I]=I,q[I]=I,d[I]=L})}),e.forEach(E,function(C){var I=-1;e.forEach(C,function(L){var B=P(L);if(B.length){B=e.sortBy(B,function(X){return d[X]});for(var H=(B.length-1)/2,$=Math.floor(H),J=Math.ceil(H);$<=J;++$){var ae=B[$];q[L]===L&&I<d[ae]&&!a(A,L,ae)&&(q[ae]=L,q[L]=R[L]=R[ae],I=d[ae])}}})}),{root:R,align:q}}function c(S,E,A,P,R){var q={},d=f(S,E,A,R),C=R?"borderLeft":"borderRight";function I(H,$){for(var J=d.nodes(),ae=J.pop(),X={};ae;)X[ae]?H(ae):(X[ae]=!0,J.push(ae),J=J.concat($(ae))),ae=J.pop()}function L(H){q[H]=d.inEdges(H).reduce(function($,J){return Math.max($,q[J.v]+d.edge(J))},0)}function B(H){var $=d.outEdges(H).reduce(function(ae,X){return Math.min(ae,q[X.w]-d.edge(X))},Number.POSITIVE_INFINITY),J=S.node(H);$!==Number.POSITIVE_INFINITY&&J.borderType!==C&&(q[H]=Math.max(q[H],$))}return I(L,d.predecessors.bind(d)),I(B,d.successors.bind(d)),e.forEach(P,function(H){q[H]=q[A[H]]}),q}function f(S,E,A,P){var R=new t,q=S.graph(),d=y(q.nodesep,q.edgesep,P);return e.forEach(E,function(C){var I;e.forEach(C,function(L){var B=A[L];if(R.setNode(B),I){var H=A[I],$=R.edge(H,B);R.setEdge(H,B,Math.max(d(S,L,I),$||0))}I=L})}),R}function h(S,E){return e.minBy(e.values(E),function(A){var P=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;return e.forIn(A,function(q,d){var C=b(S,d)/2;P=Math.max(q+C,P),R=Math.min(q-C,R)}),P-R})}function p(S,E){var A=e.values(E),P=e.min(A),R=e.max(A);e.forEach(["u","d"],function(q){e.forEach(["l","r"],function(d){var C=q+d,I=S[C],L;if(I!==E){var B=e.values(I);L=d==="l"?P-e.min(B):R-e.max(B),L&&(S[C]=e.mapValues(I,function(H){return H+L}))}})})}function _(S,E){return e.mapValues(S.ul,function(A,P){if(E)return S[E.toLowerCase()][P];var R=e.sortBy(e.map(S,P));return(R[1]+R[2])/2})}function m(S){var E=r.buildLayerMatrix(S),A=e.merge(n(S,E),i(S,E)),P={},R;e.forEach(["u","d"],function(d){R=d==="u"?E:e.values(E).reverse(),e.forEach(["l","r"],function(C){C==="r"&&(R=e.map(R,function(H){return e.values(H).reverse()}));var I=(d==="u"?S.predecessors:S.successors).bind(S),L=u(S,R,A,I),B=c(S,R,L.root,L.align,C==="r");C==="r"&&(B=e.mapValues(B,function(H){return-H})),P[d+C]=B})});var q=h(S,P);return p(P,q),_(P,S.graph().align)}function y(S,E,A){return function(P,R,q){var d=P.node(R),C=P.node(q),I=0,L;if(I+=d.width/2,e.has(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":L=-d.width/2;break;case"r":L=d.width/2;break}if(L&&(I+=A?L:-L),L=0,I+=(d.dummy?E:S)/2,I+=(C.dummy?E:S)/2,I+=C.width/2,e.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":L=C.width/2;break;case"r":L=-C.width/2;break}return L&&(I+=A?L:-L),L=0,I}}function b(S,E){return S.node(E).width}return DS}var FS,pz;function yle(){if(pz)return FS;pz=1;var e=Ln(),t=ms(),r=_le().positionX;FS=n;function n(s){s=t.asNonCompoundGraph(s),i(s),e.forEach(r(s),function(o,a){s.node(a).x=o})}function i(s){var o=t.buildLayerMatrix(s),a=s.graph().ranksep,u=0;e.forEach(o,function(c){var f=e.max(e.map(c,function(h){return s.node(h).height}));e.forEach(c,function(h){s.node(h).y=u+f/2}),u+=f+a})}return FS}var BS,gz;function ble(){if(gz)return BS;gz=1;var e=Ln(),t=tle(),r=rle(),n=ile(),i=ms().normalizeRanks,s=sle(),o=ms().removeEmptyRanks,a=ole(),u=ale(),c=ule(),f=mle(),h=yle(),p=ms(),_=Fo().Graph;BS=m;function m(te,ue){var re=ue&&ue.debugTiming?p.time:p.notime;re("layout",function(){var Q=re("  buildLayoutGraph",function(){return I(te)});re("  runLayout",function(){y(Q,re)}),re("  updateInputGraph",function(){b(te,Q)})})}function y(te,ue){ue("    makeSpaceForEdgeLabels",function(){L(te)}),ue("    removeSelfEdges",function(){j(te)}),ue("    acyclic",function(){t.run(te)}),ue("    nestingGraph.run",function(){a.run(te)}),ue("    rank",function(){n(p.asNonCompoundGraph(te))}),ue("    injectEdgeLabelProxies",function(){B(te)}),ue("    removeEmptyRanks",function(){o(te)}),ue("    nestingGraph.cleanup",function(){a.cleanup(te)}),ue("    normalizeRanks",function(){i(te)}),ue("    assignRankMinMax",function(){H(te)}),ue("    removeEdgeLabelProxies",function(){$(te)}),ue("    normalize.run",function(){r.run(te)}),ue("    parentDummyChains",function(){s(te)}),ue("    addBorderSegments",function(){u(te)}),ue("    order",function(){f(te)}),ue("    insertSelfEdges",function(){ie(te)}),ue("    adjustCoordinateSystem",function(){c.adjust(te)}),ue("    position",function(){h(te)}),ue("    positionSelfEdges",function(){oe(te)}),ue("    removeBorderNodes",function(){z(te)}),ue("    normalize.undo",function(){r.undo(te)}),ue("    fixupEdgeLabelCoords",function(){X(te)}),ue("    undoCoordinateSystem",function(){c.undo(te)}),ue("    translateGraph",function(){J(te)}),ue("    assignNodeIntersects",function(){ae(te)}),ue("    reversePoints",function(){D(te)}),ue("    acyclic.undo",function(){t.undo(te)})}function b(te,ue){e.forEach(te.nodes(),function(re){var Q=te.node(re),le=ue.node(re);Q&&(Q.x=le.x,Q.y=le.y,ue.children(re).length&&(Q.width=le.width,Q.height=le.height))}),e.forEach(te.edges(),function(re){var Q=te.edge(re),le=ue.edge(re);Q.points=le.points,e.has(le,"x")&&(Q.x=le.x,Q.y=le.y)}),te.graph().width=ue.graph().width,te.graph().height=ue.graph().height}var S=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],P=["width","height"],R={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],d={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function I(te){var ue=new _({multigraph:!0,compound:!0}),re=_e(te.graph());return ue.setGraph(e.merge({},E,Se(re,S),e.pick(re,A))),e.forEach(te.nodes(),function(Q){var le=_e(te.node(Q));ue.setNode(Q,e.defaults(Se(le,P),R)),ue.setParent(Q,te.parent(Q))}),e.forEach(te.edges(),function(Q){var le=_e(te.edge(Q));ue.setEdge(Q,e.merge({},d,Se(le,q),e.pick(le,C)))}),ue}function L(te){var ue=te.graph();ue.ranksep/=2,e.forEach(te.edges(),function(re){var Q=te.edge(re);Q.minlen*=2,Q.labelpos.toLowerCase()!=="c"&&(ue.rankdir==="TB"||ue.rankdir==="BT"?Q.width+=Q.labeloffset:Q.height+=Q.labeloffset)})}function B(te){e.forEach(te.edges(),function(ue){var re=te.edge(ue);if(re.width&&re.height){var Q=te.node(ue.v),le=te.node(ue.w),Ve={rank:(le.rank-Q.rank)/2+Q.rank,e:ue};p.addDummyNode(te,"edge-proxy",Ve,"_ep")}})}function H(te){var ue=0;e.forEach(te.nodes(),function(re){var Q=te.node(re);Q.borderTop&&(Q.minRank=te.node(Q.borderTop).rank,Q.maxRank=te.node(Q.borderBottom).rank,ue=e.max(ue,Q.maxRank))}),te.graph().maxRank=ue}function $(te){e.forEach(te.nodes(),function(ue){var re=te.node(ue);re.dummy==="edge-proxy"&&(te.edge(re.e).labelRank=re.rank,te.removeNode(ue))})}function J(te){var ue=Number.POSITIVE_INFINITY,re=0,Q=Number.POSITIVE_INFINITY,le=0,Ve=te.graph(),Le=Ve.marginx||0,Ce=Ve.marginy||0;function Je(Ge){var N=Ge.x,G=Ge.y,Y=Ge.width,K=Ge.height;ue=Math.min(ue,N-Y/2),re=Math.max(re,N+Y/2),Q=Math.min(Q,G-K/2),le=Math.max(le,G+K/2)}e.forEach(te.nodes(),function(Ge){Je(te.node(Ge))}),e.forEach(te.edges(),function(Ge){var N=te.edge(Ge);e.has(N,"x")&&Je(N)}),ue-=Le,Q-=Ce,e.forEach(te.nodes(),function(Ge){var N=te.node(Ge);N.x-=ue,N.y-=Q}),e.forEach(te.edges(),function(Ge){var N=te.edge(Ge);e.forEach(N.points,function(G){G.x-=ue,G.y-=Q}),e.has(N,"x")&&(N.x-=ue),e.has(N,"y")&&(N.y-=Q)}),Ve.width=re-ue+Le,Ve.height=le-Q+Ce}function ae(te){e.forEach(te.edges(),function(ue){var re=te.edge(ue),Q=te.node(ue.v),le=te.node(ue.w),Ve,Le;re.points?(Ve=re.points[0],Le=re.points[re.points.length-1]):(re.points=[],Ve=le,Le=Q),re.points.unshift(p.intersectRect(Q,Ve)),re.points.push(p.intersectRect(le,Le))})}function X(te){e.forEach(te.edges(),function(ue){var re=te.edge(ue);if(e.has(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function D(te){e.forEach(te.edges(),function(ue){var re=te.edge(ue);re.reversed&&re.points.reverse()})}function z(te){e.forEach(te.nodes(),function(ue){if(te.children(ue).length){var re=te.node(ue),Q=te.node(re.borderTop),le=te.node(re.borderBottom),Ve=te.node(e.last(re.borderLeft)),Le=te.node(e.last(re.borderRight));re.width=Math.abs(Le.x-Ve.x),re.height=Math.abs(le.y-Q.y),re.x=Ve.x+re.width/2,re.y=Q.y+re.height/2}}),e.forEach(te.nodes(),function(ue){te.node(ue).dummy==="border"&&te.removeNode(ue)})}function j(te){e.forEach(te.edges(),function(ue){if(ue.v===ue.w){var re=te.node(ue.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:ue,label:te.edge(ue)}),te.removeEdge(ue)}})}function ie(te){var ue=p.buildLayerMatrix(te);e.forEach(ue,function(re){var Q=0;e.forEach(re,function(le,Ve){var Le=te.node(le);Le.order=Ve+Q,e.forEach(Le.selfEdges,function(Ce){p.addDummyNode(te,"selfedge",{width:Ce.label.width,height:Ce.label.height,rank:Le.rank,order:Ve+ ++Q,e:Ce.e,label:Ce.label},"_se")}),delete Le.selfEdges})})}function oe(te){e.forEach(te.nodes(),function(ue){var re=te.node(ue);if(re.dummy==="selfedge"){var Q=te.node(re.e.v),le=Q.x+Q.width/2,Ve=Q.y,Le=re.x-le,Ce=Q.height/2;te.setEdge(re.e,re.label),te.removeNode(ue),re.label.points=[{x:le+2*Le/3,y:Ve-Ce},{x:le+5*Le/6,y:Ve-Ce},{x:le+Le,y:Ve},{x:le+5*Le/6,y:Ve+Ce},{x:le+2*Le/3,y:Ve+Ce}],re.label.x=re.x,re.label.y=re.y}})}function Se(te,ue){return e.mapValues(e.pick(te,ue),Number)}function _e(te){var ue={};return e.forEach(te,function(re,Q){ue[Q.toLowerCase()]=re}),ue}return BS}var zS,mz;function wle(){if(mz)return zS;mz=1;var e=Ln(),t=ms(),r=Fo().Graph;zS={debugOrdering:n};function n(i){var s=t.buildLayerMatrix(i),o=new r({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(a){o.setNode(a,{label:a}),o.setParent(a,"layer"+i.node(a).rank)}),e.forEach(i.edges(),function(a){o.setEdge(a.v,a.w,{},a.name)}),e.forEach(s,function(a,u){var c="layer"+u;o.setNode(c,{rank:"same"}),e.reduce(a,function(f,h){return o.setEdge(f,h,{style:"invis"}),h})}),o}return zS}var VS,_z;function xle(){return _z||(_z=1,VS="0.8.5"),VS}var GS,yz;function Sle(){return yz||(yz=1,GS={graphlib:Fo(),layout:ble(),debug:wle(),util:{time:ms().time,notime:ms().notime},version:xle()}),GS}var Ele=Sle();const Ale=Kl(Ele);var Tle=MG();const Ple=Kl(Tle),Ga={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Cle=Object.keys(Ga).map(e=>Ga[e]).join(""),$S="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Rle=/\s/g,bz=new RegExp(`^(${$S}\\*)?([${Cle}])(/${$S})?([-+]{1,2}${$S})?$`,"g");function BG(e){throw new Error(`Invalid calc() expression: ${e}`)}function Ile(e,t){const r=bz.exec(e.replace(Rle,""));r||BG(e),bz.lastIndex=0;const[,n,i,s,o]=r,{x:a,y:u,width:c,height:f}=t;let h=0;switch(i){case Ga.width:{h=c;break}case Ga.height:{h=f;break}case Ga.x:{h=a;break}case Ga.y:{h=u;break}case Ga.minimum:{h=Math.min(f,c);break}case Ga.maximum:{h=Math.max(f,c);break}case Ga.diagonal:{h=Math.sqrt(f*f+c*c);break}}return n&&(h*=parseFloat(n)),s&&(h/=parseFloat(s.slice(1))),o&&(h+=Ole(o)),h}function Ole(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function no(e){return typeof e=="string"&&e.includes("calc")}const zG="calc(",wz=zG.length;function io(e,t){let r=e,n=0;do{let i=r.indexOf(zG,n);if(i===-1)return r;let s=i+wz,o=1;e:do{switch(r[s]){case"(":{o++;break}case")":{if(o--,o===0)break e;break}case void 0:BG(r)}s++}while(!0);let a=r.slice(i+wz,s);no(a)&&(a=io(a,t));const u=String(Ile(a,t));r=r.slice(0,i)+u+r.slice(s+1),n=i+u.length}while(!0)}const{round:Mle,floor:kle,PI:VG}=Math,Lle={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},Bo=function(e){return e%360+(e<0?360:0)},mc=function(e,t){return t*Mle(e/t)},ng=function(e){return 180*e/VG%360},_s=function(e,t){return t=t||!1,e=t?e:e%360,e*VG/180},SE=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return kle(Math.random()*(t-e+1)+e)},{cos:uv,sin:US,atan2:Nle}=Math,GG=function(e,t){var r=_s(e.y),n=_s(t.y),i=e.x,s=t.x,o=_s(s-i),a=US(o)*uv(n),u=uv(r)*US(n)-US(r)*uv(n)*uv(o),c=ng(Nle(a,u)),f=["NE","E","SE","S","SW","W","NW","N"],h=c-22.5;return h<0&&(h+=360),h=parseInt(h/45),f[h]},aA=function(e,t){var r=e.x,n=e.y,i=t.x,s=t.y;return(r-=i)*r+(n-=s)*n},$G=function(e,t){return Math.sqrt(aA(e,t))},_r={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Hv,cos:EE,sin:AE,sqrt:xz,min:Sz,max:Ez,atan2:qle,round:Az,pow:Dle,PI:Tz}=Math,ge=function(e,t){if(!(this instanceof ge))return new ge(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ge.fromPolar=function(e,t,r){r=new ge(r);var n=Hv(e*EE(t)),i=Hv(e*AE(t)),s=Bo(ng(t));return s<90?i=-i:s<180?(n=-n,i=-i):s<270&&(n=-n),new ge(r.x+n,r.y+i)};ge.random=function(e,t,r,n){return new ge(SE(e,t),SE(r,n))};ge.prototype={type:_r.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ge(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var s=new ge(e[i]),o=this.squaredDistance(s);o<n&&(r=s,n=o)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=Sz(Ez(this.x,e.x),e.x+e.width),this.y=Sz(Ez(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return GG(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ge(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ge(this.x-(e||0),this.y-(t||0))},distance:function(e){return $G(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ge((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return xz(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Hv(e.x-this.x)+Hv(e.y-this.y)},move:function(e,t){var r=_s(new ge(e).theta(this)),n=this.offset(EE(r)*t,-AE(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ge(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ge(0,0),t=_s(Bo(-t));var r=EE(t),n=AE(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,s=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=s,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Dle(10,e);break}return this.x=Az(this.x*t)/t,this.y=Az(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ge(r)||new ge(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=mc(this.x,e),this.y=mc(this.y,t||e),this},squaredDistance:function(e){return aA(this,e)},theta:function(e){e=new ge(e);var t=-(e.y-this.y),r=e.x-this.x,n=qle(t,r);return n<0&&(n=2*Tz+n),180*n/Tz},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ge(e)||new ge(0,0);var t=this.x,r=this.y;return this.x=xz((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=_s(e.theta(new ge(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ge(0,0);return t.angleBetween(this,e)}};ge.prototype.translate=ge.prototype.offset;const Wv=ge,{max:jS,min:HS}=Math,xt=function(e,t){if(!(this instanceof xt))return new xt(e,t);if(e instanceof xt)return new xt(e.start,e.end);this.start=new ge(e),this.end=new ge(t)};xt.prototype={type:_r.Line,angle:function(){var e=new ge(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=HS(this.start.x,this.end.x),t=HS(this.start.y,this.end.y),r=jS(this.start.x,this.end.x),n=jS(this.start.y,this.end.y);return new mt(e,t,r-e,n-t)},bearing:function(){return GG(this.start,this.end)},clone:function(){return new xt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new xt(this.start,e).vector()),r=HS(1,jS(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new xt(t,e).length()>n||new xt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new xt(this.start,t),new xt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new xt(this.start,t),new xt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof xt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ge(this.end.x-this.start.x,this.end.y-this.start.y),r=new ge(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ge(e.start.x-this.start.x,e.start.y-this.start.y),s=i.x*r.y-i.y*r.x,o=i.x*t.y-i.y*t.x;if(n===0||s*n<0||o*n<0)return null;if(n>0){if(s>n||o>n)return null}else if(s<n||o<n)return null;return[new ge(this.start.x+s*t.x/n,this.start.y+s*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return $G(this.start,this.end)},midpoint:function(){return new ge((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),s=n.clone().rotate(r,90);return r.move(s,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ge(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return aA(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new xt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new xt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ge(this.end.x-this.start.x,this.end.y-this.start.y)}};xt.prototype.intersection=xt.prototype.intersect;const fc=xt,{sqrt:Pz,round:cv,pow:Fle}=Math,es=function(e,t,r){if(!(this instanceof es))return new es(e,t,r);if(e instanceof es)return new es(new ge(e.x,e.y),e.a,e.b);e=new ge(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};es.fromRect=function(e){return e=new mt(e),new es(e.center(),e.width/2,e.height/2)};es.prototype={type:_r.Ellipse,bbox:function(){return new mt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ge(this.x,this.y)},clone:function(){return new es(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,s=this.b,o=e.vector(),a=r.difference(new ge(this)),u=new ge(o.x/(i*i),o.y/(s*s)),c=new ge(a.x/(i*i),a.y/(s*s)),f=o.dot(u),h=o.dot(c),p=a.dot(c)-1,_=h*h-f*p;if(_<0)return null;if(_>0){var m=Pz(_),y=(-h-m)/f,b=(-h+m)/f;if((y<0||1<y)&&(b<0||1<b))return null;0<=y&&y<=1&&t.push(r.lerp(n,y)),0<=b&&b<=1&&t.push(r.lerp(n,b))}else{var S=-h/f;if(0<=S&&S<=1)t.push(r.lerp(n,S));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ge(e),t&&e.rotate(new ge(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ge(this.x,this.y),-t):i;var s=n/r,o=s*s,a=this.a*this.a,u=this.b*this.b,c=Pz(1/(1/a+o/u));c=r<0?-c:c;var f=s*c;return i=new ge(this.x+c,this.y+f),t?i.rotate(new ge(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,s=this.x,o=this.y;return(t-s)*(t-s)/(n*n)+(r-o)*(r-o)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Fle(10,e);break}return this.x=cv(this.x*t)/t,this.y=cv(this.y*t)/t,this.a=cv(this.a*t)/t,this.b=cv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,s=this.b,o=this.bbox().center(),a=o.x,u=o.y,c=r>o.x+i/2,f=r<o.x-i/2,h,p;return c||f?(h=r>o.x?n-t:n+t,p=i*i/(r-a)-i*i*(n-u)*(h-u)/(s*s*(r-a))+a):(p=n>o.y?r+t:r-t,h=s*s/(n-u)-s*s*(r-a)*(p-a)/(i*i*(n-u))+u),new ge(p,h).theta(e)},toString:function(){return new ge(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Ble=es,{abs:Cz,cos:zle,sin:Vle,min:Hf,max:Rz,round:lv,pow:Gle}=Math,mt=function(e,t,r,n){if(!(this instanceof mt))return new mt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};mt.fromEllipse=function(e){return e=new es(e),new mt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};mt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ge;let r,n,i,s;r=n=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,u=t.y;a<r&&(r=a),a>i&&(i=a),u<n&&(n=u),u>s&&(s=u)}return new mt(r,n,i-r,s-n)};mt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new mt;let r,n,i,s;r=n=1/0,i=s=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const a=t.x,u=t.y,c=a+t.width,f=u+t.height;a<r&&(r=a),c>i&&(i=c),u<n&&(n=u),f>s&&(s=f)}return new mt(r,n,i-r,s-n)};mt.prototype={type:_r.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=_s(e),i=Cz(Vle(n)),s=Cz(zle(n)),o=t*s+r*i,a=t*i+r*s;return this.x+=(t-o)/2,this.y+=(r-a)/2,this.width=o,this.height=a,this},bottomLeft:function(){return new ge(this.x,this.y+this.height)},bottomLine:function(){return new xt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ge(this.x+this.width/2,this.y+this.height)},center:function(){return new ge(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new mt(this)},containsPoint:function(e){return e instanceof ge||(e=new ge(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new mt(this).normalize(),r=new mt(e).normalize(),n=t.width,i=t.height,s=r.width,o=r.height;if(!n||!i||!s||!o)return!1;var a=t.x,u=t.y,c=r.x,f=r.y;return s+=c,n+=a,o+=f,i+=u,a<=c&&s<=n&&u<=f&&o<=i},corner:function(){return new ge(this.x+this.width,this.y+this.height)},equals:function(e){var t=new mt(this).normalize(),r=new mt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var s=Rz(t.x,n.x),o=Rz(t.y,n.y);return new mt(s,o,Hf(r.x,i.x)-s,Hf(r.y,i.y)-o)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],s,o,a=r.length;for(o=0;o<a;o++)s=e.intersect(r[o]),s!==null&&i.indexOf(s.toString())<0&&(n.push(s),i.push(s.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ge(e);var r=new ge(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new xt(r,e),o=i.length-1;o>=0;--o){var a=i[o].intersection(s);if(a!==null){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new xt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ge(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new mt(e),t||(t=e.center());var r,n,i,s,o,a,u,c,f=t.x,h=t.y;r=n=i=s=o=a=u=c=1/0;var p=e.topLeft();p.x<f&&(r=(this.x-f)/(p.x-f)),p.y<h&&(o=(this.y-h)/(p.y-h));var _=e.bottomRight();_.x>f&&(n=(this.x+this.width-f)/(_.x-f)),_.y>h&&(a=(this.y+this.height-h)/(_.y-h));var m=e.topRight();m.x>f&&(i=(this.x+this.width-f)/(m.x-f)),m.y<h&&(u=(this.y-h)/(m.y-h));var y=e.bottomLeft();return y.x<f&&(s=(this.x-f)/(y.x-f)),y.y>h&&(c=(this.y+this.height-h)/(y.y-h)),{sx:Hf(r,n,i,s),sy:Hf(o,a,u,c)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return Hf(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ge.prototype.offset.call(this,e,t)},origin:function(){return new ge(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ge(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ge(this.x+this.width,e.y);case"left":return new ge(this.x,e.y);case"bottom":return new ge(e.x,this.y+this.height);case"top":return new ge(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new xt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ge(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Gle(10,e);break}return this.x=lv(this.x*t)/t,this.y=lv(this.y*t)/t,this.width=lv(this.width*t)/t,this.height=lv(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ge(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,s=t,o="left";return r<s&&(s=r,o="right"),n<s&&(s=n,o="top"),i<s&&(o="bottom"),o},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new xt(this.topLeft(),this.topRight())},topMiddle:function(){return new ge(this.x+this.width/2,this.y)},topRight:function(){return new ge(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return mt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};mt.prototype.bottomRight=mt.prototype.corner;mt.prototype.topLeft=mt.prototype.origin;mt.prototype.translate=mt.prototype.offset;const $le=mt;function UG(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let s=0;s<i;s+=2)r.push({x:+n[s],y:+n[s+1]});return r}function jG(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function HG(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var s;for(r=0;r<i;r++)(s===void 0||e[r].y<s.y||e[r].y===s.y&&e[r].x>s.x)&&(s=e[r]);var o=[];for(r=0;r<i;r++){var a=s.theta(e[r]);a===0&&(a=360);var u=[e[r],r,a];o.push(u)}if(o.sort(function($,J){var ae=$[2]-J[2];return ae===0&&(ae=J[1]-$[1]),ae}),o.length>2){var c=o[o.length-1];o.unshift(c)}for(var f={},h=[],p,_,m,y,b,S;o.length!==0;)if(p=o.pop(),_=p[0],!f.hasOwnProperty(p[0]+"@@"+p[1]))for(var E=!1;!E;)if(h.length<2)h.push(p),E=!0;else{m=h.pop(),y=m[0],b=h.pop(),S=b[0];var A=S.cross(y,_);if(A<0)h.push(b),h.push(m),h.push(p),E=!0;else if(A===0){var P=1e-10,R=y.angleBetween(S,_);t(R-180)<P||y.equals(_)||S.equals(y)?(f[m[0]+"@@"+m[1]]=y,h.push(b)):t((R+1)%360-1)<P&&(h.push(b),o.push(m))}else f[m[0]+"@@"+m[1]]=y,h.push(b)}h.length>2&&h.pop();var q,d=-1;for(n=h.length,r=0;r<n;r++){var C=h[r][1];(q===void 0||C<q)&&(q=C,d=r)}var I=[];if(d>0){var L=h.slice(d),B=h.slice(0,d);I=L.concat(B)}else I=h;var H=[];for(n=I.length,r=0;r<n;r++)H.push(I[r][0]);return H}const gn=function(e){if(!(this instanceof gn))return new gn(e);if(typeof e=="string")return new gn.parse(e);this.points=Array.isArray(e)?e.map(ge):[]};gn.parse=function(e){return new gn(UG(e))};gn.fromRect=function(e){return new gn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};gn.prototype={type:_r.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,s=i.length;if(s===0)return null;for(var o=0;o<s;o++){var a=i[o],u=a.x,c=a.y;u<e&&(e=u),u>t&&(t=u),c<r&&(r=c),c>n&&(n=c)}return new mt(e,r,t-e,n-r)},clone:function(){return new gn(jG(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,s=0,o=r-1,a=0;a<o;a++){var u=new xt(t[a],t[a+1]),c=u.length(),f=u.closestPointNormalizedLength(e),h=u.pointAt(f),p=h.squaredDistance(e);p<i&&(i=p,n=s+f*c),s+=c}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,s=r-1,o=0,a=0,u=new xt,c=new xt,f=new ge;o<r;o++){var h=t[s],p=t[o];if(e.equals(h)||(u.start=h,u.end=p,u.containsPoint(e)))return!0;if(i<=h.y&&i>p.y||i>h.y&&i<=p.y){var _=h.x-n>p.x-n?h.x-n:p.x-n;_>=0&&(f.x=n+_,f.y=i,c.start=e,c.end=f,u.intersect(c)&&a++)}s=o}return a%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new gn(HG(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var s=t[i],o=e.points[i];if(!s.equals(o))return!1}return!0},intersectionWithLine:function(e){for(var t=new xt(e),r=[],n=this.lengthPoints(),i=new xt,s=0,o=n.length-1;s<o;s++){i.start=n[s],i.end=n[s+1];var a=t.intersectionWithLine(i);a&&r.push(a[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new xt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,s=r-1,o=0;o<s;o++){var a=n?o:s-1-o,u=t[a],c=t[a+1],f=new xt(u,c),h=u.distance(c);if(e<=i+h)return f.pointAtLength((n?1:-1)*(e-i));i+=h}var p=n?t[r-1]:t[0];return p.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,s=0;s<i;s++)n[s].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,s=n+1,o=n+2,a=t[i],u=t[s],c=t[o];new xt(a,c).closestPoint(u).distance(u)<=r?t.splice(s,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,s=0,o=r-1,a=0;a<o;a++){var u=n?a:o-1-a,c=t[u],f=t[u+1],h=new xt(c,f),p=c.distance(f);if(h.isDifferentiable()){if(e<=s+p)return h.tangentAtLength((n?1:-1)*(e-s));i=h}s+=p}if(i){var _=n?1:0;return i.tangentAt(_)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(gn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(gn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:fv,sqrt:Ule,min:Iz,max:Oz,pow:WS}=Math,Zr=function(e,t,r,n){if(!(this instanceof Zr))return new Zr(e,t,r,n);if(e instanceof Zr)return new Zr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ge(e),this.controlPoint1=new ge(t),this.controlPoint2=new ge(r),this.end=new ge(n)};Zr.throughPoints=function(){function e(r){var n=[],i=[],s=r.length-1,o;if(s==1)return n[0]=new ge((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ge(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var a=[];for(o=1;o<s-1;o++)a[o]=4*r[o].x+2*r[o+1].x;a[0]=r[0].x+2*r[1].x,a[s-1]=(8*r[s-1].x+r[s].x)/2;var u=t(a);for(o=1;o<s-1;++o)a[o]=4*r[o].y+2*r[o+1].y;a[0]=r[0].y+2*r[1].y,a[s-1]=(8*r[s-1].y+r[s].y)/2;var c=t(a);for(o=0;o<s;o++)n.push(new ge(u[o],c[o])),o<s-1?i.push(new ge(2*r[o+1].x-u[o+1],2*r[o+1].y-c[o+1])):i.push(new ge((r[s].x+u[s-1])/2,(r[s].y+c[s-1])/2));return[n,i]}function t(r){var n=r.length,i=[],s=[],o=2;i[0]=r[0]/o;for(var a=1;a<n;a++)s[a]=1/o,o=(a<n-1?4:3.5)-s[a],i[a]=(r[a]-i[a-1])/o;for(a=1;a<n;a++)i[n-a-1]-=s[n-a]*i[n-a];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],s=n[0].length,o=0;o<s;o++){var a=new ge(n[0][o].x,n[0][o].y),u=new ge(n[1][o].x,n[1][o].y);i.push(new Zr(r[o],a,u,r[o+1]))}return i}}();Zr.prototype={type:_r.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,s=e.y,o=t.x,a=t.y,u=r.x,c=r.y,f=n.x,h=n.y,p=new Array,_=new Array,m=[new Array,new Array],y,b,S,E,A,P,R,q,d=0;d<2;++d){if(d===0?(b=6*i-12*o+6*u,y=-3*i+9*o-9*u+3*f,S=3*o-3*i):(b=6*s-12*a+6*c,y=-3*s+9*a-9*c+3*h,S=3*a-3*s),fv(y)<1e-12){if(fv(b)<1e-12)continue;E=-S/b,0<E&&E<1&&_.push(E);continue}R=b*b-4*S*y,q=Ule(R),!(R<0)&&(A=(-b+q)/(2*y),0<A&&A<1&&_.push(A),P=(-b-q)/(2*y),0<P&&P<1&&_.push(P))}for(var C=_.length,I=C,L,B,H;C--;)E=_[C],L=1-E,B=L*L*L*i+3*L*L*E*o+3*L*E*E*u+E*E*E*f,m[0][C]=B,H=L*L*L*s+3*L*L*E*a+3*L*E*E*c+E*E*E*h,m[1][C]=H,p[C]={X:B,Y:H};_[I]=0,_[I+1]=1,p[I]={X:i,Y:s},p[I+1]={X:f,Y:h},m[0][I]=i,m[1][I]=s,m[0][I+1]=f,m[1][I+1]=h,_.length=I+2,m[0].length=I+2,m[1].length=I+2,p.length=I+2;var $=Iz.apply(null,m[0]),J=Iz.apply(null,m[1]),ae=Oz.apply(null,m[0]),X=Oz.apply(null,m[1]);return new mt($,J,ae-$,X-J)},clone:function(){return new Zr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},s=this.closestPointLength(e,i);if(!s)return 0;var o=this.length(i);return o===0?0:s/o},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,s,o,a,u,c,f,h=n.length,p=h?1/h:0,_=0;_<h;_++){var m=n[_],y=m.start.distance(e),b=m.end.distance(e),S=y+b;(!f||S<f)&&(i=m,s=_*p,o=(_+1)*p,a=y,u=b,c=m.start.distance(m.end),f=S)}for(var E=WS(10,-r);;){var A=a?fv(a-u)/a:0,P=u?fv(a-u)/u:0,R=A<E||P<E,q=a?a<c*E:!0,d=u?u<c*E:!0,C=q||d;if(R||C)return a<=u?s:o;var I=i.divide(.5);p/=2;var L=I[0].start.distance(e),B=I[0].end.distance(e),H=L+B,$=I[1].start.distance(e),J=I[1].end.distance(e),ae=$+J;H<=ae?(i=I[0],o-=p,a=L,u=B):(i=I[1],s+=p,a=$,u=J)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Zr(t,t,t,t),new Zr(t,r,n,i)];if(e>=1)return[new Zr(t,r,n,i),new Zr(i,i,i,i)];var s=this.getSkeletonPoints(e),o=s.startControlPoint1,a=s.startControlPoint2,u=s.divider,c=s.dividerControlPoint1,f=s.dividerControlPoint2;return[new Zr(t,o,a,u),new Zr(u,c,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var s=new xt(t,r).pointAt(e),o=new xt(r,n).pointAt(e),a=new xt(n,i).pointAt(e),u=new xt(s,o).pointAt(e),c=new xt(o,a).pointAt(e),f=new xt(u,c).pointAt(e),h={startControlPoint1:s,startControlPoint2:u,divider:f,dividerControlPoint1:c,dividerControlPoint2:a};return h},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,s=this.end,o=[new Zr(r,n,i,s)];if(t===0)return o;var a=!this.isDifferentiable();if(a)return o;var u=this.endpointDistance(),c=WS(10,-t),f=2,h=n.cross(r,s)===0&&i.cross(r,s)===0;h&&(f=2*t);for(var p=0;;){p+=1;for(var _=[],m=o.length,y=0;y<m;y++){var b=o[y],S=b.divide(.5);_.push(S[0],S[1])}for(var E=0,A=_.length,P=0;P<A;P++){var R=_[P];E+=R.endpointDistance()}if(p>=f){var q=E!==0?(E-u)/E:0;if(q<c)return _}o=_,u=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,s=0;s<i;s++){var o=r[s];n+=o.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,s=new xt(r,n);return s.translate(i.x-r.x,i.y-r.y),s},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},s=this.length(i),o=s*e;return this.tAtLength(o,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,s={precision:n,subdivisions:i},o,a,u,c,f,h=0,p=i.length,_=1/p,m=0;m<p;m++){var y=r?m:p-1-m,b=i[m],S=b.endpointDistance();if(e<=h+S){o=b,a=y*_,u=(y+1)*_,c=r?e-h:S+h-e,f=r?S+h-e:e-h;break}h+=S}if(!o)return r?1:0;for(var E=this.length(s),A=WS(10,-n);;){var P;if(P=E!==0?c/E:0,P<A)return a;if(P=E!==0?f/E:0,P<A)return u;var R,q,d=o.divide(.5);_/=2;var C=d[0].endpointDistance(),I=d[1].endpointDistance();c<=C?(o=d[0],u-=_,R=c,q=C-R):(o=d[1],a+=_,R=c-C,q=I-R),c=R,f=q}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,s=0;s<i;s++){var o=r[s];n.push(o.end.clone())}return n},toPolyline:function(e){return new gn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Zr.prototype.divide=Zr.prototype.divideAtT;function Hh(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var s=n[t],o,a;for(a in s)s.hasOwnProperty(a)&&(delete i[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(i,a,o))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,u){return a.concat(u)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var s=e[t];if(!(s instanceof xt||s instanceof Zr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",s.start)),i&&!i.end.equals(s.start)&&this.appendSegment(Bt.createSegment("M",s.start)),s instanceof xt?this.appendSegment(Bt.createSegment("L",s.end)):s instanceof Zr&&this.appendSegment(Bt.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),i=s}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof xt)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Zr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof gn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var o=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",o)):this.appendSegment(Bt.createSegment("L",o))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,s=0;s<i;s++){var o=n[s],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,u=o.match(a),c=Bt.createSegment.apply(this,u);t.appendSegment(c)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return ga(t,r)};Bt.prototype={type:_r.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,s=null;if(Array.isArray(e)){if(e=e.reduce(function(c,f){return c.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var o=e.length,a=0;a<o;a++){var u=e[a];n=this.prepareSegment(u,i,s),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,s),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var s=i.bbox();r=r?r.union(s):s}}if(r)return r;var o=e[t-1];return new mt(o.end.x,o.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},s=this.closestPointLength(e,i);if(s===0)return 0;var o=this.length(i);return o===0?0:s/o},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o,a=1/0,u=0;u<n;u++){var c=r[u],f=s[u];if(c.isVisible){var h=c.closestPointT(e,{precision:i,subdivisions:f}),p=c.pointAtT(h),_=new xt(p,e).squaredLength();_<a&&(o={segmentIndex:u,value:h},a=_)}}return o||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o,a=1/0,u=0;u<n;u++){var c=r[u],f=s[u];if(c.isDifferentiable()){var h=c.closestPointT(e,{precision:i,subdivisions:f}),p=c.pointAtT(h),_=new xt(p,e).squaredLength();_<a&&(o=c.tangentAtT(h),a=_)}}return o||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,s=0;s<n;s++){var o=r[s];o.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),u=a*e;return this.divideAtLength(u,o)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o,a,u=0,c,f,h,p,_;for(o=0;o<r;o++){var m=n?o:r-1-o;a=this.getSegment(m);var y=s[m],b=a.length({precision:i,subdivisions:y});if(a.isDifferentiable()&&(h=a,p=m,e<=u+b)){f=m,c=a.divideAtLength((n?1:-1)*(e-u),{precision:i,subdivisions:y});break}u+=b}if(!h)return null;c||(f=p,_=n?1:0,c=h.divideAtT(_));var S=this.clone();S.replaceSegment(f,c);var E=f,A=f+1,P=f+2;c[0].isDifferentiable()||(S.removeSegment(E),A-=1,P-=1);var R=S.getSegment(A).start;S.insertSegment(A,Bt.createSegment("M",R)),P+=1,c[1].isDifferentiable()||(S.removeSegment(P-1),P-=1);var q=P-E-1;for(o=P;o<S.segments.length;o++){var d=this.getSegment(o-q);if(a=S.getSegment(o),a.type==="Z"&&!d.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var C=Bt.createSegment("L",d.end);S.replaceSegment(o,C)}}var I=new Bt(S.segments.slice(0,A)),L=new Bt(S.segments.slice(A));return[I,L]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var s=t[i],o=r[i];if(s.type!==o.type||!s.equals(o))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],s=0;s<r;s++){var o=t[s],a=o.getSubdivisions({precision:n});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const s=t[i];s.isSubpathStart?n.push(new Bt(s)):n[n.length-1].appendSegment(s)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,s=null,o=null;if(n!==0&&(e>=1?(s=r[e-1],o=s.nextSegment):o=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,h){return f.concat(h)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,u=0;u<a;u++){var c=t[u];i=this.prepareSegment(c,s,o),r.splice(e+u,0,i),s=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,o),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,s=n.length;i<s;i++){var o=n[i],a=e.intersect(o);a&&(r||(r=[]),Array.isArray(a)?Array.prototype.push.apply(r,a):r.push(a))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s=0,o=0;o<r;o++){var a=t[o],u=i[o];s+=a.length({subdivisions:u})}return s},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var s=e.value;i>=n?(i=n-1,s=1):s<0?s=0:s>1&&(s=1),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,u,c=0,f=0;f<i;f++){var h=r[f];u=a[f],c+=h.length({precisison:o,subdivisions:u})}return h=r[i],u=a[i],c+=h.lengthAtT(s,{precisison:o,subdivisions:u}),c},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),u=a*e;return this.pointAtLength(u,o)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,a,u=0,c=0;c<n;c++){var f=i?c:n-1-c,h=r[f],p=o[f],_=h.length({precision:s,subdivisions:p});if(h.isVisible){if(e<=u+_)return h.pointAtLength((i?1:-1)*(e-u),{precision:s,subdivisions:p});a=h}u+=_}if(a)return i?a.end:a.start;var m=r[n-1];return m.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,s=n.nextSegment;i&&(i.nextSegment=s),s&&(s.previousSegment=i),n.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,s=r[e],o=s.previousSegment,a=s.nextSegment,u=s.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(p,_){return p.concat(_)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var c=t.length,f=0;f<c;f++){var h=t[f];i=this.prepareSegment(h,o,a),r.splice(e+f,0,i),o=i,u&&i.isSubpathStart&&(u=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),r.splice(e,1,i),u&&i.isSubpathStart&&(u=!1)}u&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,s=0;s<i;s++){var o=n[s];o.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),u=a*e;return this.segmentIndexAtLength(u,o)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,a=null,u=0,c=0;c<n;c++){var f=i?c:n-1-c,h=r[f],p=o[f],_=h.length({precision:s,subdivisions:p});if(h.isVisible){if(e<=u+_)return f;a=f}u+=_}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o={precision:i,segmentSubdivisions:s},a=this.length(o),u=a*e;return this.tangentAtLength(u,o)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,a,u=0,c=0;c<n;c++){var f=i?c:n-1-c,h=r[f],p=o[f],_=h.length({precision:s,subdivisions:p});if(h.isDifferentiable()){if(e<=u+_)return h.tangentAtLength((i?1:-1)*(e-u),{precision:s,subdivisions:p});a=h}u+=_}if(a){var m=i?1:0;return a.tangentAtT(m)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,s=[],o=[],a=0;a<r;a++){var u=t[a];if(u.isVisible){var c=i[a];if(c.length>0){var f=c.map(function(h){return h.start});Array.prototype.push.apply(o,f)}else o.push(u.start)}else o.length>0&&(o.push(t[a-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new gn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var s=r[i];s.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function ga(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var qc={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(qc,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(qc,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(qc,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Pi=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Pi))return ga(Pi,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof xt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ge(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(ga(Pi,i));return n}else{if(t===1)return this.end=new ge(e[0]),this;var s;for(n=[],r=0;r<t;r+=1)s=e[r],n.push(new Pi(s));return n}},WG={clone:function(){return new Pi(this.end)},divideAt:function(e){var t=new xt(this.start,this.end),r=t.divideAt(e);return[new Pi(r[0]),new Pi(r[1])]},divideAtLength:function(e){var t=new xt(this.start,this.end),r=t.divideAtLength(e);return[new Pi(r[0]),new Pi(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(WG,"type",{configurable:!0,enumerable:!0,value:"L"});Pi.prototype=Hh(qc,xt.prototype,WG);var ks=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof ks))return ga(ks,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Zr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ge(+e[0],+e[1]),this.controlPoint2=new ge(+e[2],+e[3]),this.end=new ge(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(ga(ks,i));return n}else{if(t===3)return this.controlPoint1=new ge(e[0]),this.controlPoint2=new ge(e[1]),this.end=new ge(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var s;for(n=[],r=0;r<t;r+=3)s=e.slice(r,r+3),n.push(ga(ks,s));return n}},XG={clone:function(){return new ks(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Zr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new ks(n[0]),new ks(n[1])]},divideAtLength:function(e,t){var r=new Zr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new ks(n[0]),new ks(n[1])]},divideAtT:function(e){var t=new Zr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new ks(r[0]),new ks(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(XG,"type",{configurable:!0,enumerable:!0,value:"C"});ks.prototype=Hh(qc,Zr.prototype,XG);var ac=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof ac))return ga(ac,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof xt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Zr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ge(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(ga(ac,i)):n.push(ga(Pi,i));return n}else{if(t===1)return this.end=new ge(e[0]),this;var s;for(n=[],r=0;r<t;r+=1)s=e[r],r===0?n.push(new ac(s)):n.push(new Pi(s));return n}},uA={bbox:function(){return null},clone:function(){return new ac(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(uA,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(uA,"type",{configurable:!0,enumerable:!0,value:"M"});ac.prototype=Hh(qc,uA);var Dl=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Dl))return ga(Dl,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},cA={clone:function(){return new Dl},divideAt:function(e){var t=new xt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new Pi(r[0]):this.clone(),new Pi(r[1])]},divideAtLength:function(e){var t=new xt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new Pi(r[0]):this.clone(),new Pi(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(cA,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(cA,"type",{configurable:!0,enumerable:!0,value:"Z"});Dl.prototype=Hh(qc,xt.prototype,cA);var jle=Bt.segmentTypes={L:Pi,C:ks,M:ac,Z:Dl,z:Dl};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(jle).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const Hle={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Zr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ge((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ge(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var s=[];for(i=1;i<n-1;i++)s[i]=4*e[i].x+2*e[i+1].x;s[0]=e[0].x+2*e[1].x,s[n-1]=(8*e[n-1].x+e[n].x)/2;var o=this.getFirstControlPoints(s);for(i=1;i<n-1;++i)s[i]=4*e[i].y+2*e[i+1].y;s[0]=e[0].y+2*e[1].y,s[n-1]=(8*e[n-1].y+e[n].y)/2;var a=this.getFirstControlPoints(s);for(i=0;i<n;i++)t.push(new ge(o[i],a[i])),i<n-1?r.push(new ge(2*e[i+1].x-o[i+1],2*e[i+1].y-a[i+1])):r.push(new ge((e[n].x+o[n-1])/2,(e[n].y+a[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Zr(e,t,r,n);return function(o){var a=i.divide(o);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var s=1;s<t;s++)n[s]=1/i,i=(s<t-1?4:3.5)-n[s],r[s]=(e[s]-r[s-1])/i;for(s=1;s<t;s++)r[t-s-1]-=n[t-s]*r[t-s];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Zr(e,t,r,n);return function(o){return i.closestPointT(o)}}},ys=function(e){if(!(this instanceof ys))return new ys(e);if(typeof e=="string")return new ys.parse(e);this.points=Array.isArray(e)?e.map(ge):[]};ys.parse=function(e){return new ys(UG(e))};ys.fromRect=function(e){return new ys([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};ys.prototype=Hh(gn.prototype,{type:_r.Polygon,clone:function(){return new ys(jG(this.points))},convexHull:function(){return new ys(HG(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function YG(e,t,r,n){switch(e.type){case _r.Line:{switch(t.type){case _r.Line:return uc(e,t)}break}case _r.Ellipse:{switch(t.type){case _r.Line:return lA(e,t);case _r.Ellipse:return KG(e,t)}break}case _r.Rect:{switch(t.type){case _r.Line:return ZG(e,t);case _r.Ellipse:return JG(e,t);case _r.Rect:return fA(e,t)}break}case _r.Polyline:{switch(t.type){case _r.Line:return ig(e,t);case _r.Ellipse:return hA(e,t);case _r.Rect:return QG(e,t);case _r.Polyline:return e$(e,t)}break}case _r.Polygon:{switch(t.type){case _r.Line:return dA(e,t);case _r.Ellipse:return sg(e,t);case _r.Rect:return t$(e,t);case _r.Polyline:return r$(e,t);case _r.Polygon:return n$(e,t)}break}case _r.Path:{switch(t.type){case _r.Line:return i$(e,t,r);case _r.Ellipse:return s$(e,t,r);case _r.Rect:return o$(e,t,r);case _r.Polyline:return vA(e,t,r);case _r.Polygon:return og(e,t,r);case _r.Path:return a$(e,t,r,n)}break}}switch(t.type){case _r.Ellipse:case _r.Rect:case _r.Polyline:case _r.Polygon:case _r.Path:return YG(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function uc(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,s=e.end.y,o=t.start.x,a=t.start.y,u=t.end.x,c=t.end.y,f=i-r,h=s-n,p=u-o,_=c-a,m=r-o,y=n-a,b=f*_-p*h,S=(f*y-h*m)/b,E=(p*y-_*m)/b;return S>=0&&S<=1&&E>=0&&E<=1}function lA(e,t){const r=e.a,n=e.b,i=e.x,s=e.y,o=t.start.x-i,a=t.end.x-i,u=t.start.y-s,c=t.end.y-s,f=r*r,h=n*n,p=a-o,_=c-u,m=p*p/f+_*_/h,y=2*o*p/f+2*u*_/h,b=o*o/f+u*u/h-1,S=y*y-4*m*b;if(S===0){const E=-y/2/m;return E>=0&&E<=1}else if(S>0){const E=Math.sqrt(S),A=(-y+E)/2/m,P=(-y-E)/2/m;return A>=0&&A<=1||P>=0&&P<=1}return!1}function KG(e,t){return Wle(e,0,t,0)}function ZG(e,t){const{start:r,end:n}=t,{x:i,y:s,width:o,height:a}=e;return r.x>i+o&&n.x>i+o||r.x<i&&n.x<i||r.y>s+a&&n.y>s+a||r.y<s&&n.y<s?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:uc(e.topLine(),t)||uc(e.rightLine(),t)||uc(e.bottomLine(),t)||uc(e.leftLine(),t)}function JG(e,t){return fA(e,mt.fromEllipse(t))?sg(ys.fromRect(e),t):!1}function fA(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function ig(e,t){return u$(e,t,{interior:!1})}function hA(e,t){return c$(e,t,{interior:!1})}function QG(e,t){return l$(e,t,{interior:!1})}function e$(e,t){return ag(e,t,{interior:!1})}function dA(e,t){return u$(e,t,{interior:!0})}function sg(e,t){return c$(e,t,{interior:!0})}function t$(e,t){return l$(e,t,{interior:!0})}function r$(e,t){return ag(e,t,{interior:!0})}function n$(e,t){return pA(e,t,{interior:!0})}function i$(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:s}=n.getSegment(-1);return s==="Z"?dA(i,t):ig(i,t)})}function s$(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:s}=n.getSegment(-1);return s==="Z"?sg(i,t):hA(i,t)})}function o$(e,t,r){return og(e,ys.fromRect(t),r)}function vA(e,t,r){return f$(e,t,r,{interior:!1})}function og(e,t,r){return f$(e,t,r,{interior:!0})}function a$(e,t,r,n){return e.getSubpaths().some(i=>{const[s]=i.toPolylines(r),{type:o}=i.getSegment(-1);return o==="Z"?og(t,s,n):vA(t,s,n)})}function u$(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:a,end:u,points:c}=e;i=u.equals(a)?c:[...c,a]}else i=e.points;const{length:s}=i,o=new xt;for(let a=0;a<s-1;a++)if(o.start=i[a],o.end=i[a+1],uc(t,o))return!0;return!1}function c$(e,t,r={}){const{start:n,end:i,points:s}=e;if(t.containsPoint(n))return!0;let o;const{interior:a=!1}=r;if(a){if(e.containsPoint(t.center()))return!0;o=i.equals(n)?s:[...s,n]}else o=s;const{length:u}=o,c=new xt;for(let f=0;f<u-1;f++)if(c.start=o[f],c.end=o[f+1],lA(t,c))return!0;return!1}function l$(e,t,r){const n=ys.fromRect(t);return pA(e,n,r)}function f$(e,t,r,n){return e.getSubpaths().some(i=>{const[s]=i.toPolylines(r),{type:o}=i.getSegment(-1);return o==="Z"?pA(t,s,n):ag(t,s,n)})}function ag(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:u}=t;if(e.containsPoint(u))return!0;i=e.clone().close()}else i=e;const s=t.points,{length:o}=s,a=new xt;for(let u=0;u<o-1;u++)if(a.start=s[u],a.end=s[u+1],ig(i,a))return!0;return!1}function pA(e,t,r){return t.containsPoint(e.start)||ag(e,t.clone().close(),r)}function Wle(e,t,r,n){const{cos:i,sin:s}=Math,o=s(t),a=i(t),u=s(n),c=i(n),f=o*o,h=a*a,p=o*a,_=u*u,m=c*c,y=u*c,b=e.a*e.a,S=e.b*e.b,E=r.a*r.a,A=r.b*r.b,P=b*f+S*h,R=E*_+A*m,q=b*h+S*f,d=E*m+A*_;let C=2*(S-b)*p,I=2*(A-E)*y,L=-2*P*e.x-C*e.y,B=-2*R*r.x-I*r.y,H=-C*e.x-2*q*e.y,$=-I*r.x-2*d*r.y;const J=P*e.x*e.x+q*e.y*e.y+C*e.x*e.y-b*S,ae=R*r.x*r.x+d*r.y*r.y+I*r.x*r.y-E*A;C=C/2,I=I/2,L=L/2,B=B/2,H=H/2,$=$/2;const X=gu([[P,C,L],[C,q,H],[L,H,J]]),D=gu([[R,I,B],[I,d,$],[B,$,ae]]),z=.33333333*(gu([[R,C,L],[I,q,H],[B,H,J]])+gu([[P,I,L],[C,d,H],[L,$,J]])+gu([[P,C,B],[C,q,$],[L,H,ae]])),j=.33333333*(gu([[P,I,B],[C,d,$],[L,$,ae]])+gu([[R,C,B],[I,q,$],[B,H,ae]])+gu([[R,I,L],[I,d,H],[B,$,J]])),ie=hv([[X,z],[z,j]]),oe=hv([[X,j],[z,D]]),Se=hv([[z,j],[j,D]]);return!(hv([[2*ie,oe],[oe,2*Se]])>0&&(j>0||z>0))}function hv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function gu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const Xle=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:KG,ellipseWithLine:lA,exists:YG,lineWithLine:uc,pathWithEllipse:s$,pathWithLine:i$,pathWithPath:a$,pathWithPolygon:og,pathWithPolyline:vA,pathWithRect:o$,polygonWithEllipse:sg,polygonWithLine:dA,polygonWithPolygon:n$,polygonWithPolyline:r$,polygonWithRect:t$,polylineWithEllipse:hA,polylineWithLine:ig,polylineWithPolyline:e$,polylineWithRect:QG,rectWithEllipse:JG,rectWithLine:ZG,rectWithRect:fA},Symbol.toStringTag,{value:"Module"})),Yle=Xle,Kle=Object.freeze(Object.defineProperty({__proto__:null,Curve:Zr,Ellipse:es,Line:xt,Path:Bt,Point:ge,Polygon:ys,Polyline:gn,Rect:mt,bezier:Hle,ellipse:Ble,intersection:Yle,line:fc,normalizeAngle:Bo,point:Wv,random:SE,rect:$le,scale:Lle,snapToGrid:mc,toDeg:ng,toRad:_s,types:_r},Symbol.toStringTag,{value:"Module"}));var XS={},gA="1.13.7",Mz=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ug=Array.prototype,mA=Object.prototype,kz=typeof Symbol<"u"?Symbol.prototype:null,Zle=ug.push,Wh=ug.slice,_h=mA.toString,Jle=mA.hasOwnProperty,h$=typeof ArrayBuffer<"u",Qle=typeof DataView<"u",efe=Array.isArray,Lz=Object.keys,Nz=Object.create,qz=h$&&ArrayBuffer.isView,tfe=isNaN,rfe=isFinite,d$=!{toString:null}.propertyIsEnumerable("toString"),Dz=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nfe=Math.pow(2,53)-1;function ns(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=n,e.apply(this,s)}}function Bu(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function v$(e){return e===null}function _A(e){return e===void 0}function yA(e){return e===!0||e===!1||_h.call(e)==="[object Boolean]"}function p$(e){return!!(e&&e.nodeType===1)}function Bi(e){var t="[object "+e+"]";return function(r){return _h.call(r)===t}}const cg=Bi("String"),bA=Bi("Number"),g$=Bi("Date"),m$=Bi("RegExp"),_$=Bi("Error"),wA=Bi("Symbol"),xA=Bi("ArrayBuffer");var y$=Bi("Function"),ife=Mz.document&&Mz.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ife!="function"&&(y$=function(e){return typeof e=="function"||!1});const Fi=y$,b$=Bi("Object");var w$=Qle&&(!/\[native code\]/.test(String(DataView))||b$(new DataView(new ArrayBuffer(8)))),SA=typeof Map<"u"&&b$(new Map),sfe=Bi("DataView");function ofe(e){return e!=null&&Fi(e.getInt8)&&xA(e.buffer)}const yh=w$?ofe:sfe,zu=efe||Bi("Array");function Vu(e,t){return e!=null&&Jle.call(e,t)}var TE=Bi("Arguments");(function(){TE(arguments)||(TE=function(e){return Vu(e,"callee")})})();const lg=TE;function x$(e){return!wA(e)&&rfe(e)&&!isNaN(parseFloat(e))}function EA(e){return bA(e)&&tfe(e)}function AA(e){return function(){return e}}function S$(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=nfe}}function E$(e){return function(t){return t==null?void 0:t[e]}}const Xv=E$("byteLength"),afe=S$(Xv);var ufe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function cfe(e){return qz?qz(e)&&!yh(e):afe(e)&&ufe.test(_h.call(e))}const TA=h$?cfe:AA(!1),xs=E$("length");function lfe(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function A$(e,t){t=lfe(t);var r=Dz.length,n=e.constructor,i=Fi(n)&&n.prototype||mA,s="constructor";for(Vu(e,s)&&!t.contains(s)&&t.push(s);r--;)s=Dz[r],s in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}function vi(e){if(!Bu(e))return[];if(Lz)return Lz(e);var t=[];for(var r in e)Vu(e,r)&&t.push(r);return d$&&A$(e,t),t}function T$(e){if(e==null)return!0;var t=xs(e);return typeof t=="number"&&(zu(e)||cg(e)||lg(e))?t===0:xs(vi(e))===0}function PA(e,t){var r=vi(t),n=r.length;if(e==null)return!n;for(var i=Object(e),s=0;s<n;s++){var o=r[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}function on(e){if(e instanceof on)return e;if(!(this instanceof on))return new on(e);this._wrapped=e}on.VERSION=gA;on.prototype.value=function(){return this._wrapped};on.prototype.valueOf=on.prototype.toJSON=on.prototype.value;on.prototype.toString=function(){return String(this._wrapped)};function Fz(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Xv(e))}var Bz="[object DataView]";function PE(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:P$(e,t,r,n)}function P$(e,t,r,n){e instanceof on&&(e=e._wrapped),t instanceof on&&(t=t._wrapped);var i=_h.call(e);if(i!==_h.call(t))return!1;if(w$&&i=="[object Object]"&&yh(e)){if(!yh(t))return!1;i=Bz}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return kz.valueOf.call(e)===kz.valueOf.call(t);case"[object ArrayBuffer]":case Bz:return P$(Fz(e),Fz(t),r,n)}var s=i==="[object Array]";if(!s&&TA(e)){var o=Xv(e);if(o!==Xv(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!(Fi(a)&&a instanceof a&&Fi(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var c=r.length;c--;)if(r[c]===e)return n[c]===t;if(r.push(e),n.push(t),s){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!PE(e[c],t[c],r,n))return!1}else{var f=vi(e),h;if(c=f.length,vi(t).length!==c)return!1;for(;c--;)if(h=f[c],!(Vu(t,h)&&PE(e[h],t[h],r,n)))return!1}return r.pop(),n.pop(),!0}function C$(e,t){return PE(e,t)}function af(e){if(!Bu(e))return[];var t=[];for(var r in e)t.push(r);return d$&&A$(e,t),t}function CA(e){var t=xs(e);return function(r){if(r==null)return!1;var n=af(r);if(xs(n))return!1;for(var i=0;i<t;i++)if(!Fi(r[e[i]]))return!1;return e!==O$||!Fi(r[RA])}}var RA="forEach",R$="has",IA=["clear","delete"],I$=["get",R$,"set"],ffe=IA.concat(RA,I$),O$=IA.concat(I$),hfe=["add"].concat(IA,RA,R$);const M$=SA?CA(ffe):Bi("Map"),k$=SA?CA(O$):Bi("WeakMap"),L$=SA?CA(hfe):Bi("Set"),N$=Bi("WeakSet");function Dc(e){for(var t=vi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function q$(e){for(var t=vi(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function OA(e){for(var t={},r=vi(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function bh(e){var t=[];for(var r in e)Fi(e[r])&&t.push(r);return t.sort()}function MA(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var s=arguments[i],o=e(s),a=o.length,u=0;u<a;u++){var c=o[u];(!t||r[c]===void 0)&&(r[c]=s[c])}return r}}const kA=MA(af),Fl=MA(vi),LA=MA(af,!0);function dfe(){return function(){}}function D$(e){if(!Bu(e))return{};if(Nz)return Nz(e);var t=dfe();t.prototype=e;var r=new t;return t.prototype=null,r}function F$(e,t){var r=D$(e);return t&&Fl(r,t),r}function B$(e){return Bu(e)?zu(e)?e.slice():kA({},e):e}function z$(e,t){return t(e),e}function NA(e){return zu(e)?e:[e]}on.toPath=NA;function Xh(e){return on.toPath(e)}function qA(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function DA(e,t,r){var n=qA(e,Xh(t));return _A(n)?r:n}function V$(e,t){t=Xh(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!Vu(e,i))return!1;e=e[i]}return!!r}function fg(e){return e}function _c(e){return e=Fl({},e),function(t){return PA(t,e)}}function hg(e){return e=Xh(e),function(t){return qA(t,e)}}function Yh(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,o){return e.call(t,n,i,s,o)}}return function(){return e.apply(t,arguments)}}function G$(e,t,r){return e==null?fg:Fi(e)?Yh(e,t,r):Bu(e)&&!zu(e)?_c(e):hg(e)}function dg(e,t){return G$(e,t,1/0)}on.iteratee=dg;function Ss(e,t,r){return on.iteratee!==dg?on.iteratee(e,t):G$(e,t,r)}function $$(e,t,r){t=Ss(t,r);for(var n=vi(e),i=n.length,s={},o=0;o<i;o++){var a=n[o];s[a]=t(e[a],a,e)}return s}function FA(){}function U$(e){return e==null?FA:function(t){return DA(e,t)}}function j$(e,t,r){var n=Array(Math.max(0,e));t=Yh(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function Yv(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Bl=Date.now||function(){return new Date().getTime()};function H$(e){var t=function(s){return e[s]},r="(?:"+vi(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,t):s}}const W$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},X$=H$(W$),vfe=OA(W$),Y$=H$(vfe),K$=on.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var YS=/(.)^/,pfe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gfe=/\\|'|\r|\n|\u2028|\u2029/g;function mfe(e){return"\\"+pfe[e]}var _fe=/^\s*(\w|\$)+\s*$/;function Z$(e,t,r){!t&&r&&(t=r),t=LA({},t,on.templateSettings);var n=RegExp([(t.escape||YS).source,(t.interpolate||YS).source,(t.evaluate||YS).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(n,function(c,f,h,p,_){return s+=e.slice(i,_).replace(gfe,mfe),i=_+c.length,f?s+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:h?s+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:p&&(s+=`';
`+p+`
__p+='`),c}),s+=`';
`;var o=t.variable;if(o){if(!_fe.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var u=function(c){return a.call(this,c,on)};return u.source="function("+o+`){
`+s+"}",u}function J$(e,t,r){t=Xh(t);var n=t.length;if(!n)return Fi(r)?r.call(e):r;for(var i=0;i<n;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=r,i=n),e=Fi(s)?s.call(e):s}return e}var yfe=0;function Q$(e){var t=++yfe+"";return e?e+t:t}function eU(e){var t=on(e);return t._chain=!0,t}function tU(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var s=D$(e.prototype),o=e.apply(s,i);return Bu(o)?o:s}var Fc=ns(function(e,t){var r=Fc.placeholder,n=function(){for(var i=0,s=t.length,o=Array(s),a=0;a<s;a++)o[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return tU(e,n,this,this,o)};return n});Fc.placeholder=on;const BA=ns(function(e,t,r){if(!Fi(e))throw new TypeError("Bind must be called on a function");var n=ns(function(i){return tU(e,n,t,this,r.concat(i))});return n}),Vs=S$(xs);function Bc(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,s=0,o=xs(e);s<o;s++){var a=e[s];if(Vs(a)&&(zu(a)||lg(a)))if(t>1)Bc(a,t-1,r,n),i=n.length;else for(var u=0,c=a.length;u<c;)n[i++]=a[u++];else r||(n[i++]=a)}return n}const rU=ns(function(e,t){t=Bc(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=BA(e[n],e)}return e});function nU(e,t){var r=function(n){var i=r.cache,s=""+(t?t.apply(this,arguments):n);return Vu(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return r.cache={},r}const zA=ns(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),iU=Fc(zA,on,1);function sU(e,t,r){var n,i,s,o,a=0;r||(r={});var u=function(){a=r.leading===!1?0:Bl(),n=null,o=e.apply(i,s),n||(i=s=null)},c=function(){var f=Bl();!a&&r.leading===!1&&(a=f);var h=t-(f-a);return i=this,s=arguments,h<=0||h>t?(n&&(clearTimeout(n),n=null),a=f,o=e.apply(i,s),n||(i=s=null)):!n&&r.trailing!==!1&&(n=setTimeout(u,h)),o};return c.cancel=function(){clearTimeout(n),a=0,n=i=s=null},c}function oU(e,t,r){var n,i,s,o,a,u=function(){var f=Bl()-i;t>f?n=setTimeout(u,t-f):(n=null,r||(o=e.apply(a,s)),n||(s=a=null))},c=ns(function(f){return a=this,s=f,i=Bl(),n||(n=setTimeout(u,t),r&&(o=e.apply(a,s))),o});return c.cancel=function(){clearTimeout(n),n=s=a=null},c}function aU(e,t){return Fc(t,e)}function vg(e){return function(){return!e.apply(this,arguments)}}function uU(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function cU(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function VA(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const lU=Fc(VA,2);function GA(e,t,r){t=Ss(t,r);for(var n=vi(e),i,s=0,o=n.length;s<o;s++)if(i=n[s],t(e[i],i,e))return i}function fU(e){return function(t,r,n){r=Ss(r,n);for(var i=xs(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(r(t[s],s,t))return s;return-1}}const pg=fU(1),$A=fU(-1);function UA(e,t,r,n){r=Ss(r,n,1);for(var i=r(t),s=0,o=xs(e);s<o;){var a=Math.floor((s+o)/2);r(e[a])<i?s=a+1:o=a}return s}function hU(e,t,r){return function(n,i,s){var o=0,a=xs(n);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(r&&s&&a)return s=r(n,i),n[s]===i?s:-1;if(i!==i)return s=t(Wh.call(n,o,a),EA),s>=0?s+o:-1;for(s=e>0?o:a-1;s>=0&&s<a;s+=e)if(n[s]===i)return s;return-1}}const jA=hU(1,pg,UA),dU=hU(-1,$A);function wh(e,t,r){var n=Vs(e)?pg:GA,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function vU(e,t){return wh(e,_c(t))}function zo(e,t,r){t=Yh(t,r);var n,i;if(Vs(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var s=vi(e);for(n=0,i=s.length;n<i;n++)t(e[s[n]],s[n],e)}return e}function Za(e,t,r){t=Ss(t,r);for(var n=!Vs(e)&&vi(e),i=(n||e).length,s=Array(i),o=0;o<i;o++){var a=n?n[o]:o;s[o]=t(e[a],a,e)}return s}function pU(e){var t=function(r,n,i,s){var o=!Vs(r)&&vi(r),a=(o||r).length,u=e>0?0:a-1;for(s||(i=r[o?o[u]:u],u+=e);u>=0&&u<a;u+=e){var c=o?o[u]:u;i=n(i,r[c],c,r)}return i};return function(r,n,i,s){var o=arguments.length>=3;return t(r,Yh(n,s,4),i,o)}}const xl=pU(1),Kv=pU(-1);function Ou(e,t,r){var n=[];return t=Ss(t,r),zo(e,function(i,s,o){t(i,s,o)&&n.push(i)}),n}function gU(e,t,r){return Ou(e,vg(Ss(t)),r)}function Zv(e,t,r){t=Ss(t,r);for(var n=!Vs(e)&&vi(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(!t(e[o],o,e))return!1}return!0}function Jv(e,t,r){t=Ss(t,r);for(var n=!Vs(e)&&vi(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(t(e[o],o,e))return!0}return!1}function co(e,t,r,n){return Vs(e)||(e=Dc(e)),(typeof r!="number"||n)&&(r=0),jA(e,t,r)>=0}const mU=ns(function(e,t,r){var n,i;return Fi(t)?i=t:(t=Xh(t),n=t.slice(0,-1),t=t[t.length-1]),Za(e,function(s){var o=i;if(!o){if(n&&n.length&&(s=qA(s,n)),s==null)return;o=s[t]}return o==null?o:o.apply(s,r)})});function gg(e,t){return Za(e,hg(t))}function _U(e,t){return Ou(e,_c(t))}function HA(e,t,r){var n=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Vs(e)?e:Dc(e);for(var a=0,u=e.length;a<u;a++)s=e[a],s!=null&&s>n&&(n=s)}else t=Ss(t,r),zo(e,function(c,f,h){o=t(c,f,h),(o>i||o===-1/0&&n===-1/0)&&(n=c,i=o)});return n}function yU(e,t,r){var n=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Vs(e)?e:Dc(e);for(var a=0,u=e.length;a<u;a++)s=e[a],s!=null&&s<n&&(n=s)}else t=Ss(t,r),zo(e,function(c,f,h){o=t(c,f,h),(o<i||o===1/0&&n===1/0)&&(n=c,i=o)});return n}var bfe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function WA(e){return e?zu(e)?Wh.call(e):cg(e)?e.match(bfe):Vs(e)?Za(e,fg):Dc(e):[]}function XA(e,t,r){if(t==null||r)return Vs(e)||(e=Dc(e)),e[Yv(e.length-1)];var n=WA(e),i=xs(n);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var a=Yv(o,s),u=n[o];n[o]=n[a],n[a]=u}return n.slice(0,t)}function bU(e){return XA(e,1/0)}function wU(e,t,r){var n=0;return t=Ss(t,r),gg(Za(e,function(i,s,o){return{value:i,index:n++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return i.index-s.index}),"value")}function mg(e,t){return function(r,n,i){var s=t?[[],[]]:{};return n=Ss(n,i),zo(r,function(o,a){var u=n(o,a,r);e(s,o,u)}),s}}const xU=mg(function(e,t,r){Vu(e,r)?e[r].push(t):e[r]=[t]}),SU=mg(function(e,t,r){e[r]=t}),EU=mg(function(e,t,r){Vu(e,r)?e[r]++:e[r]=1}),AU=mg(function(e,t,r){e[r?0:1].push(t)},!0);function TU(e){return e==null?0:Vs(e)?e.length:vi(e).length}function wfe(e,t,r){return t in r}const YA=ns(function(e,t){var r={},n=t[0];if(e==null)return r;Fi(n)?(t.length>1&&(n=Yh(n,t[1])),t=af(e)):(n=wfe,t=Bc(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],a=e[o];n(a,o,e)&&(r[o]=a)}return r}),PU=ns(function(e,t){var r=t[0],n;return Fi(r)?(r=vg(r),t.length>1&&(n=t[1])):(t=Za(Bc(t,!1,!1),String),r=function(i,s){return!co(t,s)}),YA(e,r,n)});function KA(e,t,r){return Wh.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function Sl(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:KA(e,e.length-t)}function hc(e,t,r){return Wh.call(e,t==null||r?1:t)}function CU(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:hc(e,Math.max(0,e.length-t))}function RU(e){return Ou(e,Boolean)}function IU(e,t){return Bc(e,t,!1)}const ZA=ns(function(e,t){return t=Bc(t,!0,!0),Ou(e,function(r){return!co(t,r)})}),OU=ns(function(e,t){return ZA(e,t)});function xh(e,t,r,n){yA(t)||(n=r,r=t,t=!1),r!=null&&(r=Ss(r,n));for(var i=[],s=[],o=0,a=xs(e);o<a;o++){var u=e[o],c=r?r(u,o,e):u;t&&!r?((!o||s!==c)&&i.push(u),s=c):r?co(s,c)||(s.push(c),i.push(u)):co(i,u)||i.push(u)}return i}const MU=ns(function(e){return xh(Bc(e,!0,!0))});function kU(e){for(var t=[],r=arguments.length,n=0,i=xs(e);n<i;n++){var s=e[n];if(!co(t,s)){var o;for(o=1;o<r&&co(arguments[o],s);o++);o===r&&t.push(s)}}return t}function Sh(e){for(var t=e&&HA(e,xs).length||0,r=Array(t),n=0;n<t;n++)r[n]=gg(e,n);return r}const LU=ns(Sh);function NU(e,t){for(var r={},n=0,i=xs(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function qU(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),s=0;s<n;s++,e+=r)i[s]=e;return i}function DU(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(Wh.call(e,n,n+=t));return r}function JA(e,t){return e._chain?on(t).chain():t}function QA(e){return zo(bh(e),function(t){var r=on[t]=e[t];on.prototype[t]=function(){var n=[this._wrapped];return Zle.apply(n,arguments),JA(this,r.apply(on,n))}}),on}zo(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=ug[e];on.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),JA(this,r)}});zo(["concat","join","slice"],function(e){var t=ug[e];on.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),JA(this,r)}});const xfe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:gA,after:cU,all:Zv,allKeys:af,any:Jv,assign:Fl,before:VA,bind:BA,bindAll:rU,chain:eU,chunk:DU,clone:B$,collect:Za,compact:RU,compose:uU,constant:AA,contains:co,countBy:EU,create:F$,debounce:oU,default:on,defaults:LA,defer:iU,delay:zA,detect:wh,difference:ZA,drop:hc,each:zo,escape:X$,every:Zv,extend:kA,extendOwn:Fl,filter:Ou,find:wh,findIndex:pg,findKey:GA,findLastIndex:$A,findWhere:vU,first:Sl,flatten:IU,foldl:xl,foldr:Kv,forEach:zo,functions:bh,get:DA,groupBy:xU,has:V$,head:Sl,identity:fg,include:co,includes:co,indexBy:SU,indexOf:jA,initial:KA,inject:xl,intersection:kU,invert:OA,invoke:mU,isArguments:lg,isArray:zu,isArrayBuffer:xA,isBoolean:yA,isDataView:yh,isDate:g$,isElement:p$,isEmpty:T$,isEqual:C$,isError:_$,isFinite:x$,isFunction:Fi,isMap:M$,isMatch:PA,isNaN:EA,isNull:v$,isNumber:bA,isObject:Bu,isRegExp:m$,isSet:L$,isString:cg,isSymbol:wA,isTypedArray:TA,isUndefined:_A,isWeakMap:k$,isWeakSet:N$,iteratee:dg,keys:vi,last:CU,lastIndexOf:dU,map:Za,mapObject:$$,matcher:_c,matches:_c,max:HA,memoize:nU,methods:bh,min:yU,mixin:QA,negate:vg,noop:FA,now:Bl,object:NU,omit:PU,once:lU,pairs:q$,partial:Fc,partition:AU,pick:YA,pluck:gg,property:hg,propertyOf:U$,random:Yv,range:qU,reduce:xl,reduceRight:Kv,reject:gU,rest:hc,restArguments:ns,result:J$,sample:XA,select:Ou,shuffle:bU,size:TU,some:Jv,sortBy:wU,sortedIndex:UA,tail:hc,take:Sl,tap:z$,template:Z$,templateSettings:K$,throttle:sU,times:j$,toArray:WA,toPath:NA,transpose:Sh,unescape:Y$,union:MU,uniq:xh,unique:xh,uniqueId:Q$,unzip:Sh,values:Dc,where:_U,without:OU,wrap:aU,zip:LU},Symbol.toStringTag,{value:"Module"}));var CE=QA(xfe);CE._=CE;const Sfe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:gA,after:cU,all:Zv,allKeys:af,any:Jv,assign:Fl,before:VA,bind:BA,bindAll:rU,chain:eU,chunk:DU,clone:B$,collect:Za,compact:RU,compose:uU,constant:AA,contains:co,countBy:EU,create:F$,debounce:oU,default:CE,defaults:LA,defer:iU,delay:zA,detect:wh,difference:ZA,drop:hc,each:zo,escape:X$,every:Zv,extend:kA,extendOwn:Fl,filter:Ou,find:wh,findIndex:pg,findKey:GA,findLastIndex:$A,findWhere:vU,first:Sl,flatten:IU,foldl:xl,foldr:Kv,forEach:zo,functions:bh,get:DA,groupBy:xU,has:V$,head:Sl,identity:fg,include:co,includes:co,indexBy:SU,indexOf:jA,initial:KA,inject:xl,intersection:kU,invert:OA,invoke:mU,isArguments:lg,isArray:zu,isArrayBuffer:xA,isBoolean:yA,isDataView:yh,isDate:g$,isElement:p$,isEmpty:T$,isEqual:C$,isError:_$,isFinite:x$,isFunction:Fi,isMap:M$,isMatch:PA,isNaN:EA,isNull:v$,isNumber:bA,isObject:Bu,isRegExp:m$,isSet:L$,isString:cg,isSymbol:wA,isTypedArray:TA,isUndefined:_A,isWeakMap:k$,isWeakSet:N$,iteratee:dg,keys:vi,last:CU,lastIndexOf:dU,map:Za,mapObject:$$,matcher:_c,matches:_c,max:HA,memoize:nU,methods:bh,min:yU,mixin:QA,negate:vg,noop:FA,now:Bl,object:NU,omit:PU,once:lU,pairs:q$,partial:Fc,partition:AU,pick:YA,pluck:gg,property:hg,propertyOf:U$,random:Yv,range:qU,reduce:xl,reduceRight:Kv,reject:gU,rest:hc,restArguments:ns,result:J$,sample:XA,select:Ou,shuffle:bU,size:TU,some:Jv,sortBy:wU,sortedIndex:UA,tail:hc,take:Sl,tap:z$,template:Z$,templateSettings:K$,throttle:sU,times:j$,toArray:WA,toPath:NA,transpose:Sh,unescape:Y$,union:MU,uniq:xh,unique:xh,uniqueId:Q$,unzip:Sh,values:Dc,where:_U,without:OU,wrap:aU,zip:LU},Symbol.toStringTag,{value:"Module"})),Efe=xne(Sfe);var Rv={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Afe=Rv.exports,zz;function FU(){return zz||(zz=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:Afe,function(t,r){var n=[],i=Object.getPrototypeOf,s=n.slice,o=n.flat?function(g){return n.flat.call(g)}:function(g){return n.concat.apply([],g)},a=n.push,u=n.indexOf,c={},f=c.toString,h=c.hasOwnProperty,p=h.toString,_=p.call(Object),m={},y=function(x){return typeof x=="function"&&typeof x.nodeType!="number"&&typeof x.item!="function"},b=function(x){return x!=null&&x===x.window},S=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function A(g,x,O){O=O||S;var k,F,V=O.createElement("script");if(V.text=g,x)for(k in E)F=x[k]||x.getAttribute&&x.getAttribute(k),F&&V.setAttribute(k,F);O.head.appendChild(V).parentNode.removeChild(V)}function P(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?c[f.call(g)]||"object":typeof g}var R="3.7.1",q=/HTML$/i,d=function(g,x){return new d.fn.init(g,x)};d.fn=d.prototype={jquery:R,constructor:d,length:0,toArray:function(){return s.call(this)},get:function(g){return g==null?s.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var x=d.merge(this.constructor(),g);return x.prevObject=this,x},each:function(g){return d.each(this,g)},map:function(g){return this.pushStack(d.map(this,function(x,O){return g.call(x,O,x)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(g,x){return(x+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(g,x){return x%2}))},eq:function(g){var x=this.length,O=+g+(g<0?x:0);return this.pushStack(O>=0&&O<x?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var g,x,O,k,F,V,W=arguments[0]||{},pe=1,ce=arguments.length,Ae=!1;for(typeof W=="boolean"&&(Ae=W,W=arguments[pe]||{},pe++),typeof W!="object"&&!y(W)&&(W={}),pe===ce&&(W=this,pe--);pe<ce;pe++)if((g=arguments[pe])!=null)for(x in g)k=g[x],!(x==="__proto__"||W===k)&&(Ae&&k&&(d.isPlainObject(k)||(F=Array.isArray(k)))?(O=W[x],F&&!Array.isArray(O)?V=[]:!F&&!d.isPlainObject(O)?V={}:V=O,F=!1,W[x]=d.extend(Ae,V,k)):k!==void 0&&(W[x]=k));return W},d.extend({expando:"jQuery"+(R+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var x,O;return!g||f.call(g)!=="[object Object]"?!1:(x=i(g),x?(O=h.call(x,"constructor")&&x.constructor,typeof O=="function"&&p.call(O)===_):!0)},isEmptyObject:function(g){var x;for(x in g)return!1;return!0},globalEval:function(g,x,O){A(g,{nonce:x&&x.nonce},O)},each:function(g,x){var O,k=0;if(C(g))for(O=g.length;k<O&&x.call(g[k],k,g[k])!==!1;k++);else for(k in g)if(x.call(g[k],k,g[k])===!1)break;return g},text:function(g){var x,O="",k=0,F=g.nodeType;if(!F)for(;x=g[k++];)O+=d.text(x);return F===1||F===11?g.textContent:F===9?g.documentElement.textContent:F===3||F===4?g.nodeValue:O},makeArray:function(g,x){var O=x||[];return g!=null&&(C(Object(g))?d.merge(O,typeof g=="string"?[g]:g):a.call(O,g)),O},inArray:function(g,x,O){return x==null?-1:u.call(x,g,O)},isXMLDoc:function(g){var x=g&&g.namespaceURI,O=g&&(g.ownerDocument||g).documentElement;return!q.test(x||O&&O.nodeName||"HTML")},merge:function(g,x){for(var O=+x.length,k=0,F=g.length;k<O;k++)g[F++]=x[k];return g.length=F,g},grep:function(g,x,O){for(var k,F=[],V=0,W=g.length,pe=!O;V<W;V++)k=!x(g[V],V),k!==pe&&F.push(g[V]);return F},map:function(g,x,O){var k,F,V=0,W=[];if(C(g))for(k=g.length;V<k;V++)F=x(g[V],V,O),F!=null&&W.push(F);else for(V in g)F=x(g[V],V,O),F!=null&&W.push(F);return o(W)},guid:1,support:m}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,x){c["[object "+x+"]"]=x.toLowerCase()});function C(g){var x=!!g&&"length"in g&&g.length,O=P(g);return y(g)||b(g)?!1:O==="array"||x===0||typeof x=="number"&&x>0&&x-1 in g}function I(g,x){return g.nodeName&&g.nodeName.toLowerCase()===x.toLowerCase()}var L=n.pop,B=n.sort,H=n.splice,$="[\\x20\\t\\r\\n\\f]",J=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g");d.contains=function(g,x){var O=x&&x.parentNode;return g===O||!!(O&&O.nodeType===1&&(g.contains?g.contains(O):g.compareDocumentPosition&&g.compareDocumentPosition(O)&16))};var ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function X(g,x){return x?g==="\0"?"ï¿½":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}d.escapeSelector=function(g){return(g+"").replace(ae,X)};var D=S,z=a;(function(){var g,x,O,k,F,V=z,W,pe,ce,Ae,Be,je=d.expando,Me=0,ct=0,At=Yu(),hr=Yu(),lr=Yu(),li=Yu(),Dn=function(se,we){return se===we&&(F=!0),0},Gs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$s="(?:\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Cr="\\["+$+"*("+$s+")(?:"+$+"*([*^$|!~]?=)"+$+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+$s+"))|)"+$+"*\\]",Jo=":("+$s+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Cr+")*)|.*)\\)|)",Rr=new RegExp($+"+","g"),cn=new RegExp("^"+$+"*,"+$+"*"),Hu=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),Wc=new RegExp($+"|>"),As=new RegExp(Jo),Ra=new RegExp("^"+$s+"$"),as={ID:new RegExp("^#("+$s+")"),CLASS:new RegExp("^\\.("+$s+")"),TAG:new RegExp("^("+$s+"|[*])"),ATTR:new RegExp("^"+Cr),PSEUDO:new RegExp("^"+Jo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+Gs+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},xo=/^(?:input|select|textarea|button)$/i,Qo=/^h\d$/i,Ii=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wu=/[+~]/,So=new RegExp("\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\([^\\r\\n\\f])","g"),Us=function(se,we){var Oe="0x"+se.slice(1)-65536;return we||(Oe<0?String.fromCharCode(Oe+65536):String.fromCharCode(Oe>>10|55296,Oe&1023|56320))},Gi=function(){ea()},wf=Ia(function(se){return se.disabled===!0&&I(se,"fieldset")},{dir:"parentNode",next:"legend"});function Xu(){try{return W.activeElement}catch{}}try{V.apply(n=s.call(D.childNodes),D.childNodes),n[D.childNodes.length].nodeType}catch{V={apply:function(we,Oe){z.apply(we,s.call(Oe))},call:function(we){z.apply(we,s.call(arguments,1))}}}function Kr(se,we,Oe,Ne){var ne,ye,me,We,tt,Pt,Rt,St=we&&we.ownerDocument,gr=we?we.nodeType:9;if(Oe=Oe||[],typeof se!="string"||!se||gr!==1&&gr!==9&&gr!==11)return Oe;if(!Ne&&(ea(we),we=we||W,ce)){if(gr!==11&&(tt=Ii.exec(se)))if(ne=tt[1]){if(gr===9)if(me=we.getElementById(ne)){if(me.id===ne)return V.call(Oe,me),Oe}else return Oe;else if(St&&(me=St.getElementById(ne))&&Kr.contains(we,me)&&me.id===ne)return V.call(Oe,me),Oe}else{if(tt[2])return V.apply(Oe,we.getElementsByTagName(se)),Oe;if((ne=tt[3])&&we.getElementsByClassName)return V.apply(Oe,we.getElementsByClassName(ne)),Oe}if(!li[se+" "]&&(!Ae||!Ae.test(se))){if(Rt=se,St=we,gr===1&&(Wc.test(se)||Hu.test(se))){for(St=Wu.test(se)&&xf(we.parentNode)||we,(St!=we||!m.scope)&&((We=we.getAttribute("id"))?We=d.escapeSelector(We):we.setAttribute("id",We=je)),Pt=uu(se),ye=Pt.length;ye--;)Pt[ye]=(We?"#"+We:":scope")+" "+Ps(Pt[ye]);Rt=Pt.join(",")}try{return V.apply(Oe,St.querySelectorAll(Rt)),Oe}catch{li(se,!0)}finally{We===je&&we.removeAttribute("id")}}}return wd(se.replace(J,"$1"),we,Oe,Ne)}function Yu(){var se=[];function we(Oe,Ne){return se.push(Oe+" ")>x.cacheLength&&delete we[se.shift()],we[Oe+" "]=Ne}return we}function Ts(se){return se[je]=!0,se}function au(se){var we=W.createElement("fieldset");try{return!!se(we)}catch{return!1}finally{we.parentNode&&we.parentNode.removeChild(we),we=null}}function $g(se){return function(we){return I(we,"input")&&we.type===se}}function Ug(se){return function(we){return(I(we,"input")||I(we,"button"))&&we.type===se}}function yd(se){return function(we){return"form"in we?we.parentNode&&we.disabled===!1?"label"in we?"label"in we.parentNode?we.parentNode.disabled===se:we.disabled===se:we.isDisabled===se||we.isDisabled!==!se&&wf(we)===se:we.disabled===se:"label"in we?we.disabled===se:!1}}function us(se){return Ts(function(we){return we=+we,Ts(function(Oe,Ne){for(var ne,ye=se([],Oe.length,we),me=ye.length;me--;)Oe[ne=ye[me]]&&(Oe[ne]=!(Ne[ne]=Oe[ne]))})})}function xf(se){return se&&typeof se.getElementsByTagName<"u"&&se}function ea(se){var we,Oe=se?se.ownerDocument||se:D;return Oe==W||Oe.nodeType!==9||!Oe.documentElement||(W=Oe,pe=W.documentElement,ce=!d.isXMLDoc(W),Be=pe.matches||pe.webkitMatchesSelector||pe.msMatchesSelector,pe.msMatchesSelector&&D!=W&&(we=W.defaultView)&&we.top!==we&&we.addEventListener("unload",Gi),m.getById=au(function(Ne){return pe.appendChild(Ne).id=d.expando,!W.getElementsByName||!W.getElementsByName(d.expando).length}),m.disconnectedMatch=au(function(Ne){return Be.call(Ne,"*")}),m.scope=au(function(){return W.querySelectorAll(":scope")}),m.cssHas=au(function(){try{return W.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(x.filter.ID=function(Ne){var ne=Ne.replace(So,Us);return function(ye){return ye.getAttribute("id")===ne}},x.find.ID=function(Ne,ne){if(typeof ne.getElementById<"u"&&ce){var ye=ne.getElementById(Ne);return ye?[ye]:[]}}):(x.filter.ID=function(Ne){var ne=Ne.replace(So,Us);return function(ye){var me=typeof ye.getAttributeNode<"u"&&ye.getAttributeNode("id");return me&&me.value===ne}},x.find.ID=function(Ne,ne){if(typeof ne.getElementById<"u"&&ce){var ye,me,We,tt=ne.getElementById(Ne);if(tt){if(ye=tt.getAttributeNode("id"),ye&&ye.value===Ne)return[tt];for(We=ne.getElementsByName(Ne),me=0;tt=We[me++];)if(ye=tt.getAttributeNode("id"),ye&&ye.value===Ne)return[tt]}return[]}}),x.find.TAG=function(Ne,ne){return typeof ne.getElementsByTagName<"u"?ne.getElementsByTagName(Ne):ne.querySelectorAll(Ne)},x.find.CLASS=function(Ne,ne){if(typeof ne.getElementsByClassName<"u"&&ce)return ne.getElementsByClassName(Ne)},Ae=[],au(function(Ne){var ne;pe.appendChild(Ne).innerHTML="<a id='"+je+"' href='' disabled='disabled'></a><select id='"+je+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ne.querySelectorAll("[selected]").length||Ae.push("\\["+$+"*(?:value|"+Gs+")"),Ne.querySelectorAll("[id~="+je+"-]").length||Ae.push("~="),Ne.querySelectorAll("a#"+je+"+*").length||Ae.push(".#.+[+~]"),Ne.querySelectorAll(":checked").length||Ae.push(":checked"),ne=W.createElement("input"),ne.setAttribute("type","hidden"),Ne.appendChild(ne).setAttribute("name","D"),pe.appendChild(Ne).disabled=!0,Ne.querySelectorAll(":disabled").length!==2&&Ae.push(":enabled",":disabled"),ne=W.createElement("input"),ne.setAttribute("name",""),Ne.appendChild(ne),Ne.querySelectorAll("[name='']").length||Ae.push("\\["+$+"*name"+$+"*="+$+`*(?:''|"")`)}),m.cssHas||Ae.push(":has"),Ae=Ae.length&&new RegExp(Ae.join("|")),Dn=function(Ne,ne){if(Ne===ne)return F=!0,0;var ye=!Ne.compareDocumentPosition-!ne.compareDocumentPosition;return ye||(ye=(Ne.ownerDocument||Ne)==(ne.ownerDocument||ne)?Ne.compareDocumentPosition(ne):1,ye&1||!m.sortDetached&&ne.compareDocumentPosition(Ne)===ye?Ne===W||Ne.ownerDocument==D&&Kr.contains(D,Ne)?-1:ne===W||ne.ownerDocument==D&&Kr.contains(D,ne)?1:k?u.call(k,Ne)-u.call(k,ne):0:ye&4?-1:1)}),W}Kr.matches=function(se,we){return Kr(se,null,null,we)},Kr.matchesSelector=function(se,we){if(ea(se),ce&&!li[we+" "]&&(!Ae||!Ae.test(we)))try{var Oe=Be.call(se,we);if(Oe||m.disconnectedMatch||se.document&&se.document.nodeType!==11)return Oe}catch{li(we,!0)}return Kr(we,W,null,[se]).length>0},Kr.contains=function(se,we){return(se.ownerDocument||se)!=W&&ea(se),d.contains(se,we)},Kr.attr=function(se,we){(se.ownerDocument||se)!=W&&ea(se);var Oe=x.attrHandle[we.toLowerCase()],Ne=Oe&&h.call(x.attrHandle,we.toLowerCase())?Oe(se,we,!ce):void 0;return Ne!==void 0?Ne:se.getAttribute(we)},Kr.error=function(se){throw new Error("Syntax error, unrecognized expression: "+se)},d.uniqueSort=function(se){var we,Oe=[],Ne=0,ne=0;if(F=!m.sortStable,k=!m.sortStable&&s.call(se,0),B.call(se,Dn),F){for(;we=se[ne++];)we===se[ne]&&(Ne=Oe.push(ne));for(;Ne--;)H.call(se,Oe[Ne],1)}return k=null,se},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(s.apply(this)))},x=d.expr={cacheLength:50,createPseudo:Ts,match:as,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(se){return se[1]=se[1].replace(So,Us),se[3]=(se[3]||se[4]||se[5]||"").replace(So,Us),se[2]==="~="&&(se[3]=" "+se[3]+" "),se.slice(0,4)},CHILD:function(se){return se[1]=se[1].toLowerCase(),se[1].slice(0,3)==="nth"?(se[3]||Kr.error(se[0]),se[4]=+(se[4]?se[5]+(se[6]||1):2*(se[3]==="even"||se[3]==="odd")),se[5]=+(se[7]+se[8]||se[3]==="odd")):se[3]&&Kr.error(se[0]),se},PSEUDO:function(se){var we,Oe=!se[6]&&se[2];return as.CHILD.test(se[0])?null:(se[3]?se[2]=se[4]||se[5]||"":Oe&&As.test(Oe)&&(we=uu(Oe,!0))&&(we=Oe.indexOf(")",Oe.length-we)-Oe.length)&&(se[0]=se[0].slice(0,we),se[2]=Oe.slice(0,we)),se.slice(0,3))}},filter:{TAG:function(se){var we=se.replace(So,Us).toLowerCase();return se==="*"?function(){return!0}:function(Oe){return I(Oe,we)}},CLASS:function(se){var we=At[se+" "];return we||(we=new RegExp("(^|"+$+")"+se+"("+$+"|$)"))&&At(se,function(Oe){return we.test(typeof Oe.className=="string"&&Oe.className||typeof Oe.getAttribute<"u"&&Oe.getAttribute("class")||"")})},ATTR:function(se,we,Oe){return function(Ne){var ne=Kr.attr(Ne,se);return ne==null?we==="!=":we?(ne+="",we==="="?ne===Oe:we==="!="?ne!==Oe:we==="^="?Oe&&ne.indexOf(Oe)===0:we==="*="?Oe&&ne.indexOf(Oe)>-1:we==="$="?Oe&&ne.slice(-Oe.length)===Oe:we==="~="?(" "+ne.replace(Rr," ")+" ").indexOf(Oe)>-1:we==="|="?ne===Oe||ne.slice(0,Oe.length+1)===Oe+"-":!1):!0}},CHILD:function(se,we,Oe,Ne,ne){var ye=se.slice(0,3)!=="nth",me=se.slice(-4)!=="last",We=we==="of-type";return Ne===1&&ne===0?function(tt){return!!tt.parentNode}:function(tt,Pt,Rt){var St,gr,Xt,Sr,fi,yi=ye!==me?"nextSibling":"previousSibling",hi=tt.parentNode,Ui=We&&tt.nodeName.toLowerCase(),Eo=!Rt&&!We,ar=!1;if(hi){if(ye){for(;yi;){for(Xt=tt;Xt=Xt[yi];)if(We?I(Xt,Ui):Xt.nodeType===1)return!1;fi=yi=se==="only"&&!fi&&"nextSibling"}return!0}if(fi=[me?hi.firstChild:hi.lastChild],me&&Eo){for(gr=hi[je]||(hi[je]={}),St=gr[se]||[],Sr=St[0]===Me&&St[1],ar=Sr&&St[2],Xt=Sr&&hi.childNodes[Sr];Xt=++Sr&&Xt&&Xt[yi]||(ar=Sr=0)||fi.pop();)if(Xt.nodeType===1&&++ar&&Xt===tt){gr[se]=[Me,Sr,ar];break}}else if(Eo&&(gr=tt[je]||(tt[je]={}),St=gr[se]||[],Sr=St[0]===Me&&St[1],ar=Sr),ar===!1)for(;(Xt=++Sr&&Xt&&Xt[yi]||(ar=Sr=0)||fi.pop())&&!((We?I(Xt,Ui):Xt.nodeType===1)&&++ar&&(Eo&&(gr=Xt[je]||(Xt[je]={}),gr[se]=[Me,ar]),Xt===tt)););return ar-=ne,ar===Ne||ar%Ne===0&&ar/Ne>=0}}},PSEUDO:function(se,we){var Oe,Ne=x.pseudos[se]||x.setFilters[se.toLowerCase()]||Kr.error("unsupported pseudo: "+se);return Ne[je]?Ne(we):Ne.length>1?(Oe=[se,se,"",we],x.setFilters.hasOwnProperty(se.toLowerCase())?Ts(function(ne,ye){for(var me,We=Ne(ne,we),tt=We.length;tt--;)me=u.call(ne,We[tt]),ne[me]=!(ye[me]=We[tt])}):function(ne){return Ne(ne,0,Oe)}):Ne}},pseudos:{not:Ts(function(se){var we=[],Oe=[],Ne=Ef(se.replace(J,"$1"));return Ne[je]?Ts(function(ne,ye,me,We){for(var tt,Pt=Ne(ne,null,We,[]),Rt=ne.length;Rt--;)(tt=Pt[Rt])&&(ne[Rt]=!(ye[Rt]=tt))}):function(ne,ye,me){return we[0]=ne,Ne(we,null,me,Oe),we[0]=null,!Oe.pop()}}),has:Ts(function(se){return function(we){return Kr(se,we).length>0}}),contains:Ts(function(se){return se=se.replace(So,Us),function(we){return(we.textContent||d.text(we)).indexOf(se)>-1}}),lang:Ts(function(se){return Ra.test(se||"")||Kr.error("unsupported lang: "+se),se=se.replace(So,Us).toLowerCase(),function(we){var Oe;do if(Oe=ce?we.lang:we.getAttribute("xml:lang")||we.getAttribute("lang"))return Oe=Oe.toLowerCase(),Oe===se||Oe.indexOf(se+"-")===0;while((we=we.parentNode)&&we.nodeType===1);return!1}}),target:function(se){var we=t.location&&t.location.hash;return we&&we.slice(1)===se.id},root:function(se){return se===pe},focus:function(se){return se===Xu()&&W.hasFocus()&&!!(se.type||se.href||~se.tabIndex)},enabled:yd(!1),disabled:yd(!0),checked:function(se){return I(se,"input")&&!!se.checked||I(se,"option")&&!!se.selected},selected:function(se){return se.parentNode&&se.parentNode.selectedIndex,se.selected===!0},empty:function(se){for(se=se.firstChild;se;se=se.nextSibling)if(se.nodeType<6)return!1;return!0},parent:function(se){return!x.pseudos.empty(se)},header:function(se){return Qo.test(se.nodeName)},input:function(se){return xo.test(se.nodeName)},button:function(se){return I(se,"input")&&se.type==="button"||I(se,"button")},text:function(se){var we;return I(se,"input")&&se.type==="text"&&((we=se.getAttribute("type"))==null||we.toLowerCase()==="text")},first:us(function(){return[0]}),last:us(function(se,we){return[we-1]}),eq:us(function(se,we,Oe){return[Oe<0?Oe+we:Oe]}),even:us(function(se,we){for(var Oe=0;Oe<we;Oe+=2)se.push(Oe);return se}),odd:us(function(se,we){for(var Oe=1;Oe<we;Oe+=2)se.push(Oe);return se}),lt:us(function(se,we,Oe){var Ne;for(Oe<0?Ne=Oe+we:Oe>we?Ne=we:Ne=Oe;--Ne>=0;)se.push(Ne);return se}),gt:us(function(se,we,Oe){for(var Ne=Oe<0?Oe+we:Oe;++Ne<we;)se.push(Ne);return se})}},x.pseudos.nth=x.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[g]=$g(g);for(g in{submit:!0,reset:!0})x.pseudos[g]=Ug(g);function Xc(){}Xc.prototype=x.filters=x.pseudos,x.setFilters=new Xc;function uu(se,we){var Oe,Ne,ne,ye,me,We,tt,Pt=hr[se+" "];if(Pt)return we?0:Pt.slice(0);for(me=se,We=[],tt=x.preFilter;me;){(!Oe||(Ne=cn.exec(me)))&&(Ne&&(me=me.slice(Ne[0].length)||me),We.push(ne=[])),Oe=!1,(Ne=Hu.exec(me))&&(Oe=Ne.shift(),ne.push({value:Oe,type:Ne[0].replace(J," ")}),me=me.slice(Oe.length));for(ye in x.filter)(Ne=as[ye].exec(me))&&(!tt[ye]||(Ne=tt[ye](Ne)))&&(Oe=Ne.shift(),ne.push({value:Oe,type:ye,matches:Ne}),me=me.slice(Oe.length));if(!Oe)break}return we?me.length:me?Kr.error(se):hr(se,We).slice(0)}function Ps(se){for(var we=0,Oe=se.length,Ne="";we<Oe;we++)Ne+=se[we].value;return Ne}function Ia(se,we,Oe){var Ne=we.dir,ne=we.next,ye=ne||Ne,me=Oe&&ye==="parentNode",We=ct++;return we.first?function(tt,Pt,Rt){for(;tt=tt[Ne];)if(tt.nodeType===1||me)return se(tt,Pt,Rt);return!1}:function(tt,Pt,Rt){var St,gr,Xt=[Me,We];if(Rt){for(;tt=tt[Ne];)if((tt.nodeType===1||me)&&se(tt,Pt,Rt))return!0}else for(;tt=tt[Ne];)if(tt.nodeType===1||me)if(gr=tt[je]||(tt[je]={}),ne&&I(tt,ne))tt=tt[Ne]||tt;else{if((St=gr[ye])&&St[0]===Me&&St[1]===We)return Xt[2]=St[2];if(gr[ye]=Xt,Xt[2]=se(tt,Pt,Rt))return!0}return!1}}function Sf(se){return se.length>1?function(we,Oe,Ne){for(var ne=se.length;ne--;)if(!se[ne](we,Oe,Ne))return!1;return!0}:se[0]}function jg(se,we,Oe){for(var Ne=0,ne=we.length;Ne<ne;Ne++)Kr(se,we[Ne],Oe);return Oe}function Yc(se,we,Oe,Ne,ne){for(var ye,me=[],We=0,tt=se.length,Pt=we!=null;We<tt;We++)(ye=se[We])&&(!Oe||Oe(ye,Ne,ne))&&(me.push(ye),Pt&&we.push(We));return me}function ta(se,we,Oe,Ne,ne,ye){return Ne&&!Ne[je]&&(Ne=ta(Ne)),ne&&!ne[je]&&(ne=ta(ne,ye)),Ts(function(me,We,tt,Pt){var Rt,St,gr,Xt,Sr=[],fi=[],yi=We.length,hi=me||jg(we||"*",tt.nodeType?[tt]:tt,[]),Ui=se&&(me||!we)?Yc(hi,Sr,se,tt,Pt):hi;if(Oe?(Xt=ne||(me?se:yi||Ne)?[]:We,Oe(Ui,Xt,tt,Pt)):Xt=Ui,Ne)for(Rt=Yc(Xt,fi),Ne(Rt,[],tt,Pt),St=Rt.length;St--;)(gr=Rt[St])&&(Xt[fi[St]]=!(Ui[fi[St]]=gr));if(me){if(ne||se){if(ne){for(Rt=[],St=Xt.length;St--;)(gr=Xt[St])&&Rt.push(Ui[St]=gr);ne(null,Xt=[],Rt,Pt)}for(St=Xt.length;St--;)(gr=Xt[St])&&(Rt=ne?u.call(me,gr):Sr[St])>-1&&(me[Rt]=!(We[Rt]=gr))}}else Xt=Yc(Xt===We?Xt.splice(yi,Xt.length):Xt),ne?ne(null,We,Xt,Pt):V.apply(We,Xt)})}function $i(se){for(var we,Oe,Ne,ne=se.length,ye=x.relative[se[0].type],me=ye||x.relative[" "],We=ye?1:0,tt=Ia(function(St){return St===we},me,!0),Pt=Ia(function(St){return u.call(we,St)>-1},me,!0),Rt=[function(St,gr,Xt){var Sr=!ye&&(Xt||gr!=O)||((we=gr).nodeType?tt(St,gr,Xt):Pt(St,gr,Xt));return we=null,Sr}];We<ne;We++)if(Oe=x.relative[se[We].type])Rt=[Ia(Sf(Rt),Oe)];else{if(Oe=x.filter[se[We].type].apply(null,se[We].matches),Oe[je]){for(Ne=++We;Ne<ne&&!x.relative[se[Ne].type];Ne++);return ta(We>1&&Sf(Rt),We>1&&Ps(se.slice(0,We-1).concat({value:se[We-2].type===" "?"*":""})).replace(J,"$1"),Oe,We<Ne&&$i(se.slice(We,Ne)),Ne<ne&&$i(se=se.slice(Ne)),Ne<ne&&Ps(se))}Rt.push(Oe)}return Sf(Rt)}function bd(se,we){var Oe=we.length>0,Ne=se.length>0,ne=function(ye,me,We,tt,Pt){var Rt,St,gr,Xt=0,Sr="0",fi=ye&&[],yi=[],hi=O,Ui=ye||Ne&&x.find.TAG("*",Pt),Eo=Me+=hi==null?1:Math.random()||.1,ar=Ui.length;for(Pt&&(O=me==W||me||Pt);Sr!==ar&&(Rt=Ui[Sr])!=null;Sr++){if(Ne&&Rt){for(St=0,!me&&Rt.ownerDocument!=W&&(ea(Rt),We=!ce);gr=se[St++];)if(gr(Rt,me||W,We)){V.call(tt,Rt);break}Pt&&(Me=Eo)}Oe&&((Rt=!gr&&Rt)&&Xt--,ye&&fi.push(Rt))}if(Xt+=Sr,Oe&&Sr!==Xt){for(St=0;gr=we[St++];)gr(fi,yi,me,We);if(ye){if(Xt>0)for(;Sr--;)fi[Sr]||yi[Sr]||(yi[Sr]=L.call(tt));yi=Yc(yi)}V.apply(tt,yi),Pt&&!ye&&yi.length>0&&Xt+we.length>1&&d.uniqueSort(tt)}return Pt&&(Me=Eo,O=hi),fi};return Oe?Ts(ne):ne}function Ef(se,we){var Oe,Ne=[],ne=[],ye=lr[se+" "];if(!ye){for(we||(we=uu(se)),Oe=we.length;Oe--;)ye=$i(we[Oe]),ye[je]?Ne.push(ye):ne.push(ye);ye=lr(se,bd(ne,Ne)),ye.selector=se}return ye}function wd(se,we,Oe,Ne){var ne,ye,me,We,tt,Pt=typeof se=="function"&&se,Rt=!Ne&&uu(se=Pt.selector||se);if(Oe=Oe||[],Rt.length===1){if(ye=Rt[0]=Rt[0].slice(0),ye.length>2&&(me=ye[0]).type==="ID"&&we.nodeType===9&&ce&&x.relative[ye[1].type]){if(we=(x.find.ID(me.matches[0].replace(So,Us),we)||[])[0],we)Pt&&(we=we.parentNode);else return Oe;se=se.slice(ye.shift().value.length)}for(ne=as.needsContext.test(se)?0:ye.length;ne--&&(me=ye[ne],!x.relative[We=me.type]);)if((tt=x.find[We])&&(Ne=tt(me.matches[0].replace(So,Us),Wu.test(ye[0].type)&&xf(we.parentNode)||we))){if(ye.splice(ne,1),se=Ne.length&&Ps(ye),!se)return V.apply(Oe,Ne),Oe;break}}return(Pt||Ef(se,Rt))(Ne,we,!ce,Oe,!we||Wu.test(se)&&xf(we.parentNode)||we),Oe}m.sortStable=je.split("").sort(Dn).join("")===je,ea(),m.sortDetached=au(function(se){return se.compareDocumentPosition(W.createElement("fieldset"))&1}),d.find=Kr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,Kr.compile=Ef,Kr.select=wd,Kr.setDocument=ea,Kr.tokenize=uu,Kr.escape=d.escapeSelector,Kr.getText=d.text,Kr.isXML=d.isXMLDoc,Kr.selectors=d.expr,Kr.support=d.support,Kr.uniqueSort=d.uniqueSort})();var j=function(g,x,O){for(var k=[],F=O!==void 0;(g=g[x])&&g.nodeType!==9;)if(g.nodeType===1){if(F&&d(g).is(O))break;k.push(g)}return k},ie=function(g,x){for(var O=[];g;g=g.nextSibling)g.nodeType===1&&g!==x&&O.push(g);return O},oe=d.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _e(g,x,O){return y(x)?d.grep(g,function(k,F){return!!x.call(k,F,k)!==O}):x.nodeType?d.grep(g,function(k){return k===x!==O}):typeof x!="string"?d.grep(g,function(k){return u.call(x,k)>-1!==O}):d.filter(x,g,O)}d.filter=function(g,x,O){var k=x[0];return O&&(g=":not("+g+")"),x.length===1&&k.nodeType===1?d.find.matchesSelector(k,g)?[k]:[]:d.find.matches(g,d.grep(x,function(F){return F.nodeType===1}))},d.fn.extend({find:function(g){var x,O,k=this.length,F=this;if(typeof g!="string")return this.pushStack(d(g).filter(function(){for(x=0;x<k;x++)if(d.contains(F[x],this))return!0}));for(O=this.pushStack([]),x=0;x<k;x++)d.find(g,F[x],O);return k>1?d.uniqueSort(O):O},filter:function(g){return this.pushStack(_e(this,g||[],!1))},not:function(g){return this.pushStack(_e(this,g||[],!0))},is:function(g){return!!_e(this,typeof g=="string"&&oe.test(g)?d(g):g||[],!1).length}});var te,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,re=d.fn.init=function(g,x,O){var k,F;if(!g)return this;if(O=O||te,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?k=[null,g,null]:k=ue.exec(g),k&&(k[1]||!x))if(k[1]){if(x=x instanceof d?x[0]:x,d.merge(this,d.parseHTML(k[1],x&&x.nodeType?x.ownerDocument||x:S,!0)),Se.test(k[1])&&d.isPlainObject(x))for(k in x)y(this[k])?this[k](x[k]):this.attr(k,x[k]);return this}else return F=S.getElementById(k[2]),F&&(this[0]=F,this.length=1),this;else return!x||x.jquery?(x||O).find(g):this.constructor(x).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(y(g))return O.ready!==void 0?O.ready(g):g(d)}return d.makeArray(g,this)};re.prototype=d.fn,te=d(S);var Q=/^(?:parents|prev(?:Until|All))/,le={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(g){var x=d(g,this),O=x.length;return this.filter(function(){for(var k=0;k<O;k++)if(d.contains(this,x[k]))return!0})},closest:function(g,x){var O,k=0,F=this.length,V=[],W=typeof g!="string"&&d(g);if(!oe.test(g)){for(;k<F;k++)for(O=this[k];O&&O!==x;O=O.parentNode)if(O.nodeType<11&&(W?W.index(O)>-1:O.nodeType===1&&d.find.matchesSelector(O,g))){V.push(O);break}}return this.pushStack(V.length>1?d.uniqueSort(V):V)},index:function(g){return g?typeof g=="string"?u.call(d(g),this[0]):u.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,x){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(g,x))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function Ve(g,x){for(;(g=g[x])&&g.nodeType!==1;);return g}d.each({parent:function(g){var x=g.parentNode;return x&&x.nodeType!==11?x:null},parents:function(g){return j(g,"parentNode")},parentsUntil:function(g,x,O){return j(g,"parentNode",O)},next:function(g){return Ve(g,"nextSibling")},prev:function(g){return Ve(g,"previousSibling")},nextAll:function(g){return j(g,"nextSibling")},prevAll:function(g){return j(g,"previousSibling")},nextUntil:function(g,x,O){return j(g,"nextSibling",O)},prevUntil:function(g,x,O){return j(g,"previousSibling",O)},siblings:function(g){return ie((g.parentNode||{}).firstChild,g)},children:function(g){return ie(g.firstChild)},contents:function(g){return g.contentDocument!=null&&i(g.contentDocument)?g.contentDocument:(I(g,"template")&&(g=g.content||g),d.merge([],g.childNodes))}},function(g,x){d.fn[g]=function(O,k){var F=d.map(this,x,O);return g.slice(-5)!=="Until"&&(k=O),k&&typeof k=="string"&&(F=d.filter(k,F)),this.length>1&&(le[g]||d.uniqueSort(F),Q.test(g)&&F.reverse()),this.pushStack(F)}});var Le=/[^\x20\t\r\n\f]+/g;function Ce(g){var x={};return d.each(g.match(Le)||[],function(O,k){x[k]=!0}),x}d.Callbacks=function(g){g=typeof g=="string"?Ce(g):d.extend({},g);var x,O,k,F,V=[],W=[],pe=-1,ce=function(){for(F=F||g.once,k=x=!0;W.length;pe=-1)for(O=W.shift();++pe<V.length;)V[pe].apply(O[0],O[1])===!1&&g.stopOnFalse&&(pe=V.length,O=!1);g.memory||(O=!1),x=!1,F&&(O?V=[]:V="")},Ae={add:function(){return V&&(O&&!x&&(pe=V.length-1,W.push(O)),function Be(je){d.each(je,function(Me,ct){y(ct)?(!g.unique||!Ae.has(ct))&&V.push(ct):ct&&ct.length&&P(ct)!=="string"&&Be(ct)})}(arguments),O&&!x&&ce()),this},remove:function(){return d.each(arguments,function(Be,je){for(var Me;(Me=d.inArray(je,V,Me))>-1;)V.splice(Me,1),Me<=pe&&pe--}),this},has:function(Be){return Be?d.inArray(Be,V)>-1:V.length>0},empty:function(){return V&&(V=[]),this},disable:function(){return F=W=[],V=O="",this},disabled:function(){return!V},lock:function(){return F=W=[],!O&&!x&&(V=O=""),this},locked:function(){return!!F},fireWith:function(Be,je){return F||(je=je||[],je=[Be,je.slice?je.slice():je],W.push(je),x||ce()),this},fire:function(){return Ae.fireWith(this,arguments),this},fired:function(){return!!k}};return Ae};function Je(g){return g}function Ge(g){throw g}function N(g,x,O,k){var F;try{g&&y(F=g.promise)?F.call(g).done(x).fail(O):g&&y(F=g.then)?F.call(g,x,O):x.apply(void 0,[g].slice(k))}catch(V){O.apply(void 0,[V])}}d.extend({Deferred:function(g){var x=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],O="pending",k={state:function(){return O},always:function(){return F.done(arguments).fail(arguments),this},catch:function(V){return k.then(null,V)},pipe:function(){var V=arguments;return d.Deferred(function(W){d.each(x,function(pe,ce){var Ae=y(V[ce[4]])&&V[ce[4]];F[ce[1]](function(){var Be=Ae&&Ae.apply(this,arguments);Be&&y(Be.promise)?Be.promise().progress(W.notify).done(W.resolve).fail(W.reject):W[ce[0]+"With"](this,Ae?[Be]:arguments)})}),V=null}).promise()},then:function(V,W,pe){var ce=0;function Ae(Be,je,Me,ct){return function(){var At=this,hr=arguments,lr=function(){var Dn,Gs;if(!(Be<ce)){if(Dn=Me.apply(At,hr),Dn===je.promise())throw new TypeError("Thenable self-resolution");Gs=Dn&&(typeof Dn=="object"||typeof Dn=="function")&&Dn.then,y(Gs)?ct?Gs.call(Dn,Ae(ce,je,Je,ct),Ae(ce,je,Ge,ct)):(ce++,Gs.call(Dn,Ae(ce,je,Je,ct),Ae(ce,je,Ge,ct),Ae(ce,je,Je,je.notifyWith))):(Me!==Je&&(At=void 0,hr=[Dn]),(ct||je.resolveWith)(At,hr))}},li=ct?lr:function(){try{lr()}catch(Dn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Dn,li.error),Be+1>=ce&&(Me!==Ge&&(At=void 0,hr=[Dn]),je.rejectWith(At,hr))}};Be?li():(d.Deferred.getErrorHook?li.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(li.error=d.Deferred.getStackHook()),t.setTimeout(li))}}return d.Deferred(function(Be){x[0][3].add(Ae(0,Be,y(pe)?pe:Je,Be.notifyWith)),x[1][3].add(Ae(0,Be,y(V)?V:Je)),x[2][3].add(Ae(0,Be,y(W)?W:Ge))}).promise()},promise:function(V){return V!=null?d.extend(V,k):k}},F={};return d.each(x,function(V,W){var pe=W[2],ce=W[5];k[W[1]]=pe.add,ce&&pe.add(function(){O=ce},x[3-V][2].disable,x[3-V][3].disable,x[0][2].lock,x[0][3].lock),pe.add(W[3].fire),F[W[0]]=function(){return F[W[0]+"With"](this===F?void 0:this,arguments),this},F[W[0]+"With"]=pe.fireWith}),k.promise(F),g&&g.call(F,F),F},when:function(g){var x=arguments.length,O=x,k=Array(O),F=s.call(arguments),V=d.Deferred(),W=function(pe){return function(ce){k[pe]=this,F[pe]=arguments.length>1?s.call(arguments):ce,--x||V.resolveWith(k,F)}};if(x<=1&&(N(g,V.done(W(O)).resolve,V.reject,!x),V.state()==="pending"||y(F[O]&&F[O].then)))return V.then();for(;O--;)N(F[O],W(O),V.reject);return V.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(g,x){t.console&&t.console.warn&&g&&G.test(g.name)&&t.console.warn("jQuery.Deferred exception: "+g.message,g.stack,x)},d.readyException=function(g){t.setTimeout(function(){throw g})};var Y=d.Deferred();d.fn.ready=function(g){return Y.then(g).catch(function(x){d.readyException(x)}),this},d.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(g!==!0&&--d.readyWait>0)&&Y.resolveWith(S,[d]))}}),d.ready.then=Y.then;function K(){S.removeEventListener("DOMContentLoaded",K),t.removeEventListener("load",K),d.ready()}S.readyState==="complete"||S.readyState!=="loading"&&!S.documentElement.doScroll?t.setTimeout(d.ready):(S.addEventListener("DOMContentLoaded",K),t.addEventListener("load",K));var Ee=function(g,x,O,k,F,V,W){var pe=0,ce=g.length,Ae=O==null;if(P(O)==="object"){F=!0;for(pe in O)Ee(g,x,pe,O[pe],!0,V,W)}else if(k!==void 0&&(F=!0,y(k)||(W=!0),Ae&&(W?(x.call(g,k),x=null):(Ae=x,x=function(Be,je,Me){return Ae.call(d(Be),Me)})),x))for(;pe<ce;pe++)x(g[pe],O,W?k:k.call(g[pe],pe,x(g[pe],O)));return F?g:Ae?x.call(g):ce?x(g[0],O):V},fe=/^-ms-/,Te=/-([a-z])/g;function Re(g,x){return x.toUpperCase()}function ze(g){return g.replace(fe,"ms-").replace(Te,Re)}var qe=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Ie(){this.expando=d.expando+Ie.uid++}Ie.uid=1,Ie.prototype={cache:function(g){var x=g[this.expando];return x||(x={},qe(g)&&(g.nodeType?g[this.expando]=x:Object.defineProperty(g,this.expando,{value:x,configurable:!0}))),x},set:function(g,x,O){var k,F=this.cache(g);if(typeof x=="string")F[ze(x)]=O;else for(k in x)F[ze(k)]=x[k];return F},get:function(g,x){return x===void 0?this.cache(g):g[this.expando]&&g[this.expando][ze(x)]},access:function(g,x,O){return x===void 0||x&&typeof x=="string"&&O===void 0?this.get(g,x):(this.set(g,x,O),O!==void 0?O:x)},remove:function(g,x){var O,k=g[this.expando];if(k!==void 0){if(x!==void 0)for(Array.isArray(x)?x=x.map(ze):(x=ze(x),x=x in k?[x]:x.match(Le)||[]),O=x.length;O--;)delete k[x[O]];(x===void 0||d.isEmptyObject(k))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var x=g[this.expando];return x!==void 0&&!d.isEmptyObject(x)}};var xe=new Ie,Ye=new Ie,lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;function ht(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:lt.test(g)?JSON.parse(g):g}function it(g,x,O){var k;if(O===void 0&&g.nodeType===1)if(k="data-"+x.replace(_t,"-$&").toLowerCase(),O=g.getAttribute(k),typeof O=="string"){try{O=ht(O)}catch{}Ye.set(g,x,O)}else O=void 0;return O}d.extend({hasData:function(g){return Ye.hasData(g)||xe.hasData(g)},data:function(g,x,O){return Ye.access(g,x,O)},removeData:function(g,x){Ye.remove(g,x)},_data:function(g,x,O){return xe.access(g,x,O)},_removeData:function(g,x){xe.remove(g,x)}}),d.fn.extend({data:function(g,x){var O,k,F,V=this[0],W=V&&V.attributes;if(g===void 0){if(this.length&&(F=Ye.get(V),V.nodeType===1&&!xe.get(V,"hasDataAttrs"))){for(O=W.length;O--;)W[O]&&(k=W[O].name,k.indexOf("data-")===0&&(k=ze(k.slice(5)),it(V,k,F[k])));xe.set(V,"hasDataAttrs",!0)}return F}return typeof g=="object"?this.each(function(){Ye.set(this,g)}):Ee(this,function(pe){var ce;if(V&&pe===void 0)return ce=Ye.get(V,g),ce!==void 0||(ce=it(V,g),ce!==void 0)?ce:void 0;this.each(function(){Ye.set(this,g,pe)})},null,x,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){Ye.remove(this,g)})}}),d.extend({queue:function(g,x,O){var k;if(g)return x=(x||"fx")+"queue",k=xe.get(g,x),O&&(!k||Array.isArray(O)?k=xe.access(g,x,d.makeArray(O)):k.push(O)),k||[]},dequeue:function(g,x){x=x||"fx";var O=d.queue(g,x),k=O.length,F=O.shift(),V=d._queueHooks(g,x),W=function(){d.dequeue(g,x)};F==="inprogress"&&(F=O.shift(),k--),F&&(x==="fx"&&O.unshift("inprogress"),delete V.stop,F.call(g,W,V)),!k&&V&&V.empty.fire()},_queueHooks:function(g,x){var O=x+"queueHooks";return xe.get(g,O)||xe.access(g,O,{empty:d.Callbacks("once memory").add(function(){xe.remove(g,[x+"queue",O])})})}}),d.fn.extend({queue:function(g,x){var O=2;return typeof g!="string"&&(x=g,g="fx",O--),arguments.length<O?d.queue(this[0],g):x===void 0?this:this.each(function(){var k=d.queue(this,g,x);d._queueHooks(this,g),g==="fx"&&k[0]!=="inprogress"&&d.dequeue(this,g)})},dequeue:function(g){return this.each(function(){d.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,x){var O,k=1,F=d.Deferred(),V=this,W=this.length,pe=function(){--k||F.resolveWith(V,[V])};for(typeof g!="string"&&(x=g,g=void 0),g=g||"fx";W--;)O=xe.get(V[W],g+"queueHooks"),O&&O.empty&&(k++,O.empty.add(pe));return pe(),F.promise(x)}});var Yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xr=new RegExp("^(?:([+-])=|)("+Yt+")([a-z%]*)$","i"),nr=["Top","Right","Bottom","Left"],vr=S.documentElement,Nr=function(g){return d.contains(g.ownerDocument,g)},zr={composed:!0};vr.getRootNode&&(Nr=function(g){return d.contains(g.ownerDocument,g)||g.getRootNode(zr)===g.ownerDocument});var En=function(g,x){return g=x||g,g.style.display==="none"||g.style.display===""&&Nr(g)&&d.css(g,"display")==="none"};function sr(g,x,O,k){var F,V,W=20,pe=k?function(){return k.cur()}:function(){return d.css(g,x,"")},ce=pe(),Ae=O&&O[3]||(d.cssNumber[x]?"":"px"),Be=g.nodeType&&(d.cssNumber[x]||Ae!=="px"&&+ce)&&xr.exec(d.css(g,x));if(Be&&Be[3]!==Ae){for(ce=ce/2,Ae=Ae||Be[3],Be=+ce||1;W--;)d.style(g,x,Be+Ae),(1-V)*(1-(V=pe()/ce||.5))<=0&&(W=0),Be=Be/V;Be=Be*2,d.style(g,x,Be+Ae),O=O||[]}return O&&(Be=+Be||+ce||0,F=O[1]?Be+(O[1]+1)*O[2]:+O[2],k&&(k.unit=Ae,k.start=Be,k.end=F)),F}var Mr={};function bn(g){var x,O=g.ownerDocument,k=g.nodeName,F=Mr[k];return F||(x=O.body.appendChild(O.createElement(k)),F=d.css(x,"display"),x.parentNode.removeChild(x),F==="none"&&(F="block"),Mr[k]=F,F)}function wn(g,x){for(var O,k,F=[],V=0,W=g.length;V<W;V++)k=g[V],k.style&&(O=k.style.display,x?(O==="none"&&(F[V]=xe.get(k,"display")||null,F[V]||(k.style.display="")),k.style.display===""&&En(k)&&(F[V]=bn(k))):O!=="none"&&(F[V]="none",xe.set(k,"display",O)));for(V=0;V<W;V++)F[V]!=null&&(g[V].style.display=F[V]);return g}d.fn.extend({show:function(){return wn(this,!0)},hide:function(){return wn(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){En(this)?d(this).show():d(this).hide()})}});var mn=/^(?:checkbox|radio)$/i,Un=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ii=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=S.createDocumentFragment(),x=g.appendChild(S.createElement("div")),O=S.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),x.appendChild(O),m.checkClone=x.cloneNode(!0).cloneNode(!0).lastChild.checked,x.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!x.cloneNode(!0).lastChild.defaultValue,x.innerHTML="<option></option>",m.option=!!x.lastChild})();var Ut={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ut.tbody=Ut.tfoot=Ut.colgroup=Ut.caption=Ut.thead,Ut.th=Ut.td,m.option||(Ut.optgroup=Ut.option=[1,"<select multiple='multiple'>","</select>"]);function $t(g,x){var O;return typeof g.getElementsByTagName<"u"?O=g.getElementsByTagName(x||"*"):typeof g.querySelectorAll<"u"?O=g.querySelectorAll(x||"*"):O=[],x===void 0||x&&I(g,x)?d.merge([g],O):O}function Vr(g,x){for(var O=0,k=g.length;O<k;O++)xe.set(g[O],"globalEval",!x||xe.get(x[O],"globalEval"))}var zn=/<|&#?\w+;/;function An(g,x,O,k,F){for(var V,W,pe,ce,Ae,Be,je=x.createDocumentFragment(),Me=[],ct=0,At=g.length;ct<At;ct++)if(V=g[ct],V||V===0)if(P(V)==="object")d.merge(Me,V.nodeType?[V]:V);else if(!zn.test(V))Me.push(x.createTextNode(V));else{for(W=W||je.appendChild(x.createElement("div")),pe=(Un.exec(V)||["",""])[1].toLowerCase(),ce=Ut[pe]||Ut._default,W.innerHTML=ce[1]+d.htmlPrefilter(V)+ce[2],Be=ce[0];Be--;)W=W.lastChild;d.merge(Me,W.childNodes),W=je.firstChild,W.textContent=""}for(je.textContent="",ct=0;V=Me[ct++];){if(k&&d.inArray(V,k)>-1){F&&F.push(V);continue}if(Ae=Nr(V),W=$t(je.appendChild(V),"script"),Ae&&Vr(W),O)for(Be=0;V=W[Be++];)ii.test(V.type||"")&&O.push(V)}return je}var Wr=/^([^.]*)(?:\.(.+)|)/;function jn(){return!0}function pi(){return!1}function Qr(g,x,O,k,F,V){var W,pe;if(typeof x=="object"){typeof O!="string"&&(k=k||O,O=void 0);for(pe in x)Qr(g,pe,O,k,x[pe],V);return g}if(k==null&&F==null?(F=O,k=O=void 0):F==null&&(typeof O=="string"?(F=k,k=void 0):(F=k,k=O,O=void 0)),F===!1)F=pi;else if(!F)return g;return V===1&&(W=F,F=function(ce){return d().off(ce),W.apply(this,arguments)},F.guid=W.guid||(W.guid=d.guid++)),g.each(function(){d.event.add(this,x,F,k,O)})}d.event={global:{},add:function(g,x,O,k,F){var V,W,pe,ce,Ae,Be,je,Me,ct,At,hr,lr=xe.get(g);if(qe(g))for(O.handler&&(V=O,O=V.handler,F=V.selector),F&&d.find.matchesSelector(vr,F),O.guid||(O.guid=d.guid++),(ce=lr.events)||(ce=lr.events=Object.create(null)),(W=lr.handle)||(W=lr.handle=function(li){return typeof d<"u"&&d.event.triggered!==li.type?d.event.dispatch.apply(g,arguments):void 0}),x=(x||"").match(Le)||[""],Ae=x.length;Ae--;)pe=Wr.exec(x[Ae])||[],ct=hr=pe[1],At=(pe[2]||"").split(".").sort(),ct&&(je=d.event.special[ct]||{},ct=(F?je.delegateType:je.bindType)||ct,je=d.event.special[ct]||{},Be=d.extend({type:ct,origType:hr,data:k,handler:O,guid:O.guid,selector:F,needsContext:F&&d.expr.match.needsContext.test(F),namespace:At.join(".")},V),(Me=ce[ct])||(Me=ce[ct]=[],Me.delegateCount=0,(!je.setup||je.setup.call(g,k,At,W)===!1)&&g.addEventListener&&g.addEventListener(ct,W)),je.add&&(je.add.call(g,Be),Be.handler.guid||(Be.handler.guid=O.guid)),F?Me.splice(Me.delegateCount++,0,Be):Me.push(Be),d.event.global[ct]=!0)},remove:function(g,x,O,k,F){var V,W,pe,ce,Ae,Be,je,Me,ct,At,hr,lr=xe.hasData(g)&&xe.get(g);if(!(!lr||!(ce=lr.events))){for(x=(x||"").match(Le)||[""],Ae=x.length;Ae--;){if(pe=Wr.exec(x[Ae])||[],ct=hr=pe[1],At=(pe[2]||"").split(".").sort(),!ct){for(ct in ce)d.event.remove(g,ct+x[Ae],O,k,!0);continue}for(je=d.event.special[ct]||{},ct=(k?je.delegateType:je.bindType)||ct,Me=ce[ct]||[],pe=pe[2]&&new RegExp("(^|\\.)"+At.join("\\.(?:.*\\.|)")+"(\\.|$)"),W=V=Me.length;V--;)Be=Me[V],(F||hr===Be.origType)&&(!O||O.guid===Be.guid)&&(!pe||pe.test(Be.namespace))&&(!k||k===Be.selector||k==="**"&&Be.selector)&&(Me.splice(V,1),Be.selector&&Me.delegateCount--,je.remove&&je.remove.call(g,Be));W&&!Me.length&&((!je.teardown||je.teardown.call(g,At,lr.handle)===!1)&&d.removeEvent(g,ct,lr.handle),delete ce[ct])}d.isEmptyObject(ce)&&xe.remove(g,"handle events")}},dispatch:function(g){var x,O,k,F,V,W,pe=new Array(arguments.length),ce=d.event.fix(g),Ae=(xe.get(this,"events")||Object.create(null))[ce.type]||[],Be=d.event.special[ce.type]||{};for(pe[0]=ce,x=1;x<arguments.length;x++)pe[x]=arguments[x];if(ce.delegateTarget=this,!(Be.preDispatch&&Be.preDispatch.call(this,ce)===!1)){for(W=d.event.handlers.call(this,ce,Ae),x=0;(F=W[x++])&&!ce.isPropagationStopped();)for(ce.currentTarget=F.elem,O=0;(V=F.handlers[O++])&&!ce.isImmediatePropagationStopped();)(!ce.rnamespace||V.namespace===!1||ce.rnamespace.test(V.namespace))&&(ce.handleObj=V,ce.data=V.data,k=((d.event.special[V.origType]||{}).handle||V.handler).apply(F.elem,pe),k!==void 0&&(ce.result=k)===!1&&(ce.preventDefault(),ce.stopPropagation()));return Be.postDispatch&&Be.postDispatch.call(this,ce),ce.result}},handlers:function(g,x){var O,k,F,V,W,pe=[],ce=x.delegateCount,Ae=g.target;if(ce&&Ae.nodeType&&!(g.type==="click"&&g.button>=1)){for(;Ae!==this;Ae=Ae.parentNode||this)if(Ae.nodeType===1&&!(g.type==="click"&&Ae.disabled===!0)){for(V=[],W={},O=0;O<ce;O++)k=x[O],F=k.selector+" ",W[F]===void 0&&(W[F]=k.needsContext?d(F,this).index(Ae)>-1:d.find(F,this,null,[Ae]).length),W[F]&&V.push(k);V.length&&pe.push({elem:Ae,handlers:V})}}return Ae=this,ce<x.length&&pe.push({elem:Ae,handlers:x.slice(ce)}),pe},addProp:function(g,x){Object.defineProperty(d.Event.prototype,g,{enumerable:!0,configurable:!0,get:y(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(O){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(g){return g[d.expando]?g:new d.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var x=this||g;return mn.test(x.type)&&x.click&&I(x,"input")&&Hn(x,"click",!0),!1},trigger:function(g){var x=this||g;return mn.test(x.type)&&x.click&&I(x,"input")&&Hn(x,"click"),!0},_default:function(g){var x=g.target;return mn.test(x.type)&&x.click&&I(x,"input")&&xe.get(x,"click")||I(x,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Hn(g,x,O){if(!O){xe.get(g,x)===void 0&&d.event.add(g,x,jn);return}xe.set(g,x,!1),d.event.add(g,x,{namespace:!1,handler:function(k){var F,V=xe.get(this,x);if(k.isTrigger&1&&this[x]){if(V)(d.event.special[x]||{}).delegateType&&k.stopPropagation();else if(V=s.call(arguments),xe.set(this,x,V),this[x](),F=xe.get(this,x),xe.set(this,x,!1),V!==F)return k.stopImmediatePropagation(),k.preventDefault(),F}else V&&(xe.set(this,x,d.event.trigger(V[0],V.slice(1),this)),k.stopPropagation(),k.isImmediatePropagationStopped=jn)}})}d.removeEvent=function(g,x,O){g.removeEventListener&&g.removeEventListener(x,O)},d.Event=function(g,x){if(!(this instanceof d.Event))return new d.Event(g,x);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?jn:pi,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,x&&d.extend(this,x),this.timeStamp=g&&g.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:pi,isPropagationStopped:pi,isImmediatePropagationStopped:pi,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=jn,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=jn,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=jn,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(g,x){function O(k){if(S.documentMode){var F=xe.get(this,"handle"),V=d.event.fix(k);V.type=k.type==="focusin"?"focus":"blur",V.isSimulated=!0,F(k),V.target===V.currentTarget&&F(V)}else d.event.simulate(x,k.target,d.event.fix(k))}d.event.special[g]={setup:function(){var k;if(Hn(this,g,!0),S.documentMode)k=xe.get(this,x),k||this.addEventListener(x,O),xe.set(this,x,(k||0)+1);else return!1},trigger:function(){return Hn(this,g),!0},teardown:function(){var k;if(S.documentMode)k=xe.get(this,x)-1,k?xe.set(this,x,k):(this.removeEventListener(x,O),xe.remove(this,x));else return!1},_default:function(k){return xe.get(k.target,g)},delegateType:x},d.event.special[x]={setup:function(){var k=this.ownerDocument||this.document||this,F=S.documentMode?this:k,V=xe.get(F,x);V||(S.documentMode?this.addEventListener(x,O):k.addEventListener(g,O,!0)),xe.set(F,x,(V||0)+1)},teardown:function(){var k=this.ownerDocument||this.document||this,F=S.documentMode?this:k,V=xe.get(F,x)-1;V?xe.set(F,x,V):(S.documentMode?this.removeEventListener(x,O):k.removeEventListener(g,O,!0),xe.remove(F,x))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,x){d.event.special[g]={delegateType:x,bindType:x,handle:function(O){var k,F=this,V=O.relatedTarget,W=O.handleObj;return(!V||V!==F&&!d.contains(F,V))&&(O.type=W.origType,k=W.handler.apply(this,arguments),O.type=x),k}}}),d.fn.extend({on:function(g,x,O,k){return Qr(this,g,x,O,k)},one:function(g,x,O,k){return Qr(this,g,x,O,k,1)},off:function(g,x,O){var k,F;if(g&&g.preventDefault&&g.handleObj)return k=g.handleObj,d(g.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this;if(typeof g=="object"){for(F in g)this.off(F,x,g[F]);return this}return(x===!1||typeof x=="function")&&(O=x,x=void 0),O===!1&&(O=pi),this.each(function(){d.event.remove(this,g,O,x)})}});var Nn=/<script|<style|<link/i,gi=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Tt(g,x){return I(g,"table")&&I(x.nodeType!==11?x:x.firstChild,"tr")&&d(g).children("tbody")[0]||g}function Ot(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Dt(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function Ft(g,x){var O,k,F,V,W,pe,ce;if(x.nodeType===1){if(xe.hasData(g)&&(V=xe.get(g),ce=V.events,ce)){xe.remove(x,"handle events");for(F in ce)for(O=0,k=ce[F].length;O<k;O++)d.event.add(x,F,ce[F][O])}Ye.hasData(g)&&(W=Ye.access(g),pe=d.extend({},W),Ye.set(x,pe))}}function ut(g,x){var O=x.nodeName.toLowerCase();O==="input"&&mn.test(g.type)?x.checked=g.checked:(O==="input"||O==="textarea")&&(x.defaultValue=g.defaultValue)}function Ke(g,x,O,k){x=o(x);var F,V,W,pe,ce,Ae,Be=0,je=g.length,Me=je-1,ct=x[0],At=y(ct);if(At||je>1&&typeof ct=="string"&&!m.checkClone&&gi.test(ct))return g.each(function(hr){var lr=g.eq(hr);At&&(x[0]=ct.call(this,hr,lr.html())),Ke(lr,x,O,k)});if(je&&(F=An(x,g[0].ownerDocument,!1,g,k),V=F.firstChild,F.childNodes.length===1&&(F=V),V||k)){for(W=d.map($t(F,"script"),Ot),pe=W.length;Be<je;Be++)ce=F,Be!==Me&&(ce=d.clone(ce,!0,!0),pe&&d.merge(W,$t(ce,"script"))),O.call(g[Be],ce,Be);if(pe)for(Ae=W[W.length-1].ownerDocument,d.map(W,Dt),Be=0;Be<pe;Be++)ce=W[Be],ii.test(ce.type||"")&&!xe.access(ce,"globalEval")&&d.contains(Ae,ce)&&(ce.src&&(ce.type||"").toLowerCase()!=="module"?d._evalUrl&&!ce.noModule&&d._evalUrl(ce.src,{nonce:ce.nonce||ce.getAttribute("nonce")},Ae):A(ce.textContent.replace(Ze,""),ce,Ae))}return g}function yt(g,x,O){for(var k,F=x?d.filter(x,g):g,V=0;(k=F[V])!=null;V++)!O&&k.nodeType===1&&d.cleanData($t(k)),k.parentNode&&(O&&Nr(k)&&Vr($t(k,"script")),k.parentNode.removeChild(k));return g}d.extend({htmlPrefilter:function(g){return g},clone:function(g,x,O){var k,F,V,W,pe=g.cloneNode(!0),ce=Nr(g);if(!m.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!d.isXMLDoc(g))for(W=$t(pe),V=$t(g),k=0,F=V.length;k<F;k++)ut(V[k],W[k]);if(x)if(O)for(V=V||$t(g),W=W||$t(pe),k=0,F=V.length;k<F;k++)Ft(V[k],W[k]);else Ft(g,pe);return W=$t(pe,"script"),W.length>0&&Vr(W,!ce&&$t(g,"script")),pe},cleanData:function(g){for(var x,O,k,F=d.event.special,V=0;(O=g[V])!==void 0;V++)if(qe(O)){if(x=O[xe.expando]){if(x.events)for(k in x.events)F[k]?d.event.remove(O,k):d.removeEvent(O,k,x.handle);O[xe.expando]=void 0}O[Ye.expando]&&(O[Ye.expando]=void 0)}}}),d.fn.extend({detach:function(g){return yt(this,g,!0)},remove:function(g){return yt(this,g)},text:function(g){return Ee(this,function(x){return x===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=x)})},null,g,arguments.length)},append:function(){return Ke(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var x=Tt(this,g);x.appendChild(g)}})},prepend:function(){return Ke(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var x=Tt(this,g);x.insertBefore(g,x.firstChild)}})},before:function(){return Ke(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Ke(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,x=0;(g=this[x])!=null;x++)g.nodeType===1&&(d.cleanData($t(g,!1)),g.textContent="");return this},clone:function(g,x){return g=g??!1,x=x??g,this.map(function(){return d.clone(this,g,x)})},html:function(g){return Ee(this,function(x){var O=this[0]||{},k=0,F=this.length;if(x===void 0&&O.nodeType===1)return O.innerHTML;if(typeof x=="string"&&!Nn.test(x)&&!Ut[(Un.exec(x)||["",""])[1].toLowerCase()]){x=d.htmlPrefilter(x);try{for(;k<F;k++)O=this[k]||{},O.nodeType===1&&(d.cleanData($t(O,!1)),O.innerHTML=x);O=0}catch{}}O&&this.empty().append(x)},null,g,arguments.length)},replaceWith:function(){var g=[];return Ke(this,arguments,function(x){var O=this.parentNode;d.inArray(this,g)<0&&(d.cleanData($t(this)),O&&O.replaceChild(x,this))},g)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,x){d.fn[g]=function(O){for(var k,F=[],V=d(O),W=V.length-1,pe=0;pe<=W;pe++)k=pe===W?this:this.clone(!0),d(V[pe])[x](k),a.apply(F,k.get());return this.pushStack(F)}});var Ct=new RegExp("^("+Yt+")(?!px)[a-z%]+$","i"),jt=/^--/,un=function(g){var x=g.ownerDocument.defaultView;return(!x||!x.opener)&&(x=t),x.getComputedStyle(g)},Wn=function(g,x,O){var k,F,V={};for(F in x)V[F]=g.style[F],g.style[F]=x[F];k=O.call(g);for(F in x)g.style[F]=V[F];return k},qt=new RegExp(nr.join("|"),"i");(function(){function g(){if(Ae){ce.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ae.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vr.appendChild(ce).appendChild(Ae);var Be=t.getComputedStyle(Ae);O=Be.top!=="1%",pe=x(Be.marginLeft)===12,Ae.style.right="60%",V=x(Be.right)===36,k=x(Be.width)===36,Ae.style.position="absolute",F=x(Ae.offsetWidth/3)===12,vr.removeChild(ce),Ae=null}}function x(Be){return Math.round(parseFloat(Be))}var O,k,F,V,W,pe,ce=S.createElement("div"),Ae=S.createElement("div");Ae.style&&(Ae.style.backgroundClip="content-box",Ae.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=Ae.style.backgroundClip==="content-box",d.extend(m,{boxSizingReliable:function(){return g(),k},pixelBoxStyles:function(){return g(),V},pixelPosition:function(){return g(),O},reliableMarginLeft:function(){return g(),pe},scrollboxSize:function(){return g(),F},reliableTrDimensions:function(){var Be,je,Me,ct;return W==null&&(Be=S.createElement("table"),je=S.createElement("tr"),Me=S.createElement("div"),Be.style.cssText="position:absolute;left:-11111px;border-collapse:separate",je.style.cssText="box-sizing:content-box;border:1px solid",je.style.height="1px",Me.style.height="9px",Me.style.display="block",vr.appendChild(Be).appendChild(je).appendChild(Me),ct=t.getComputedStyle(je),W=parseInt(ct.height,10)+parseInt(ct.borderTopWidth,10)+parseInt(ct.borderBottomWidth,10)===je.offsetHeight,vr.removeChild(Be)),W}}))})();function en(g,x,O){var k,F,V,W,pe=jt.test(x),ce=g.style;return O=O||un(g),O&&(W=O.getPropertyValue(x)||O[x],pe&&W&&(W=W.replace(J,"$1")||void 0),W===""&&!Nr(g)&&(W=d.style(g,x)),!m.pixelBoxStyles()&&Ct.test(W)&&qt.test(x)&&(k=ce.width,F=ce.minWidth,V=ce.maxWidth,ce.minWidth=ce.maxWidth=ce.width=W,W=O.width,ce.width=k,ce.minWidth=F,ce.maxWidth=V)),W!==void 0?W+"":W}function Tr(g,x){return{get:function(){if(g()){delete this.get;return}return(this.get=x).apply(this,arguments)}}}var qr=["Webkit","Moz","ms"],Gr=S.createElement("div").style,Pr={};function Tn(g){for(var x=g[0].toUpperCase()+g.slice(1),O=qr.length;O--;)if(g=qr[O]+x,g in Gr)return g}function Zt(g){var x=d.cssProps[g]||Pr[g];return x||(g in Gr?g:Pr[g]=Tn(g)||g)}var mi=/^(none|table(?!-c[ea]).+)/,Ei={position:"absolute",visibility:"hidden",display:"block"},Vi={letterSpacing:"0",fontWeight:"400"};function Qe(g,x,O){var k=xr.exec(x);return k?Math.max(0,k[2]-(O||0))+(k[3]||"px"):x}function gt(g,x,O,k,F,V){var W=x==="width"?1:0,pe=0,ce=0,Ae=0;if(O===(k?"border":"content"))return 0;for(;W<4;W+=2)O==="margin"&&(Ae+=d.css(g,O+nr[W],!0,F)),k?(O==="content"&&(ce-=d.css(g,"padding"+nr[W],!0,F)),O!=="margin"&&(ce-=d.css(g,"border"+nr[W]+"Width",!0,F))):(ce+=d.css(g,"padding"+nr[W],!0,F),O!=="padding"?ce+=d.css(g,"border"+nr[W]+"Width",!0,F):pe+=d.css(g,"border"+nr[W]+"Width",!0,F));return!k&&V>=0&&(ce+=Math.max(0,Math.ceil(g["offset"+x[0].toUpperCase()+x.slice(1)]-V-ce-pe-.5))||0),ce+Ae}function vt(g,x,O){var k=un(g),F=!m.boxSizingReliable()||O,V=F&&d.css(g,"boxSizing",!1,k)==="border-box",W=V,pe=en(g,x,k),ce="offset"+x[0].toUpperCase()+x.slice(1);if(Ct.test(pe)){if(!O)return pe;pe="auto"}return(!m.boxSizingReliable()&&V||!m.reliableTrDimensions()&&I(g,"tr")||pe==="auto"||!parseFloat(pe)&&d.css(g,"display",!1,k)==="inline")&&g.getClientRects().length&&(V=d.css(g,"boxSizing",!1,k)==="border-box",W=ce in g,W&&(pe=g[ce])),pe=parseFloat(pe)||0,pe+gt(g,x,O||(V?"border":"content"),W,k,pe)+"px"}d.extend({cssHooks:{opacity:{get:function(g,x){if(x){var O=en(g,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,x,O,k){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var F,V,W,pe=ze(x),ce=jt.test(x),Ae=g.style;if(ce||(x=Zt(pe)),W=d.cssHooks[x]||d.cssHooks[pe],O!==void 0){if(V=typeof O,V==="string"&&(F=xr.exec(O))&&F[1]&&(O=sr(g,x,F),V="number"),O==null||O!==O)return;V==="number"&&!ce&&(O+=F&&F[3]||(d.cssNumber[pe]?"":"px")),!m.clearCloneStyle&&O===""&&x.indexOf("background")===0&&(Ae[x]="inherit"),(!W||!("set"in W)||(O=W.set(g,O,k))!==void 0)&&(ce?Ae.setProperty(x,O):Ae[x]=O)}else return W&&"get"in W&&(F=W.get(g,!1,k))!==void 0?F:Ae[x]}},css:function(g,x,O,k){var F,V,W,pe=ze(x),ce=jt.test(x);return ce||(x=Zt(pe)),W=d.cssHooks[x]||d.cssHooks[pe],W&&"get"in W&&(F=W.get(g,!0,O)),F===void 0&&(F=en(g,x,k)),F==="normal"&&x in Vi&&(F=Vi[x]),O===""||O?(V=parseFloat(F),O===!0||isFinite(V)?V||0:F):F}}),d.each(["height","width"],function(g,x){d.cssHooks[x]={get:function(O,k,F){if(k)return mi.test(d.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?Wn(O,Ei,function(){return vt(O,x,F)}):vt(O,x,F)},set:function(O,k,F){var V,W=un(O),pe=!m.scrollboxSize()&&W.position==="absolute",ce=pe||F,Ae=ce&&d.css(O,"boxSizing",!1,W)==="border-box",Be=F?gt(O,x,F,Ae,W):0;return Ae&&pe&&(Be-=Math.ceil(O["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(W[x])-gt(O,x,"border",!1,W)-.5)),Be&&(V=xr.exec(k))&&(V[3]||"px")!=="px"&&(O.style[x]=k,k=d.css(O,x)),Qe(O,k,Be)}}}),d.cssHooks.marginLeft=Tr(m.reliableMarginLeft,function(g,x){if(x)return(parseFloat(en(g,"marginLeft"))||g.getBoundingClientRect().left-Wn(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(g,x){d.cssHooks[g+x]={expand:function(O){for(var k=0,F={},V=typeof O=="string"?O.split(" "):[O];k<4;k++)F[g+nr[k]+x]=V[k]||V[k-2]||V[0];return F}},g!=="margin"&&(d.cssHooks[g+x].set=Qe)}),d.fn.extend({css:function(g,x){return Ee(this,function(O,k,F){var V,W,pe={},ce=0;if(Array.isArray(k)){for(V=un(O),W=k.length;ce<W;ce++)pe[k[ce]]=d.css(O,k[ce],!1,V);return pe}return F!==void 0?d.style(O,k,F):d.css(O,k)},g,x,arguments.length>1)}});function pt(g,x,O,k,F){return new pt.prototype.init(g,x,O,k,F)}d.Tween=pt,pt.prototype={constructor:pt,init:function(g,x,O,k,F,V){this.elem=g,this.prop=O,this.easing=F||d.easing._default,this.options=x,this.start=this.now=this.cur(),this.end=k,this.unit=V||(d.cssNumber[O]?"":"px")},cur:function(){var g=pt.propHooks[this.prop];return g&&g.get?g.get(this):pt.propHooks._default.get(this)},run:function(g){var x,O=pt.propHooks[this.prop];return this.options.duration?this.pos=x=d.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=x=g,this.now=(this.end-this.start)*x+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):pt.propHooks._default.set(this),this}},pt.prototype.init.prototype=pt.prototype,pt.propHooks={_default:{get:function(g){var x;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(x=d.css(g.elem,g.prop,""),!x||x==="auto"?0:x)},set:function(g){d.fx.step[g.prop]?d.fx.step[g.prop](g):g.elem.nodeType===1&&(d.cssHooks[g.prop]||g.elem.style[Zt(g.prop)]!=null)?d.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},pt.propHooks.scrollTop=pt.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},d.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},d.fx=pt.prototype.init,d.fx.step={};var It,or,Xr=/^(?:toggle|show|hide)$/,hn=/queueHooks$/;function $r(){or&&(S.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame($r):t.setTimeout($r,d.fx.interval),d.fx.tick())}function xn(){return t.setTimeout(function(){It=void 0}),It=Date.now()}function Vn(g,x){var O,k=0,F={height:g};for(x=x?1:0;k<4;k+=2-x)O=nr[k],F["margin"+O]=F["padding"+O]=g;return x&&(F.opacity=F.width=g),F}function _i(g,x,O){for(var k,F=(Xn.tweeners[x]||[]).concat(Xn.tweeners["*"]),V=0,W=F.length;V<W;V++)if(k=F[V].call(O,x,g))return k}function Xo(g,x,O){var k,F,V,W,pe,ce,Ae,Be,je="width"in x||"height"in x,Me=this,ct={},At=g.style,hr=g.nodeType&&En(g),lr=xe.get(g,"fxshow");O.queue||(W=d._queueHooks(g,"fx"),W.unqueued==null&&(W.unqueued=0,pe=W.empty.fire,W.empty.fire=function(){W.unqueued||pe()}),W.unqueued++,Me.always(function(){Me.always(function(){W.unqueued--,d.queue(g,"fx").length||W.empty.fire()})}));for(k in x)if(F=x[k],Xr.test(F)){if(delete x[k],V=V||F==="toggle",F===(hr?"hide":"show"))if(F==="show"&&lr&&lr[k]!==void 0)hr=!0;else continue;ct[k]=lr&&lr[k]||d.style(g,k)}if(ce=!d.isEmptyObject(x),!(!ce&&d.isEmptyObject(ct))){je&&g.nodeType===1&&(O.overflow=[At.overflow,At.overflowX,At.overflowY],Ae=lr&&lr.display,Ae==null&&(Ae=xe.get(g,"display")),Be=d.css(g,"display"),Be==="none"&&(Ae?Be=Ae:(wn([g],!0),Ae=g.style.display||Ae,Be=d.css(g,"display"),wn([g]))),(Be==="inline"||Be==="inline-block"&&Ae!=null)&&d.css(g,"float")==="none"&&(ce||(Me.done(function(){At.display=Ae}),Ae==null&&(Be=At.display,Ae=Be==="none"?"":Be)),At.display="inline-block")),O.overflow&&(At.overflow="hidden",Me.always(function(){At.overflow=O.overflow[0],At.overflowX=O.overflow[1],At.overflowY=O.overflow[2]})),ce=!1;for(k in ct)ce||(lr?"hidden"in lr&&(hr=lr.hidden):lr=xe.access(g,"fxshow",{display:Ae}),V&&(lr.hidden=!hr),hr&&wn([g],!0),Me.done(function(){hr||wn([g]),xe.remove(g,"fxshow");for(k in ct)d.style(g,k,ct[k])})),ce=_i(hr?lr[k]:0,k,Me),k in lr||(lr[k]=ce.start,hr&&(ce.end=ce.start,ce.start=0))}}function Es(g,x){var O,k,F,V,W;for(O in g)if(k=ze(O),F=x[k],V=g[O],Array.isArray(V)&&(F=V[1],V=g[O]=V[0]),O!==k&&(g[k]=V,delete g[O]),W=d.cssHooks[k],W&&"expand"in W){V=W.expand(V),delete g[k];for(O in V)O in g||(g[O]=V[O],x[O]=F)}else x[k]=F}function Xn(g,x,O){var k,F,V=0,W=Xn.prefilters.length,pe=d.Deferred().always(function(){delete ce.elem}),ce=function(){if(F)return!1;for(var je=It||xn(),Me=Math.max(0,Ae.startTime+Ae.duration-je),ct=Me/Ae.duration||0,At=1-ct,hr=0,lr=Ae.tweens.length;hr<lr;hr++)Ae.tweens[hr].run(At);return pe.notifyWith(g,[Ae,At,Me]),At<1&&lr?Me:(lr||pe.notifyWith(g,[Ae,1,0]),pe.resolveWith(g,[Ae]),!1)},Ae=pe.promise({elem:g,props:d.extend({},x),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},O),originalProperties:x,originalOptions:O,startTime:It||xn(),duration:O.duration,tweens:[],createTween:function(je,Me){var ct=d.Tween(g,Ae.opts,je,Me,Ae.opts.specialEasing[je]||Ae.opts.easing);return Ae.tweens.push(ct),ct},stop:function(je){var Me=0,ct=je?Ae.tweens.length:0;if(F)return this;for(F=!0;Me<ct;Me++)Ae.tweens[Me].run(1);return je?(pe.notifyWith(g,[Ae,1,0]),pe.resolveWith(g,[Ae,je])):pe.rejectWith(g,[Ae,je]),this}}),Be=Ae.props;for(Es(Be,Ae.opts.specialEasing);V<W;V++)if(k=Xn.prefilters[V].call(Ae,g,Be,Ae.opts),k)return y(k.stop)&&(d._queueHooks(Ae.elem,Ae.opts.queue).stop=k.stop.bind(k)),k;return d.map(Be,_i,Ae),y(Ae.opts.start)&&Ae.opts.start.call(g,Ae),Ae.progress(Ae.opts.progress).done(Ae.opts.done,Ae.opts.complete).fail(Ae.opts.fail).always(Ae.opts.always),d.fx.timer(d.extend(ce,{elem:g,anim:Ae,queue:Ae.opts.queue})),Ae}d.Animation=d.extend(Xn,{tweeners:{"*":[function(g,x){var O=this.createTween(g,x);return sr(O.elem,g,xr.exec(x),O),O}]},tweener:function(g,x){y(g)?(x=g,g=["*"]):g=g.match(Le);for(var O,k=0,F=g.length;k<F;k++)O=g[k],Xn.tweeners[O]=Xn.tweeners[O]||[],Xn.tweeners[O].unshift(x)},prefilters:[Xo],prefilter:function(g,x){x?Xn.prefilters.unshift(g):Xn.prefilters.push(g)}}),d.speed=function(g,x,O){var k=g&&typeof g=="object"?d.extend({},g):{complete:O||!O&&x||y(g)&&g,duration:g,easing:O&&x||x&&!y(x)&&x};return d.fx.off?k.duration=0:typeof k.duration!="number"&&(k.duration in d.fx.speeds?k.duration=d.fx.speeds[k.duration]:k.duration=d.fx.speeds._default),(k.queue==null||k.queue===!0)&&(k.queue="fx"),k.old=k.complete,k.complete=function(){y(k.old)&&k.old.call(this),k.queue&&d.dequeue(this,k.queue)},k},d.fn.extend({fadeTo:function(g,x,O,k){return this.filter(En).css("opacity",0).show().end().animate({opacity:x},g,O,k)},animate:function(g,x,O,k){var F=d.isEmptyObject(g),V=d.speed(x,O,k),W=function(){var pe=Xn(this,d.extend({},g),V);(F||xe.get(this,"finish"))&&pe.stop(!0)};return W.finish=W,F||V.queue===!1?this.each(W):this.queue(V.queue,W)},stop:function(g,x,O){var k=function(F){var V=F.stop;delete F.stop,V(O)};return typeof g!="string"&&(O=x,x=g,g=void 0),x&&this.queue(g||"fx",[]),this.each(function(){var F=!0,V=g!=null&&g+"queueHooks",W=d.timers,pe=xe.get(this);if(V)pe[V]&&pe[V].stop&&k(pe[V]);else for(V in pe)pe[V]&&pe[V].stop&&hn.test(V)&&k(pe[V]);for(V=W.length;V--;)W[V].elem===this&&(g==null||W[V].queue===g)&&(W[V].anim.stop(O),F=!1,W.splice(V,1));(F||!O)&&d.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var x,O=xe.get(this),k=O[g+"queue"],F=O[g+"queueHooks"],V=d.timers,W=k?k.length:0;for(O.finish=!0,d.queue(this,g,[]),F&&F.stop&&F.stop.call(this,!0),x=V.length;x--;)V[x].elem===this&&V[x].queue===g&&(V[x].anim.stop(!0),V.splice(x,1));for(x=0;x<W;x++)k[x]&&k[x].finish&&k[x].finish.call(this);delete O.finish})}}),d.each(["toggle","show","hide"],function(g,x){var O=d.fn[x];d.fn[x]=function(k,F,V){return k==null||typeof k=="boolean"?O.apply(this,arguments):this.animate(Vn(x,!0),k,F,V)}}),d.each({slideDown:Vn("show"),slideUp:Vn("hide"),slideToggle:Vn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,x){d.fn[g]=function(O,k,F){return this.animate(x,O,k,F)}}),d.timers=[],d.fx.tick=function(){var g,x=0,O=d.timers;for(It=Date.now();x<O.length;x++)g=O[x],!g()&&O[x]===g&&O.splice(x--,1);O.length||d.fx.stop(),It=void 0},d.fx.timer=function(g){d.timers.push(g),d.fx.start()},d.fx.interval=13,d.fx.start=function(){or||(or=!0,$r())},d.fx.stop=function(){or=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(g,x){return g=d.fx&&d.fx.speeds[g]||g,x=x||"fx",this.queue(x,function(O,k){var F=t.setTimeout(O,g);k.stop=function(){t.clearTimeout(F)}})},function(){var g=S.createElement("input"),x=S.createElement("select"),O=x.appendChild(S.createElement("option"));g.type="checkbox",m.checkOn=g.value!=="",m.optSelected=O.selected,g=S.createElement("input"),g.value="t",g.type="radio",m.radioValue=g.value==="t"}();var Pa,ss=d.expr.attrHandle;d.fn.extend({attr:function(g,x){return Ee(this,d.attr,g,x,arguments.length>1)},removeAttr:function(g){return this.each(function(){d.removeAttr(this,g)})}}),d.extend({attr:function(g,x,O){var k,F,V=g.nodeType;if(!(V===3||V===8||V===2)){if(typeof g.getAttribute>"u")return d.prop(g,x,O);if((V!==1||!d.isXMLDoc(g))&&(F=d.attrHooks[x.toLowerCase()]||(d.expr.match.bool.test(x)?Pa:void 0)),O!==void 0){if(O===null){d.removeAttr(g,x);return}return F&&"set"in F&&(k=F.set(g,O,x))!==void 0?k:(g.setAttribute(x,O+""),O)}return F&&"get"in F&&(k=F.get(g,x))!==null?k:(k=d.find.attr(g,x),k??void 0)}},attrHooks:{type:{set:function(g,x){if(!m.radioValue&&x==="radio"&&I(g,"input")){var O=g.value;return g.setAttribute("type",x),O&&(g.value=O),x}}}},removeAttr:function(g,x){var O,k=0,F=x&&x.match(Le);if(F&&g.nodeType===1)for(;O=F[k++];)g.removeAttribute(O)}}),Pa={set:function(g,x,O){return x===!1?d.removeAttr(g,O):g.setAttribute(O,O),O}},d.each(d.expr.match.bool.source.match(/\w+/g),function(g,x){var O=ss[x]||d.find.attr;ss[x]=function(k,F,V){var W,pe,ce=F.toLowerCase();return V||(pe=ss[ce],ss[ce]=W,W=O(k,F,V)!=null?ce:null,ss[ce]=pe),W}});var Ca=/^(?:input|select|textarea|button)$/i,Yo=/^(?:a|area)$/i;d.fn.extend({prop:function(g,x){return Ee(this,d.prop,g,x,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[d.propFix[g]||g]})}}),d.extend({prop:function(g,x,O){var k,F,V=g.nodeType;if(!(V===3||V===8||V===2))return(V!==1||!d.isXMLDoc(g))&&(x=d.propFix[x]||x,F=d.propHooks[x]),O!==void 0?F&&"set"in F&&(k=F.set(g,O,x))!==void 0?k:g[x]=O:F&&"get"in F&&(k=F.get(g,x))!==null?k:g[x]},propHooks:{tabIndex:{get:function(g){var x=d.find.attr(g,"tabindex");return x?parseInt(x,10):Ca.test(g.nodeName)||Yo.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(d.propHooks.selected={get:function(g){var x=g.parentNode;return x&&x.parentNode&&x.parentNode.selectedIndex,null},set:function(g){var x=g.parentNode;x&&(x.selectedIndex,x.parentNode&&x.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function Ko(g){var x=g.match(Le)||[];return x.join(" ")}function Zo(g){return g.getAttribute&&g.getAttribute("class")||""}function df(g){return Array.isArray(g)?g:typeof g=="string"?g.match(Le)||[]:[]}d.fn.extend({addClass:function(g){var x,O,k,F,V,W;return y(g)?this.each(function(pe){d(this).addClass(g.call(this,pe,Zo(this)))}):(x=df(g),x.length?this.each(function(){if(k=Zo(this),O=this.nodeType===1&&" "+Ko(k)+" ",O){for(V=0;V<x.length;V++)F=x[V],O.indexOf(" "+F+" ")<0&&(O+=F+" ");W=Ko(O),k!==W&&this.setAttribute("class",W)}}):this)},removeClass:function(g){var x,O,k,F,V,W;return y(g)?this.each(function(pe){d(this).removeClass(g.call(this,pe,Zo(this)))}):arguments.length?(x=df(g),x.length?this.each(function(){if(k=Zo(this),O=this.nodeType===1&&" "+Ko(k)+" ",O){for(V=0;V<x.length;V++)for(F=x[V];O.indexOf(" "+F+" ")>-1;)O=O.replace(" "+F+" "," ");W=Ko(O),k!==W&&this.setAttribute("class",W)}}):this):this.attr("class","")},toggleClass:function(g,x){var O,k,F,V,W=typeof g,pe=W==="string"||Array.isArray(g);return y(g)?this.each(function(ce){d(this).toggleClass(g.call(this,ce,Zo(this),x),x)}):typeof x=="boolean"&&pe?x?this.addClass(g):this.removeClass(g):(O=df(g),this.each(function(){if(pe)for(V=d(this),F=0;F<O.length;F++)k=O[F],V.hasClass(k)?V.removeClass(k):V.addClass(k);else(g===void 0||W==="boolean")&&(k=Zo(this),k&&xe.set(this,"__className__",k),this.setAttribute&&this.setAttribute("class",k||g===!1?"":xe.get(this,"__className__")||""))}))},hasClass:function(g){var x,O,k=0;for(x=" "+g+" ";O=this[k++];)if(O.nodeType===1&&(" "+Ko(Zo(O))+" ").indexOf(x)>-1)return!0;return!1}});var fd=/\r/g;d.fn.extend({val:function(g){var x,O,k,F=this[0];return arguments.length?(k=y(g),this.each(function(V){var W;this.nodeType===1&&(k?W=g.call(this,V,d(this).val()):W=g,W==null?W="":typeof W=="number"?W+="":Array.isArray(W)&&(W=d.map(W,function(pe){return pe==null?"":pe+""})),x=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!x||!("set"in x)||x.set(this,W,"value")===void 0)&&(this.value=W))})):F?(x=d.valHooks[F.type]||d.valHooks[F.nodeName.toLowerCase()],x&&"get"in x&&(O=x.get(F,"value"))!==void 0?O:(O=F.value,typeof O=="string"?O.replace(fd,""):O??"")):void 0}}),d.extend({valHooks:{option:{get:function(g){var x=d.find.attr(g,"value");return x??Ko(d.text(g))}},select:{get:function(g){var x,O,k,F=g.options,V=g.selectedIndex,W=g.type==="select-one",pe=W?null:[],ce=W?V+1:F.length;for(V<0?k=ce:k=W?V:0;k<ce;k++)if(O=F[k],(O.selected||k===V)&&!O.disabled&&(!O.parentNode.disabled||!I(O.parentNode,"optgroup"))){if(x=d(O).val(),W)return x;pe.push(x)}return pe},set:function(g,x){for(var O,k,F=g.options,V=d.makeArray(x),W=F.length;W--;)k=F[W],(k.selected=d.inArray(d.valHooks.option.get(k),V)>-1)&&(O=!0);return O||(g.selectedIndex=-1),V}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(g,x){if(Array.isArray(x))return g.checked=d.inArray(d(g).val(),x)>-1}},m.checkOn||(d.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var ou=t.location,vf={guid:Date.now()},jc=/\?/;d.parseXML=function(g){var x,O;if(!g||typeof g!="string")return null;try{x=new t.DOMParser().parseFromString(g,"text/xml")}catch{}return O=x&&x.getElementsByTagName("parsererror")[0],(!x||O)&&d.error("Invalid XML: "+(O?d.map(O.childNodes,function(k){return k.textContent}).join(`
`):g)),x};var hd=/^(?:focusinfocus|focusoutblur)$/,dd=function(g){g.stopPropagation()};d.extend(d.event,{trigger:function(g,x,O,k){var F,V,W,pe,ce,Ae,Be,je,Me=[O||S],ct=h.call(g,"type")?g.type:g,At=h.call(g,"namespace")?g.namespace.split("."):[];if(V=je=W=O=O||S,!(O.nodeType===3||O.nodeType===8)&&!hd.test(ct+d.event.triggered)&&(ct.indexOf(".")>-1&&(At=ct.split("."),ct=At.shift(),At.sort()),ce=ct.indexOf(":")<0&&"on"+ct,g=g[d.expando]?g:new d.Event(ct,typeof g=="object"&&g),g.isTrigger=k?2:3,g.namespace=At.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+At.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=O),x=x==null?[g]:d.makeArray(x,[g]),Be=d.event.special[ct]||{},!(!k&&Be.trigger&&Be.trigger.apply(O,x)===!1))){if(!k&&!Be.noBubble&&!b(O)){for(pe=Be.delegateType||ct,hd.test(pe+ct)||(V=V.parentNode);V;V=V.parentNode)Me.push(V),W=V;W===(O.ownerDocument||S)&&Me.push(W.defaultView||W.parentWindow||t)}for(F=0;(V=Me[F++])&&!g.isPropagationStopped();)je=V,g.type=F>1?pe:Be.bindType||ct,Ae=(xe.get(V,"events")||Object.create(null))[g.type]&&xe.get(V,"handle"),Ae&&Ae.apply(V,x),Ae=ce&&V[ce],Ae&&Ae.apply&&qe(V)&&(g.result=Ae.apply(V,x),g.result===!1&&g.preventDefault());return g.type=ct,!k&&!g.isDefaultPrevented()&&(!Be._default||Be._default.apply(Me.pop(),x)===!1)&&qe(O)&&ce&&y(O[ct])&&!b(O)&&(W=O[ce],W&&(O[ce]=null),d.event.triggered=ct,g.isPropagationStopped()&&je.addEventListener(ct,dd),O[ct](),g.isPropagationStopped()&&je.removeEventListener(ct,dd),d.event.triggered=void 0,W&&(O[ce]=W)),g.result}},simulate:function(g,x,O){var k=d.extend(new d.Event,O,{type:g,isSimulated:!0});d.event.trigger(k,null,x)}}),d.fn.extend({trigger:function(g,x){return this.each(function(){d.event.trigger(g,x,this)})},triggerHandler:function(g,x){var O=this[0];if(O)return d.event.trigger(g,x,O,!0)}});var Mg=/\[\]$/,pf=/\r?\n/g,kg=/^(?:submit|button|image|reset|file)$/i,Lg=/^(?:input|select|textarea|keygen)/i;function gf(g,x,O,k){var F;if(Array.isArray(x))d.each(x,function(V,W){O||Mg.test(g)?k(g,W):gf(g+"["+(typeof W=="object"&&W!=null?V:"")+"]",W,O,k)});else if(!O&&P(x)==="object")for(F in x)gf(g+"["+F+"]",x[F],O,k);else k(g,x)}d.param=function(g,x){var O,k=[],F=function(V,W){var pe=y(W)?W():W;k[k.length]=encodeURIComponent(V)+"="+encodeURIComponent(pe??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!d.isPlainObject(g))d.each(g,function(){F(this.name,this.value)});else for(O in g)gf(O,g[O],x,F);return k.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=d.prop(this,"elements");return g?d.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!d(this).is(":disabled")&&Lg.test(this.nodeName)&&!kg.test(g)&&(this.checked||!mn.test(g))}).map(function(g,x){var O=d(this).val();return O==null?null:Array.isArray(O)?d.map(O,function(k){return{name:x.name,value:k.replace(pf,`\r
`)}}):{name:x.name,value:O.replace(pf,`\r
`)}}).get()}});var Ng=/%20/g,mf=/#.*$/,qg=/([?&])_=[^&]*/,Dg=/^(.*?):[ \t]*([^\r\n]*)$/mg,Fg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bg=/^(?:GET|HEAD)$/,zg=/^\/\//,dn={},tn={},vd="*/".concat("*"),_f=S.createElement("a");_f.href=ou.href;function pd(g){return function(x,O){typeof x!="string"&&(O=x,x="*");var k,F=0,V=x.toLowerCase().match(Le)||[];if(y(O))for(;k=V[F++];)k[0]==="+"?(k=k.slice(1)||"*",(g[k]=g[k]||[]).unshift(O)):(g[k]=g[k]||[]).push(O)}}function gd(g,x,O,k){var F={},V=g===tn;function W(pe){var ce;return F[pe]=!0,d.each(g[pe]||[],function(Ae,Be){var je=Be(x,O,k);if(typeof je=="string"&&!V&&!F[je])return x.dataTypes.unshift(je),W(je),!1;if(V)return!(ce=je)}),ce}return W(x.dataTypes[0])||!F["*"]&&W("*")}function yf(g,x){var O,k,F=d.ajaxSettings.flatOptions||{};for(O in x)x[O]!==void 0&&((F[O]?g:k||(k={}))[O]=x[O]);return k&&d.extend(!0,g,k),g}function Vg(g,x,O){for(var k,F,V,W,pe=g.contents,ce=g.dataTypes;ce[0]==="*";)ce.shift(),k===void 0&&(k=g.mimeType||x.getResponseHeader("Content-Type"));if(k){for(F in pe)if(pe[F]&&pe[F].test(k)){ce.unshift(F);break}}if(ce[0]in O)V=ce[0];else{for(F in O){if(!ce[0]||g.converters[F+" "+ce[0]]){V=F;break}W||(W=F)}V=V||W}if(V)return V!==ce[0]&&ce.unshift(V),O[V]}function md(g,x,O,k){var F,V,W,pe,ce,Ae={},Be=g.dataTypes.slice();if(Be[1])for(W in g.converters)Ae[W.toLowerCase()]=g.converters[W];for(V=Be.shift();V;)if(g.responseFields[V]&&(O[g.responseFields[V]]=x),!ce&&k&&g.dataFilter&&(x=g.dataFilter(x,g.dataType)),ce=V,V=Be.shift(),V){if(V==="*")V=ce;else if(ce!=="*"&&ce!==V){if(W=Ae[ce+" "+V]||Ae["* "+V],!W){for(F in Ae)if(pe=F.split(" "),pe[1]===V&&(W=Ae[ce+" "+pe[0]]||Ae["* "+pe[0]],W)){W===!0?W=Ae[F]:Ae[F]!==!0&&(V=pe[0],Be.unshift(pe[1]));break}}if(W!==!0)if(W&&g.throws)x=W(x);else try{x=W(x)}catch(je){return{state:"parsererror",error:W?je:"No conversion from "+ce+" to "+V}}}}return{state:"success",data:x}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ou.href,type:"GET",isLocal:Fg.test(ou.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,x){return x?yf(yf(g,d.ajaxSettings),x):yf(d.ajaxSettings,g)},ajaxPrefilter:pd(dn),ajaxTransport:pd(tn),ajax:function(g,x){typeof g=="object"&&(x=g,g=void 0),x=x||{};var O,k,F,V,W,pe,ce,Ae,Be,je,Me=d.ajaxSetup({},x),ct=Me.context||Me,At=Me.context&&(ct.nodeType||ct.jquery)?d(ct):d.event,hr=d.Deferred(),lr=d.Callbacks("once memory"),li=Me.statusCode||{},Dn={},Gs={},$s="canceled",Cr={readyState:0,getResponseHeader:function(Rr){var cn;if(ce){if(!V)for(V={};cn=Dg.exec(F);)V[cn[1].toLowerCase()+" "]=(V[cn[1].toLowerCase()+" "]||[]).concat(cn[2]);cn=V[Rr.toLowerCase()+" "]}return cn==null?null:cn.join(", ")},getAllResponseHeaders:function(){return ce?F:null},setRequestHeader:function(Rr,cn){return ce==null&&(Rr=Gs[Rr.toLowerCase()]=Gs[Rr.toLowerCase()]||Rr,Dn[Rr]=cn),this},overrideMimeType:function(Rr){return ce==null&&(Me.mimeType=Rr),this},statusCode:function(Rr){var cn;if(Rr)if(ce)Cr.always(Rr[Cr.status]);else for(cn in Rr)li[cn]=[li[cn],Rr[cn]];return this},abort:function(Rr){var cn=Rr||$s;return O&&O.abort(cn),Jo(0,cn),this}};if(hr.promise(Cr),Me.url=((g||Me.url||ou.href)+"").replace(zg,ou.protocol+"//"),Me.type=x.method||x.type||Me.method||Me.type,Me.dataTypes=(Me.dataType||"*").toLowerCase().match(Le)||[""],Me.crossDomain==null){pe=S.createElement("a");try{pe.href=Me.url,pe.href=pe.href,Me.crossDomain=_f.protocol+"//"+_f.host!=pe.protocol+"//"+pe.host}catch{Me.crossDomain=!0}}if(Me.data&&Me.processData&&typeof Me.data!="string"&&(Me.data=d.param(Me.data,Me.traditional)),gd(dn,Me,x,Cr),ce)return Cr;Ae=d.event&&Me.global,Ae&&d.active++===0&&d.event.trigger("ajaxStart"),Me.type=Me.type.toUpperCase(),Me.hasContent=!Bg.test(Me.type),k=Me.url.replace(mf,""),Me.hasContent?Me.data&&Me.processData&&(Me.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Me.data=Me.data.replace(Ng,"+")):(je=Me.url.slice(k.length),Me.data&&(Me.processData||typeof Me.data=="string")&&(k+=(jc.test(k)?"&":"?")+Me.data,delete Me.data),Me.cache===!1&&(k=k.replace(qg,"$1"),je=(jc.test(k)?"&":"?")+"_="+vf.guid+++je),Me.url=k+je),Me.ifModified&&(d.lastModified[k]&&Cr.setRequestHeader("If-Modified-Since",d.lastModified[k]),d.etag[k]&&Cr.setRequestHeader("If-None-Match",d.etag[k])),(Me.data&&Me.hasContent&&Me.contentType!==!1||x.contentType)&&Cr.setRequestHeader("Content-Type",Me.contentType),Cr.setRequestHeader("Accept",Me.dataTypes[0]&&Me.accepts[Me.dataTypes[0]]?Me.accepts[Me.dataTypes[0]]+(Me.dataTypes[0]!=="*"?", "+vd+"; q=0.01":""):Me.accepts["*"]);for(Be in Me.headers)Cr.setRequestHeader(Be,Me.headers[Be]);if(Me.beforeSend&&(Me.beforeSend.call(ct,Cr,Me)===!1||ce))return Cr.abort();if($s="abort",lr.add(Me.complete),Cr.done(Me.success),Cr.fail(Me.error),O=gd(tn,Me,x,Cr),!O)Jo(-1,"No Transport");else{if(Cr.readyState=1,Ae&&At.trigger("ajaxSend",[Cr,Me]),ce)return Cr;Me.async&&Me.timeout>0&&(W=t.setTimeout(function(){Cr.abort("timeout")},Me.timeout));try{ce=!1,O.send(Dn,Jo)}catch(Rr){if(ce)throw Rr;Jo(-1,Rr)}}function Jo(Rr,cn,Hu,Wc){var As,Ra,as,xo,Qo,Ii=cn;ce||(ce=!0,W&&t.clearTimeout(W),O=void 0,F=Wc||"",Cr.readyState=Rr>0?4:0,As=Rr>=200&&Rr<300||Rr===304,Hu&&(xo=Vg(Me,Cr,Hu)),!As&&d.inArray("script",Me.dataTypes)>-1&&d.inArray("json",Me.dataTypes)<0&&(Me.converters["text script"]=function(){}),xo=md(Me,xo,Cr,As),As?(Me.ifModified&&(Qo=Cr.getResponseHeader("Last-Modified"),Qo&&(d.lastModified[k]=Qo),Qo=Cr.getResponseHeader("etag"),Qo&&(d.etag[k]=Qo)),Rr===204||Me.type==="HEAD"?Ii="nocontent":Rr===304?Ii="notmodified":(Ii=xo.state,Ra=xo.data,as=xo.error,As=!as)):(as=Ii,(Rr||!Ii)&&(Ii="error",Rr<0&&(Rr=0))),Cr.status=Rr,Cr.statusText=(cn||Ii)+"",As?hr.resolveWith(ct,[Ra,Ii,Cr]):hr.rejectWith(ct,[Cr,Ii,as]),Cr.statusCode(li),li=void 0,Ae&&At.trigger(As?"ajaxSuccess":"ajaxError",[Cr,Me,As?Ra:as]),lr.fireWith(ct,[Cr,Ii]),Ae&&(At.trigger("ajaxComplete",[Cr,Me]),--d.active||d.event.trigger("ajaxStop")))}return Cr},getJSON:function(g,x,O){return d.get(g,x,O,"json")},getScript:function(g,x){return d.get(g,void 0,x,"script")}}),d.each(["get","post"],function(g,x){d[x]=function(O,k,F,V){return y(k)&&(V=V||F,F=k,k=void 0),d.ajax(d.extend({url:O,type:x,dataType:V,data:k,success:F},d.isPlainObject(O)&&O))}}),d.ajaxPrefilter(function(g){var x;for(x in g.headers)x.toLowerCase()==="content-type"&&(g.contentType=g.headers[x]||"")}),d._evalUrl=function(g,x,O){return d.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(k){d.globalEval(k,x,O)}})},d.fn.extend({wrapAll:function(g){var x;return this[0]&&(y(g)&&(g=g.call(this[0])),x=d(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&x.insertBefore(this[0]),x.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(g){return y(g)?this.each(function(x){d(this).wrapInner(g.call(this,x))}):this.each(function(){var x=d(this),O=x.contents();O.length?O.wrapAll(g):x.append(g)})},wrap:function(g){var x=y(g);return this.each(function(O){d(this).wrapAll(x?g.call(this,O):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(g){return!d.expr.pseudos.visible(g)},d.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Gg={0:200,1223:204},qn=d.ajaxSettings.xhr();m.cors=!!qn&&"withCredentials"in qn,m.ajax=qn=!!qn,d.ajaxTransport(function(g){var x,O;if(m.cors||qn&&!g.crossDomain)return{send:function(k,F){var V,W=g.xhr();if(W.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(V in g.xhrFields)W[V]=g.xhrFields[V];g.mimeType&&W.overrideMimeType&&W.overrideMimeType(g.mimeType),!g.crossDomain&&!k["X-Requested-With"]&&(k["X-Requested-With"]="XMLHttpRequest");for(V in k)W.setRequestHeader(V,k[V]);x=function(pe){return function(){x&&(x=O=W.onload=W.onerror=W.onabort=W.ontimeout=W.onreadystatechange=null,pe==="abort"?W.abort():pe==="error"?typeof W.status!="number"?F(0,"error"):F(W.status,W.statusText):F(Gg[W.status]||W.status,W.statusText,(W.responseType||"text")!=="text"||typeof W.responseText!="string"?{binary:W.response}:{text:W.responseText},W.getAllResponseHeaders()))}},W.onload=x(),O=W.onerror=W.ontimeout=x("error"),W.onabort!==void 0?W.onabort=O:W.onreadystatechange=function(){W.readyState===4&&t.setTimeout(function(){x&&O()})},x=x("abort");try{W.send(g.hasContent&&g.data||null)}catch(pe){if(x)throw pe}},abort:function(){x&&x()}}}),d.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return d.globalEval(g),g}}}),d.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),d.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var x,O;return{send:function(k,F){x=d("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",O=function(V){x.remove(),O=null,V&&F(V.type==="error"?404:200,V.type)}),S.head.appendChild(x[0])},abort:function(){O&&O()}}}});var Hc=[],wo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Hc.pop()||d.expando+"_"+vf.guid++;return this[g]=!0,g}}),d.ajaxPrefilter("json jsonp",function(g,x,O){var k,F,V,W=g.jsonp!==!1&&(wo.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&wo.test(g.data)&&"data");if(W||g.dataTypes[0]==="jsonp")return k=g.jsonpCallback=y(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,W?g[W]=g[W].replace(wo,"$1"+k):g.jsonp!==!1&&(g.url+=(jc.test(g.url)?"&":"?")+g.jsonp+"="+k),g.converters["script json"]=function(){return V||d.error(k+" was not called"),V[0]},g.dataTypes[0]="json",F=t[k],t[k]=function(){V=arguments},O.always(function(){F===void 0?d(t).removeProp(k):t[k]=F,g[k]&&(g.jsonpCallback=x.jsonpCallback,Hc.push(k)),V&&y(F)&&F(V[0]),V=F=void 0}),"script"}),m.createHTMLDocument=function(){var g=S.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),d.parseHTML=function(g,x,O){if(typeof g!="string")return[];typeof x=="boolean"&&(O=x,x=!1);var k,F,V;return x||(m.createHTMLDocument?(x=S.implementation.createHTMLDocument(""),k=x.createElement("base"),k.href=S.location.href,x.head.appendChild(k)):x=S),F=Se.exec(g),V=!O&&[],F?[x.createElement(F[1])]:(F=An([g],x,V),V&&V.length&&d(V).remove(),d.merge([],F.childNodes))},d.fn.load=function(g,x,O){var k,F,V,W=this,pe=g.indexOf(" ");return pe>-1&&(k=Ko(g.slice(pe)),g=g.slice(0,pe)),y(x)?(O=x,x=void 0):x&&typeof x=="object"&&(F="POST"),W.length>0&&d.ajax({url:g,type:F||"GET",dataType:"html",data:x}).done(function(ce){V=arguments,W.html(k?d("<div>").append(d.parseHTML(ce)).find(k):ce)}).always(O&&function(ce,Ae){W.each(function(){O.apply(this,V||[ce.responseText,Ae,ce])})}),this},d.expr.pseudos.animated=function(g){return d.grep(d.timers,function(x){return g===x.elem}).length},d.offset={setOffset:function(g,x,O){var k,F,V,W,pe,ce,Ae,Be=d.css(g,"position"),je=d(g),Me={};Be==="static"&&(g.style.position="relative"),pe=je.offset(),V=d.css(g,"top"),ce=d.css(g,"left"),Ae=(Be==="absolute"||Be==="fixed")&&(V+ce).indexOf("auto")>-1,Ae?(k=je.position(),W=k.top,F=k.left):(W=parseFloat(V)||0,F=parseFloat(ce)||0),y(x)&&(x=x.call(g,O,d.extend({},pe))),x.top!=null&&(Me.top=x.top-pe.top+W),x.left!=null&&(Me.left=x.left-pe.left+F),"using"in x?x.using.call(g,Me):je.css(Me)}},d.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(F){d.offset.setOffset(this,g,F)});var x,O,k=this[0];if(k)return k.getClientRects().length?(x=k.getBoundingClientRect(),O=k.ownerDocument.defaultView,{top:x.top+O.pageYOffset,left:x.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,x,O,k=this[0],F={top:0,left:0};if(d.css(k,"position")==="fixed")x=k.getBoundingClientRect();else{for(x=this.offset(),O=k.ownerDocument,g=k.offsetParent||O.documentElement;g&&(g===O.body||g===O.documentElement)&&d.css(g,"position")==="static";)g=g.parentNode;g&&g!==k&&g.nodeType===1&&(F=d(g).offset(),F.top+=d.css(g,"borderTopWidth",!0),F.left+=d.css(g,"borderLeftWidth",!0))}return{top:x.top-F.top-d.css(k,"marginTop",!0),left:x.left-F.left-d.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&d.css(g,"position")==="static";)g=g.offsetParent;return g||vr})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,x){var O=x==="pageYOffset";d.fn[g]=function(k){return Ee(this,function(F,V,W){var pe;if(b(F)?pe=F:F.nodeType===9&&(pe=F.defaultView),W===void 0)return pe?pe[x]:F[V];pe?pe.scrollTo(O?pe.pageXOffset:W,O?W:pe.pageYOffset):F[V]=W},g,k,arguments.length)}}),d.each(["top","left"],function(g,x){d.cssHooks[x]=Tr(m.pixelPosition,function(O,k){if(k)return k=en(O,x),Ct.test(k)?d(O).position()[x]+"px":k})}),d.each({Height:"height",Width:"width"},function(g,x){d.each({padding:"inner"+g,content:x,"":"outer"+g},function(O,k){d.fn[k]=function(F,V){var W=arguments.length&&(O||typeof F!="boolean"),pe=O||(F===!0||V===!0?"margin":"border");return Ee(this,function(ce,Ae,Be){var je;return b(ce)?k.indexOf("outer")===0?ce["inner"+g]:ce.document.documentElement["client"+g]:ce.nodeType===9?(je=ce.documentElement,Math.max(ce.body["scroll"+g],je["scroll"+g],ce.body["offset"+g],je["offset"+g],je["client"+g])):Be===void 0?d.css(ce,Ae,pe):d.style(ce,Ae,Be,pe)},x,W?F:void 0,W)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,x){d.fn[x]=function(O){return this.on(x,O)}}),d.fn.extend({bind:function(g,x,O){return this.on(g,null,x,O)},unbind:function(g,x){return this.off(g,null,x)},delegate:function(g,x,O,k){return this.on(x,g,O,k)},undelegate:function(g,x,O){return arguments.length===1?this.off(g,"**"):this.off(x,g||"**",O)},hover:function(g,x){return this.on("mouseenter",g).on("mouseleave",x||g)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,x){d.fn[x]=function(O,k){return arguments.length>0?this.on(x,null,O,k):this.trigger(x)}});var _d=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(g,x){var O,k,F;if(typeof x=="string"&&(O=g[x],x=g,g=O),!!y(g))return k=s.call(arguments,2),F=function(){return g.apply(x||this,k.concat(s.call(arguments)))},F.guid=g.guid=g.guid||d.guid++,F},d.holdReady=function(g){g?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=I,d.isFunction=y,d.isWindow=b,d.camelCase=ze,d.type=P,d.now=Date.now,d.isNumeric=function(g){var x=d.type(g);return(x==="number"||x==="string")&&!isNaN(g-parseFloat(g))},d.trim=function(g){return g==null?"":(g+"").replace(_d,"$1")};var bf=t.jQuery,os=t.$;return d.noConflict=function(g){return t.$===d&&(t.$=os),g&&t.jQuery===d&&(t.jQuery=bf),d},typeof r>"u"&&(t.jQuery=t.$=d),d})}(Rv)),Rv.exports}var Vz;function Tfe(){return Vz||(Vz=1,function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof qi=="object"&&qi.global===qi&&qi;{var n=Efe,i;try{i=FU()}catch{}t(r,e,n,i)}})(function(t,r,n,i){var s=t.Backbone,o=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=s,this},r.emulateHTTP=!1,r.emulateJSON=!1;var a=r.Events={},u=/\s+/,c,f=function(N,G,Y,K,Ee){var fe=0,Te;if(Y&&typeof Y=="object")for(K!==void 0&&("context"in Ee)&&Ee.context===void 0&&(Ee.context=K),Te=n.keys(Y);fe<Te.length;fe++)G=f(N,G,Te[fe],Y[Te[fe]],Ee);else if(Y&&u.test(Y))for(Te=Y.split(u);fe<Te.length;fe++)G=N(G,Te[fe],K,Ee);else G=N(G,Y,K,Ee);return G};a.on=function(N,G,Y){if(this._events=f(h,this._events||{},N,G,{context:Y,ctx:this,listening:c}),c){var K=this._listeners||(this._listeners={});K[c.id]=c,c.interop=!1}return this},a.listenTo=function(N,G,Y){if(!N)return this;var K=N._listenId||(N._listenId=n.uniqueId("l")),Ee=this._listeningTo||(this._listeningTo={}),fe=c=Ee[K];fe||(this._listenId||(this._listenId=n.uniqueId("l")),fe=c=Ee[K]=new S(this,N));var Te=p(N,G,Y,this);if(c=void 0,Te)throw Te;return fe.interop&&fe.on(G,Y),this};var h=function(N,G,Y,K){if(Y){var Ee=N[G]||(N[G]=[]),fe=K.context,Te=K.ctx,Re=K.listening;Re&&Re.count++,Ee.push({callback:Y,context:fe,ctx:fe||Te,listening:Re})}return N},p=function(N,G,Y,K){try{N.on(G,Y,K)}catch(Ee){return Ee}};a.off=function(N,G,Y){return this._events?(this._events=f(_,this._events,N,G,{context:Y,listeners:this._listeners}),this):this},a.stopListening=function(N,G,Y){var K=this._listeningTo;if(!K)return this;for(var Ee=N?[N._listenId]:n.keys(K),fe=0;fe<Ee.length;fe++){var Te=K[Ee[fe]];if(!Te)break;Te.obj.off(G,Y,this),Te.interop&&Te.off(G,Y)}return n.isEmpty(K)&&(this._listeningTo=void 0),this};var _=function(N,G,Y,K){if(N){var Ee=K.context,fe=K.listeners,Te=0,Re;if(!G&&!Ee&&!Y){for(Re=n.keys(fe);Te<Re.length;Te++)fe[Re[Te]].cleanup();return}for(Re=G?[G]:n.keys(N);Te<Re.length;Te++){G=Re[Te];var ze=N[G];if(!ze)break;for(var qe=[],Ie=0;Ie<ze.length;Ie++){var xe=ze[Ie];if(Y&&Y!==xe.callback&&Y!==xe.callback._callback||Ee&&Ee!==xe.context)qe.push(xe);else{var Ye=xe.listening;Ye&&Ye.off(G,Y)}}qe.length?N[G]=qe:delete N[G]}return N}};a.once=function(N,G,Y){var K=f(m,{},N,G,this.off.bind(this));return typeof N=="string"&&Y==null&&(G=void 0),this.on(K,G,Y)},a.listenToOnce=function(N,G,Y){var K=f(m,{},G,Y,this.stopListening.bind(this,N));return this.listenTo(N,K)};var m=function(N,G,Y,K){if(Y){var Ee=N[G]=n.once(function(){K(G,Ee),Y.apply(this,arguments)});Ee._callback=Y}return N};a.trigger=function(N){if(!this._events)return this;for(var G=Math.max(0,arguments.length-1),Y=Array(G),K=0;K<G;K++)Y[K]=arguments[K+1];return f(y,this._events,N,void 0,Y),this};var y=function(N,G,Y,K){if(N){var Ee=N[G],fe=N.all;Ee&&fe&&(fe=fe.slice()),Ee&&b(Ee,K),fe&&b(fe,[G].concat(K))}return N},b=function(N,G){var Y,K=-1,Ee=N.length,fe=G[0],Te=G[1],Re=G[2];switch(G.length){case 0:for(;++K<Ee;)(Y=N[K]).callback.call(Y.ctx);return;case 1:for(;++K<Ee;)(Y=N[K]).callback.call(Y.ctx,fe);return;case 2:for(;++K<Ee;)(Y=N[K]).callback.call(Y.ctx,fe,Te);return;case 3:for(;++K<Ee;)(Y=N[K]).callback.call(Y.ctx,fe,Te,Re);return;default:for(;++K<Ee;)(Y=N[K]).callback.apply(Y.ctx,G);return}},S=function(N,G){this.id=N._listenId,this.listener=N,this.obj=G,this.interop=!0,this.count=0,this._events=void 0};S.prototype.on=a.on,S.prototype.off=function(N,G){var Y;this.interop?(this._events=f(_,this._events,N,G,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},S.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(r,a);var E=r.Model=function(N,G){var Y=N||{};G||(G={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},G.collection&&(this.collection=G.collection),G.parse&&(Y=this.parse(Y,G)||{});var K=n.result(this,"defaults");Y=n.defaults(n.extend({},K,Y),K),this.set(Y,G),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return n.escape(this.get(N))},has:function(N){return this.get(N)!=null},matches:function(N){return!!n.iteratee(N,this)(this.attributes)},set:function(N,G,Y){if(N==null)return this;var K;if(typeof N=="object"?(K=N,Y=G):(K={})[N]=G,Y||(Y={}),!this._validate(K,Y))return!1;var Ee=Y.unset,fe=Y.silent,Te=[],Re=this._changing;this._changing=!0,Re||(this._previousAttributes=n.clone(this.attributes),this.changed={});var ze=this.attributes,qe=this.changed,Ie=this._previousAttributes;for(var xe in K)G=K[xe],n.isEqual(ze[xe],G)||Te.push(xe),n.isEqual(Ie[xe],G)?delete qe[xe]:qe[xe]=G,Ee?delete ze[xe]:ze[xe]=G;if(this.idAttribute in K){var Ye=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Ye,Y)}if(!fe){Te.length&&(this._pending=Y);for(var lt=0;lt<Te.length;lt++)this.trigger("change:"+Te[lt],this,ze[Te[lt]],Y)}if(Re)return this;if(!fe)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(N,G){return this.set(N,void 0,n.extend({},G,{unset:!0}))},clear:function(N){var G={};for(var Y in this.attributes)G[Y]=void 0;return this.set(G,n.extend({},N,{unset:!0}))},hasChanged:function(N){return N==null?!n.isEmpty(this.changed):n.has(this.changed,N)},changedAttributes:function(N){if(!N)return this.hasChanged()?n.clone(this.changed):!1;var G=this._changing?this._previousAttributes:this.attributes,Y={},K;for(var Ee in N){var fe=N[Ee];n.isEqual(G[Ee],fe)||(Y[Ee]=fe,K=!0)}return K?Y:!1},previous:function(N){return N==null||!this._previousAttributes?null:this._previousAttributes[N]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(N){N=n.extend({parse:!0},N);var G=this,Y=N.success;return N.success=function(K){var Ee=N.parse?G.parse(K,N):K;if(!G.set(Ee,N))return!1;Y&&Y.call(N.context,G,K,N),G.trigger("sync",G,K,N)},Ge(this,N),this.sync("read",this,N)},save:function(N,G,Y){var K;N==null||typeof N=="object"?(K=N,Y=G):(K={})[N]=G,Y=n.extend({validate:!0,parse:!0},Y);var Ee=Y.wait;if(K&&!Ee){if(!this.set(K,Y))return!1}else if(!this._validate(K,Y))return!1;var fe=this,Te=Y.success,Re=this.attributes;Y.success=function(Ie){fe.attributes=Re;var xe=Y.parse?fe.parse(Ie,Y):Ie;if(Ee&&(xe=n.extend({},K,xe)),xe&&!fe.set(xe,Y))return!1;Te&&Te.call(Y.context,fe,Ie,Y),fe.trigger("sync",fe,Ie,Y)},Ge(this,Y),K&&Ee&&(this.attributes=n.extend({},Re,K));var ze=this.isNew()?"create":Y.patch?"patch":"update";ze==="patch"&&!Y.attrs&&(Y.attrs=K);var qe=this.sync(ze,this,Y);return this.attributes=Re,qe},destroy:function(N){N=N?n.clone(N):{};var G=this,Y=N.success,K=N.wait,Ee=function(){G.stopListening(),G.trigger("destroy",G,G.collection,N)};N.success=function(Te){K&&Ee(),Y&&Y.call(N.context,G,Te,N),G.isNew()||G.trigger("sync",G,Te,N)};var fe=!1;return this.isNew()?n.defer(N.success):(Ge(this,N),fe=this.sync("delete",this,N)),K||Ee(),fe},url:function(){var N=n.result(this,"urlRoot")||n.result(this.collection,"url")||Je();if(this.isNew())return N;var G=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(G)},parse:function(N,G){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},n.extend({},N,{validate:!0}))},_validate:function(N,G){if(!G.validate||!this.validate)return!0;N=n.extend({},this.attributes,N);var Y=this.validationError=this.validate(N,G)||null;return Y?(this.trigger("invalid",this,Y,n.extend(G,{validationError:Y})),!1):!0}});var A=r.Collection=function(N,G){G||(G={}),this.preinitialize.apply(this,arguments),G.model&&(this.model=G.model),G.comparator!==void 0&&(this.comparator=G.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,n.extend({silent:!0},G))},P={add:!0,remove:!0,merge:!0},R={add:!0,remove:!1},q=function(N,G,Y){Y=Math.min(Math.max(Y,0),N.length);var K=Array(N.length-Y),Ee=G.length,fe;for(fe=0;fe<K.length;fe++)K[fe]=N[fe+Y];for(fe=0;fe<Ee;fe++)N[fe+Y]=G[fe];for(fe=0;fe<K.length;fe++)N[fe+Ee+Y]=K[fe]};n.extend(A.prototype,a,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(G){return G.toJSON(N)})},sync:function(){return r.sync.apply(this,arguments)},add:function(N,G){return this.set(N,n.extend({merge:!1},G,R))},remove:function(N,G){G=n.extend({},G);var Y=!n.isArray(N);N=Y?[N]:N.slice();var K=this._removeModels(N,G);return!G.silent&&K.length&&(G.changes={added:[],merged:[],removed:K},this.trigger("update",this,G)),Y?K[0]:K},set:function(N,G){if(N!=null){G=n.extend({},P,G),G.parse&&!this._isModel(N)&&(N=this.parse(N,G)||[]);var Y=!n.isArray(N);N=Y?[N]:N.slice();var K=G.at;K!=null&&(K=+K),K>this.length&&(K=this.length),K<0&&(K+=this.length+1);var Ee=[],fe=[],Te=[],Re=[],ze={},qe=G.add,Ie=G.merge,xe=G.remove,Ye=!1,lt=this.comparator&&K==null&&G.sort!==!1,_t=n.isString(this.comparator)?this.comparator:null,ht,it;for(it=0;it<N.length;it++){ht=N[it];var Yt=this.get(ht);if(Yt){if(Ie&&ht!==Yt){var xr=this._isModel(ht)?ht.attributes:ht;G.parse&&(xr=Yt.parse(xr,G)),Yt.set(xr,G),Te.push(Yt),lt&&!Ye&&(Ye=Yt.hasChanged(_t))}ze[Yt.cid]||(ze[Yt.cid]=!0,Ee.push(Yt)),N[it]=Yt}else qe&&(ht=N[it]=this._prepareModel(ht,G),ht&&(fe.push(ht),this._addReference(ht,G),ze[ht.cid]=!0,Ee.push(ht)))}if(xe){for(it=0;it<this.length;it++)ht=this.models[it],ze[ht.cid]||Re.push(ht);Re.length&&this._removeModels(Re,G)}var nr=!1,vr=!lt&&qe&&xe;if(Ee.length&&vr?(nr=this.length!==Ee.length||n.some(this.models,function(Nr,zr){return Nr!==Ee[zr]}),this.models.length=0,q(this.models,Ee,0),this.length=this.models.length):fe.length&&(lt&&(Ye=!0),q(this.models,fe,K??this.length),this.length=this.models.length),Ye&&this.sort({silent:!0}),!G.silent){for(it=0;it<fe.length;it++)K!=null&&(G.index=K+it),ht=fe[it],ht.trigger("add",ht,this,G);(Ye||nr)&&this.trigger("sort",this,G),(fe.length||Re.length||Te.length)&&(G.changes={added:fe,removed:Re,merged:Te},this.trigger("update",this,G))}return Y?N[0]:N}},reset:function(N,G){G=G?n.clone(G):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],G);return G.previousModels=this.models,this._reset(),N=this.add(N,n.extend({silent:!0},G)),G.silent||this.trigger("reset",this,G),N},push:function(N,G){return this.add(N,n.extend({at:this.length},G))},pop:function(N){var G=this.at(this.length-1);return this.remove(G,N)},unshift:function(N,G){return this.add(N,n.extend({at:0},G))},shift:function(N){var G=this.at(0);return this.remove(G,N)},slice:function(){return o.apply(this.models,arguments)},get:function(N){if(N!=null)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return this.get(N)!=null},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,G){return this[G?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var G=this.comparator;if(!G)throw new Error("Cannot sort a set without a comparator");N||(N={});var Y=G.length;return n.isFunction(G)&&(G=G.bind(this)),Y===1||n.isString(G)?this.models=this.sortBy(G):this.models.sort(G),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){N=n.extend({parse:!0},N);var G=N.success,Y=this;return N.success=function(K){var Ee=N.reset?"reset":"set";Y[Ee](K,N),G&&G.call(N.context,Y,K,N),Y.trigger("sync",Y,K,N)},Ge(this,N),this.sync("read",this,N)},create:function(N,G){G=G?n.clone(G):{};var Y=G.wait;if(N=this._prepareModel(N,G),!N)return!1;Y||this.add(N,G);var K=this,Ee=G.success;return G.success=function(fe,Te,Re){Y&&K.add(fe,Re),Ee&&Ee.call(Re.context,fe,Te,Re)},N.save(null,G),N},parse:function(N,G){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,G){return N[G||this.model.prototype.idAttribute||"id"]},values:function(){return new C(this,I)},keys:function(){return new C(this,L)},entries:function(){return new C(this,B)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,G){if(this._isModel(N))return N.collection||(N.collection=this),N;G=G?n.clone(G):{},G.collection=this;var Y;return this.model.prototype?Y=new this.model(N,G):Y=this.model(N,G),Y.validationError?(this.trigger("invalid",this,Y.validationError,G),!1):Y},_removeModels:function(N,G){for(var Y=[],K=0;K<N.length;K++){var Ee=this.get(N[K]);if(Ee){var fe=this.indexOf(Ee);this.models.splice(fe,1),this.length--,delete this._byId[Ee.cid];var Te=this.modelId(Ee.attributes,Ee.idAttribute);Te!=null&&delete this._byId[Te],G.silent||(G.index=fe,Ee.trigger("remove",Ee,this,G)),Y.push(Ee),this._removeReference(Ee,G)}}return Y},_isModel:function(N){return N instanceof E},_addReference:function(N,G){this._byId[N.cid]=N;var Y=this.modelId(N.attributes,N.idAttribute);Y!=null&&(this._byId[Y]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,G){delete this._byId[N.cid];var Y=this.modelId(N.attributes,N.idAttribute);Y!=null&&delete this._byId[Y],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,G,Y,K){if(G){if((N==="add"||N==="remove")&&Y!==this)return;if(N==="destroy"&&this.remove(G,K),N==="changeId"){var Ee=this.modelId(G.previousAttributes(),G.idAttribute),fe=this.modelId(G.attributes,G.idAttribute);Ee!=null&&delete this._byId[Ee],fe!=null&&(this._byId[fe]=G)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(A.prototype[d]=A.prototype.values);var C=function(N,G){this._collection=N,this._kind=G,this._index=0},I=1,L=2,B=3;d&&(C.prototype[d]=function(){return this}),C.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var N=this._collection.at(this._index);this._index++;var G;if(this._kind===I)G=N;else{var Y=this._collection.modelId(N.attributes,N.idAttribute);this._kind===L?G=Y:G=[Y,N]}return{value:G,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var H=r.View=function(N){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(N,J)),this._ensureElement(),this.initialize.apply(this,arguments)},$=/^(\S+)\s*(.*)$/,J=["model","collection","el","id","attributes","className","tagName","events"];n.extend(H.prototype,a,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof r.$?N:r.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=n.result(this,"events")),!N)return this;this.undelegateEvents();for(var G in N){var Y=N[G];if(n.isFunction(Y)||(Y=this[Y]),!!Y){var K=G.match($);this.delegate(K[1],K[2],Y.bind(this))}}return this},delegate:function(N,G,Y){return this.$el.on(N+".delegateEvents"+this.cid,G,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,G,Y){return this.$el.off(N+".delegateEvents"+this.cid,G,Y),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var N=n.extend({},n.result(this,"attributes"));this.id&&(N.id=n.result(this,"id")),this.className&&(N.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var ae=function(N,G,Y,K){switch(G){case 1:return function(){return N[Y](this[K])};case 2:return function(Ee){return N[Y](this[K],Ee)};case 3:return function(Ee,fe){return N[Y](this[K],D(Ee,this),fe)};case 4:return function(Ee,fe,Te){return N[Y](this[K],D(Ee,this),fe,Te)};default:return function(){var Ee=o.call(arguments);return Ee.unshift(this[K]),N[Y].apply(N,Ee)}}},X=function(N,G,Y,K){n.each(Y,function(Ee,fe){G[fe]&&(N.prototype[fe]=ae(G,Ee,fe,K))})},D=function(N,G){return n.isFunction(N)?N:n.isObject(N)&&!G._isModel(N)?z(N):n.isString(N)?function(Y){return Y.get(N)}:N},z=function(N){var G=n.matches(N);return function(Y){return G(Y.attributes)}},j={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ie={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[A,j,"models"],[E,ie,"attributes"]],function(N){var G=N[0],Y=N[1],K=N[2];G.mixin=function(Ee){var fe=n.reduce(n.functions(Ee),function(Te,Re){return Te[Re]=0,Te},{});X(G,Ee,fe,K)},X(G,n,Y,K)}),r.sync=function(N,G,Y){var K=oe[N];n.defaults(Y||(Y={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var Ee={type:K,dataType:"json"};if(Y.url||(Ee.url=n.result(G,"url")||Je()),Y.data==null&&G&&(N==="create"||N==="update"||N==="patch")&&(Ee.contentType="application/json",Ee.data=JSON.stringify(Y.attrs||G.toJSON(Y))),Y.emulateJSON&&(Ee.contentType="application/x-www-form-urlencoded",Ee.data=Ee.data?{model:Ee.data}:{}),Y.emulateHTTP&&(K==="PUT"||K==="DELETE"||K==="PATCH")){Ee.type="POST",Y.emulateJSON&&(Ee.data._method=K);var fe=Y.beforeSend;Y.beforeSend=function(ze){if(ze.setRequestHeader("X-HTTP-Method-Override",K),fe)return fe.apply(this,arguments)}}Ee.type!=="GET"&&!Y.emulateJSON&&(Ee.processData=!1);var Te=Y.error;Y.error=function(ze,qe,Ie){Y.textStatus=qe,Y.errorThrown=Ie,Te&&Te.call(Y.context,ze,qe,Ie)};var Re=Y.xhr=r.ajax(n.extend(Ee,Y));return G.trigger("request",G,Re,Y),Re};var oe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var Se=r.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_e=/\((.*?)\)/g,te=/(\(\?)?:\w+/g,ue=/\*\w+/g,re=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(Se.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(N,G,Y){n.isRegExp(N)||(N=this._routeToRegExp(N)),n.isFunction(G)&&(Y=G,G=""),Y||(Y=this[G]);var K=this;return r.history.route(N,function(Ee){var fe=K._extractParameters(N,Ee);K.execute(Y,fe,G)!==!1&&(K.trigger.apply(K,["route:"+G].concat(fe)),K.trigger("route",G,fe),r.history.trigger("route",K,G,fe))}),this},execute:function(N,G,Y){N&&N.apply(this,G)},navigate:function(N,G){return r.history.navigate(N,G),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var N,G=n.keys(this.routes);(N=G.pop())!=null;)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(re,"\\$&").replace(_e,"(?:$1)?").replace(te,function(G,Y){return Y?G:"([^/?]+)"}).replace(ue,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,G){var Y=N.exec(G).slice(1);return n.map(Y,function(K,Ee){return Ee===Y.length-1?K||null:K?decodeURIComponent(K):null})}});var Q=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},le=/^[#\/]|\s+$/g,Ve=/^\/+|\/+$/g,Le=/#.*$/;Q.started=!1,n.extend(Q.prototype,a,{interval:50,atRoot:function(){var N=this.location.pathname.replace(/[^\/]$/,"$&/");return N===this.root&&!this.getSearch()},matchRoot:function(){var N=this.decodeFragment(this.location.pathname),G=N.slice(0,this.root.length-1)+"/";return G===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var G=(N||this).location.href.match(/#(.*)$/);return G?G[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return N.charAt(0)==="/"?N.slice(1):N},getFragment:function(N){return N==null&&(this._usePushState||!this._wantsHashChange?N=this.getPath():N=this.getHash()),N.replace(le,"")},start:function(N){if(Q.started)throw new Error("Backbone.history has already been started");if(Q.started=!0,this.options=n.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ve,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var G=this.root.slice(0,-1)||"/";return this.location.replace(G+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,K=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;K.document.open(),K.document.close(),K.location.hash="#"+this.fragment}var Ee=window.addEventListener||function(fe,Te){return attachEvent("on"+fe,Te)};if(this._usePushState?Ee("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ee("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(G,Y){return detachEvent("on"+G,Y)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Q.started=!1},route:function(N,G){this.handlers.unshift({route:N,callback:G})},checkUrl:function(N){var G=this.getFragment();if(G===this.fragment&&this.iframe&&(G=this.getHash(this.iframe.contentWindow)),G===this.fragment)return!1;this.iframe&&this.navigate(G),this.loadUrl()},loadUrl:function(N){return this.matchRoot()?(N=this.fragment=this.getFragment(N),n.some(this.handlers,function(G){if(G.route.test(N))return G.callback(N),!0})):!1},navigate:function(N,G){if(!Q.started)return!1;(!G||G===!0)&&(G={trigger:!!G}),N=this.getFragment(N||"");var Y=this.root;(N===""||N.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var K=Y+N;N=N.replace(Le,"");var Ee=this.decodeFragment(N);if(this.fragment!==Ee){if(this.fragment=Ee,this._usePushState)this.history[G.replace?"replaceState":"pushState"]({},document.title,K);else if(this._wantsHashChange){if(this._updateHash(this.location,N,G.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var fe=this.iframe.contentWindow;G.replace||(fe.document.open(),fe.document.close()),this._updateHash(fe.location,N,G.replace)}}else return this.location.assign(K);if(G.trigger)return this.loadUrl(N)}},_updateHash:function(N,G,Y){if(Y){var K=N.href.replace(/(javascript:|#).*$/,"");N.replace(K+"#"+G)}else N.hash="#"+G}}),r.history=new Q;var Ce=function(N,G){var Y=this,K;return N&&n.has(N,"constructor")?K=N.constructor:K=function(){return Y.apply(this,arguments)},n.extend(K,Y,G),K.prototype=n.create(Y.prototype,N),K.prototype.constructor=K,K.__super__=Y.prototype,K};E.extend=A.extend=Se.extend=H.extend=Q.extend=Ce;var Je=function(){throw new Error('A "url" property or function must be specified')},Ge=function(N,G){var Y=G.error;G.error=function(K){Y&&Y.call(G.context,N,K,G),N.trigger("error",N,K,G)}};return r})}(XS)),XS}var Pfe=Tfe();const ei=Kl(Pfe);var Cfe=FU();const Mt=Kl(Cfe),He=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,s=n.atan2,o=n.sqrt,a=n.min,u=n.max,c=n.cos,f=n.sin,h=function(d,C,I){if(!(this instanceof h))return h.apply(Object.create(h.prototype),arguments);if(d){if(h.isV(d)&&(d=d.node),C=C||{},h.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=h.createSvgDocument();else if(d[0]==="<"){var L=h.createSvgDocument(d);if(L.childNodes.length>1){var B=[],H,$;for(H=0,$=L.childNodes.length;H<$;H++){var J=L.childNodes[H];B.push(new h(document.importNode(J,!0)))}return B}d=document.importNode(L.firstChild,!0)}else d=document.createElementNS(t.svg,d);h.ensureId(d)}return this.node=d,this.setAttributes(C),I&&this.append(I),this}},p=h.prototype;Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),p.getTransformToElement=function(d){var C=this.node;if(h.isSVGGraphicsElement(d)&&h.isSVGGraphicsElement(C)){var I=h.toNode(d).getScreenCTM(),L=C.getScreenCTM();if(I&&L)return I.inverse().multiply(L)}return h.createSVGMatrix()},p.transform=function(d,C){var I=this.node;if(h.isUndefined(d))return h.transformStringToMatrix(this.attr("transform"));if(C&&C.absolute)return this.attr("transform",h.matrixToTransformString(d));var L=h.createSVGTransform(d);return I.transform.baseVal.appendItem(L),this},p.translate=function(d,C,I){I=I||{},C=C||0;var L=this.attr("transform")||"",B=h.parseTransformString(L);if(L=B.value,h.isUndefined(d))return B.translate;L=L.replace(/translate\([^)]*\)/g,"").trim();var H=I.absolute?d:B.translate.tx+d,$=I.absolute?C:B.translate.ty+C,J="translate("+H+","+$+")";return this.attr("transform",(J+" "+L).trim()),this},p.rotate=function(d,C,I,L){L=L||{};var B=this.attr("transform")||"",H=h.parseTransformString(B);if(B=H.value,h.isUndefined(d))return H.rotate;B=B.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var $=L.absolute?d:H.rotate.angle+d,J=C!==void 0&&I!==void 0?","+C+","+I:"",ae="rotate("+$+J+")";return this.attr("transform",(B+" "+ae).trim()),this},p.scale=function(d,C){C=h.isUndefined(C)?d:C;var I=this.attr("transform")||"",L=h.parseTransformString(I);if(I=L.value,h.isUndefined(d))return L.scale;I=I.replace(/scale\([^)]*\)/g,"").trim();var B="scale("+d+","+C+")";return this.attr("transform",(I+" "+B).trim()),this},p.bbox=function(d,C){var I,L=this.node,B=L.ownerSVGElement;if(!B)return new mt(0,0,0,0);try{I=L.getBBox()}catch{I={x:L.clientLeft,y:L.clientTop,width:L.clientWidth,height:L.clientHeight}}if(d)return new mt(I);var H=this.getTransformToElement(C||B);return h.transformRect(I,H)},p.getBBox=function(d){var C={},I,L=this.node,B=L.ownerSVGElement;if(!B||!h.isSVGGraphicsElement(L))return new mt(0,0,0,0);if(d&&(d.target&&(C.target=h.toNode(d.target)),d.recursive&&(C.recursive=d.recursive)),C.recursive){var $=this.children(),J=$.length;if(J===0)return this.getBBox({target:C.target,recursive:!1});C.target||(C.target=this);for(var ae=0;ae<J;ae++){var X=$[ae],D;X.children().length===0?D=X.getBBox({target:C.target,recursive:!1}):D=X.getBBox({target:C.target,recursive:!0}),I?I=I.union(D):I=D}return I}else{try{I=L.getBBox()}catch{I={x:L.clientLeft,y:L.clientTop,width:L.clientWidth,height:L.clientHeight}}if(C.target){var H=this.getTransformToElement(C.target);return h.transformRect(I,H)}else return new mt(I)}};function _(d,C){d||(d={});var I=h("textPath"),L=d.d;if(L&&d["xlink:href"]===void 0){var B=h("path").attr("d",L).appendTo(C.defs());I.attr("xlink:href","#"+B.id)}return h.isObject(d)&&I.attr(d),I.node}function m(d,C,I){I||(I={});for(var L=I.includeAnnotationIndices,B=I.eol,H=I.lineHeight,$=I.baseSize,J=0,ae={},X=C.length-1,D=0;D<=X;D++){var z=C[D],j=null;if(h.isObject(z)){var ie=z.attrs,oe=h("tspan",ie),Se=oe.node,_e=z.t;B&&D===X&&(_e+=B),Se.textContent=_e;var te=ie.class;te&&oe.addClass(te),L&&oe.attr("annotations",z.annotations),j=parseFloat(ie["font-size"]),isFinite(j)||(j=$),j&&j>J&&(J=j)}else B&&D===X&&(z+=B),Se=document.createTextNode(z||" "),$&&$>J&&(J=$);d.appendChild(Se)}return J&&(ae.maxFontSize=J),H?ae.lineHeight=H:J&&(ae.lineHeight=J*1.2),ae}var y=/em$/;function b(d,C){var I=parseFloat(d);return y.test(d)?I*C:I}function S(d,C,I,L){if(!Array.isArray(C))return 0;var B=C.length;if(!B)return 0;for(var H=C[0],$=b(H.maxFontSize,I)||I,J=0,ae=b(L,I),X=1;X<B;X++){H=C[X];var D=b(H.lineHeight,I)||ae;J+=D}var z=b(H.maxFontSize,I)||I,j;switch(d){case"middle":j=$/2-.15*z-J/2;break;case"bottom":j=-(.25*z)-J;break;default:case"top":j=.8*$;break}return j}p.text=function(d,C){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=h.sanitizeText(d),C||(C={});var I=C.displayEmpty,L=C.eol,B=C.textPath,H=C.textVerticalAnchor,$=H==="middle"||H==="bottom"||H==="top",J=C.x;J===void 0&&(J=this.attr("x")||0);var ae=C.includeAnnotationIndices,X=C.annotations;X&&!h.isArray(X)&&(X=[X]);var D=C.lineHeight,z=D==="auto",j=z?"1.5em":D||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||I?null:"none"});var ie=parseFloat(this.attr("font-size"));ie||(ie=16,($||X)&&this.attr("font-size",ie));var oe=document,Se;B?(typeof B=="string"&&(B={d:B}),Se=_(B,this)):Se=oe.createDocumentFragment();for(var _e=0,te=d.split(`
`),ue=[],re,Q=0,le=te.length-1;Q<=le;Q++){var Ve=j,Le="v-line",Ce=oe.createElementNS(t.svg,"tspan"),Je=te[Q],Ge;if(Je)if(X){var N=h.annotateString(Je,X,{offset:-_e,includeAnnotationIndices:ae});Ge=m(Ce,N,{includeAnnotationIndices:ae,eol:Q!==le&&L,lineHeight:z?null:j,baseSize:ie});var G=Ge.lineHeight;G&&z&&Q!==0&&(Ve=G),Q===0&&(re=Ge.maxFontSize*.8)}else L&&Q!==le&&(Je+=L),Ce.textContent=Je;else{Ce.textContent="-",Le+=" v-empty-line";var Y=Ce.style;if(Y.fillOpacity=0,Y.strokeOpacity=0,X){Ge={},N=h.findAnnotationsAtIndex(X,_e);let Ee=ie;for(let fe=N.length;fe>0;fe--){const Te=N[fe-1].attrs;if(!Te||!("font-size"in Te))continue;const Re=parseFloat(Te["font-size"]);if(isFinite(Re)){Ee=Re;break}}z&&(Q>0?Ve=Ee*1.2:re=Ee*.8),Ce.setAttribute("font-size",Ee),Ge.maxFontSize=Ee}}Ge&&ue.push(Ge),Q>0&&Ce.setAttribute("dy",Ve),(Q>0||B)&&Ce.setAttribute("x",J),Ce.className.baseVal=Le,Se.appendChild(Ce),_e+=Je.length+1}if($)if(X)Ve=S(H,ue,ie,j);else if(H==="top")Ve="0.8em";else{var K;switch(le>0?(K=parseFloat(j)||1,K*=le,y.test(j)||(K/=ie)):K=0,H){case"middle":Ve=.3-K/2+"em";break;case"bottom":Ve=-K-.3+"em";break}}else H===0?Ve="0em":H?Ve=H:(Ve=0,this.attr("y")===null&&this.attr("y",re||"0.8em"));return Se.firstChild.setAttribute("dy",Ve),this.append(Se),this},p.removeAttr=function(d){const C=R[d],{ns:I,local:L}=h.qualifyAttr(C),B=this.node;return I?B.hasAttributeNS(I,L)&&B.removeAttributeNS(I,L):B.hasAttribute(C)&&B.removeAttribute(C),this},p.attr=function(d,C){if(h.isUndefined(d)){for(var I=this.node.attributes,L={},B=0;B<I.length;B++)L[I[B].name]=I[B].value;return L}if(h.isString(d)&&h.isUndefined(C))return this.node.getAttribute(R[d]);if(typeof d=="object")for(var H in d)d.hasOwnProperty(H)&&this.setAttribute(H,d[H]);else this.setAttribute(d,C);return this},p.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",h.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(d){for(var C in d)d.hasOwnProperty(C)&&this.setAttribute(C,d[C]);return this},p.append=function(d){h.isArray(d)||(d=[d]);for(var C=0,I=d.length;C<I;C++)this.node.appendChild(h.toNode(d[C]));return this},p.prepend=function(d){var C=this.node.firstChild;return C?h(C).before(d):this.append(d)},p.before=function(d){var C=this.node,I=C.parentNode;if(I){h.isArray(d)||(d=[d]);for(var L=0,B=d.length;L<B;L++)I.insertBefore(h.toNode(d[L]),C)}return this},p.appendTo=function(d){return h.toNode(d).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:h(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var d=this.svg()||this,C=d.node.getElementsByTagName("defs")[0];return C?h(C):h("defs").appendTo(d)},p.clone=function(){var d=h(this.node.cloneNode(!0));return d.node.id=h.uniqueId(),d},p.findOne=function(d){var C=this.node.querySelector(d);return C?h(C):void 0},p.find=function(d){var C=[],I=this.node.querySelectorAll(d);if(I)for(var L=0;L<I.length;L++)C.push(h(I[L]));return C},p.children=function(){for(var d=this.node.childNodes,C=[],I=0;I<d.length;I++){var L=d[I];L.nodeType===1&&C.push(h(d[I]))}return C},p.parent=function(){return h(this.node.parentNode)||null},p.index=function(){for(var d=0,C=this.node.previousSibling;C;)C.nodeType===1&&d++,C=C.previousSibling;return d},p.findParentByClass=function(d,C){for(var I=this.node.ownerSVGElement,L=this.node.parentNode;L&&L!==C&&L!==I;){var B=h(L);if(B.hasClass(d))return B;L=L.parentNode}return null},p.contains=function(d){var C=this.node,I=h.toNode(d),L=I&&I.parentNode;return C===L||!!(L&&L.nodeType===1&&C.compareDocumentPosition(L)&16)},p.toLocalPoint=function(d,C){var I=this.svg().node,L=I.createSVGPoint();L.x=d,L.y=C;try{var B=L.matrixTransform(I.getScreenCTM().inverse()),H=this.getTransformToElement(I).inverse()}catch{return L}return B.matrixTransform(H)},p.translateCenterToPoint=function(d){var C=this.getBBox({target:this.svg()}),I=C.center();return this.translate(d.x-I.x,d.y-I.y),this},p.translateAndAutoOrient=function(d,C,I){d=new ge(d),C=new ge(C),I||(I=this.svg());var L=this.scale();this.attr("transform","");var B=this.getBBox({target:I}).scale(L.sx,L.sy),H=h.createSVGTransform();H.setTranslate(-B.x-B.width/2,-B.y-B.height/2);var $=h.createSVGTransform(),J=d.angleBetween(C,d.clone().offset(1,0));J&&$.setRotate(J,0,0);var ae=h.createSVGTransform(),X=d.clone().move(C,B.width/2);ae.setTranslate(2*d.x-X.x,2*d.y-X.y);var D=this.getTransformToElement(I),z=h.createSVGTransform();return z.setMatrix(ae.matrix.multiply($.matrix.multiply(H.matrix.multiply(D.scale(L.sx,L.sy))))),this.attr("transform",h.matrixToTransformString(z.matrix)),this},p.animateAlongPath=function(d,C){C=h.toNode(C);var I=h.ensureId(C),L=h("animateMotion",d),B=h("mpath",{"xlink:href":"#"+I});L.append(B),this.append(L);try{L.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var H=L.node;H.animators=[];var $=H.getAttribute("id");$&&(id2anim[$]=H);for(var J=getTargets(H),ae=0,X=J.length;ae<X;ae++){var D=J[ae],z=new Animator(H,D,ae);animators.push(z),H.animators[ae]=z,z.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function A(d){return h.isString(d)?d.trim().match(E)||[]:[]}p.hasClass=function(d){return h.isString(d)?this.node.classList.contains(d.trim()):!1},p.addClass=function(d){return this.node.classList.add(...A(d)),this},p.removeClass=function(d){return this.node.classList.remove(...A(d)),this},p.toggleClass=function(d,C){const I=A(d);for(let L=0;L<I.length;L++)this.node.classList.toggle(I[L],C);return this},p.sample=function(d){d=d||1;for(var C=this.node,I=C.getTotalLength(),L=[],B=0,H;B<I;)H=C.getPointAtLength(B),L.push({x:H.x,y:H.y,distance:B}),B+=d;return L},p.convertToPath=function(){var d=h("path");d.attr(this.attr());var C=this.convertToPathData();return C&&d.attr("d",C),d},p.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return h.convertLineToPathData(this.node);case"POLYGON":return h.convertPolygonToPathData(this.node);case"POLYLINE":return h.convertPolylineToPathData(this.node);case"ELLIPSE":return h.convertEllipseToPathData(this.node);case"CIRCLE":return h.convertCircleToPathData(this.node);case"RECT":return h.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},h.prototype.toGeometryShape=function(){var d,C,I,L,B,H,$,J,ae,X,D,z,j,ie,oe;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,C=parseFloat(this.attr("y"))||0,I=parseFloat(this.attr("width"))||0,L=parseFloat(this.attr("height"))||0,new mt(d,C,I,L);case"CIRCLE":return B=parseFloat(this.attr("cx"))||0,H=parseFloat(this.attr("cy"))||0,$=parseFloat(this.attr("r"))||0,new es({x:B,y:H},$,$);case"ELLIPSE":return B=parseFloat(this.attr("cx"))||0,H=parseFloat(this.attr("cy"))||0,J=parseFloat(this.attr("rx"))||0,ae=parseFloat(this.attr("ry"))||0,new es({x:B,y:H},J,ae);case"POLYLINE":return X=h.getPointsFromSvgNode(this),new gn(X);case"POLYGON":return X=h.getPointsFromSvgNode(this),X.length>1&&X.push(X[0]),new gn(X);case"PATH":return D=this.attr("d"),Bt.isDataSupported(D)||(D=h.normalizePathData(D)),new Bt(D);case"LINE":return z=parseFloat(this.attr("x1"))||0,ie=parseFloat(this.attr("y1"))||0,j=parseFloat(this.attr("x2"))||0,oe=parseFloat(this.attr("y2"))||0,new xt({x:z,y:ie},{x:j,y:oe})}return this.getBBox()},p.findIntersection=function(d,C){var I=this.svg().node;C=C||I;var L=this.getBBox({target:C}),B=L.center();if(L.intersectionWithLineFromCenterToPoint(d)){var H,$=this.tagName();if($==="RECT"){var J=new mt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),ae=this.getTransformToElement(C),X=h.decomposeMatrix(ae),D=I.createSVGTransform();D.setRotate(-X.rotation,B.x,B.y);var z=h.transformRect(J,D.matrix.multiply(ae));H=new mt(z).intersectionWithLineFromCenterToPoint(d,X.rotation)}else if($==="PATH"||$==="POLYGON"||$==="POLYLINE"||$==="CIRCLE"||$==="ELLIPSE"){var j=$==="PATH"?this:this.convertToPath(),ie=j.sample(),oe=1/0,Se=[],_e,te,ue,re,Q,le;for(_e=0;_e<ie.length;_e++)te=ie[_e],ue=h.createSVGPoint(te.x,te.y),ue=ue.matrixTransform(this.getTransformToElement(C)),te=new ge(ue),re=te.distance(B),Q=te.distance(d)*1.1,le=re+Q,le<oe?(oe=le,Se=[{sample:te,refDistance:Q}]):le<oe+1&&Se.push({sample:te,refDistance:Q});Se.sort(function(Ve,Le){return Ve.refDistance-Le.refDistance}),Se[0]&&(H=Se[0].sample)}return H}},p.setAttribute=function(d,C){const I=this.node;if(C===null)return this.removeAttr(d),this;const L=R[d],{ns:B}=h.qualifyAttr(L);return B?I.setAttributeNS(B,L,C):L==="id"?I.id=C:I.setAttribute(L,C),this},h.createSvgDocument=function(d){if(d){const I=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:L}=h.parseXML(I,{async:!1});return L}const C=document.createElementNS(t.svg,"svg");return C.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),C.setAttribute("version",r),C},h.createSVGStyle=function(d){const{node:C}=h("style",{type:"text/css"},[h.createCDATASection(d)]);return C},h.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},h.idCounter=0,h.uniqueId=function(){return"v-"+ ++h.idCounter},h.toNode=function(d){return h.isV(d)?d.node:d.nodeName&&d||d[0]},h.ensureId=function(d){return d=h.toNode(d),d.id||(d.id=h.uniqueId())},h.sanitizeText=function(d){return(d||"").replace(/ /g,"Â ")},h.isUndefined=function(d){return typeof d>"u"},h.isString=function(d){return typeof d=="string"},h.isObject=function(d){return d&&typeof d=="object"},h.isArray=Array.isArray,h.parseXML=function(d,C){C=C||{};var I;try{var L=new DOMParser;h.isUndefined(C.async)||(L.async=C.async),I=L.parseFromString(d,"text/xml")}catch{I=void 0}if(!I||I.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return I};const P=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>P[d]=d);const R=new Proxy(P,{get(d,C){return h.supportCamelCaseAttributes?C in d?d[C]:d[C]=C.replace(/[A-Z]/g,"-$&").toLowerCase():C}});Object.defineProperty(h,"attributeNames",{value:R,writable:!1}),Object.defineProperty(h,"supportCamelCaseAttributes",{value:!1,writable:!0}),h.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var C=d.split(":");return{ns:t[C[0]],local:C[1]}}return{ns:null,local:d}},h.transformSeparatorRegex=/[ ,]+/,h.transformRegex=/\b\w+\([^()]+\)/g,h.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,h.transformTranslateRegex=/\btranslate\(([^()]+)\)/,h.transformRotateRegex=/\brotate\(([^()]+)\)/,h.transformScaleRegex=/\bscale\(([^()]+)\)/,h.transformStringToMatrix=function(d){let C=h.createSVGMatrix();const I=d&&d.match(h.transformRegex);if(!I)return C;const L=I.length;for(let B=0;B<L;B++){const $=I[B].match(h.transformFunctionRegex);if($){let J,ae,X,D,z,j=h.createSVGMatrix();const ie=$[1].toLowerCase(),oe=$[2].split(h.transformSeparatorRegex);switch(ie){case"scale":J=parseFloat(oe[0]),ae=oe[1]===void 0?J:parseFloat(oe[1]),j=j.scaleNonUniform(J,ae);break;case"translate":X=parseFloat(oe[0]),D=parseFloat(oe[1]),j=j.translate(X,D);break;case"rotate":z=parseFloat(oe[0]),X=parseFloat(oe[1])||0,D=parseFloat(oe[2])||0,X!==0||D!==0?j=j.translate(X,D).rotate(z).translate(-X,-D):j=j.rotate(z);break;case"skewx":z=parseFloat(oe[0]),j=j.skewX(z);break;case"skewy":z=parseFloat(oe[0]),j=j.skewY(z);break;case"matrix":j.a=parseFloat(oe[0]),j.b=parseFloat(oe[1]),j.c=parseFloat(oe[2]),j.d=parseFloat(oe[3]),j.e=parseFloat(oe[4]),j.f=parseFloat(oe[5]);break;default:continue}C=C.multiply(j)}}return C},h.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},h.parseTransformString=function(d){var C,I,L;if(d){var B=h.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var H=h.transformStringToMatrix(d),$=h.decomposeMatrix(H);C=[$.translateX,$.translateY],L=[$.scaleX,$.scaleY],I=[$.rotation];var J=[];(C[0]!==0||C[1]!==0)&&J.push("translate("+C+")"),(L[0]!==1||L[1]!==1)&&J.push("scale("+L+")"),I[0]!==0&&J.push("rotate("+I+")"),d=J.join(" ")}else{const X=d.match(h.transformTranslateRegex);X&&(C=X[1].split(B));const D=d.match(h.transformRotateRegex);D&&(I=D[1].split(B));const z=d.match(h.transformScaleRegex);z&&(L=z[1].split(B))}}var ae=L&&L[0]?parseFloat(L[0]):1;return{value:d,translate:{tx:C&&C[0]?parseInt(C[0],10):0,ty:C&&C[1]?parseInt(C[1],10):0},rotate:{angle:I&&I[0]?parseInt(I[0],10):0,cx:I&&I[1]?parseInt(I[1],10):void 0,cy:I&&I[2]?parseInt(I[2],10):void 0},scale:{sx:ae,sy:L&&L[1]?parseFloat(L[1]):ae}}},h.deltaTransformPoint=function(d,C){var I=C.x*d.a+C.y*d.c+0,L=C.x*d.b+C.y*d.d+0;return{x:I,y:L}},h.decomposeMatrix=function(d){var C=h.deltaTransformPoint(d,{x:0,y:1}),I=h.deltaTransformPoint(d,{x:1,y:0}),L=180/i*s(C.y,C.x)-90,B=180/i*s(I.y,I.x);return{translateX:d.e,translateY:d.f,scaleX:o(d.a*d.a+d.b*d.b),scaleY:o(d.c*d.c+d.d*d.d),skewX:L,skewY:B,rotation:L}},h.matrixToScale=function(d){var C,I,L,B;return d?(C=h.isUndefined(d.a)?1:d.a,B=h.isUndefined(d.d)?1:d.d,I=d.b,L=d.c):C=B=1,{sx:I?o(C*C+I*I):C,sy:L?o(L*L+B*B):B}},h.matrixToRotate=function(d){var C={x:0,y:1};return d&&(C=h.deltaTransformPoint(d,C)),{angle:Bo(ng(s(C.y,C.x))-90)}},h.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},h.isV=function(d){return d instanceof h},h.isVElement=h.isV,h.isSVGGraphicsElement=function(d){return d?(d=h.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var q=h("svg").node;return h.createSVGMatrix=function(d){var C=q.createSVGMatrix();for(var I in d)C[I]=d[I];return C},h.createSVGTransform=function(d){return h.isUndefined(d)?q.createSVGTransform():(d instanceof SVGMatrix||(d=h.createSVGMatrix(d)),q.createSVGTransformFromMatrix(d))},h.createSVGPoint=function(d,C){var I=q.createSVGPoint();return I.x=d,I.y=C,I},h.transformRect=function(d,C){var I=q.createSVGPoint();I.x=d.x,I.y=d.y;var L=I.matrixTransform(C);I.x=d.x+d.width,I.y=d.y;var B=I.matrixTransform(C);I.x=d.x+d.width,I.y=d.y+d.height;var H=I.matrixTransform(C);I.x=d.x,I.y=d.y+d.height;var $=I.matrixTransform(C),J=a(L.x,B.x,H.x,$.x),ae=u(L.x,B.x,H.x,$.x),X=a(L.y,B.y,H.y,$.y),D=u(L.y,B.y,H.y,$.y);return new mt(J,X,ae-J,D-X)},h.transformPoint=function(d,C){return new ge(h.createSVGPoint(d.x,d.y).matrixTransform(C))},h.transformLine=function(d,C){return new xt(h.transformPoint(d.start,C),h.transformPoint(d.end,C))},h.transformPolyline=function(d,C){var I=d instanceof gn?d.points:d;h.isArray(I)||(I=[]);for(var L=[],B=0,H=I.length;B<H;B++)L[B]=h.transformPoint(I[B],C);return new gn(L)},h.styleToObject=function(d){for(var C={},I=d.split(";"),L=0;L<I.length;L++){var B=I[L],H=B.split("=");C[H[0].trim()]=H[1].trim()}return C},h.createSlicePathData=function(d,C,I,L){var B=2*i-1e-6,H=d,$=C,J=I,ae=L,X=(ae<J&&(X=J,J=ae,ae=X),ae-J),D=X<i?"0":"1",z=c(J),j=f(J),ie=c(ae),oe=f(ae);return X>=B?H?"M0,"+$+"A"+$+","+$+" 0 1,1 0,"+-$+"A"+$+","+$+" 0 1,1 0,"+$+"M0,"+H+"A"+H+","+H+" 0 1,0 0,"+-H+"A"+H+","+H+" 0 1,0 0,"+H+"Z":"M0,"+$+"A"+$+","+$+" 0 1,1 0,"+-$+"A"+$+","+$+" 0 1,1 0,"+$+"Z":H?"M"+$*z+","+$*j+"A"+$+","+$+" 0 "+D+",1 "+$*ie+","+$*oe+"L"+H*ie+","+H*oe+"A"+H+","+H+" 0 "+D+",0 "+H*z+","+H*j+"Z":"M"+$*z+","+$*j+"A"+$+","+$+" 0 "+D+",1 "+$*ie+","+$*oe+"L0,0Z"},h.mergeAttrs=function(d,C){for(var I in C)I==="class"?d[I]=d[I]?d[I]+" "+C[I]:C[I]:I==="style"?h.isObject(d[I])&&h.isObject(C[I])?d[I]=h.mergeAttrs(d[I],C[I]):h.isObject(d[I])?d[I]=h.mergeAttrs(d[I],h.styleToObject(C[I])):h.isObject(C[I])?d[I]=h.mergeAttrs(h.styleToObject(d[I]),C[I]):d[I]=h.mergeAttrs(h.styleToObject(d[I]),h.styleToObject(C[I])):d[I]=C[I];return d},h.annotateString=function(d,C,I){C=C||[],I=I||{};for(var L=I.offset||0,B=[],H,$=[],J,ae,X=0;X<d.length;X++){J=$[X]=d[X];for(var D=0;D<C.length;D++){var z=C[D],j=z.start+L,ie=z.end+L;X>=j&&X<ie&&(h.isObject(J)?J.attrs=h.mergeAttrs(h.mergeAttrs({},J.attrs),z.attrs):J=$[X]={t:d[X],attrs:z.attrs},I.includeAnnotationIndices&&(J.annotations||(J.annotations=[])).push(D))}ae=$[X-1],ae?h.isObject(J)&&h.isObject(ae)?JSON.stringify(J.attrs)===JSON.stringify(ae.attrs)?H.t+=J.t:(B.push(H),H=J):h.isObject(J)||h.isObject(ae)?(B.push(H),H=J):H=(H||"")+J:H=J}return H&&B.push(H),B},h.findAnnotationsAtIndex=function(d,C){var I=[];return d&&d.forEach(function(L){L.start<C&&C<=L.end&&I.push(L)}),I},h.findAnnotationsBetweenIndexes=function(d,C,I){var L=[];return d&&d.forEach(function(B){(C>=B.start&&C<B.end||I>B.start&&I<=B.end||B.start>=C&&B.end<I)&&L.push(B)}),L},h.shiftAnnotations=function(d,C,I){return d&&d.forEach(function(L){L.start<C&&L.end>=C?L.end+=I:L.start>=C&&(L.start+=I,L.end+=I)}),d},h.convertLineToPathData=function(d){d=h(d);var C=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return C},h.convertPolygonToPathData=function(d){var C=h.getPointsFromSvgNode(d);return C.length===0?null:h.svgPointsToPath(C)+" Z"},h.convertPolylineToPathData=function(d){var C=h.getPointsFromSvgNode(d);return C.length===0?null:h.svgPointsToPath(C)},h.svgPointsToPath=function(d){for(var C=0,I=d.length;C<I;C++)d[C]=d[C].x+" "+d[C].y;return"M "+d.join(" L")},h.getPointsFromSvgNode=function(d){d=h.toNode(d);var C=[],I=d.points;if(I)for(var L=0,B=I.numberOfItems;L<B;L++)C.push(I.getItem(L));return C},h.KAPPA=.551784,h.convertCircleToPathData=function(d){d=h(d);var C=parseFloat(d.attr("cx"))||0,I=parseFloat(d.attr("cy"))||0,L=parseFloat(d.attr("r")),B=L*h.KAPPA,H=["M",C,I-L,"C",C+B,I-L,C+L,I-B,C+L,I,"C",C+L,I+B,C+B,I+L,C,I+L,"C",C-B,I+L,C-L,I+B,C-L,I,"C",C-L,I-B,C-B,I-L,C,I-L,"Z"].join(" ");return H},h.convertEllipseToPathData=function(d){d=h(d);var C=parseFloat(d.attr("cx"))||0,I=parseFloat(d.attr("cy"))||0,L=parseFloat(d.attr("rx")),B=parseFloat(d.attr("ry"))||L,H=L*h.KAPPA,$=B*h.KAPPA,J=["M",C,I-B,"C",C+H,I-B,C+L,I-$,C+L,I,"C",C+L,I+$,C+H,I+B,C,I+B,"C",C-H,I+B,C-L,I+$,C-L,I,"C",C-L,I-$,C-H,I-B,C,I-B,"Z"].join(" ");return J},h.convertRectToPathData=function(d){return d=h(d),h.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},h.rectToPath=function(d){var C,I=d.x,L=d.y,B=d.width,H=d.height,$=a(d.rx||d["top-rx"]||0,B/2),J=a(d.rx||d["bottom-rx"]||0,B/2),ae=a(d.ry||d["top-ry"]||0,H/2),X=a(d.ry||d["bottom-ry"]||0,H/2);return $||J||ae||X?C=["M",I,L+ae,"v",H-ae-X,"a",J,X,0,0,0,J,X,"h",B-2*J,"a",J,X,0,0,0,J,-X,"v",-(H-X-ae),"a",$,ae,0,0,0,-$,-ae,"h",-(B-2*$),"a",$,ae,0,0,0,-$,ae,"Z"]:C=["M",I,L,"H",I+B,"V",L+H,"H",I,"V",L,"Z"],C.join(" ")},h.normalizePathData=function(){var d=`	
\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029`,C=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),I=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),L=Math,B=L.PI,H=L.sin,$=L.cos,J=L.tan,ae=L.asin,X=L.sqrt,D=L.abs;function z(te,ue,re,Q,le,Ve){var Le=.3333333333333333,Ce=2/3;return[Le*te+Ce*re,Le*ue+Ce*Q,Le*le+Ce*re,Le*Ve+Ce*Q,le,Ve]}function j(te,ue,re){var Q=te*$(re)-ue*H(re),le=te*H(re)+ue*$(re);return{x:Q,y:le}}function ie(te,ue,re,Q,le,Ve,Le,Ce,Je,Ge){var N=B*120/180,G=B/180*(+le||0),Y=[],K;if(Ge)Ye=Ge[0],lt=Ge[1],Ie=Ge[2],xe=Ge[3];else{K=j(te,ue,-G),te=K.x,ue=K.y,K=j(Ce,Je,-G),Ce=K.x,Je=K.y;var Ee=(te-Ce)/2,fe=(ue-Je)/2,Te=Ee*Ee/(re*re)+fe*fe/(Q*Q);Te>1&&(Te=X(Te),re=Te*re,Q=Te*Q);var Re=re*re,ze=Q*Q,qe=(Ve==Le?-1:1)*X(D((Re*ze-Re*fe*fe-ze*Ee*Ee)/(Re*fe*fe+ze*Ee*Ee))),Ie=qe*re*fe/Q+(te+Ce)/2,xe=qe*-Q*Ee/re+(ue+Je)/2,Ye=ae(((ue-xe)/Q).toFixed(9)),lt=ae(((Je-xe)/Q).toFixed(9));Ye=te<Ie?B-Ye:Ye,lt=Ce<Ie?B-lt:lt,Ye<0&&(Ye=B*2+Ye),lt<0&&(lt=B*2+lt),Le&&Ye>lt&&(Ye=Ye-B*2),!Le&&lt>Ye&&(lt=lt-B*2)}var _t=lt-Ye;if(D(_t)>N){var ht=lt,it=Ce,Yt=Je;lt=Ye+N*(Le&&lt>Ye?1:-1),Ce=Ie+re*$(lt),Je=xe+Q*H(lt),Y=ie(Ce,Je,re,Q,le,0,Le,it,Yt,[lt,ht,Ie,xe])}_t=lt-Ye;var xr=$(Ye),nr=H(Ye),vr=$(lt),Nr=H(lt),zr=J(_t/4),En=4/3*(re*zr),sr=4/3*(Q*zr),Mr=[te,ue],bn=[te+En*nr,ue-sr*xr],wn=[Ce+En*Nr,Je-sr*vr],mn=[Ce,Je];if(bn[0]=2*Mr[0]-bn[0],bn[1]=2*Mr[1]-bn[1],Ge)return[bn,wn,mn].concat(Y);Y=[bn,wn,mn].concat(Y).join().split(",");for(var Un=[],ii=Y.length,Ut=0;Ut<ii;Ut++)Un[Ut]=Ut%2?j(Y[Ut-1],Y[Ut],G).y:j(Y[Ut],Y[Ut+1],G).x;return Un}function oe(te){if(!te)return null;var ue={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},re=[];return String(te).replace(C,function(Q,le,Ve){var Le=[],Ce=le.toLowerCase();for(Ve.replace(I,function(Je,Ge){Ge&&Le.push(+Ge)}),Ce==="m"&&Le.length>2&&(re.push([le].concat(Le.splice(0,2))),Ce="l",le=le==="m"?"l":"L");Le.length>=ue[Ce]&&(re.push([le].concat(Le.splice(0,ue[Ce]))),!!ue[Ce]););}),re}function Se(te){if((!Array.isArray(te)||!Array.isArray(te&&te[0]))&&(te=oe(te)),!te||!te.length)return[["M",0,0]];for(var ue=[],re=0,Q=0,le=0,Ve=0,Le=0,Ce,Je=te.length,Ge=Le;Ge<Je;Ge++){var N=[];ue.push(N);var G=te[Ge];if(Ce=G[0],Ce!=Ce.toUpperCase()){N[0]=Ce.toUpperCase();var Y,K;switch(N[0]){case"A":N[1]=G[1],N[2]=G[2],N[3]=G[3],N[4]=G[4],N[5]=G[5],N[6]=+G[6]+re,N[7]=+G[7]+Q;break;case"V":N[1]=+G[1]+Q;break;case"H":N[1]=+G[1]+re;break;case"M":for(le=+G[1]+re,Ve=+G[2]+Q,Y=G.length,K=1;K<Y;K++)N[K]=+G[K]+(K%2?re:Q);break;default:for(Y=G.length,K=1;K<Y;K++)N[K]=+G[K]+(K%2?re:Q);break}}else for(var Ee=G.length,fe=0;fe<Ee;fe++)N[fe]=G[fe];switch(N[0]){case"Z":re=+le,Q=+Ve;break;case"H":re=N[1];break;case"V":Q=N[1];break;case"M":le=N[N.length-2],Ve=N[N.length-1],re=N[N.length-2],Q=N[N.length-1];break;default:re=N[N.length-2],Q=N[N.length-1];break}}return ue}function _e(te){var ue=Se(te),re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Q(Y,K,Ee){var fe,Te;if(!Y)return["C",K.x,K.y,K.x,K.y,K.x,K.y];switch(Y[0]in{T:1,Q:1}||(K.qx=null,K.qy=null),Y[0]){case"M":K.X=Y[1],K.Y=Y[2];break;case"A":parseFloat(Y[1])===0||parseFloat(Y[2])===0?Y=["L",Y[6],Y[7]]:Y=["C"].concat(ie.apply(0,[K.x,K.y].concat(Y.slice(1))));break;case"S":Ee==="C"||Ee==="S"?(fe=K.x*2-K.bx,Te=K.y*2-K.by):(fe=K.x,Te=K.y),Y=["C",fe,Te].concat(Y.slice(1));break;case"T":Ee==="Q"||Ee==="T"?(K.qx=K.x*2-K.qx,K.qy=K.y*2-K.qy):(K.qx=K.x,K.qy=K.y),Y=["C"].concat(z(K.x,K.y,K.qx,K.qy,Y[1],Y[2]));break;case"Q":K.qx=Y[1],K.qy=Y[2],Y=["C"].concat(z(K.x,K.y,Y[1],Y[2],Y[3],Y[4]));break;case"H":Y=["L"].concat(Y[1],K.y);break;case"V":Y=["L"].concat(K.x,Y[1]);break}return Y}function le(Y,K){if(Y[K].length>7){Y[K].shift();for(var Ee=Y[K];Ee.length;)Ve[K]="A",Y.splice(K++,0,["C"].concat(Ee.splice(0,6)));Y.splice(K,1),Je=ue.length}}for(var Ve=[],Le="",Ce="",Je=ue.length,Ge=0;Ge<Je;Ge++){ue[Ge]&&(Le=ue[Ge][0]),Le!=="C"&&(Ve[Ge]=Le,Ge>0&&(Ce=Ve[Ge-1])),ue[Ge]=Q(ue[Ge],re,Ce),Ve[Ge]!=="A"&&Le==="C"&&(Ve[Ge]="C"),le(ue,Ge);var N=ue[Ge],G=N.length;re.x=N[G-2],re.y=N[G-1],re.bx=parseFloat(N[G-4])||re.x,re.by=parseFloat(N[G-3])||re.y}return(!ue[0][0]||ue[0][0]!=="M")&&ue.unshift(["M",0,0]),ue}return function(te){return _e(te).join(",").split(",").join(" ")}}(),h.namespace=t,h.g=Kle,h}(),Cu={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Eh="[object Arguments]",RE="[object Array]",_g="[object Boolean]",eT="[object Date]",BU="[object Error]",Rfe="[object Function]",Kh="[object Map]",yg="[object Number]",Ife="[object Null]",ml="[object Object]",tT="[object RegExp]",Zh="[object Set]",bg="[object String]",wg="[object Symbol]",Ofe="[object Undefined]",Mfe="[object WeakMap]",rT="[object ArrayBuffer]",nT="[object DataView]",zU="[object Float32Array]",VU="[object Float64Array]",GU="[object Int8Array]",$U="[object Int16Array]",UU="[object Int32Array]",jU="[object Uint8Array]",HU="[object Uint8ClampedArray]",WU="[object Uint16Array]",XU="[object Uint32Array]",kfe={[Eh]:!0,[RE]:!0,[rT]:!0,[nT]:!0,[_g]:!0,[eT]:!0,[zU]:!0,[VU]:!0,[GU]:!0,[$U]:!0,[UU]:!0,[Kh]:!0,[yg]:!0,[ml]:!0,[tT]:!0,[Zh]:!0,[bg]:!0,[wg]:!0,[jU]:!0,[HU]:!0,[WU]:!0,[XU]:!0,[BU]:!1,[Rfe]:!1,[Mfe]:!1},iT="\\ud800-\\udfff",Lfe="\\u0300-\\u036f",Nfe="\\ufe20-\\ufe2f",qfe="\\u20d0-\\u20ff",Dfe="\\u1ab0-\\u1aff",Ffe="\\u1dc0-\\u1dff",Bfe=Lfe+Nfe+qfe+Dfe+Ffe,YU="\\u2700-\\u27bf",KU="a-z\\xdf-\\xf6\\xf8-\\xff",zfe="\\xac\\xb1\\xd7\\xf7",Vfe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gfe="\\u2000-\\u206f",$fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ZU="A-Z\\xc0-\\xd6\\xd8-\\xde",Ufe="\\ufe0e\\ufe0f",JU=zfe+Vfe+Gfe+$fe,QU="['â]",Gz=`[${JU}]`,sT=`[${Bfe}]`,ej="\\d",jfe=`[${YU}]`,tj=`[${KU}]`,rj=`[^${iT}${JU+ej+YU+KU+ZU}]`,IE="\\ud83c[\\udffb-\\udfff]",Hfe=`(?:${sT}|${IE})`,nj=`[^${iT}]`,oT="(?:\\ud83c[\\udde6-\\uddff]){2}",aT="[\\ud800-\\udbff][\\udc00-\\udfff]",dl=`[${ZU}]`,Wfe="\\u200d",$z=`(?:${tj}|${rj})`,Xfe=`(?:${dl}|${rj})`,Uz=`(?:${QU}(?:d|ll|m|re|s|t|ve))?`,jz=`(?:${QU}(?:D|LL|M|RE|S|T|VE))?`,ij=`${Hfe}?`,sj=`[${Ufe}]?`,Yfe=`(?:${Wfe}(?:${[nj,oT,aT].join("|")})${sj+ij})*`,Kfe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zfe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",oj=sj+ij+Yfe,Jfe=`(?:${[jfe,oT,aT].join("|")})${oj}`,Qfe=RegExp([`${dl}?${tj}+${Uz}(?=${[Gz,dl,"$"].join("|")})`,`${Xfe}+${jz}(?=${[Gz,dl+$z,"$"].join("|")})`,`${dl}?${$z}+${Uz}`,`${dl}+${jz}`,Zfe,Kfe,`${ej}+`,Jfe].join("|"),"g"),uT=200,OE="__hash_undefined__",ehe=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,the=`[${iT}]`,rhe=`${nj}${sT}?`,nhe=`(?:${[rhe,sT,oT,aT,the].join("|")})`,aj=RegExp(`${IE}(?=${IE})|${nhe+oj}`,"g"),ihe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,she=/^\w*$/,ohe=46,ahe=/\\(\\)?/g,uhe=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),che=/^(?:0|[1-9]\d*)$/,lhe=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),fhe=4294967294,hhe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,uj=e=>aj.test(e),dhe=e=>e.match(aj)||[],vhe=e=>e.split(""),cj=e=>uj(e)?dhe(e):vhe(e),phe=e=>e==null?[]:Jh(e).map(t=>e[t]),Jh=e=>bo(e)?lj(e):Object.keys(Object(e)),ghe=e=>{if(!xg(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},lj=(e,t)=>{const r=Array.isArray(e),n=!r&&Vo(e)&&fo(e)===Eh,i=!r&&!n&&ed(e),s=r||n||i,o=e.length,a=new Array(s?o:0);let u=s?-1:o;for(;++u<o;)a[u]=`${u}`;for(const c in e)(t||hasOwnProperty.call(e,c))&&!(s&&(c==="length"||dT(c,o)))&&a.push(c);return a},dv=(e,t)=>{let{length:r}=e;for(;r--;)if(uf(e[r][0],t))return r;return-1},uf=(e,t)=>e===t||e!==e&&t!==t,Vo=e=>e!=null&&typeof e=="object",Qv=(e,t,r)=>{if(!Yr(r))return!1;const n=typeof t;return(n=="number"?bo(r)&&t>-1&&t<r.length:n=="string"&&t in r)?uf(r[t],e):!1},mhe=e=>Vo(e)&&fo(e)==Zh,_he=e=>Vo(e)&&fo(e)==Kh,xg=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},cf=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&uf(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Qh=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const s=t[n];cf(r,s,e[s])}return r},bo=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,zl=e=>typeof e=="symbol"||Vo(e)&&fo(e)===wg,yhe=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},cT=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},fo=e=>e==null?e===void 0?Ofe:Ife:Object.prototype.toString.call(e),lT=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},fj=(e,t)=>{const r=t?lT(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},bhe=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},hj=e=>typeof e.constructor=="function"&&!xg(e)?Object.create(Object.getPrototypeOf(e)):{},fT=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),whe=(e,t)=>Qh(e,fT(e),t);function xhe(e,t){const r=t?lT(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const She=(e,t,r)=>{const n=e.constructor;switch(t){case rT:return lT(e);case _g:case eT:return new n(+e);case nT:return xhe(e,r);case zU:case VU:case GU:case $U:case UU:case jU:case HU:case WU:case XU:return fj(e,r);case Kh:return new n(e);case yg:case bg:return new n(e);case tT:return bhe(e);case Zh:return new n;case wg:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},ed=e=>Vo(e)&&ehe.test(fo(e)),ME=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...fT(Object(e))),t},dj=e=>{const t=[];for(;e;)t.push(...fT(e)),e=Object.getPrototypeOf(Object(e));return t},vj=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...dj(e)),t},vv=({__data__:e},t)=>{const r=e;return Nhe(t)?r[typeof t=="string"?"string":"hash"]:r.map},Ehe=(e,t,r,n)=>{const i=ME(e),s=i.length,a=ME(t).length;if(s!=a)return!1;let u,c=s;for(;c--;)if(u=i[c],!hasOwnProperty.call(t,u))return!1;const f=n.get(e),h=n.get(t);if(f&&h)return f==t&&h==e;let p=!0;n.set(e,t),n.set(t,e);let _;for(;++c<s;){u=i[c];const m=e[u],y=t[u];if(!(m===y||r(m,y,n))){p=!1;break}_||(_=u=="constructor")}if(p&&!_){const m=e.constructor,y=t.constructor;m!=y&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof y=="function"&&y instanceof y)&&(p=!1)}return n.delete(e),n.delete(t),p},Sg=(e,t,r)=>e===t?!0:e==null||t==null||!Vo(e)&&!Vo(t)?e!==e&&t!==t:Ahe(e,t,Sg,r),Ahe=(e,t,r,n)=>{let i=Array.isArray(e);const s=Array.isArray(t);let o=i?RE:fo(e),a=s?RE:fo(t);o=o==Eh?ml:o,a=a==Eh?ml:a;let u=o==ml;const c=a==ml,f=o==a;if(f&&!u)return n||(n=new Al),i||ed(e)?pj(e,t,!1,r,n):Che(e,t,o,r,n);const h=u&&hasOwnProperty.call(e,"__wrapped__"),p=c&&hasOwnProperty.call(t,"__wrapped__");if(h||p){const _=h?e.value():e,m=p?t.value():t;return n||(n=new Al),r(_,m,n)}return f?(n||(n=new Al),Ehe(e,t,r,n)):!1},pj=(e,t,r,n,i)=>{const s=e.length,o=t.length;if(s!=o)return!1;const a=i.get(e),u=i.get(t);if(a&&u)return a==t&&u==e;let c=-1,f=!0;const h=r?new Th:void 0;for(i.set(e,t),i.set(t,e);++c<s;){const p=e[c],_=t[c];if(h){if(!The(t,(m,y)=>{if(!Phe(h,y)&&(p===m||n(p,m,i)))return h.push(y)})){f=!1;break}}else if(!(p===_||n(p,_,i))){f=!1;break}}return i.delete(e),i.delete(t),f},The=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},Phe=(e,t)=>e.has(t),Hz=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),Che=(e,t,r,n,i)=>{switch(r){case nT:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,Hz(e,t,n,i));case rT:return Hz(e,t,n,i);case _g:case eT:case yg:return uf(+e,+t);case BU:return e.name==t.name&&e.message==t.message;case tT:case bg:return e==`${t}`;case Kh:let s=gj;case Zh:if(s||(s=Eg),e.size!=t.size)return!1;const o=i.get(e);if(o)return o==t;i.set(e,t);const a=pj(s(e),s(t),!0,n,i);return i.delete(e),a;case wg:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},gj=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},Eg=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},hT=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||zl(e)?!0:she.test(e)||!ihe.test(e)||t!=null&&e in Object(t)},Rhe=e=>{const t=[];return e.charCodeAt(0)===ohe&&t.push(""),e.replace(uhe,(r,n,i,s)=>{let o=r;i?o=s.replace(ahe,"$1"):n&&(o=n.trim()),t.push(o)}),t},Gu=(e,t)=>Array.isArray(e)?e:hT(e,t)?[e]:Rhe(`${e}`),td=(e,t)=>{t=Gu(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[$u(t[r])],r++;return r&&r==n?e:void 0};function Ihe(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,s=zl(e),o=t!==void 0,a=t===null,u=t===t,c=zl(t);if(!a&&!c&&!s&&e>t||s&&o&&u&&!a&&!c||n&&o&&u||!r&&u||!i)return 1;if(!n&&!s&&!c&&e<t||c&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!u)return-1}return 0}function Ohe(e,t,r){let n=-1;const i=e.criteria,s=t.criteria,o=i.length,a=r.length;for(;++n<o;){const u=n<a?r[n]:null,f=(u&&typeof u=="function"?u:Ihe)(i[n],s[n]);if(f)return u&&typeof u!="function"?f*(u=="desc"?-1:1):f}return e.index-t.index}const mj=(e,t)=>{let r=(o,a)=>!!(o==null?0:o.length)&&o.indexOf(a)>-1,n=!0;const i=[],s=t.length;if(!e.length)return i;t.length>=uT&&(r=(o,a)=>o.has(a),n=!1,t=new Th(t));e:for(let o in e){let a=e[o];const u=a;if(a=a!==0?a:0,n&&u===u){let c=s;for(;c--;)if(t[c]===u)continue e;i.push(a)}else r(t,u)||i.push(a)}return i},$u=e=>{if(typeof e=="string"||zl(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},El=(e,t=!1,r=!1,n=!0,i,s,o,a)=>{let u;if(i&&(u=o?i(e,s,o,a):i(e)),u!==void 0)return u;if(!Yr(e))return e;const c=Array.isArray(e),f=fo(e);if(c){if(u=yhe(e),!t)return cT(e,u)}else{const m=typeof e=="function";if(f===ml||f===Eh||m&&!o){if(u=r||m?{}:hj(e),!t)return r?Mhe(e,Qh(e,Object.keys(e),u)):whe(e,Object.assign(u,e))}else{if(m||!kfe[f])return o?e:{};u=She(e,f,t)}}a||(a=new Al);const h=a.get(e);if(h)return h;if(a.set(e,u),_he(e))return e.forEach((m,y)=>{u.set(y,El(m,t,r,n,i,y,e,a))}),u;if(mhe(e))return e.forEach(m=>{u.add(El(m,t,r,n,i,m,e,a))}),u;if(ed(e))return u;const _=c?void 0:(n?r?vj:ME:r?yj:Jh)(e);return(_||e).forEach((m,y)=>{_&&(y=m,m=e[y]),cf(u,y,El(m,t,r,n,i,y,e,a))}),u},Mhe=(e,t)=>Qh(e,dj(e),t),_j=(e,t)=>t.length<2?e:td(e,t.slice(0,-1)),khe=(e,t,r)=>{if(!Yr(e))return e;t=Gu(t,e);const n=t.length,i=n-1;let s=-1,o=e;for(;o!=null&&++s<n;){const a=$u(t[s]);let u=r;if(s!=i){const c=o[a];u=void 0,u===void 0&&(u=Yr(c)?c:dT(t[s+1])?[]:{})}cf(o,a,u),o=o[a]}return e},dT=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&che.test(e))&&e>-1&&e%1==0&&e<t},Lhe=(e,t)=>{t=Gu(t,e),e=_j(e,t);const r=t[t.length-1];return e==null||delete e[$u(r)]},Nhe=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},yj=e=>{const t=[];for(const r in e)t.push(r);return t},qhe=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},Wz=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function bj(e,t=!1){return(r,...n)=>{let i=-1,s=n.length,o=s>1?n[s-1]:void 0;const a=s>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):t?(u,c)=>{if(Array.isArray(u)&&!Array.isArray(c))return c}:void 0,a&&Qv(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),r=Object(r);++i<s;){const u=n[i];u&&e(r,u,i,o)}return r}}const vT=(e,t,r,n,i)=>{e!==t&&to(t,(s,o)=>{if(Yr(s))i||(i=new Al),Dhe(e,t,o,r,vT,n,i);else{let a=n?n(e[o],s,`${o}`,e,t,i):void 0;a===void 0&&(a=s),kE(e,o,a)}})},Dhe=(e,t,r,n,i,s,o)=>{const a=Wz(e,r),u=Wz(t,r),c=o.get(u);if(c){kE(e,r,c);return}let f=s?s(a,u,`${r}`,e,t,o):void 0,h=f===void 0;if(h){const p=Array.isArray(u),_=!p&&ed(u);f=u,p||_?Array.isArray(a)?f=a:Vo(a)&&bo(a)?f=cT(a):_?(h=!1,f=fj(u,!0)):f=[]:Jn(u)||Ah(u)?(f=a,Ah(a)?f=qhe(a):(typeof a=="function"||!Yr(a))&&(f=hj(u))):h=!1}h&&(o.set(u,f),i(f,u,n,s,o),o.delete(u)),kE(e,r,f)},kE=(e,t,r)=>{(r!==void 0&&!uf(e[t],r)||r===void 0&&!(t in e))&&cf(e,t,r)};function Fhe(e,t,r){const n=Object(e),i=r(e);let{length:s}=i,o=-1;for(;s--;){const a=i[++o];if(t(n[a],a,n)===!1)break}return e}const Bhe=(e,t)=>e&&Fhe(e,t,Jh),pT=(e,t)=>{if(e==null)return e;if(!bo(e))return Bhe(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function zhe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const Vhe=Set&&1/Eg(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function wj(e,t,r,n,i,s){return Yr(e)&&Yr(t)&&(s.set(t,e),vT(e,t,void 0,wj,s),s.delete(t)),e}function Ghe(e,t,r){t.length?t=t.map(o=>Array.isArray(o)?a=>td(a,o.length===1?o[0]:o):o):t=[o=>o];let n=-1,i=-1;const s=bo(e)?new Array(e.length):[];return pT(e,o=>{const a=t.map(u=>u(o));s[++i]={criteria:a,index:++n,value:o}}),$he(s,(o,a)=>Ohe(o,a,r))}function $he(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function xj(e){return e===e&&!Yr(e)}function Sj(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Ej(e,t){return e!=null&&ode(e,t,sde)}function Uhe(e,t){return hT(e)&&xj(t)?Sj($u(e),t):r=>{const n=td(r,e);return n===void 0&&n===t?Ej(r,e):Sg(t,n)}}function jhe(e){const t=Hhe(e);return t.length===1&&t[0][2]?Sj(t[0][0],t[0][1]):r=>r===e||Whe(r,e,t)}function Hhe(e){const t=Jh(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,xj(i)]}return t}function Whe(e,t,r,n){let i=r.length;const s=i;if(e==null)return!s;let o;for(e=Object(e);i--;)if(o=r[i],o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++i<s;){o=r[i];const a=o[0],u=e[a],c=o[1];if(o[2]){if(u===void 0&&!(a in e))return!1}else{const f=new Al;if(!Sg(c,u,f))return!1}}return!0}function Xhe(e){return hT(e)?Yhe($u(e)):Khe(e)}function Yhe(e){return t=>t==null?void 0:t[e]}function Khe(e){return t=>td(t,e)}function Zhe(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?Uhe(e[0],e[1]):jhe(e):Xhe(e)}function Ag(){const e=Zhe;return arguments.length?e(arguments[0]):e}const Jhe=(e,t,r,n)=>{let i=-1;const s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r},Qhe=(e,t,r,n,i)=>(i(e,(s,o,a)=>{r=n?(n=!1,s):t(r,s,o,a)}),r);function ede(e,t,r){const n=Array.isArray(e)?Jhe:Qhe,i=arguments.length<3;return n(e,t,r,i,pT)}const tde=e=>Array.isArray(e)||Ah(e)||!!(e&&e[Symbol.isConcatSpreadable]);function Aj(e,t,r,n,i){let s=-1;const o=e.length;for(r||(r=tde),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?Aj(a,t-1,r,n,i):i.push(...a):i[i.length]=a}return i}const Ah=e=>Vo(e)&&fo(e)=="[object Arguments]",rde=(e,t)=>nde(e,t,(r,n)=>Ej(e,n)),nde=(e,t,r)=>{let n=-1;const i=t.length,s={};for(;++n<i;){const o=t[n],a=td(e,o);r(a,o)&&khe(s,Gu(o,e),a)}return s},ide=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,sde=(e,t)=>e!=null&&t in Object(e),ode=(e,t,r)=>{t=Gu(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=$u(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&ide(i)&&dT(o,i)&&(Array.isArray(e)||Ah(e)))},ade=e=>e.match(hhe),ude=e=>e.match(Qfe),cde=(e,t)=>(lhe(e)?ude(e):ade(e))||[],lde=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,e.slice(t,r)},fde=hde("toUpperCase");function hde(e){return t=>{if(!t)return"";const r=uj(t)?cj(t):void 0,n=r?r[0]:t[0],i=r?lde(r,1).join(""):t.slice(1);return n[e]()+i}}class Al{constructor(t){const r=this.__data__=new KS(t);this.size=r.size}clear(){this.__data__=new KS,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof KS){const i=n.__data__;if(i.length<uT-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new Tj(i)}return n.set(t,r),this.size=n.size,this}}class KS{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=dv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=dv(r,t);return n<0?void 0:r[n][1]}has(t){return dv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=dv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class Tj{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new Xz,map:new Map,string:new Xz}}delete(t){const r=vv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return vv(this,t).get(t)}has(t){return vv(this,t).has(t)}set(t,r){const n=vv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class Xz{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===OE?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?OE:r,this}}class Th{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new Tj;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,OE),this}has(t){return this.__data__.has(t)}}Th.prototype.push=Th.prototype.add;const dde=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===_g},Yr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},vs=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===yg},Di=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===bg},Wt=bj((e,t)=>{if(xg(t)||bo(t)){Qh(t,Jh(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&cf(e,r,t[r])}),vde=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&Qv(t[0],t[1],i)&&(n=1);++r<n;){const s=t[r];if(s==null)continue;const o=Object.keys(s),a=o.length;let u=-1;for(;++u<a;){const c=o[u],f=e[c];(f===void 0||uf(f,Object.prototype[c])&&!hasOwnProperty.call(e,c))&&(e[c]=s[c])}}return e},Ls=vde,pde=function(...t){return t.push(void 0,wj),si.apply(void 0,t)},gT=pde,Lo=(e,t,...r)=>{let n=-1;const i=typeof t=="function",s=bo(e)?new Array(e.length):[];return pT(e,o=>{s[++n]=i?t.apply(o,r):gde(o,t,...r)}),s},gde=(e,t,...r)=>{t=Gu(t,e),e=_j(e,t);const n=e==null?e:e[$u(zhe(t))];return n==null?void 0:n.apply(e,r)},Pj=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=Ag(r,2),t=r(t);const s=t!==t,o=t===null,a=zl(t),u=t===void 0;for(;n<i;){let c;const f=Math.floor((n+i)/2),h=r(e[f]),p=h!==void 0,_=h===null,m=h===h,y=zl(h);s?c=m:u?c=m&&p:o?c=m&&p&&!_:a?c=m&&p&&!_&&!y:_||y?c=!1:c=h<t,c?n=f+1:i=f}return Math.min(i,fhe)},rd=(e,t)=>{let r=-1,n=(u,c)=>!!(u==null?0:u.length)&&u.indexOf(c)>-1;t=Ag(t,2);let i=!0;const{length:s}=e,o=[];let a=o;if(s>=uT){const u=t?null:Vhe(e);if(u)return Eg(u);i=!1,n=(c,f)=>c.has(f),a=new Th}else a=t?[]:o;e:for(;++r<s;){let u=e[r];const c=t?t(u):u;if(u=u!==0?u:0,i&&c===c){let f=a.length;for(;f--;)if(a[f]===c)continue e;t&&a.push(c),o.push(u)}else n(a,c)||(a!==o&&a.push(c),o.push(u))}return o},aa=e=>El(e),eo=e=>El(e,!0),ja=e=>{if(e==null)return!0;if(bo(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||ed(e)||Ah(e)))return!e.length;const t=fo(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(xg(e))return!ghe(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},_l=(e,t)=>Sg(e,t),vn=e=>typeof e=="function",Jn=e=>{if(!Vo(e)||fo(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Br=e=>{if(!e)return[];if(bo(e))return Di(e)?cj(e):cT(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const s=[];for(;!(i=n.next()).done;)s.push(i.value);return s}const t=fo(e);return(t==Kh?gj:t==Zh?Eg:phe)(e)};function mde(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,s,o,a,u,c=0,f=!1,h=!1,p=!0;const _=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Yr(r)&&(f=!!r.leading,h="maxWait"in r,s=h?Math.max(20,t):s,p="trailing"in r?!!r.trailing:p);function m(d){const C=n,I=i;return n=i=void 0,c=d,o=e.apply(I,C),o}function y(d,C){return _?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,C)}function b(d){if(_)return window.cancelAnimationFrame(d);clearTimeout(d)}function S(d){return c=d,a=y(P,t),f?m(d):o}function E(d){const C=d-u,I=d-c,L=t-C;return h?Math.min(L,s-I):L}function A(d){const C=d-u,I=d-c;return u===void 0||C>=t||C<0||h&&I>=s}function P(){const d=Date.now();if(A(d))return R(d);a=y(P,E(d))}function R(d){return a=void 0,p&&n?m(d):(n=i=void 0,o)}function q(...d){const C=Date.now(),I=A(C);if(n=d,i=this,u=C,I){if(a===void 0)return S(u);if(h)return a=y(P,t),m(u)}return a===void 0&&(a=y(P,t)),o}return q.cancel=()=>{a!==void 0&&b(a),c=0,n=u=i=a=void 0},q.flush=()=>a===void 0?o:R(Date.now()),q.pending=()=>a!==void 0,q}const _de=(e,t)=>(t=Ag(t,2),ede(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):cf(r,i,[n]),r),{})),ZS=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&Qv(e,t[0],t[1])?t=[]:r>2&&Qv(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[Ag(t,2)]),Ghe(e,t.flat(1),[])},yde=e=>(e==null?0:e.length)?Aj(e,1/0):[],Yz=(e,...t)=>bo(e)?mj(e,t):[],bde=(e,...t)=>Vo(e)&&bo(e)?mj(e,t.flat(1)):[],LE=(...e)=>{const t=e.flat(1);return rd(t)},Ha=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Qn=(e,t,r)=>{t=Gu(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let s=e==null?void 0:e[$u(t[n])];s===void 0&&(n=i,s=r),e=typeof s=="function"?s.call(e):s}return e},yc=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(s=>(s=Gu(s,e),n||(n=s.length>1),s)),Qh(e,vj(e),r),n&&(r=El(r,!0,!0,!0,s=>Jn(s)?void 0:s));let i=t.length;for(;i--;)Lhe(r,t[i]);return r},wde=(e,...t)=>e==null?{}:rde(e,t.flat(1/0)),to=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=bo(e)?lj(e,!0):yj(e);let s=i.length;for(;s--;){const o=i[++r];if(t(n[o],o,n)===!1)break}},xde=(e="")=>cde(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?fde(r):r)),"");let Sde=0;const Ede=(e="")=>{const t=++Sde;return`${e}`+t},si=bj((e,t,r,n)=>{vT(e,t,r,n)},!0),Io=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Cu.classNamePrefix.length)!==Cu.classNamePrefix&&(t=Cu.classNamePrefix+t),t}).join(" ")},Ade=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Cu.classNamePrefix.length)===Cu.classNamePrefix&&(t=t.substr(Cu.classNamePrefix.length)),t}).join(" ")},ep=function(e,t){const r={},n={},i=He.namespace.svg,s=t||i,o=document.createDocumentFragment(),a=function(u,c,f){for(let h=0;h<u.length;h++){const p=u[h];if(typeof p=="string"){const P=document.createTextNode(p);c.appendChild(P);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const _=p.tagName;let m;p.hasOwnProperty("namespaceURI")&&(f=p.namespaceURI),m=document.createElementNS(f,_);const y=f===i,b=y?He:Mt,S=p.attributes;S&&b(m).attr(S);const E=p.style;if(E&&Mt(m).css(E),p.hasOwnProperty("className")){const P=p.className;y?m.className.baseVal=P:m.className=P}if(p.hasOwnProperty("textContent")&&(m.textContent=p.textContent),p.hasOwnProperty("selector")){const P=p.selector;if(r[P])throw new Error("json-dom-parser: selector must be unique");r[P]=m,b(m).attr("joint-selector",P)}if(p.hasOwnProperty("groupSelector")){let P=p.groupSelector;Array.isArray(P)||(P=[P]);for(let R=0;R<P.length;R++){const q=P[R];let d=n[q];d||(d=n[q]=[]),d.push(m)}}c.appendChild(m);const A=p.children;Array.isArray(A)&&a(A,m,f)}};return a(e,o,s),{fragment:o,selectors:r,groupSelectors:n}},pv=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},Ph=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,s=0,o=n.length;s<o;)if(i=n[s++],Object(e)===e&&i in e)e=e[i];else return;return e},Cj=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},NE=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),s=i.length-1;let o=e,a=0;for(;a<s;a++){const u=i[a];if(!Cj(o,u))return e;o=o[u]||(o[u]={})}return o[i[s]]=r,e},Kz=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let s=e,o=0;for(;o<i;o++){const a=n[o];if(!Cj(s,a))return e;const u=s[a];if(!u)return e;s=u}return delete s[n[i]],e},Tde=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},yl=function(e){return yl.id=yl.id||1,e===void 0?"j_"+yl.id++:(e.id=e.id===void 0?"j_"+yl.id++:e.id,e.id)},Pde=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},Zn=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},Cde=function(e){let i=0,s=0,o=0,a=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=s,s=0),o="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:s*10,(o||a)&&e.deltaMode&&(e.deltaMode==1?(o*=40,a*=40):(o*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(o=a,a=0,i=s,s=0),o&&!i&&(i=o<1?-1:1),a&&!s&&(s=a<1?-1:1),{spinX:i,spinY:s,deltaX:o,deltaY:a}},Rde=function(e,t){return e>t?t:e<-50?-50:e},qE=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),s=setTimeout(function(){r(n+i)},i);return t=n+i,s}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),DE=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),Ci=function(e){return Di(e)&&e.slice(-1)==="%"},Ide=function(e,t){function r(a){var u=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return u?u[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var s;if(t==null)s="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;s=t.join("|")}else Di(t)&&(s=t);var o=r(s);return o===null?null:(i.unit=o,i)},fh=0;function Ode(e,t){const r=e.split(t);let n=1;for(let i=0,s=r.length-1;i<s;i++){const o=[];(i>0||r[0]!=="")&&o.push(fh),o.push(t),(i<s-1||r[s]!=="")&&o.push(fh),r.splice(n,0,...o),n+=o.length+1}return r.filter(i=>i!=="")}function Zz(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const Rj=function(e,t,r={},n={}){var i=t.width,s=t.height,o=n.svgDocument||He("svg").node,a=He("tspan").node,u=He("text").attr(r).append(a).node,c=document.createTextNode("");u.style.opacity=0,u.style.display="block",a.style.display="block",a.appendChild(c),o.appendChild(u),n.svgDocument||document.body.appendChild(o);const f=n.preserveSpaces,h=" ",p=n.separator||n.separator===""?n.separator:h,_=typeof p=="string"?p:h;var m=n.eol||`
`,y=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,b=n.maxLineCount;vs(b)||(b=1/0);var S=e.split(p),E=[],A=[],P,R,q;f&&He(a).attr("xml:space","preserve");for(var d=0,C=0,I=S.length;d<I;d++){var L=S[d];if(!(!L&&!f)&&typeof L=="string"){var B=!1;if(L.indexOf(m)>=0)if(L.length>1){const ie=Ode(S[d],m);S.splice(d,1,...ie),d--,I=S.length;continue}else{if(f&&typeof S[d-1]=="string"){S.splice(d,fh,"",fh),I+=2,d--;continue}A[++C]=!f||typeof S[d+1]=="string"?"":void 0,B=!0}if(!B){let ie;if(f?ie=A[C]!==void 0?A[C]+_+L:L:ie=A[C]?A[C]+_+L:L,c.data=ie,a.getComputedTextLength()<=i)A[C]=ie,(P||R)&&(E[C++]=!0,P=0,R=0);else{if(!A[C]||P){var H=!!P;if(P=L.length-1,H||!P){if(!P){if(!A[C]){A=[];break}S.splice(d,2,L+S[d+1]),I--,E[C++]=!0,d--;continue}S[d]=L.substring(0,P);const oe=S[d+1];S[d+1]=L.substring(P)+(oe===void 0||oe===fh?"":oe)}else{if(R)S.splice(d,2,S[d]+S[d+1]),R=0;else{var $=L.search(y);$>-1&&$!==L.length-1&&$!==0&&(R=$+1,P=0),S.splice(d,1,L.substring(0,R||P),L.substring(R||P)),I++}C&&!E[C-1]&&C--}(!f||A[C]!=="")&&d--;continue}C++,d--}}var J=null;if(A.length>b)J=b-1;else if(s!==void 0){if(q===void 0&&c.data!=="")if(r.lineHeight==="auto")q=Zz({value:1.5,unit:"em"},u);else{const ie=Ide(r.lineHeight,["em","px",""]);q=Zz(ie,u)}q*A.length>s&&(J=Math.floor(s/q)-1)}if(J!==null){A.splice(J+1);var ae=n.ellipsis;if(!ae||J<0)break;typeof ae!="string"&&(ae="â¦");var X=A[J];if(!X&&!B)break;var D=X.length,z,j;do{if(j=X[D],z=X.substring(0,D),j?j.match(p)&&(z+=j):z+=_,z+=ae,c.data=z,a.getComputedTextLength()<=i){A[J]=z;break}D--}while(D>=0);break}}}return n.svgDocument?o.removeChild(u):document.body.removeChild(o),A.join(m)},Mde=function(e){var t=Mt(Mt.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var r=this;Mt.each(r.attributes,function(){var n=this,i=n.name,s=n.value;(i.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&Mt(r).removeAttr(i)})}),t.html()},kde=function(e,t){var r=Mt(e),n=r.map(function(){var i=this,s=i.parentNode,o=s.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,o),s.removeChild(o)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},bc=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,s;return r=n=i=s=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=s=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(s=+e.left),{top:r,right:n,bottom:i,left:s}},Lde={linear:function(e){return e}},Ij={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,s,o={};for(i=r.length-1;i!=-1;i--)s=r[i],o[s]=e[s]+(t[s]-e[s])*n;return o}}},Nde={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Yi(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Yi(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Yi('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Yi(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Yi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Yi('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Yi('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Yi('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Yi('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Yi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Yi('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Yi=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),s=i.slice(1,4).find(function(u){return!!u}),o=s.split("."),a=r[o.shift()];a!==void 0&&o.length;)a=a[o.shift()];return a!==void 0?a:""})}},Wf=function(){};function Oj(e){e=rd(e);const t=Br(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return Br(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const o=n.source(),a=n.target();o.id&&t[o.id]&&n.prop("source/id",t[o.id].id),a.id&&t[a.id]&&n.prop("target/id",t[a.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const s=Br(r.get("embeds")).reduce(function(o,a){return t[a]&&o.push(t[a].id),o},[]);ja(s)||n.set("embeds",s)}),t}const qde=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],Dde=qde.reduce((e,t)=>(e[t]=!0,e),{}),Fde={qualify:function(e){return Jn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(Dde[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(s,o){s.selected=i.includes(s.value)}):r[n]=i}})}};function mu(e,t){return function(r,n){var i=Ci(r);r=parseFloat(r),i&&(r/=100);var s={};if(isFinite(r)){var o=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);s[e]=o}return s}}function gv(e,t,r){return function(n,i){var s=Ci(n);n=parseFloat(n),s&&(n/=100);var o;if(isFinite(n)){var a=i[r]();s||n>0&&n<1?o=a[e]+i[t]*n:o=a[e]+n}var u=ge();return u[e]=o||0,u}}function Jz(e,t,r){return function(n,i){var s;n==="middle"?s=i[t]/2:n===r?s=i[t]:isFinite(n)?s=n>-1&&n<1?-i[t]*n:-n:Ci(n)?s=i[t]*parseFloat(n)/100:s=0;var o=ge();return o[e]=-(i[e]+s),o}}function Mj(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,s,o){var a=Mt(o),u=a.data(r);if(!u||u.value!==i){var c=e(i);u={value:i,shape:c,shapeBBox:c.bbox()},a.data(r,u)}var f=u.shape.clone(),h=u.shapeBBox.clone(),p=h.origin(),_=s.origin();h.x=_.x,h.y=_.y;var m=s.maxRectScaleToFit(h,_),y=h.width===0||s.width===0?1:m.sx,b=h.height===0||s.height===0?1:m.sy;return f.scale(y,b,p),n&&f.translate(-p.x,-p.y),f}}function Qz(e){function t(n){return new Bt(He.normalizePathData(n))}var r=Mj(t,e);return function(n,i,s){var o=r(n,i,s);return{d:o.serialize()}}}function e4(e){var t=Mj(gn,e);return function(r,n,i){var s=t(r,n,i);return{points:s.serialize()}}}function mv(e,t){var r=new ge(1,0);return function(n){var i,s,o=this[e](n);return o?(s=t.rotate?o.vector().vectorAngle(r):0,i=o.start):(i=this.path.start,s=0),s===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+s+")"}}}function t4(e){return function(r,n,i){const s=He(i);s.attr(e)!==r&&s.attr(e,r)}}function ul(e,t,r){return r.text!==void 0}function Xf(){return this.model.isLink()}function JS(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function r4(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const fr={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:t4("href")},xlinkHref:{set:t4("xlink:href")},filter:{qualify:Jn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Jn,set:r4},stroke:{qualify:Jn,set:r4},sourceMarker:{qualify:Jn,set:function(e,t,r,n){return e=Wt(JS(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Jn,set:function(e,t,r,n){return e=Wt(JS(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Jn,set:function(e,t,r,n){return e=Wt(JS(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!Jn(r.textWrap)},set:function(e,t,r,n){const i=Mt(r),s="joint-text",o=i.data(s),{lineHeight:a,annotations:u,textVerticalAnchor:c,eol:f,displayEmpty:h}=n;let p=n.textPath,_=n.x;no(_)&&(_=io(_,t));let m=n["font-size"]||n.fontSize;no(m)&&(m=io(m,t));const y=JSON.stringify([e,a,u,c,f,h,p,_,m]);if(o===void 0||o!==y){if(m&&r.setAttribute("font-size",m),Yr(p)){const b=p.selector;if(typeof b=="string"){const[S]=this.findBySelector(b);S instanceof SVGPathElement&&(p=Wt({"xlink:href":"#"+S.id},p))}}He(r).text(""+e,{lineHeight:a,annotations:u,textPath:p,x:_,textVerticalAnchor:c,eol:f,displayEmpty:h}),i.data(s,y)}}},textWrap:{qualify:Jn,set:function(e,t,r,n){var i={},s=e.width||0;Ci(s)?i.width=t.width*parseFloat(s)/100:no(s)?i.width=Number(io(s,t)):e.width===null?i.width=1/0:s<=0?i.width=t.width+s:i.width=s;var o=e.height||0;Ci(o)?i.height=t.height*parseFloat(o)/100:no(o)?i.height=Number(io(o,t)):e.height===null||(o<=0?i.height=t.height+o:i.height=o);var a,u=e.text;if(u===void 0&&(u=n.text),u!==void 0){const c=e.breakText||Rj,f=n["font-size"]||n.fontSize;a=c(""+u,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":no(f)?io(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";fr.text.set.call(this,a,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Mt(r),i="joint-title",s=n.data(i);if(s===void 0||s!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var o=r.firstElementChild;if(o&&o.tagName==="title")o.textContent=e;else{var a=document.createElementNS(r.namespaceURI,"title");a.textContent=e,r.insertBefore(a,o)}}}},lineHeight:{qualify:ul},textVerticalAnchor:{qualify:ul},textPath:{qualify:ul},annotations:{qualify:ul},eol:{qualify:ul},displayEmpty:{qualify:ul},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Jn,set:function(e,t,r){Mt(r).css(e)}},html:{set:function(e,t,r){Mt(r).html(e+"")}},props:Fde,ref:{},refX:{position:gv("x","width","origin")},refY:{position:gv("y","height","origin")},refDx:{position:gv("x","width","corner")},refDy:{position:gv("y","height","corner")},refWidth:{set:mu("width","width")},refHeight:{set:mu("height","height")},refRx:{set:mu("rx","width")},refRy:{set:mu("ry","height")},refRInscribed:{set:function(e){var t=mu(e,"width"),r=mu(e,"height");return function(n,i){var s=i.height>i.width?t:r;return s(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=Ci(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:mu("cx","width")},refCy:{set:mu("cy","height")},xAlignment:{offset:Jz("x","width","right")},yAlignment:{offset:Jz("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:Qz({resetOffset:!0})},refDKeepOffset:{set:Qz({resetOffset:!1})},refPointsResetOffset:{set:e4({resetOffset:!0})},refPointsKeepOffset:{set:e4({resetOffset:!1})},connection:{qualify:Xf,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),s=n.divideAtLength(r,{segmentSubdivisions:i}),o=n.divideAtLength(-r,{segmentSubdivisions:i});s&&o&&(t=`${s[0].serialize()} ${o[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Xf,set:mv("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Xf,set:mv("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Xf,set:mv("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Xf,set:mv("getTangentAtRatio",{rotate:!1})}};fr["xlink:href"]=fr.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{fr[e]={qualify:no,set:function(r,n){return{[e]:io(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{fr[e]={qualify:no,set:function(r,n){return{[e]:Math.max(0,io(r,n))}}}});fr.refR=fr.refRInscribed;fr.refD=fr.refDResetOffset;fr.refPoints=fr.refPointsResetOffset;fr.atConnectionLength=fr.atConnectionLengthKeepGradient;fr.atConnectionRatio=fr.atConnectionRatioKeepGradient;fr.fontSize=fr["font-size"];fr.strokeWidth=fr["stroke-width"];fr.refX2=fr.refX;fr.refY2=fr.refY;fr.refWidth2=fr.refWidth;fr.refHeight2=fr.refHeight;fr["ref-x"]=fr.refX;fr["ref-y"]=fr.refY;fr["ref-dy"]=fr.refDy;fr["ref-dx"]=fr.refDx;fr["ref-width"]=fr.refWidth;fr["ref-height"]=fr.refHeight;fr["x-alignment"]=fr.xAlignment;fr["y-alignment"]=fr.yAlignment;const kj=fr,ma=ei.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=Ede("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Qn(this,"defaults"))&&(n=si({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Qn(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};to(r,function(s,o){const a=t[o];to(s,function(u,c){Yr(u)&&!Array.isArray(u)?to(u,function(f,h){(!a||!a[c]||!_l(a[c][h],f))&&(n[o]=n[o]||{},(n[o][c]||(n[o][c]={}))[h]=f)}):(!a||!_l(a[c],u))&&(n[o]=n[o]||{},n[o][c]=u)})});const i=eo(yc(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return Tde()},processPorts:function(){var e=this.ports,t={};to(this.get("attrs"),function(s,o){s&&s.port&&(s.port.id!==void 0?t[s.port.id]=s.port:t[s.port]={id:s.port})});var r={};if(to(e,function(s,o){t[o]||(r[o]=!0)}),this.graph&&!ja(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(s){r[s.get("target").port]&&s.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(s){r[s.get("source").port]&&s.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let s=0,o=i.length;s<o;s++){const a=i[s];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Ls(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:ZS(r,u=>u.z());let s=t.maxZIndex()-r.length+1;const o=t.get("cells");let a=o.indexOf(n[0])!==o.length-r.length;a||(a=n.some(function(u,c){return u.z()!==s+c})),a&&(this.startBatch("to-front"),s=s+r.length,n.forEach(function(u,c){u.set("z",s+c,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Ls(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:ZS(n,a=>a.z());let s=t.minZIndex();var r=t.get("cells");let o=r.indexOf(i[0])!==0;o||(o=i.some(function(a,u){return a.z()!==s+u})),o&&(this.startBatch("to-back"),s-=n.length,i.forEach(function(a,u){a.set("z",s+u,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Wt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",rd(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",Yz(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(ja(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=ZS(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let s=i.length-1;s>=0;--s)r.push(i[s])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=Di(e)?e:e.id,n=this.parent();if(t=Wt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Br(Oj([this].concat(this.getEmbeddedCells({deep:!0}))));var t=ei.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=Di(e);if(i||Array.isArray(e))if(arguments.length>1){var s,o;i?(s=e,o=s.split("/")):(s=e.join(n),o=e.slice());var a=o[0],u=o.length;const A=r||{};A.propertyPath=s,A.propertyValue=t,A.propertyPathArray=o,"rewrite"in A||(A.rewrite=!1);for(var c={},f=c,h=a,p=1;p<u;p++){var _=o[p],m=Number.isFinite(i?Number(_):_);f=f[h]=m?[]:{},h=_}c=NE(c,o,t,"/");var y=si({},this.attributes);A.rewrite&&Kz(y,s,"/");var b=si(y,c);return this.set(a,b[a],A)}else return Ph(this.attributes,e,n);const S=t||{};S.propertyPath=null,S.propertyValue=e,S.propertyPathArray=[],"rewrite"in S||(S.rewrite=!1);const E={};for(const A in e){const{changedValue:P}=si({},{changedValue:this.attributes[A]},{changedValue:e[A]});E[A]=P}return this.set(E,S)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),s=this.get(n);return s==null?this:(s=eo(s),Kz(s,i,"/"),this.set(n,s,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):Di(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:Lde.linear,valueFunction:Ij.number};r=Wt(i,r);var s=0,o,a=(function(h){var p,_,m;s=s||h,h-=s,_=h/r.duration,_<1?this._transitionIds[e]=p=qE(a):(_=1,delete this._transitionIds[e]),m=o(r.timingFunction(_)),r.transitionId=p,this.prop(e,m,r),p||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:u}=this;let c;var f=h=>{u[e]&&(u[e]=Yz(u[e],c),u[e].length===0&&delete u[e]),this.stopPendingTransitions(e,n),o=r.valueFunction(Ph(this.attributes,e,n),t),this._transitionIds[e]=qE(h),this.trigger("transition:start",this,e)};return c=setTimeout(f,r.delay,a),u[e]||(u[e]=[]),u[e].push(c),c},getTransitions:function(){return LE(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(s=>_l(i,s.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(o=>clearTimeout(o)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(s=>_l(i,s.split(t).slice(0,i.length)))}n.forEach(i=>{const s=r[i];DE(s),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Wt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Wt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ge(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ge},getBBox:function(){return new mt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ge(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=kj;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Wt({defaults:gT({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Ha(joint,"shapes")&&NE(joint.shapes,e,i,"."),i}}),Bde=function(e,t,r){if(Di(r)){if(!FE[r])throw new Error('Unknown wrapper: "'+r+'"');r=FE[r]}if(!vn(r))throw new Error("Wrapper must be a function.");Br(t).forEach(function(n){e[n]=r(e[n])})},FE={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof ma?n=t:n instanceof ma&&(t.length>1&&t.pop(),n=t)),i instanceof ma&&(i={}),e.call(this,n,i)}}},$n={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function Lj(e,t){const r=new mt(e);switch(t){case void 0:throw new Error("Position required");case $n.LEFT:case"leftMiddle":return r.leftMiddle();case $n.RIGHT:case"rightMiddle":return r.rightMiddle();case $n.TOP:case"topMiddle":return r.topMiddle();case $n.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case $n.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case $n.TOP_RIGHT:case"topRight":return r.topRight();case $n.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case $n.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case $n.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function Nj(e,t,r){var n=e.toJSON();return n.angle=t||0,Ls({},r,n)}function nd(e,t,r,n){return e.map(function(i,s,o){var a=this.pointAt((s+.5)/o.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),Nj(a.round(),0,mT(n,i))},fc(t,r))}function qj(e,t,r,n){var i=t.center(),s=t.width/t.height,o=t.topMiddle(),a=es.fromRect(t);return e.map(function(u,c,f){var h=r+n(c,f.length),p=o.clone().rotate(i,-h).scale(s,1,i),_=u.compensateRotation?-a.tangentTheta(p):0;return(u.dx||u.dy)&&p.offset(u.dx||0,u.dy||0),u.dr&&p.move(i,u.dr),Nj(p.round(),_,mT(t,u))})}function mT(e,t){let{x:r,y:n,angle:i}=t;return Ci(r)?r=parseFloat(r)/100*e.width:no(r)&&(r=Number(io(r,e))),Ci(n)?n=parseFloat(n)/100*e.height:no(n)&&(n=Number(io(n,e))),{x:r,y:n,angle:i}}function BE(e,t){const{x:r,y:n}=mT(e,t);return new ge(r||0,n||0)}const zde=function(e,t){return e.map(r=>{const n=BE(t,r).round().toJSON();return n.angle=r.angle||0,n})},Vde=function(e,t,r){return r.fn(e,t,r)},Gde=function(e,t,r){var n=BE(t,r.start||t.origin()),i=BE(t,r.end||t.corner());return nd(e,n,i,t)},$de=function(e,t,r){return nd(e,t.origin(),t.bottomLeft(),t)},Ude=function(e,t,r){return nd(e,t.topRight(),t.corner(),t)},jde=function(e,t,r){return nd(e,t.origin(),t.topRight(),t)},Hde=function(e,t,r){return nd(e,t.bottomLeft(),t.corner(),t)},Wde=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return qj(e,t,n,function(s){return s*i})},Xde=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return qj(e,t,n,function(s,o){return(s+.5-o/2)*i})},Yde=Object.freeze(Object.defineProperty({__proto__:null,absolute:zde,bottom:Hde,ellipse:Xde,ellipseSpread:Wde,fn:Vde,left:$de,line:Gde,right:Ude,top:jde},Symbol.toStringTag,{value:"Module"}));function Uu(e,t){return gT({},e,t,{x:0,y:0,angle:0,attrs:{}})}function Dj(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),s=t.theta(e.topRight());return[r,s,i,n]}function Fj(e,t,r,n){n=Ls({},n,{offset:15});var i=t.center().theta(e),s,o,a,u,c=n.offset,f=0;const[h,p,_,m]=Dj(t);i<p||i>_?(a=".3em",s=c,o=0,u="start"):i<h?(s=0,o=-c,r?(f=-90,u="start",a=".3em"):(u="middle",a="0")):i<m?(a=".3em",s=-c,o=0,u="end"):(s=0,o=c,r?(f=90,u="start",a=".3em"):(u="middle",a=".6em"));var y=Math.round;return Uu(n,{x:y(s),y:y(o),angle:f,attrs:{labelText:{y:a,textAnchor:u}}})}function Bj(e,t,r,n){n=Ls({},n,{offset:15});var i=t.center().theta(e),s,o,a,u,c=n.offset,f=0;const[h,p,_,m]=Dj(t);i<p||i>_?(a=".3em",s=-c,o=0,u="end"):i<h?(s=0,o=c,r?(f=90,u="start",a=".3em"):(u="middle",a=".6em")):i<m?(a=".3em",s=c,o=0,u="start"):(s=0,o=-c,r?(f=-90,u="start",a=".3em"):(u="middle",a="0"));var y=Math.round;return Uu(n,{x:y(s),y:y(o),angle:f,attrs:{labelText:{y:a,textAnchor:u}}})}function zj(e,t,r){r=Ls({},r,{offset:20});var n=Wv(0,0),i=-e.theta(n),s=i,o=e.clone().move(n,r.offset).difference(e).round(),a=".3em",u;(i+90)%180===0?(u=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(u="start",s=i-180):u="end";var c=Math.round;return Uu(r,{x:c(o.x),y:c(o.y),angle:t?s:0,attrs:{labelText:{y:a,textAnchor:u}}})}const Kde=function(e,t,r){return Uu(r)},Zde=function(e,t,r){return Uu(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Jde=function(e,t,r){return Uu(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Qde=function(e,t,r){return Uu(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},eve=function(e,t,r){return Uu(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},tve=function(e,t,r){return Fj(e,t,!0,r)},rve=function(e,t,r){return Fj(e,t,!1,r)},nve=function(e,t,r){return Bj(e,t,!0,r)},ive=function(e,t,r){return Bj(e,t,!1,r)},sve=function(e,t,r){return zj(e.difference(t.center()),!1,r)},ove=function(e,t,r){return zj(e.difference(t.center()),!0,r)},ave=Object.freeze(Object.defineProperty({__proto__:null,bottom:eve,inside:ive,insideOriented:nve,left:Zde,manual:Kde,outside:rve,outsideOriented:tve,radial:sve,radialOriented:ove,right:Jde,top:Qde},Symbol.toStringTag,{value:"Module"})),lf=ma.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return aa(this.get("source"));var n,i,s=e instanceof ma;if(s)return n=aa(t)||{},n.id=e.id,i=r,this.set("source",n,i);var o=!Jn(e);return o?(n=aa(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return aa(this.get("target"));var n,i,s=e instanceof ma;if(s)return n=aa(t)||{},n.id=e.id,i=r,this.set("target",n,i);var o=!Jn(e);return o?(n=aa(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?aa(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",s=i?e:{name:e,args:t},o=i?t:r;return this.set("router",s,o)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?aa(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",s=i?e:{name:e,args:t},o=i?t:r;return this.set("connector",s,o)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],s=this._normalizeVertex(i);r.push(s)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var s=this._normalizeVertex(t);return n.splice(e,0,s),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!Jn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ge(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!vn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var s=this.vertices();return s.length>0&&(r.vertices=s.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ge(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ge(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ge),this.getTargetPoint()];return new gn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var s=n===i;if(!s&&e.deep&&this.graph){var o=this.getSourceCell(),a=this.getTargetCell();s=o.isEmbeddedIn(a)||a.isEmbeddedIn(o)}return s},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Di(e)||vs(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var Vj=function(e){var t=eo(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Yde,this.portLabelLayoutNamespace=ave,this._init(t)};Vj.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},s=i.name,o=this.portLayoutNamespace;o[s]||(s="left");var a=i.args||{},u=n.map(function(h){return h&&h.position&&h.position.args}),c=o[s](u,t,a),f={ports:n,result:[]};return Br(c).reduce((function(h,p,_){var m=h.ports[_];return h.result.push({portId:m.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(m,ge(p),t),portAttrs:m.attrs,portSize:m.size,labelSize:m.label.size}),h}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Yr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var s=Br(e.items),o=0,a=s.length;o<a;o++)this.ports.push(this._evaluatePort(s[o]))},_evaluateGroup:function(e){return si(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Wt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=si({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=si({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Wt({},r.size,t.size),t},_getZIndex:function(e,t){return vs(t.z)?t.z:vs(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return si({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;vn(e)?(n="fn",r.fn=e):Di(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Yr(e)&&(n=e.name,Wt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const uve={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Br(e.items).forEach(function(a){t[a.id]=!0});var r=this.previous("ports")||{},n={};Br(r.items).forEach(function(a){t[a.id]||(n[a.id]=!0)});var i=this.graph;if(i&&!ja(n)){var s=i.getConnectedLinks(this,{inbound:!0});s.forEach(function(a){n[a.get("target").port]&&a.remove()});var o=i.getConnectedLinks(this,{outbound:!0});o.forEach(function(a){n[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return eo(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Br(this.prop(["ports","items"])).filter(r=>r.group===e);return eo(t)},getPort:function(e){return eo(Br(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,mt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Yr(e)?e.id:e;return this._isValidPortId(t)?Br(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Yr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Wt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Yr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Wt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?s[0]=["ports","items",i].concat(t):Di(t)?s[0]=["ports/items/",i,"/",t].join(""):(s=["ports/items/"+i],Jn(t)&&(s.push(t),s.push(r))),this.prop.apply(this,s)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=Br(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),rd(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Yr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Wt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Wt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Wt([],this.prop(["ports","items"])).filter(function(s){return!e.some(function(o){const a=Yr(o)?o.id:o;return s.id===a})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new Vj(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(s){if(!t.find(function(o){return o.id===s.id}))return s}),i=t.filter(function(s){if(!r.find(function(o){return o.id===s.id}))return s});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},cve={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=_de(this.model._portSettingsData.getPorts(),"z"),s="auto";Br(i[s]).forEach(function(f){var h=this._getPortElement(f);t.append(h),e.push(h)},this);for(var o=Object.keys(i),a=0;a<o.length;a++){var u=o[a];if(u!==s){var c=parseInt(u,10);this._appendPorts(i[u],c,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=Br(e).map(this._getPortElement,this);r[t]||t<0?He(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[s=null]=this.findBySelector(t,n,i);return s},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Lo(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var s=He(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(e);if(Array.isArray(o)){var a=this.parseDOMJSON(o,s.node),u=a.fragment;u.childNodes.length>1?t=He("g").append(u):t=He(u.firstChild),i=a.selectors}else t=He(o),Array.isArray(t)&&(t=He("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const c=this._getPortLabelMarkup(e.label);if(Array.isArray(c)){const{fragment:y,selectors:b}=this.parseDOMJSON(c,s.node),S=y.childNodes.length;S>0&&(n=b,r=S===1?He(y.firstChild):He("g").append(y))}else r=He(c),Array.isArray(r)&&(r=He("g").append(r));var f;if(i&&n){for(var h in n)if(i[h]&&h!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Wt({},i,n)}else f=i||n||{};const p="portRoot",_="labelRoot",m="labelText";if(p in f||(f[p]=t.node),r){const y=r.node;if(_ in f||(f[_]=y),!(m in f)){const b=r.tagName()==="TEXT"?y:Array.from(y.querySelectorAll("text"));f[m]=b,n||(n={}),n[m]=b}}return s.append(t.addClass("joint-port-body")),r&&s.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:s,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},s},_updatePortGroup:function(e){for(var t=mt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var s=r[n],o=s.portId,a=this._portElementsCache[o]||{},u=s.portTransformation,c=s.labelTransformation;c&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,c.attrs,{rootBBox:new mt(s.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,c,-u.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,s.portAttrs,{rootBBox:new mt(s.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,u)}},applyPortTransform:function(e,t,r){var n=He.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},zi=ma.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),ma.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=vs(t);r=(n?r:e)||{};const{parentRelative:i,deep:s,restrictedArea:o}=r;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const u=this.getParentCell();u&&!u.isLink()&&(a=u.get("position"))}if(n){if(a&&(e+=a.x,t+=a.y),s||o){const{x:u,y:c}=this.get("position");this.translate(e-u,t-c,r)}else this.set("position",{x:e,y:t},r);return this}else{const u=ge(this.get("position"));return i?u.difference(a):u}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var s=i.call(this,n.x+e,n.y+t,r);e=s.x-n.x,t=s.y-n.y}else{var o=this.getBBox({deep:!0}),a=n.x-o.x,u=n.y-o.y,c=Math.max(i.x+a,Math.min(i.x+i.width+a-o.width,n.x+e)),f=Math.max(i.y+u,Math.min(i.y+i.height+u-o.height,n.y+t));e=c-n.x,t=f-n.y}var h={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Yr(r.transition)||(r.transition={}),this.transition("position",h,Wt({},r.transition,{valueFunction:Ij.object})),Lo(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",h,r),Lo(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Yr(e)&&(r=t,t=vs(e.height)?e.height:n.height,e=vs(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=Bo(this.get("angle")||0),s=this.getBBox(),o;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(a+=Math.floor((i+45)/90),a%=4);var u=s[["bottomLeft","corner","topRight","origin"][a]](),c=ge(u).rotate(s.center(),-i),f=Math.sqrt(e*e+t*t)/2,h=a*Math.PI/2;h+=Math.atan(a%2==0?t/e:e/t),h-=_s(i);var p=ge.fromPolar(f,h,c);o=ge(p).offset(e/-2,t/-2)}else switch(o=s.topLeft(),r.direction){case"top":case"top-right":o.offset(0,s.height-t);break;case"left":case"bottom-left":o.offset(s.width-e,0);break;case"top-left":o.offset(s.width-e,s.height-t);break}this.set("size",{width:e,height:t},r),this.position(o.x,o.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Lo(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:s,width:o,height:a}=t;const{left:u,right:c,top:f,bottom:h}=bc(e.padding);i-=u,s-=f,o+=u+c,a+=h+f;let p=new mt(i,s,o,a);if(r)p=this.getBBox().union(p);else if(n){const _=this.getBBox().intersect(p);if(!_)return;p=_}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),s=this.get("size"),o=this.get("position");i.rotate(r,this.get("angle")-e);var a=i.x-s.width/2-o.x,u=i.y-s.height/2-o.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(o.x+a,o.y+u,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return Bo(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const h=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return h.push(this),t.getCellsBBox(h,e)}const{angle:s=0,position:{x:o,y:a},size:{width:u,height:c}}=r,f=new mt(o,a,u,c);return i&&f.rotateAroundCenter(s),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var s=i.port;if(!s||!this.hasPort(s))return n;var o=this.portProp(s,["group"]),a=this.getPortsPositions(o),u=new ge(a[s]).offset(r.origin()),c=this.angle();return c&&u.rotate(n,-c),u}});Wt(zi.prototype,uve);const lve=ei.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Ha(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?lf:Ph(n,e.type,".")||zi,s=new i(e,t);return t.dry||(s.graph=r.graph),s},comparator:function(e){return e.get("z")||0}}),No=ei.Model.extend({initialize:function(e,t){t=t||{};var r=new lve([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});ei.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=ei.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=yc(n,"cells")),ei.Model.prototype.set.call(this,n,r)},clear:function(e){e=Wt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof ei.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!Di(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof ei.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=yde(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=Br(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Lo(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var s=[],o={};i&&a(this,e),n&&u(this,e);function a(h,p){if(to(h.getOutboundEdges(p.id),(function(m,y){if(!o[y]){var b=h.getCell(y);s.push(b),o[y]=!0,r&&(n&&u(h,b),i&&a(h,b))}}).bind(h)),r&&p.isLink()){var _=p.getTargetCell();_&&_.isLink()&&(o[_.id]||(s.push(_),a(h,_)))}}function u(h,p){if(to(h.getInboundEdges(p.id),(function(m,y){if(!o[y]){var b=h.getCell(y);s.push(b),o[y]=!0,r&&(n&&u(h,b),i&&a(h,b))}}).bind(h)),r&&p.isLink()){var _=p.getSourceCell();_&&_.isLink()&&(o[_.id]||(s.push(_),u(h,_)))}}if(t.deep){var c=e.getEmbeddedCells({deep:!0}),f={};c.forEach(function(h){h.isElement()&&(f[h.id]=!0)}),c.forEach(function(h){h.isLink()||(i&&to(this.getOutboundEdges(h.id),(function(p,_){if(!o[_]){var m=this.getCell(_),{source:y,target:b}=m.attributes,S=y.id,E=b.id;if(!t.includeEnclosed&&S&&f[S]&&E&&f[E])return;s.push(this.getCell(_)),o[_]=!0}}).bind(this)),n&&to(this.getInboundEdges(h.id),(function(p,_){if(!o[_]){var m=this.getCell(_),{source:y,target:b}=m.attributes,S=y.id,E=b.id;if(!t.includeEnclosed&&S&&f[S]&&E&&f[E])return;s.push(this.getCell(_)),o[_]=!0}}).bind(this)))},this)}return s},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,u){var{source:c,target:f}=u.attributes,h=u.hasLoop(t);if(r&&Ha(c,"id")&&!a[c.id]){var p=this.getCell(c.id);p.isElement()&&(h||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(a[c.id]=p)}if(n&&Ha(f,"id")&&!a[f.id]){var _=this.getCell(f.id);_.isElement()&&(h||_&&_!==e&&(!t.deep||!_.isEmbeddedIn(e)))&&(a[f.id]=_)}return a}).bind(this),{});if(e.isLink()){if(r){var s=e.getSourceCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}if(n){var o=e.getTargetCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}}return Br(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=Br(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Wt({},t,{outbound:!0})),r},cloneCells:Oj,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],s=[];return Br(e).forEach(function(o){if(n[o.id]||(r.push(o),n[o.id]=o,o.isLink()?s.push(o):i.push(o)),t.deep){var a=o.getEmbeddedCells({deep:!0});a.forEach(function(u){n[u.id]||(r.push(u),n[u.id]=u,u.isLink()?s.push(u):i.push(u))})}}),s.forEach(function(o){var{source:a,target:u}=o.attributes;if(a.id&&!n[a.id]){var c=this.getCell(a.id);r.push(c),n[c.id]=c,i.push(c)}if(u.id&&!n[u.id]){var f=this.getCell(u.id);r.push(this.getCell(u.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(o){var a=this.getConnectedLinks(o,t);a.forEach(function(u){var{source:c,target:f}=u.attributes;!n[u.id]&&c.id&&n[c.id]&&f.id&&n[f.id]&&(r.push(u),n[u.id]=u)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Wt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){var o=s.shift();if(n[o.id]||(n[o.id]=!0,t.call(this,o,i[o.id])===!1))continue;const a=this.getNeighbors(o,r);for(let u=0,c=a.length;u<c;u++){const f=a[u];i[f.id]=i[o.id]+1,s.push(f)}}},dfs:function(e,t,r={}){const n={},i={},s=[];for(s.push(e),i[e.id]=0;s.length>0;){const o=s.pop();if(n[o.id]||(n[o.id]=!0,t.call(this,o,i[o.id])===!1))continue;const a=this.getNeighbors(o,r),u=s.length;for(let c=0,f=a.length;c<f;c++){const h=a[c];i[h.id]=i[o.id]+1,s.splice(u,0,h)}}},getSources:function(){var e=[];return to(this._nodes,(function(t,r){(!this._in[r]||ja(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return to(this._nodes,(function(t,r){(!this._out[r]||ja(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||ja(this._in[e.id])},isSink:function(e){return!this._out[e.id]||ja(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var s=!1;return this.getConnectedLinks(e,r).forEach(function(o){var{source:a,target:u}=o.attributes;if(n&&Ha(a,"id")&&a.id===t.id||i&&Ha(u,"id")&&u.id===t.id)return s=!0,!1}),s},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Lo(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new mt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(s=>r[i](s.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(Lj(n,r))).filter(s=>e.id!==s.id&&!s.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return Br(e).reduce(function(n,i){const s=i.getBBox({rotate:r});return s?n?n.union(s):s:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return Lo(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var s=Math.max(e/i.width,0),o=Math.max(t/i.height,0);Lo(r,"scale",s,o,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Wt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Wt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var s=e.getConnectedLinks(i,{outbound:!0}),o=s.filter(function(a){var{source:u,target:c}=a.attributes;return u&&u.id===r.id&&(!u.port||u.port===r.port)&&c&&c.id===n.id&&(!c.port||c.port===n.port)});if(o.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});Bde(No.prototype,["resetCells","addCells","removeCells"],FE.cells);const oc={},Ka=ei.View.extend({options:{},theme:null,themeClassNamePrefix:Io("theme-"),requireSetThemeOverride:!1,defaultTheme:Cu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Wt({},this.options,e),ei.View.call(this,e)},initialize:function(){oc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Qn(this,"children")),e){var t=this.svgElement,r=He.namespace[t?"svg":"xhtml"],n=ep(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Qn(this,"el"));else{var e=Qn(this,"tagName"),t=Wt({},Qn(this,"attributes")),r=Wt({},Qn(this,"style"));this.id&&(t.id=Qn(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(He.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof ei.$?e:ei.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=He(this.el))},_ensureElClassName:function(){var e=Qn(this,"className");if(e){var t=Io(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),oc[this.cid]=null,ei.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var s=t[i];typeof s!="function"&&(s=this[s]),s&&Mt(e).on(i+n,r,s.bind(this))}return this},undelegateElementEvents:function(e){return Mt(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Qn(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Wt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Wt({},e[0])||{},r=e[1]&&Wt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,ei.View.extend.call(this,t,r)}}),n4="dbltap";if(Mt.event&&!(n4 in Mt.event.special)){const e=Cu.doubleTapInterval,t=30;Mt.event.special[n4]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:s}=r,o=Mt.data(s),a=new Date().getTime(),u="lastTouch"in o?a-o.lastTouch:0;u<e&&u>t?(o.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):o.lastTouch=a}}}const ro={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},fve=Ka.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Io(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let s in r)s=+s,s<e&&s>i&&(i=s,e-1);if(i!==-1/0){const s=r[i];t.insertBefore(n,s.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function Yf(e){return e?Array.isArray(e)?e:[e]:[]}const Oo=Ka.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(Jn(t)){const n=e.model.isLink(),{label:i=null,port:s,selector:o}=t;n&&i!==null?r=e.findLabelNode(i,o):!n&&s?r=e.findPortNode(s,o):[r]=e.findBySelector(o)}else t&&(r=He.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,s=e.getNodeMatrix(t);return i?n?i.contains(t)?s:e.getRootRotateMatrix().inverse().multiply(s):e.getNodeRotateMatrix(t).multiply(s):s},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:s,postponedUpdate:o,nodeSelector:a}=this;if(!e||i)return;if(o){this.update(t,a),this.transform();return}const{vel:u,paper:c}=t,{layer:f}=n;if(f){let h;s?(h=s,this.detachedTransformGroup=null):h=He("g").addClass("highlight-transform").append(r),this.transformGroup=h,c.getLayerView(f).insertSortedNode(h.node,n.z)}else(!r.parentNode||r.nextSibling)&&u.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),s=n.multiply(i);e.attr("transform",He.matrixToTransformString(s))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const s=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),s?(this.highlight(t,s),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Qn(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Qn(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const s=[];if(!i)return s;for(let o in i){const a=i[o];a instanceof this&&s.push(a)}return s}else{if(!i)return null;if(t in i){const s=i[t];if(s instanceof this)return s}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=Oo.get(e,r);i&&i.remove();const s=new this(n);return s.id=r,this._addRef(e,r,s),s.requestUpdate(e,t),s.listenToUpdateAttributes(e),s},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let s=i[n];s||(s=i[n]={}),s[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let s in i)return;delete n[r]}},remove(e,t=null){Yf(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const s=r[n][i];s.cellView.paper===e&&s instanceof this&&(t===null||i===t)&&s.remove()}},update(e,t=null,r=!1){Yf(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){Yf(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){Yf(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){Yf(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return He.ensureId(e)+JSON.stringify(t)}}),cl={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},hve={TOOLS:"TOOLS"},Ar=Ka.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,s,o=Qn(this,"presentationAttributes");for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];for(Array.isArray(u)||(u=[u]),n=0,i=u.length;n<i;n++){s=u[n];var c=e[s];c||(c=e[s]=1<<r++),t[a]|=c}}var f=Qn(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)s=f[n],e[s]||(e[s]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||yl(this),Ka.call(this,e)},initialize:function(){this.setFlags(),Ka.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=ep(e),n=r.selectors,i=r.groupSelectors;for(var s in i){if(n[s])throw new Error("dia.CellView: ambiguous group selector");n[s]=i[s]}if(t){var o=this.selector;if(n[o])throw new Error("dia.CellView: ambiguous root selector.");n[o]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=vn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Yr(t)&&t[e]!==!1||dde(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Mt(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return He.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():He.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return He.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=He.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=He.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,s=n.height/2;e=e.translate(i,s).rotate(r).translate(-i,-s)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let s;switch(!0){case r.embedding:s=cl.EMBEDDING;break;case r.connecting:s=cl.CONNECTING;break;case r.magnetAvailability:s=cl.MAGNET_AVAILABILITY;break;case r.elementAvailability:s=cl.ELEMENT_AVAILABILITY;break;default:s=cl.DEFAULT;break}r.type=s}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=He(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,s=n.getDefaultLink(this,e);return s.set({source:this.getLinkEnd(e,t,r,s,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),s.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),s=e.getAttribute("joint-selector"),o={id:n};return s!=null&&(o.magnet=s),i!=null?(o.port=i,!r.hasPort(i)&&!s&&(o.selector=this.getSelector(e))):s==null&&this.el!==e&&(o.selector=this.getSelector(e)),this.customizeLinkEnd(o,e,...t)},customizeLinkEnd:function(e,t,r,n,i,s){const{paper:o}=this,{connectionStrategy:a}=o.options;if(typeof a=="function"){var u=a.call(o,e,this,t,new ge(r,n),i,s,o);if(u)return u}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,s;return r!=null&&i.isElement()&&i.hasPort(r)?s=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),s=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var s=this.paper,o=s.options.magnetThreshold,a=this.getEventTarget(e),u=n.targetMagnet;if(o==="onleave"){if(u===a||He(u).contains(a))return}else if(s.eventData(e).mousemoved<=o)return;this.dragLinkStart(e,u,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){ja(t)||(e instanceof SVGElement?He(e).attr(t):Mt(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,s,o,a,u,c,f,h=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!vn(i.qualify)||i.qualify.call(this,n,e,t,this))?(Di(i.set)&&(a||(a={}),a[i.set]=n),n!==null&&h.push(r,i)):(a||(a={}),a[Pde(r)]=n));for(s=0,o=h.length;s<o;s+=2)r=h[s],i=h[s+1],n=t[r],vn(i.set)&&(u||(u={}),u[r]=n),vn(i.position)&&(c||(c={}),c[r]=n),vn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:a,set:u,position:c,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,s,o,a=t.raw||{},u=t.normal||{},c=t.set,f=t.position,h=t.offset;for(i in c){s=c[i],o=this.getAttributeDefinition(i);var p=o.set.call(this,s,r.clone(),e,a,this);Yr(p)?Wt(u,p):p!==void 0&&(u[i]=p)}if(e instanceof HTMLElement){this.setNodeAttributes(e,u);return}var _=u.transform,m=He.transformStringToMatrix(_),y=ge(m.e,m.f);_&&(u=yc(u,"transform"),m.e=m.f=0);var b,S,E;if(f||h){var A=this.getNodeScale(e,n.scalableNode);b=A.sx,S=A.sy}var P=!1;for(i in f)s=f[i],o=this.getAttributeDefinition(i),E=o.position.call(this,s,r.clone(),e,a,this),E&&(y.offset(ge(E).scale(b,S)),P||(P=!0));this.setNodeAttributes(e,u);var R=!1;if(h){var q=this.getNodeBoundingRect(e);if(q.width>0&&q.height>0){var d=He.transformRect(q,m).scale(1/b,1/S);for(i in h)s=h[i],o=this.getAttributeDefinition(i),E=o.offset.call(this,s,d,e,a,this),E&&(y.offset(ge(E).scale(b,S)),R||(R=!0))}}(_!==void 0||P||R)&&(y.round(1),m.e=y.x,m.f=y.y,e.setAttribute("transform",He.matrixToTransformString(m)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=He.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=He(e).getBBox()),new mt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=He(e).getTransformToElement(i)}return He.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=He(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,s,o,a,u={},c=[];for(var f in e)if(e.hasOwnProperty(f)&&(o=e[f],!!Jn(o))){var h=r[f]=this.findBySelector(f,t,n);for(i=0,s=h.length;i<s;i++){var p=h[i];a=He.ensureId(p);var _=n&&n[f]===p,m=u[a];if(m){m.array||(c.push(a),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]);var y=m.attributes,b=m.selectedLength;if(_)y.unshift(o),b.unshift(-1);else{var S=Pj(b,s);y.splice(S,0,o),b.splice(S,0,s)}}else u[a]={attributes:o,selectedLength:_?-1:s,node:p,array:!1}}}for(i=0,s=c.length;i<s;i++)a=c[i],o=u[a],o.attributes=si({},...o.attributes.reverse());return u},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:s=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,s):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=mt()),r.selectors||(r.selectors=this.selectors);var n={},i={},s=[],o=[],a,u,c,f,h,p=r.roAttributes,_=this.findNodesAttributes(p||t,e,n,r.selectors),m=p?this.findNodesAttributes(t,e,n,r.selectors):_;for(var y in _)if(f=_[y],c=f.attributes,u=f.node,h=this.processNodeAttributes(u,c),!h.set&&!h.position&&!h.offset)this.setNodeAttributes(u,h.normal);else{var b=m[y]&&m[y].attributes,S=b&&c.ref===void 0?b.ref:c.ref,E;if(S){if(E=(n[S]||this.findBySelector(S,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+S+'" reference does not exist.')}else E=null;if(a={node:u,refNode:E,processedAttributes:h,allAttributes:b},E){var A=o.findIndex(function(P){return P.refNode===u});A>-1?o.splice(A,0,a):o.push(a)}else s.push(a)}s.push(...o);for(let P=0,R=s.length;P<R;P++){a=s[P],u=a.node,E=a.refNode;const q=E?He.ensureId(E):"";let d=i[q];d||(d=i[q]=E?He(E).getBBox({target:dve(u,E)}):r.rootBBox),p?(h=this.processNodeAttributes(u,a.allAttributes),this.mergeProcessedAttributes(h,a.processedAttributes)):h=a.processedAttributes,this.updateRelativeAttributes(u,h,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Wt(e.set,t.set),Wt(e.position,t.position),Wt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),Oo.mount(this))},onDetach(){this.unmountTools(),Oo.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Oo.remove(this)},updateHighlighters:function(e=!1){Oo.update(this,null,e)},transformHighlighters:function(){Oo.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const s=r.getSourceElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}const o=r.getTargetElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:hve,Highlighting:cl,addPresentationAttributes:function(e){return si({},Qn(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return rd(t.concat(r))})}});function dve(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const Fr={TOOLS:Ar.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},ll={MOVE:"move",MAGNET:"magnet"},xi=Ar.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Ar.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Ar.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Fr.UPDATE],position:[Fr.TRANSLATE,Fr.TOOLS],size:[Fr.RESIZE,Fr.PORTS,Fr.TOOLS],angle:[Fr.ROTATE,Fr.TOOLS],markup:[Fr.RENDER],ports:[Fr.PORTS]},initFlag:[Fr.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,Fr.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Fr.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Fr.RENDER,Fr.UPDATE,Fr.RESIZE,Fr.TRANSLATE,Fr.ROTATE,Fr.PORTS,Fr.TOOLS]);else{let n=!1;this.hasFlag(e,Fr.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[Fr.RESIZE,Fr.UPDATE]),e=this.removeFlag(e,Fr.PORTS)),this.hasFlag(e,Fr.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Fr.UPDATE),n=!0,e=this.removeFlag(e,Fr.PORTS)),this.hasFlag(e,Fr.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Fr.TRANSLATE),r=!0),this.hasFlag(e,Fr.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Fr.ROTATE),r=!0),this.hasFlag(e,Fr.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,Fr.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Fr.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Fr.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new mt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=He(r[this.rotatableSelector])||null,this.scalableNode=He(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(He(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,s=!1;i.node.getElementsByTagName("path").length>0&&(s=!0);var o=i.getBBox({recursive:s}),a=n.width/(o.width||1),u=n.height/(o.height||1);i.attr("transform","scale("+a+","+u+")");var c=this.rotatableNode,f=c&&c.attr("transform");if(f){c.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var h=i.getBBox({target:this.paper.cells});t.set("position",{x:h.x,y:h.y},Wt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},s=t.getEmbeddedCells({deep:!0}),o=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...s,...o].forEach(c=>i[c.id]=c.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=n.getElements().reduce((c,f)=>Math.max(c,f.attributes.z||0),0);o.forEach(c=>{c.attributes.z<=a&&c.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const u=t.parent();u?(n.getCell(u).unembed(t,{ui:!0}),e.initialParentId=u):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,s=e.paper||this.paper,o=s.model,{findParentBy:a,frontParentOnly:u,validateEmbedding:c}=s.options;let f;vn(a)?f=Br(a.call(o,this,t,r,n)):a==="pointer"?f=Br(o.findModelsFromPoint({x:r,y:n})):f=o.findModelsUnderElement(i,{searchBy:a}),f=f.filter(_=>_ instanceof ma&&i.id!==_.id&&!_.isEmbeddedIn(i)),u&&(f=f.slice(-1));let h=null;const p=e.candidateEmbedView;for(let _=f.length-1;_>=0;_--){const m=f[_];if(p&&p.model.id==m.id){h=p;break}else{const y=m.findView(s);if(!vn(c)||c.call(s,this,y)){h=y;break}}}h&&h!=p&&(this.clearEmbedding(e),e.candidateEmbedView=h.highlight(h.findProxyNode(null,"container"),{embedding:!0})),!h&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:s}=e;if(s&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,s=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:o,initialPosition:a,initialZIndices:u}=e;if(a){const{x:f,y:h}=a;n.position(f,h,{deep:!0,ui:!0})}u&&Object.keys(u).forEach(f=>{const h=s.getCell(f);h&&h.set("z",u[f],{ui:!0})});const c=s.getCell(o);c&&c.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){Ar.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){Ar.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),Ar.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Ar.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Ar.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){Ar.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:s,delegatedView:o}=n;switch(i&&this.magnetpointermove(e,i,t,r),s){case ll.MAGNET:this.dragMagnet(e,t,r);break;case ll.MOVE:(o||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:s,delegatedView:o}=n;switch(i&&this.magnetpointerup(e,i,t,r),s){case ll.MAGNET:this.dragMagnetEnd(e,t,r);break;case ll.MOVE:(o||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){Ar.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Ar.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Ar.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Ar.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){Ar.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:ll.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:s=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,s,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,s,t,r),this.eventData(e,{action:ll.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,s=this.model,o=this.eventData(e),{pointerOffset:a,restrictedArea:u,embedding:c}=o,f=mc(t+a.x,i),h=mc(r+a.y,i);s.position(f,h,{restrictedArea:u,deep:!0,ui:!0}),n.options.embeddingMode&&(c||(this.prepareEmbedding(o),c=!0),this.processEmbedding(o,e,t,r)),this.eventData(e,{embedding:c})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:Fr});Wt(xi.prototype,cve);const vve=function(e,t,r){return e},pve=function(e,t,r){var n=t.side||"bottom",i=bc(t.padding||40),s=r.sourceBBox,o=r.targetBBox,a=s.center(),u=o.center(),c,f,h;switch(n){case"bottom":h=1,c="y",f="height";break;case"top":h=-1,c="y",f="height";break;case"left":h=-1,c="x",f="width";break;case"right":h=1,c="x",f="width";break;default:throw new Error("Router: invalid side")}return a[c]+=h*(s[f]/2+i[n]),u[c]+=h*(o[f]/2+i[n]),h*(a[c]-u[c])>0?u[c]=a[c]:a[c]=u[c],[a].concat(e,u)};var gve={N:"S",S:"N",E:"W",W:"E"},mve={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function tp(e,t,r){var n=new ge(e.x,t.y);return r.containsPoint(n)&&(n=new ge(t.x,e.y)),n}function zE(e,t){return e[t==="W"||t==="E"?"width":"height"]}function ts(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function _v(e){return new mt(e.x,e.y,0,0)}function rp(e){var t=bc(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Gj(e,t){return e.sourceBBox.clone().moveAndExpand(rp(t))}function $j(e,t){return e.targetBBox.clone().moveAndExpand(rp(t))}function _ve(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=Gj(e,t);return r.center()}function yve(e,t){if(e.targetAnchor)return e.targetAnchor;var r=$j(e,t);return r.center()}function Uj(e,t,r){var n=new ge(e.x,t.y),i=new ge(t.x,e.y),s=ts(e,n),o=ts(e,i),a=gve[r],u=s===r||s!==a&&(o===a||o!==r)?n:i;return{points:[u],direction:ts(u,t)}}function Iv(e,t,r){var n=tp(e,t,r);return{points:[n],direction:ts(n,t)}}function bve(e,t,r,n){var i={},s=[new ge(e.x,t.y),new ge(t.x,e.y)],o=s.filter(function(h){return!r.containsPoint(h)}),a=o.filter(function(h){return ts(h,e)!==n}),u;if(a.length>0)u=a.filter(function(h){return ts(e,h)===n}).pop(),u=u||a[0],i.points=[u],i.direction=ts(u,t);else{u=bde(s,o)[0];var c=new ge(t).move(u,-zE(r,n)/2),f=tp(c,e,r);i.points=[f,c],i.direction=ts(c,t)}return i}function wve(e,t,r,n){var i=Iv(t,e,n),s=i.points[0];if(r.containsPoint(s)){i=Iv(e,t,r);var o=i.points[0];if(n.containsPoint(o)){var a=new ge(e).move(o,-zE(r,ts(e,o))/2),u=new ge(t).move(s,-zE(n,ts(t,s))/2),c=new xt(a,u).midpoint(),f=Iv(e,c,r),h=Uj(c,t,f.direction);i.points=[f.points[0],h.points[0]],i.direction=h.direction}}return i}function QS(e,t,r,n,i){var s={},o=r.union(n).inflate(1),a=o.center().distance(t)>o.center().distance(e),u=a?t:e,c=a?e:t,f,h,p;return i?(f=ge.fromPolar(o.width+o.height,mve[i],u),f=o.pointNearestToPoint(f).move(f,-1)):f=o.pointNearestToPoint(u).move(u,1),h=tp(f,c,o),f.round().equals(h.round())?(h=ge.fromPolar(o.width+o.height,_s(f.theta(u))+Math.PI/2,c),h=o.pointNearestToPoint(h).move(c,1).round(),p=tp(f,h,o),s.points=a?[h,p,f]:[f,p,h]):s.points=a?[h,f]:[f,h],s.direction=ts(a?f:h,t),s}function VE(e,t,r){var n=Gj(r,t),i=$j(r,t),s=_ve(r,t),o=yve(r,t);n=n.union(_v(s)),i=i.union(_v(o)),e=Br(e).map(ge),e.unshift(s),e.push(o);for(var a,u=[],c=0,f=e.length-1;c<f;c++){var h=null,p=e[c],_=e[c+1],m=!!ts(p,_);if(c===0)c+1===f?n.intersect(i.clone().inflate(1))?h=QS(p,_,n,i):m||(h=wve(p,_,n,i)):n.containsPoint(_)?h=QS(p,_,n,_v(_).moveAndExpand(rp(t))):m||(h=Iv(p,_,n));else if(c+1===f){var y=m&&ts(_,p)===a;i.containsPoint(p)||y?h=QS(p,_,_v(p).moveAndExpand(rp(t)),i,a):m||(h=bve(p,_,i,a))}else m||(h=Uj(p,_,a));h?(Array.prototype.push.apply(u,h.points),a=h.direction):a=ts(p,_),c+1<f&&u.push(_)}return u}var jj={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!vn(VE))throw new Error("Manhattan requires the orthogonal router as default fallback.");return VE(e,Wt({},jj,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function _T(e){this.map={},this.options=e,this.mapGridSize=100}_T.prototype.build=function(e,t){var r=this.options,n=Br(r.excludeEnds).reduce(function(u,c){var f=t.get(c);if(f){var h=e.getCell(f.id);h&&u.push(h)}return u},[]),i=[],s=e.getCell(t.get("source").id);s&&(i=LE(i,s.getAncestors().map(function(u){return u.id})));var o=e.getCell(t.get("target").id);o&&(i=LE(i,o.getAncestors().map(function(u){return u.id})));var a=this.mapGridSize;return e.getElements().reduce(function(u,c){var f=Br(r.excludeTypes).includes(c.get("type")),h=n.find(function(P){return P.id===c.id}),p=i.includes(c.id),_=f||h||p;if(!_)for(var m=c.getBBox().moveAndExpand(r.paddingBox),y=m.origin().snapToGrid(a),b=m.corner().snapToGrid(a),S=y.x;S<=b.x;S+=a)for(var E=y.y;E<=b.y;E+=a){var A=S+"@"+E;u[A]=u[A]||[],u[A].push(m)}return u},this.map),this};_T.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Br(this.map[t]).every(function(r){return!r.containsPoint(e)})};function zc(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}zc.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=Pj(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};zc.prototype.remove=function(e){this.hash[e]=this.CLOSE};zc.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};zc.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};zc.prototype.isEmpty=function(){return this.items.length===0};zc.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function Hj(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function Wj(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function Xj(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=Hj(e,t);return r.center()}function xve(e,t){if(e.targetAnchor)return e.targetAnchor;var r=Wj(e,t);return r.center()}function eE(e,t,r,n,i){var s=360/r,o=e.theta(Sve(e,t,n,i)),a=Bo(o+s/2);return s*Math.floor(a/s)}function Sve(e,t,r,n){var i=n.step,s=t.x-e.x,o=t.y-e.y,a=s/r.x,u=o/r.y,c=a*i,f=u*i;return new ge(e.x+c,e.y+f)}function i4(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function Eve(e,t,r){var n=r.step;Br(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function Ave(e,t,r){return{source:t.clone(),x:s4(r.x-t.x,e),y:s4(r.y-t.y,e)}}function s4(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,s=r-i,o=s/n;return t+o}function Tve(e,t){var r=t.source,n=mc(e.x-r.x,t.x)+r.x,i=mc(e.y-r.y,t.y)+r.y;return new ge(n,i)}function ih(e,t){return e.round(t)}function Ov(e,t,r){return ih(Tve(e.clone(),t),r)}function hh(e){return e.clone().toString()}function tE(e){return new ge(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function Pve(e,t,r,n,i,s,o){for(var a=[],u=tE(i.difference(r)),c=hh(r),f=e[c],h;f;){h=t[c];var p=tE(h.difference(f));p.equals(u)||(a.unshift(h),u=p),c=hh(f),f=e[c]}var _=t[c],m=tE(_.difference(n));return m.equals(u)||a.unshift(_),a}function o4(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var s=e.manhattanDistance(t[n]);s<r&&(r=s)}return r}function a4(e,t,r,n,i){var s=i.precision,o=i.directionMap,a=e.difference(t.center()),u=Yr(o)?Object.keys(o):[],c=Br(r),f=u.reduce(function(h,p){if(c.includes(p)){for(var _=o[p],m=new ge(e.x+_.x*(Math.abs(a.x)+t.width),e.y+_.y*(Math.abs(a.y)+t.height)),y=new xt(e,m),b=y.intersect(t)||[],S=b.length,E,A=null,P=0;P<S;P++){var R=b[P],q=e.squaredDistance(R);(E===void 0||q>E)&&(E=q,A=R)}if(A){var d=Ov(A,n,s);t.containsPoint(d)&&(d=Ov(d.offset(_.x*n.x,_.y*n.y),n,s)),h.push(d)}}return h},[]);return t.containsPoint(e)||f.push(Ov(e,n,s)),f}function Cve(e,t,r,n){var i=n.precision,s,o;e instanceof mt?s=ih(Xj(this,n).clone(),i):s=ih(e.clone(),i),t instanceof mt?o=ih(xve(this,n).clone(),i):o=ih(t.clone(),i);var a=Ave(n.step,s,o),u,c,f,h;if(e instanceof mt?(u=s,f=a4(u,e,n.startDirections,a,n)):(u=s,f=[u]),t instanceof mt?(c=o,h=a4(o,t,n.endDirections,a,n)):(c=o,h=[c]),f=f.filter(Ce=>!r(Ce)),h=h.filter(Ce=>!r(Ce)),f.length>0&&h.length>0){for(var p=new zc,_={},m={},y={},b=0,S=f.length;b<S;b++){var E=f[b],A=hh(E);p.add(A,o4(E,h)),_[A]=E,y[A]=0}var P=n.previousDirectionAngle,R=P===void 0,q,d,C=n.directions;Eve(C,a,n);for(var I=C.length,L=Br(h).reduce(function(Ce,Je){var Ge=hh(Je);return Ce.push(Ge),Ce},[]),B=n.maximumLoops;!p.isEmpty()&&B>0;){var H=p.pop(),$=_[H],J=m[H],ae=y[H],X=J===void 0,D=$.equals(u),z;X?R?D?z=null:z=eE(u,$,I,a,n):z=P:z=eE(J,$,I,a,n);var j=f.length===h.length;if(j){for(var ie=0;ie<f.length;ie++)if(!f[ie].equals(h[ie])){j=!1;break}}var oe=X&&j;if(!oe&&L.indexOf(H)>=0)return n.previousDirectionAngle=z,Pve(m,_,$,u,c);for(b=0;b<I;b++){q=C[b];var Se=q.angle;if(d=i4(z,Se),!(!(R&&D)&&d>n.maxAllowedDirectionChange)){var _e=Ov($.clone().offset(q.gridOffsetX,q.gridOffsetY),a,i),te=hh(_e);if(!(p.isClose(te)||r(_e))){if(L.indexOf(te)>=0){var ue=_e.equals(c);if(!ue){var re=eE(_e,c,I,a,n),Q=i4(Se,re);if(Q>n.maxAllowedDirectionChange)continue}}var le=q.cost,Ve=D?0:n.penalties[d],Le=ae+le+Ve;(!p.isOpen(te)||Le<y[te])&&(_[te]=_e,m[te]=$,y[te]=Le,p.add(te,Le+o4(_e,h)))}}}B--}}return n.fallbackRoute.call(this,u,c,n)}function Rve(e){if(e.directions=Qn(e,"directions"),e.penalties=Qn(e,"penalties"),e.paddingBox=Qn(e,"paddingBox"),e.padding=Qn(e,"padding"),e.padding){var t=bc(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Br(e.directions).forEach(function(r){var n=new ge(0,0),i=new ge(r.offsetX,r.offsetY);r.angle=Bo(n.theta(i))})}function Ive(e,t,r){Rve(t),r.options.perpendicular=!!t.perpendicular;var n=Hj(r,t),i=Wj(r,t),s=Xj(r,t);let o;if(typeof t.isPointObstacle=="function")o=t.isPointObstacle;else{const A=new _T(t);A.build(r.paper.model,r.model),o=P=>!A.isPointAccessible(P)}for(var a=Br(e).map(ge),u=[],c=s,f,h,p=0,_=a.length;p<=_;p++){var m=null;if(h=f||n,f=a[p],!f){f=i;var y=!r.model.get("source").id||!r.model.get("target").id;if(y&&vn(t.draggingRoute)){var b=h===n?s:h,S=f.origin();m=t.draggingRoute.call(r,b,S,t)}}if(m=m||Cve.call(r,h,f,o,t),m===null)return t.fallbackRouter(e,t,r);var E=m[0];E&&E.equals(c)&&m.shift(),c=m[m.length-1]||c,Array.prototype.push.apply(u,m)}return u}const GE=function(e,t,r){return Ive(e,Wt({},jj,t),r)};var Ove={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],s={x:t.x,y:e.y},o={x:e.x,y:t.y};if(n%180>90){var a=s;s=o,o=a}var u=n%90<45?s:o,c=new xt(e,u),f=90*Math.ceil(n/90),h=ge.fromPolar(c.squaredLength(),_s(f+135),u),p=new xt(t,h),_=c.intersection(p),m=_||t,y=_?m:e,b=360/r.directions.length,S=y.theta(t),E=Bo(S+b/2),A=b*Math.floor(E/b);return r.previousDirectionAngle=A,m&&i.push(m.round()),i.push(t),i}};const Mve=function(e,t,r){if(!vn(GE))throw new Error("Metro requires the manhattan router.");return GE(e,Wt({},Ove,t),r)},st={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},u4=[st.LEFT,st.RIGHT,st.TOP,st.BOTTOM],bl={[st.LEFT]:st.RIGHT,[st.RIGHT]:st.LEFT,[st.TOP]:st.BOTTOM,[st.BOTTOM]:st.TOP},kve=[st.TOP,st.BOTTOM],yv={0:st.RIGHT,180:st.LEFT,270:st.TOP,90:st.BOTTOM};function sh(e){return e.angle()}function bv(e){return new gn(e).simplify({threshold:1}).points}function np(e,t){const{point:r,x0:n,y0:i,view:s,bbox:o,direction:a}=e,{point:u,x0:c,y0:f,view:h,bbox:p,direction:_}=t;let m;if(s)s.model.isLink()?m=c4(u,r,s):a===st.ANCHOR_SIDE?m=o.sideNearestToPoint(r):a===st.MAGNET_SIDE?m=s.model.getBBox().sideNearestToPoint(r):m=a;else{const b=new mt(n,i,0,0);m=u4.includes(a)?a:b.sideNearestToPoint(u)}let y;if(h)h.model.isLink()?y=c4(r,u,h):_===st.ANCHOR_SIDE?y=p.sideNearestToPoint(u):_===st.MAGNET_SIDE?y=h.model.getBBox().sideNearestToPoint(u):y=_;else{const b=new mt(c,f,0,0);y=u4.includes(_)?_:b.sideNearestToPoint(r)}return[m,y]}function Lve(e,t,r){const{x0:n,y0:i,width:s,height:o,point:a,margin:u}=e,c=n+s,f=i+o,h=n-u,p=c+u,_=i-u,{x:m}=a,{x0:y,y0:b}=t;return y===m&&b<i?st.BOTTOM:y<m&&b<_?st.RIGHT:y>m&&b<_?st.LEFT:y<h&&b>=i||y>p&&b>=i?st.TOP:y>=h&&y<=m&&b>f||y<=p&&y>=m&&b>f?r.point.x<y?st.RIGHT:st.LEFT:st.TOP}function Nve(e,t,r){const{x0:n,y0:i,width:s,height:o,point:a,margin:u}=e,c=n+s,f=i+o,h=n-u,p=c+u,_=f+u,{x:m}=a,{x0:y,y0:b}=t;return y===m&&b>f?st.TOP:y<m&&b>_?st.RIGHT:y>m&&b>_?st.LEFT:y<h&&b<=f||y>p&&b<=f?st.BOTTOM:y>=h&&y<=m&&b<i||y<=p&&y>=m&&b<i?r.point.x<y?st.RIGHT:st.LEFT:st.BOTTOM}function qve(e,t,r){const{y0:n,x0:i,width:s,height:o,point:a,margin:u}=e,c=i+s,f=n+o,h=i-u,p=n-u,_=f+u,{x:m,y}=a,{x0:b,y0:S}=t;return b<m&&S===y?st.RIGHT:b<=h&&S<y?st.BOTTOM:b<=h&&S>y?st.TOP:b>=i&&S<=p||b>=i&&S>=_?st.LEFT:b>c&&S>=p&&S<=y||b>c&&S<=_&&S>=y?r.point.y<S?st.BOTTOM:st.TOP:st.LEFT}function Dve(e,t,r){const{y0:n,x0:i,width:s,height:o,point:a,margin:u}=e,c=i+s,f=n+o,h=c+u,p=n-u,_=f+u,{x:m,y}=a,{x0:b,y0:S}=t;return b>m&&S===y?st.LEFT:b>=h&&S<y?st.BOTTOM:b>=h&&S>y?st.TOP:b<=c&&S<=p||b<=c&&S>=_?st.RIGHT:b<i&&S>=p&&S<=y||b<i&&S<=_&&S>=y?r.point.y<S?st.BOTTOM:st.TOP:st.RIGHT}function Fve(e,t,r){const[n]=np(e,t);switch(n){case st.TOP:return Lve(e,t,r);case st.RIGHT:return Dve(e,t,r);case st.BOTTOM:return Nve(e,t,r);case st.LEFT:return qve(e,t,r)}}function c4(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(sh(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?st.LEFT:st.RIGHT;if(e.x===t.x)return e.y<t.y?st.TOP:st.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?st.TOP:st.BOTTOM;case 90:case 270:return e.x<t.x?st.LEFT:st.RIGHT}}function l4(e,t,r,n,i,s,o){n===st.AUTO&&(n=i?st.MAGNET_SIDE:st.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:u,y:c,width:f=0,height:h=0}=a?mt.fromRectUnion(r,e.model.getBBox()):s;return{point:t,x0:u,y0:c,view:e,bbox:r,width:f,height:h,direction:n,margin:a?o:0}}function rE({x:e,y:t}){const r=new ge(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new mt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function f4(e,t,r){const n=t.point.clone(),{x0:i,y0:s,width:o,height:a}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+o+r;break;case"top":n.y=s-r;break;case"bottom":n.y=s+a+r;break}return n}function _u(e,t){const{point:r,x0:n,y0:i,view:s,width:o,height:a,margin:u}=e,{point:c,x0:f,y0:h,width:p,height:_,margin:m}=t,y=f+p,b=h+_,S=n+o,E=i+a,A=s&&s.model.isElement(),P=n-u,R=S+u,q=i-u,d=E+u,C=f-m,I=y+m,L=h-m,B=b+m,[H,$]=np(e,t),J=f4(H,{point:r,x0:n,y0:i,width:o,height:a},u),ae=f4($,{point:c,x0:f,y0:h,width:p,height:_},m),{x:X,y:D}=J,{x:z,y:j}=ae,ie=(f+y)/2,oe=(h+b)/2,Se=(n+S)/2,_e=(i+E)/2,te=(Se<ie?S+f:y+n)/2,ue=(_e<oe?E+h:b+i)/2;if(H==="left"&&$==="right"){if(P<=I){let Q=ue;return S<=f&&(b>=q&&j<D?Q=Math.min(L,q):h<=d&&j>=D&&(Q=Math.max(B,d))),[{x:X,y:D},{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}const re=(X+z)/2;return[{x:re,y:D},{x:re,y:j}]}else if(H==="right"&&$==="left"){if(R>=C){let Q=ue;return X>y&&(b>=q&&j<D?Q=Math.min(L,q):h<=d&&j>=D&&(Q=Math.max(B,d))),[{x:X,y:D},{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}const re=(X+z)/2;return[{x:re,y:D},{x:re,y:j}]}else if(H==="top"&&$==="bottom"){if(D<j){let Q=te,le=D;return D<h&&(y>=P&&z<X?Q=Math.min(C,P):f<=R&&z>=X&&(Q=Math.max(I,R))),[{x:X,y:le},{x:Q,y:le},{x:Q,y:j},{x:z,y:j}]}const re=(D+j)/2;return[{x:X,y:re},{x:z,y:re}]}else if(H==="bottom"&&$==="top"){if(D-u>j){let Q=te,le=D;return D>b&&(y>=P&&z<X?Q=Math.min(C,P):f<=R&&z>=X&&(Q=Math.max(I,R))),[{x:X,y:le},{x:Q,y:le},{x:Q,y:j},{x:z,y:j}]}const re=(D+j)/2;return[{x:X,y:re},{x:z,y:re}]}else if(H==="top"&&$==="top"){let re,Q=Math.min((E+h)/2,j),le=Math.min((i+b)/2,D);if(j<D){if(X>=I||X<=C)return[{x:X,y:Math.min(D,j)},{x:z,y:Math.min(D,j)}];z>X?re=Math.min(X,C):re=Math.max(X,I)}else{if(z>=R||z<=P)return[{x:X,y:Math.min(D,j)},{x:z,y:Math.min(D,j)}];z>=X?re=Math.max(z,R):re=Math.min(z,P)}return[{x:X,y:le},{x:re,y:le},{x:re,y:Q},{x:z,y:Q}]}else if(H==="bottom"&&$==="bottom"){let re,Q=Math.max((i+b)/2,j),le=Math.max((E+h)/2,D);if(j>D){if(X>=I||X<=C)return[{x:X,y:Math.max(D,j)},{x:z,y:Math.max(D,j)}];z>X?re=Math.min(X,C):re=Math.max(X,I)}else{if(z>=R||z<=P)return[{x:X,y:Math.max(D,j)},{x:z,y:Math.max(D,j)}];z>=X?re=Math.max(z,R):re=Math.min(z,P)}return[{x:X,y:le},{x:re,y:le},{x:re,y:Q},{x:z,y:Q}]}else if(H==="left"&&$==="left"){let re,Q=Math.min((S+f)/2,z),le=Math.min((n+y)/2,X);return z>X?j<=D?re=Math.min(q,j):re=Math.max(d,j):j>=D?re=Math.min(L,D):re=Math.max(B,D),[{x:le,y:D},{x:le,y:re},{x:Q,y:re},{x:Q,y:j}]}else if(H==="right"&&$==="right"){let re,Q=Math.max((n+y)/2,z),le=Math.max((S+f)/2,X);return z<X?j<=D?re=Math.min(q,j):re=Math.max(d,j):j>=D?re=Math.min(L,D):re=Math.max(B,D),[{x:le,y:D},{x:le,y:re},{x:Q,y:re},{x:Q,y:j}]}else if(H==="top"&&$==="right"){if(D>j){if(X<z){let Q=ue;return(Q>oe||!A)&&Q<B&&X<f&&(Q=L),[{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}return[{x:X,y:j}]}const re=Math.max(te,I);if(z<X&&j>i&&j<E)return[{x:X,y:D},{x:re,y:D},{x:re,y:j}];if(re>P&&j>i||f>S){const Q=Math.min(i-u,h-m),le=Math.max(S+u,y+m);return[{x:X,y:Q},{x:le,y:Q},{x:le,y:j}]}return[{x:X,y:D},{x:Math.max(re,z),y:D},{x:Math.max(re,z),y:j}]}else if(H==="top"&&$==="left"){if(D>j){if(X>z){let Q=ue;return(Q>oe||!A)&&Q<B&&X>y&&(Q=L),[{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}return[{x:X,y:j}]}const re=Math.min(C,te);if(X<z&&E>=j)return[{x:X,y:D},{x:re,y:D},{x:re,y:j}];if(re<R&&D<b){const Q=Math.min(q,L),le=Math.min(P,C);return[{x:X,y:Q},{x:le,y:Q},{x:le,y:j}]}return[{x:X,y:D},{x:re,y:D},{x:re,y:j}]}else if(H==="bottom"&&$==="right"){if(D<j){if(X<z){let Q=ue;return(Q<oe||!A)&&Q>L&&X<f&&(Q=B),[{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}return[{x:X,y:j}]}else if(n<z){const Q=Math.max(d,B),le=Math.max(R,I);return[{x:X,y:Q},{x:le,y:Q},{x:le,y:j}]}const re=te;return[{x:X,y:D},{x:re,y:D},{x:re,y:j}]}else if(H==="bottom"&&$==="left"){if(D<j){if(X>z){let Q=ue;return(Q<oe||!A)&&Q>L&&X>y&&(Q=B),[{x:X,y:Q},{x:z,y:Q},{x:z,y:j}]}return[{x:X,y:j}]}else if(S>z){const Q=Math.max(d,B),le=Math.min(P,C);return[{x:X,y:Q},{x:le,y:Q},{x:le,y:j}]}const re=te;return[{x:X,y:D},{x:re,y:D},{x:re,y:j}]}else if(H==="left"&&$==="bottom"){if(X>=z&&D>=B)return[{x:z,y:D}];if(X>=y&&D<j){const le=te;return[{x:le,y:D},{x:le,y:j},{x:z,y:j}]}if(z<S&&b<=i){const le=ue;return[{x:X,y:D},{x:X,y:le},{x:z,y:le}]}const re=Math.min(C,X),Q=Math.max(d,B);return[{x:re,y:D},{x:re,y:Q},{x:z,y:Q}]}else if(H==="left"&&$==="top"){if(X>z&&D<L)return[{x:z,y:D}];if(X>=y&&D>j){const le=te;return[{x:le,y:D},{x:le,y:j},{x:z,y:j}]}if(z<=S&&j>D){const le=ue;return[{x:X,y:D},{x:X,y:le},{x:z,y:le}]}const re=j<D?Math.min(P,C):P,Q=Math.min(q,L);return[{x:re,y:D},{x:re,y:Q},{x:z,y:Q}]}else if(H==="right"&&$==="top"){if(X<=z&&D<L)return[{x:z,y:D}];if(S<f&&D>j){let le=te;return[{x:le,y:D},{x:le,y:j},{x:z,y:j}]}if(z<X&&h>E){const le=ue;return[{x:X,y:D},{x:X,y:le},{x:z,y:le}]}const re=Math.max(R,I),Q=Math.min(q,L);return[{x:re,y:D},{x:re,y:Q},{x:z,y:Q}]}else if(H==="right"&&$==="bottom"){if(X<=z&&D>=B)return[{x:z,y:D}];if(X<=C&&D<j){const le=te;return[{x:le,y:D},{x:le,y:j},{x:z,y:j}]}if(z>n&&b<i){const le=ue;return[{x:X,y:D},{x:X,y:le},{x:z,y:le}]}const re=Math.max(I,X),Q=Math.max(d,B);return[{x:re,y:D},{x:re,y:Q},{x:z,y:Q}]}}function Yj(e,t,r){const{sourceDirection:n=st.AUTO,targetDirection:i=st.AUTO}=t,s=t.margin||20,o=t.useVertices||!1,a=!!r.model.source().port,u=l4(r.sourceView,r.sourceAnchor,r.sourceBBox,n,a,r.sourceAnchor,s),c=!!r.model.target().port,f=l4(r.targetView,r.targetAnchor,r.targetBBox,i,c,r.targetAnchor,s);let h=[];if(!o||e.length===0)return bv(_u(u,f));const p=e.map(y=>rE(y)),[_]=p;if(u.view&&u.view.model.isElement()&&u.view.model.getBBox().inflate(s).containsPoint(_.point)){const[y]=np(u,_),b=y,S=rE(u.point);S.margin=s,S.direction=y,_.direction=b,h.push(..._u(S,_),_.point)}else{const y=p[1]||f,b=Fve(u,_,y);_.direction=b,h.push(..._u(u,_),_.point)}for(let y=0;y<p.length-1;y++){const b=p[y],S=p[y+1],E=new xt(b.point,S.point),A=sh(E);if(A%90===0){const q=yv[A],d=bl[q];if(q!==b.direction)h.push(b.point,S.point),S.direction=d;else{const C=Bo(A-90);let I=0,L=0;C===90?L=-s:C===180?I=-s:C===270?L=s:C===0&&(I=s);const B={x:b.point.x+I,y:b.point.y+L},H={x:S.point.x+I,y:S.point.y+L},$=new xt(S.point,H);S.direction=yv[sh($)],h.push(b.point,B,H,S.point)}continue}const[P,R]=nE(b,S);b.direction=P,S.direction=R,h.push(..._u(b,S),S.point)}const m=p[p.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(s).containsPoint(m.point)){const[y]=nE(m,f),b=rE(f.point),[,S]=np(m,f);b.margin=s,b.direction=S,m.direction=y,h.push(..._u(m,b))}else{const y=bv(h),b=new xt(y[y.length-2],m.point),S=yv[Math.round(sh(b))];m.direction=S;let E=_u(m,f);const[A,P]=bv([...E,f.point]),R=new xt(A,P),q=Math.round(sh(R)),d=yv[q];d!==S&&S===bl[d]&&(m.margin=s,E=_u(m,f)),h.push(...E)}else{const[y]=nE(m,f);m.direction=y,h.push(..._u(m,f))}return bv(h)}function nE(e,t){const r=e.direction,n=kve.includes(r);let i=e.direction,s=t.direction;if(n){const o=e.point.y>t.point.y,a=t.point.x-e.point.x;r===st.BOTTOM?(i=o?bl[r]:a>=0?st.RIGHT:st.LEFT,a>0?s=o?st.LEFT:st.TOP:a<0&&(s=o?st.RIGHT:st.TOP)):(i=o?a>=0?st.RIGHT:st.LEFT:bl[r],a>0?s=o?st.BOTTOM:st.LEFT:a<0&&(s=o?st.BOTTOM:st.RIGHT))}else{const o=e.point.x>t.point.x,a=t.point.y-e.point.y;r===st.RIGHT?(i=o?bl[r]:a>=0?st.BOTTOM:st.TOP,a>0?s=o?st.TOP:st.LEFT:a<0&&(s=o?st.BOTTOM:st.LEFT)):(i=o?a>=0?st.BOTTOM:st.TOP:bl[r],a>0?s=o?st.RIGHT:st.TOP:a<0&&(s=o?st.RIGHT:st.BOTTOM))}return[i,s]}Yj.Directions=st;const Bve=Yj,zve=Object.freeze(Object.defineProperty({__proto__:null,manhattan:GE,metro:Mve,normal:vve,oneSide:pve,orthogonal:VE,rightAngle:Bve},Symbol.toStringTag,{value:"Module"})),vl={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Vve=Object.values(vl),Gve=10,$ve=1,yT=function(e,t,r=[],n={}){const{cornerType:i=vl.POINT,cornerRadius:s=Gve,cornerPreserveAspectRatio:o=!1,precision:a=$ve,raw:u=!1}=n;if(Vve.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(i===vl.POINT||!s){const f=[e].concat(r).concat([t]),h=new gn(f);c=new Bt(h)}else{c=new Bt,c.appendSegment(Bt.createSegment("M",e));let f;const h=r.length;for(let p=0;p<h;p++){const _=new ge(r[p]),m=r[p-1]||e,y=r[p+1]||t,b=f||_.distance(m)/2;f=_.distance(y)/2;let S,E;o?S=E=-Math.min(s,b,f):(S=-Math.min(s,b),E=-Math.min(s,f));const A=_.clone().move(m,S).round(a),P=_.clone().move(y,E).round(a);switch(c.appendSegment(Bt.createSegment("L",A)),i){case vl.CUBIC:{const R=.3333333333333333,q=2/3,d=new ge(R*A.x+q*_.x,q*_.y+R*A.y),C=new ge(R*P.x+q*_.x,q*_.y+R*P.y);c.appendSegment(Bt.createSegment("C",d,C,P));break}case vl.LINE:{c.appendSegment(Bt.createSegment("L",P));break}case vl.GAP:{c.appendSegment(Bt.createSegment("M",P));break}}}c.appendSegment(Bt.createSegment("L",t))}return u?c:c.serialize()};var Uve=5,h4=["arc","gap","cubic"],jve=0,d4=1,Hve=["smooth"],wv=1/3,xv=2/3;function v4(e,t){let{x:r,y:n}=e,{x:i,y:s}=t;if(r>i){let o=r;r=i,i=o,o=n,n=s,s=o}if(n>s){let o=r;r=i,i=o,o=n,n=s,s=o}return[new ge(r,n),new ge(i,s)]}function Wve(e,t){const[{x:r,y:n},{x:i,y:s}]=v4(e.start,e.end),[{x:o,y:a},{x:u,y:c}]=v4(t.start,t.end),f=r<=u&&o<=i,h=n<=c&&a<=s;return f&&h}function iE(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,s,o){var a=n[o+1];return a!=null&&(i[o]=fc(s,a)),i},[])}function Xve(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||Yve(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function Yve(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function Kve(e,t){return Br(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function p4(e,t){return fc(e,t).squaredLength()}function Zve(e,t,r){return t.reduce(function(n,i,s){if(i.skip===!0)return n;var o=n.pop()||e,a=Wv(i).move(o.start,-r),u=Wv(i).move(o.start,+r),c=t[s+1];if(c!=null){var f=u.distance(c);f<=r&&(u=c.move(o.start,f),c.skip=!0)}else{var h=a.distance(o.end);if(h<r*2+d4)return n.push(o),n}var p=u.distance(o.start);if(p<r*2+d4)return n.push(o),n;var _=fc(a,u);return _.isJump=!0,n.push(fc(o.start,a),_,fc(u,o.end)),n},[])}function g4(e,t,r,n){var i=new Bt,s;return s=Bt.createSegment("M",e[0].start),i.appendSegment(s),Br(e).forEach(function(o,a){if(o.isJump){var u,c,f,h;if(r==="arc"){u=-90,c=o.start.difference(o.end);var p=+(c.x<0||c.x===0&&c.y<0);p&&(u+=180);var _=o.midpoint(),m=new xt(_,o.end).rotate(_,u),y;y=new xt(o.start,_),f=y.pointAt(2/3).rotate(o.start,u),h=m.pointAt(1/3).rotate(m.end,-u),s=Bt.createSegment("C",f,h,m.end),i.appendSegment(s),y=new xt(_,o.end),f=m.pointAt(1/3).rotate(m.end,u),h=y.pointAt(1/3).rotate(o.end,-u),s=Bt.createSegment("C",f,h,o.end),i.appendSegment(s)}else if(r==="gap")s=Bt.createSegment("M",o.end),i.appendSegment(s);else if(r==="cubic"){u=o.start.theta(o.end);var b=t*.6,S=t*1.35;c=o.start.difference(o.end),p=+(c.x<0||c.x===0&&c.y<0),p&&(S*=-1),f=ge(o.start.x+b,o.start.y+S).rotate(o.start,u),h=ge(o.end.x-b,o.end.y+S).rotate(o.end,u),s=Bt.createSegment("C",f,h,o.end),i.appendSegment(s)}}else{var E=e[a+1];n==0||!E||E.isJump?(s=Bt.createSegment("L",o.end),i.appendSegment(s)):Jve(n,i,o.end,o.start,E.end)}}),i}function Jve(e,t,r,n,i){var s=r.distance(n)/2,o=r.distance(i)/2,a=-Math.min(e,s),u=-Math.min(e,o),c=r.clone().move(n,a).round(),f=r.clone().move(i,u).round(),h=new ge(wv*c.x+xv*r.x,xv*r.y+wv*c.y),p=new ge(wv*f.x+xv*r.x,xv*r.y+wv*f.y),_;_=Bt.createSegment("L",c),t.appendSegment(_),_=Bt.createSegment("C",h,p,f),t.appendSegment(_)}const Qve=function(e,t,r,n){Xve(this);var i=n.raw,s=n.size||Uve,o=n.jump&&(""+n.jump).toLowerCase(),a=n.radius||jve,u=n.ignoreConnectors||Hve;h4.indexOf(o)===-1&&(o=h4[0]);var c=this.paper,f=c.model,h=f.getLinks();if(h.length===1)return g4(iE(e,t,r),s,o,a);var p=this.model,_=h.indexOf(p),m=c.options.defaultConnector||{},y=h.filter(function(R,q){var d=R.get("connector")||m;return Br(u).includes(d.name)?!1:q>_?d.name!=="jumpover":!0}),b=y.map(function(R){return c.findViewByModel(R)}),S=iE(e,t,r),E=b.map(function(R){return R==null?[]:R===this?S:iE(R.sourcePoint,R.targetPoint,R.route)},this),A=S.reduce(function(R,q){var d=y.reduce(function(C,I,L){if(I!==p){const B=E[L].slice(),H=B.findIndex(J=>Wve(q,J));H>-1&&q.containsPoint(B[H].end)&&B.splice(H+1,1);const $=Kve(q,B);C.push.apply(C,$)}return C},[]).sort(function(C,I){return p4(q.start,C)-p4(q.start,I)});return d.length>0?R.push.apply(R,Zve(q,d,s)):R.push(q),R},[]),P=g4(A,s,o,a);return i?P:P.serialize()},epe=function(e,t,r=[],n={}){const{raw:i}=n;return yT(e,t,r,{cornerType:"point",raw:i})},tpe=10,rpe=0,npe=function(e,t,r=[],n={}){const{radius:i=tpe,raw:s}=n;return yT(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:rpe,raw:s})},ipe=function(e,t,r,n){var i=n&&n.raw,s;if(r&&r.length!==0){var o=[e].concat(r).concat([t]),a=Zr.throughPoints(o);s=new Bt(a)}else{s=new Bt;var u;if(u=Bt.createSegment("M",e),s.appendSegment(u),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var c=(e.x+t.x)/2;u=Bt.createSegment("C",c,e.y,c,t.y,t.x,t.y),s.appendSegment(u)}else{var f=(e.y+t.y)/2;u=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),s.appendSegment(u)}}return i?s:s.serialize()},so={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Ji={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},bT=function(e,t,r=[],n={},i){const s=!!n.raw,{direction:o=so.AUTO,precision:a=3}=n,u={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ge(n.sourceTangent):null,targetTangent:n.targetTangent?new ge(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?u.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?u.sourceDirection=new ge(1,0).rotate(null,n.sourceDirection):u.sourceDirection=n.sourceDirection?new ge(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?u.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?u.targetDirection=new ge(1,0).rotate(null,n.targetDirection):u.targetDirection=n.targetDirection?new ge(n.targetDirection).normalize():null;const c=[e,...r,t].map(y=>new ge(y));let f;if(u.sourceTangent)f=u.sourceTangent;else{const y=cpe(i,c,o,u),b=c[0].distance(c[1])*u.coeff,S=c[1].difference(c[0]).normalize(),E=$E(y,S);if(E>Math.PI/4){const A=b+(E-Math.PI/4)*u.angleTangentCoefficient;f=y.clone().scale(A,A)}else f=y.clone().scale(b,b)}let h;if(u.targetTangent)h=u.targetTangent;else{const y=lpe(i,c,o,u),b=c.length-1,S=c[b-1].distance(c[b])*u.coeff,E=c[b-1].difference(c[b]).normalize(),A=$E(y,E);if(A>Math.PI/4){const P=S+(A-Math.PI/4)*u.angleTangentCoefficient;h=y.clone().scale(P,P)}else h=y.clone().scale(S,S)}const _=hpe(c,f,h,u).map(y=>dpe(y,u)),m=new Bt(_).round(a);return s?m:m.serialize()};bT.Directions=so;bT.TangentDirections=Ji;function spe(e,t,r){const{sourceBBox:n}=e;let i,s;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(s=e.sourceView.model.angle(),r.rotate&&s){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[0]);let o;switch(i){case"left":o=new ge(-1,0);break;case"right":default:o=new ge(1,0);break}return r.rotate&&s&&o.rotate(null,-s),o}function ope(e,t,r){const{targetBBox:n}=e;let i,s;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(s=e.targetView.model.angle(),r.rotate&&s){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[t.length-1]);let o;switch(i){case"left":o=new ge(-1,0);break;case"right":default:o=new ge(1,0);break}return r.rotate&&s&&o.rotate(null,-s),o}function ape(e,t,r){const{sourceBBox:n}=e;let i,s;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(s=e.sourceView.model.angle(),r.rotate&&s){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[0]);let o;switch(i){case"top":o=new ge(0,-1);break;case"bottom":default:o=new ge(0,1);break}return r.rotate&&s&&o.rotate(null,-s),o}function upe(e,t,r){const{targetBBox:n}=e;let i,s;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(s=e.targetView.model.angle(),r.rotate&&s){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[t.length-1]);let o;switch(i){case"top":o=new ge(0,-1);break;case"bottom":default:o=new ge(0,1);break}return r.rotate&&s&&o.rotate(null,-s),o}function m4(e,t,r){const{sourceBBox:n}=e;let i,s;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(s=e.sourceView.model.angle(),r.rotate&&s){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[0]);let o;switch(i){case"top":o=new ge(0,-1);break;case"bottom":o=new ge(0,1);break;case"right":o=new ge(1,0);break;case"left":o=new ge(-1,0);break}return r.rotate&&s&&o.rotate(null,-s),o}function _4(e,t,r){const{targetBBox:n}=e;let i,s;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(s=e.targetView.model.angle(),r.rotate&&s){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(n.center(),s),i=a.sideNearestToPoint(u)}else i=n.sideNearestToPoint(t[t.length-1]);let o;switch(i){case"top":o=new ge(0,-1);break;case"bottom":o=new ge(0,1);break;case"right":o=new ge(1,0);break;case"left":o=new ge(-1,0);break}return r.rotate&&s&&o.rotate(null,-s),o}function y4(e,t,r){return t[1].difference(t[0]).normalize()}function b4(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function w4(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function x4(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function cpe(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case Ji.UP:return new ge(0,-1);case Ji.DOWN:return new ge(0,1);case Ji.LEFT:return new ge(-1,0);case Ji.RIGHT:return new ge(1,0);case Ji.AUTO:return m4(e,t,n);case Ji.CLOSEST_POINT:return y4(e,t);case Ji.OUTWARDS:return w4(e,t);default:return n.sourceDirection}switch(r){case so.HORIZONTAL:return spe(e,t,n);case so.VERTICAL:return ape(e,t,n);case so.CLOSEST_POINT:return y4(e,t);case so.OUTWARDS:return w4(e,t);case so.AUTO:default:return m4(e,t,n)}}function lpe(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case Ji.UP:return new ge(0,-1);case Ji.DOWN:return new ge(0,1);case Ji.LEFT:return new ge(-1,0);case Ji.RIGHT:return new ge(1,0);case Ji.AUTO:return _4(e,t,n);case Ji.CLOSEST_POINT:return b4(e,t);case Ji.OUTWARDS:return x4(e,t);default:return n.targetDirection}switch(r){case so.HORIZONTAL:return ope(e,t,n);case so.VERTICAL:return upe(e,t,n);case so.CLOSEST_POINT:return b4(e,t);case so.OUTWARDS:return x4(e,t);case so.AUTO:default:return _4(e,t,n)}}function fpe(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,s=n*e.x+r*e.y;e.x=i,e.y=s}function $E(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function S4(e,t){return e.x*t.y-e.y*t.x}function hpe(e,t,r,n){const{tau:i,coeff:s}=n,o=[],a=[],u=[],c=e.length-1;for(let f=0;f<c;f++)o[f]=e[f].distance(e[f+1]);a[0]=t,a[c]=r;for(let f=1;f<c;f++){let h,p;f===1?h=e[f-1].clone().offset(a[f-1].x,a[f-1].y):h=e[f-1].clone(),f===c-1?p=e[f+1].clone().offset(a[f+1].x,a[f+1].y):p=e[f+1].clone();const _=h.difference(e[f]).normalize(),m=p.difference(e[f]).normalize(),y=$E(_,m);let b=(Math.PI-y)/2,S;const E=S4(_,m);let A;A=S4(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(b=-b),y<Math.PI/2&&(b<0&&A<0||b>0&&A>0)&&(b=b-Math.PI),S=m.clone(),fpe(S,b);const P=S.clone(),R=S.clone(),q=o[f-1]*s,d=o[f]*s;P.scale(q,q),R.scale(d,d),a[f]=[P,R]}for(let f=0;f<c;f++){let h,p;f===0?h=e[f+1].difference(a[f].x/i,a[f].y/i):h=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===c-1?p=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):p=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),u[f]=[h,e[f],e[f+1],p]}return u}function dpe(e,t){const{tau:r}=t,n=new ge;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ge;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Zr(e[1],n,i,e[2])}const vpe=Object.freeze(Object.defineProperty({__proto__:null,curve:bT,jumpover:Qve,normal:epe,rounded:npe,smooth:ipe,straight:yT},Symbol.toStringTag,{value:"Module"})),ir={TOOLS:Ar.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Ki=Ar.extend({className:function(){var e=Ar.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Ar.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[ir.RENDER],attrs:[ir.UPDATE],router:[ir.UPDATE],connector:[ir.CONNECTOR],smooth:[ir.UPDATE],manhattan:[ir.UPDATE],toolMarkup:[ir.LEGACY_TOOLS],labels:[ir.LABELS],labelMarkup:[ir.LABELS],vertices:[ir.VERTICES,ir.UPDATE],vertexMarkup:[ir.VERTICES],source:[ir.SOURCE,ir.UPDATE],target:[ir.TARGET,ir.UPDATE]},initFlag:[ir.RENDER,ir.SOURCE,ir.TARGET,ir.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,ir.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,ir.SOURCE)}if(this.hasFlag(e,ir.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,ir.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,ir.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[ir.RENDER,ir.UPDATE,ir.VERTICES,ir.LABELS,ir.TOOLS,ir.LEGACY_TOOLS,ir.CONNECTOR]),e;let s=!1;this.hasFlag(e,ir.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,ir.VERTICES));const{model:o}=this,{attributes:a}=o;let u=this.hasFlag(e,ir.LABELS),c=this.hasFlag(e,ir.LEGACY_TOOLS);u&&(this.onLabelsChange(o,a.labels,t),e=this.removeFlag(e,ir.LABELS),s=!0),c&&(this.renderTools(),e=this.removeFlag(e,ir.LEGACY_TOOLS));const f=this.hasFlag(e,ir.UPDATE),h=this.hasFlag(e,ir.CONNECTOR);return(f||h)&&(f?t.translateBy&&o.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[ir.UPDATE,ir.TOOLS,ir.CONNECTOR]),u=!1,c=!1,s=!0),u&&this.updateLabelPositions(),c&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(e,ir.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,ir.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(ir.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=He(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var s=t[n],o=s.attr("class");o&&(o=Ade(o),r[Mt.camelCase(o)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=He(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var s=t[n].node;r.appendChild(s)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=He("g").append(t):r=He(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,s=i.attributes.labels||[],o=s.length;if(o===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=He("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Io(Qn(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<o;a++){var u=s[a],c=this._normalizeLabelMarkup(this._getLabelMarkup(u.markup)),f,h;if(c)f=c.node,h=c.selectors;else{var p=i._builtins.defaultLabel,_=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),m=i._getDefaultLabel(),y=this._normalizeLabelMarkup(this._getLabelMarkup(m.markup)),b=y||_;f=b.node,h=b.selectors}f.setAttribute("label-idx",a),t.append(f),r[a]=f;var S=this.selector;if(h[S])throw new Error("dia.LinkView: ambiguous label root selector.");h[S]=f,n[a]=h}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:s}=n;if(!s||!r.hasLabels())return;const{node:o}=s;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(o,r.get("z")):o.parentNode!==e&&e.appendChild(o)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:si({},n,r):e?si({},r,t):si({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:si({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,s=e._getDefaultLabel(),o=s.markup,a=s.attrs,u=s.size,c=0,f=t.length;c<f;c++){var h=this._labelCache[c];h.setAttribute("cursor",r?"move":"default");var p=this._labelSelectors[c],_=t[c],m=_.markup,y=_.attrs,b=_.size,S=this._mergeLabelAttrs(m||o,y,a,i),E=this._mergeLabelSize(b,u);this.updateDOMSubtreeAttributes(h,S,{rootBBox:new mt(E),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Mt(this._V.linkTools.node).empty(),t=Yi(this.model.get("toolMarkup")||this.model.toolMarkup),r=He(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Yi(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=He(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Mt(this._V.markerVertices.node).empty(),t=Yi(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(He(t(Wt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Mt(this._V.markerArrowheads.node);e.empty();var t=Yi(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=He(t({end:"source"})),this._V.targetArrowhead=He(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],s=i.length,o=new gn(i);o.simplify({threshold:.001});const a=o.points.map(c=>c.toJSON()),u=a.length;return s===u?0:(r.vertices(a.slice(1,u-1),e),s-u)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ge(this.sourceAnchor);case"target":return new ge(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ge(this.sourcePoint);case"target":return new ge(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new gn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,s=this.findRoute(t);this.route=s;var o=this.findConnectionPoints(s,n,i);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],s=this._markerCache,o,a;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),o=ge(t).move(n||r,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),a=ge(r).move(i||t,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=o||t.clone(),s.targetPoint=a||r.clone(),{source:o,target:a}},findAnchorsOrdered:function(e,t,r,n){var i,s,o,a,u=this.model,c=u.get(e),f=u.get(r),h=this.getEndView(e),p=this.getEndView(r),_=this.getEndMagnet(e),m=this.getEndMagnet(r);h?(t?o=new ge(t):p?o=m:o=new ge(f),i=this.getAnchor(c.anchor,h,_,o,e)):i=new ge(c),p?(a=new ge(n||i),s=this.getAnchor(f.anchor,p,m,a,r)):s=new ge(f);var y={};return y[e]=i,y[r]=s,y},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],s=this.model,o=s.get("source"),a=s.get("target"),u=this.sourceView,c=this.targetView,f=this.paper.options,h,p,_;if(u&&!u.isNodeConnection(this.sourceMagnet)){h=this.sourceMagnet||u.el;var m=o.connectionPoint||f.defaultConnectionPoint,y=n||r,b=new xt(y,t);_=this.getConnectionPoint(m,u,h,b,"source")}else _=t;var S;if(c&&!c.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||c.el;var E=a.connectionPoint||f.defaultConnectionPoint,A=i||t,P=new xt(A,r);S=this.getConnectionPoint(E,c,p,P,"target")}else S=r;return{source:_,target:S}},getAnchor:function(e,t,r,n,i){var s=t.isNodeConnection(r),o=this.paper.options;if(e||(s?e=o.defaultLinkAnchor:o.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=o.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var u=e.name,c=s?"linkAnchorNamespace":"anchorNamespace";if(a=o[c][u],typeof a!="function")throw new Error("Unknown anchor: "+u)}var f=a.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ge},getConnectionPoint:function(e,t,r,n,i){var s,o=n.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var u=r===t.el?void 0:r;if(s=a.linkConnectionPoint(this,t,u,n.start,i),s)return s}if(!e)return o;var c;if(typeof e=="function")c=e;else{var f=e.name;if(c=a.connectionPointNamespace[f],typeof c!="function")throw new Error("Unknown connection point: "+f)}return s=c.call(this,n,t,r,e.args||{},i,this),s?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return si({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:si({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,s=r.length;i<s;i++){var o=this._labelCache[i];if(o){var a=r[i],u=this._normalizeLabelPosition(a.position),c=this._mergeLabelPositionProperty(u,n),f=this._getLabelTransformationMatrix(c);o.setAttribute("transform",He.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:s}=n[i];s&&s in t&&delete t[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Mt.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),s=i&&i.id;if(!s)return this[n]=null,this.updateEndMagnet(e),!0;const o=r.getModelById(s);if(!o)throw new Error("LinkView: invalid "+e+" cell.");const a=o.findView(r);return a?(this[n]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=Br(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:si({},t,e)},addLabel:function(e,t,r,n){var i,s,o=0,a;typeof e!="number"?(i=e.x,s=e.y,typeof t=="number"?(o=t,a=r):a=t):(i=e,s=t,typeof r=="number"?(o=r,a=n):a=r);var u=this._getDefaultLabelPositionArgs(),c=a,f=this._mergeLabelPositionArgs(c,u),h={position:this.getLabelPosition(i,s,o,f)},p=-1;return this.model.insertLabel(p,h,a),p},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,s=n?e.y:t,o=n?t:r,a={x:i,y:s},u=this.getVertexIndex(i,s);return this.model.insertVertex(u,a,o),u},sendToken:function(e,t,r){function n(h,p){return function(){h.remove(),typeof p=="function"&&p()}}var i,s,o;Yr(t)?(i=t.duration,s=t.direction==="reverse",o=t.connection):(i=t,s=!1,o=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(a.keyPoints="1;0",a.keyTimes="0;1");var u=He(e),c;if(typeof o=="string")c=this.findBySelector(o,this.el,this.selectors)[0];else{var f=this._V;c=f.connection?f.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");u.appendTo(this.paper.cells).animateAlongPath(a,c),setTimeout(n(u,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||zve,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ge);var i=vn(r)?r:t[r.name];if(!vn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var s=r.args||{},o=i.call(this,e,s,this);return o||e.map(ge)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||vpe,i=this.model.connector(),s=this.paper.options.defaultConnector;i||(i=s||{});var o=vn(i)?i:n[i.name];if(!vn(o))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=aa(i.args||{});a.raw=!0;var u=o.call(this,t,r,e,a,this);return typeof u=="string"&&(u=new Bt(He.normalizePathData(u))),u},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Ci(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},s=0,o;typeof r=="number"?(s=r,o=n):o=r,o&&(i.args=o);var a=!(o&&o.absoluteDistance),u=o&&o.absoluteDistance&&o.reverseDistance,c=o&&o.absoluteOffset,f=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},p=new ge(e,t),_=f.closestPointT(p,h),m=f.lengthAtT(_,h);a&&(m=m/this.getConnectionLength()||0),u&&(m=-1*(this.getConnectionLength()-m)||1),i.distance=m;var y;c||(y=f.tangentAtT(_));var b;if(y)b=y.pointOffset(p);else{var S=f.pointAtT(_),E=p.difference(S);b={x:E.x,y:E.y}}return i.offset=b,i.angle=s,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,s=0,o={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(s=a),a.x&&(o.x=a.x),a.y&&(o.y=a.y)}var u=o.x!==0||o.y!==0||s===0,c=n.keepGradient,f=n.ensureLegibility,h=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},_=i?t*this.getConnectionLength():t,m=h.tangentAtLength(_,p),y,b=r;if(m){if(u)y=m.start.clone(),y.offset(o);else{var S=m.clone();S.rotate(m.start,-90),S.setLength(s),y=S.end}c&&(b=m.angle()+r,f&&(b=Bo((b+90)%180-90)))}else y=h.start.clone(),u&&y.offset(o);return He.createSVGMatrix().translate(y.x,y.y).rotate(b)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ge(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ge(e,t)),s=0,o=n.length;s<o;s++){var a=n[s],u=this.getClosestPointLength(a);if(i<u)break}return s},notifyPointerdown(e,t,r){Ar.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){Ar.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),Ar.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Ar.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Ar.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){Ar.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Wt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){Ar.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Ar.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Ar.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Ar.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){Ar.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=He(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else Ar.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),s=this._getDefaultLabelPositionProperty(),o=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(o,s),u=this.getLabelCoordinates(a),c=u.x-t,f=u.y-r,h=this._getLabelPositionAngle(i),p=this._getLabelPositionArgs(i),_=this._getDefaultLabelPositionArgs(),m=this._mergeLabelPositionArgs(p,_);this.eventData(e,{action:"label-move",labelIdx:i,dx:c,dy:f,positionAngle:h,positionArgs:m,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),s=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,s)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const s={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(s.async=!1),this.model.label(n.labelIdx,i,s)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),s=i&&!lf.endsEqual(n,i);if(s){var o=this.paper;n.id&&this.notify("link:disconnect",t,o.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,o.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,s=null,o=1/0,a=e.x,u=e.y;for(let c=0;c<t.length;c++){const f=Math.abs(t[c].x-e.x);f<i&&(i=f,n=t[c]);const h=Math.abs(t[c].y-e.y);h<o&&(o=h,s=t[c])}return i<r&&(a=n.x),o<r&&(u=s.y),{x:a,y:u}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:s}=n.options,o=this.eventData(e),a=s.radius||20,u=this.getEndAnchor(o.arrowhead==="source"?"target":"source"),c=i.vertices(),f=[u,...c],h=this._snapToPoints({x:t,y:r},f,a),p=n.localToClientPoint(h);this._connectArrowhead(document.elementFromPoint(p.x,p.y),h.x,h.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:s}=n.options,o=this.eventData(e);let a=!1;var u=i.radius||50,c=n.findViewsInArea({x:t-u,y:r-u,width:2*u,height:2*u}),f=o.closestView||null,h=o.closestMagnet||null,p=o.magnetProxy||null;o.closestView=o.closestMagnet=o.magnetProxy=null;var _=Number.MAX_VALUE,m=new ge(t,r);c.forEach(function(R){const q=[];R.el.getAttribute("magnet")!=="false"&&q.push({bbox:R.model.getBBox(),magnet:R.el}),R.$("[magnet]").toArray().forEach(d=>{q.push({bbox:R.getNodeBBox(d),magnet:d})}),q.forEach(d=>{const{magnet:C,bbox:I}=d,L=I.center().squaredDistance(m);L<_&&(h===C||n.options.validateConnection.apply(n,o.validateConnectionArgs(R,R.el===C?null:C)))&&(_=L,o.closestView=R,o.closestMagnet=C)})},this);var y,b=null,S=o.closestView,E=o.closestMagnet;E&&(b=o.magnetProxy=S.findProxyNode(E,"highlighter"));var A=o.arrowhead,P=h!==E;if(f&&P&&f.unhighlight(p,{connecting:!0,snapping:!0}),S){const{prevEnd:R,prevX:q,prevY:d}=o;if(o.prevX=t,o.prevY=r,a=!0,!P&&(typeof s!="function"||q===t&&d===r)||(y=S.getLinkEnd(E,t,r,this.model,A),!P&&_l(R,y)))return a;o.prevEnd=y,P&&S.highlight(b,{connecting:!0,snapping:!0})}else y={x:t,y:r};return this.model.set(A,y||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,h,A),S&&this.notify("link:snap:connect",e,S,E,A),a},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:s}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const o=n.viewUnderPointer=i.findView(e);if(o){const a=n.magnetUnderPointer=o.findMagnet(e),u=n.magnetProxy=o.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(o,a))?u&&o.highlight(u,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,s.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:s,magnetProxy:o,arrowhead:a}=e;if(!s||!o||!i)return;i.unhighlight(o,{connecting:!0});const u=i.getLinkEnd(s,t,r,n,a);n.set(a,u,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var s=this.model.get(r);if(s.id){var o=t[n]=this.paper.findViewByModel(s.id),a=o.getMagnetFromLinkEnd(s);a===o.el&&(a=void 0),t[n+1]=a}function u(c,f){return t[i]=c,t[i+1]=c.el===f?void 0:f,t}return u},_markAvailableMagnets:function(e){function t(h,p){var _=h.paper,m=_.options.validateConnection;return m.apply(_,this.validateConnectionArgs(h,p))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,s=n.length;i<s;i++){var o=n[i].findView(r);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));o.el.getAttribute("magnet")!=="false"&&a.push(o.el);var u=a.filter(t.bind(e,o));if(u.length>0){for(var c=0,f=u.length;c<f;c++)o.highlight(u[c],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),e.marked[o.model.id]=u}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,s=t.length;i<s;i++){r=t[i],n=e.marked[r];var o=this.paper.findViewByModel(r);if(o){for(var a=0,u=n.length;a<u;a++)o.unhighlight(n[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:aa(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){Ar.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Ar.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Ar.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:ir});Object.defineProperty(Ki.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new mt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new mt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(Ki.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new mt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new mt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const ppe=Oo.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const s=He(t);if(i=s.convertToPathData().trim(),s.tagName()==="PATH"&&n){const o=i.search(/.M/i)+1;o>0&&(i=i.substr(0,o))}}catch{const o=e.getNodeBoundingRect(t);i=He.rectToPath(Wt({},r,o.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:s}=n;let o=this.getNodeMatrix(e,t);if(i){!s&&t===e.el&&r.remove();let a=e.getNodeBoundingRect(t);const u=a.x+a.width/2,c=a.y+a.height/2;a=He.transformRect(a,o);const f=Math.max(a.width,1),h=Math.max(a.height,1),p=(f+i)/f,_=(h+i)/h,m=He.createSVGMatrix({a:p,b:0,c:0,d:_,e:u-p*u,f:c-_*c});o=o.multiply(m)}r.attr({d:this.getPathData(e,t),transform:He.matrixToTransformString(o)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),E4=20;function gpe(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const mpe=Oo.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:E4,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,s=t.tagName();if(!He.isSVGGraphicsElement(t)||i.includes(s))return t.remove(),!1;if(n.includes(s)){const o=e.vel.findOne(`#${t.id}`);if(o){const{node:a}=o;let u=e.getNodeBoundingRect(a);e.model.isElement()&&(u=He.transformRect(u,e.getNodeMatrix(a)));const c=He("rect",u.toJSON()),{x:f,y:h}=u.center(),{angle:p,cx:_=f,cy:m=h}=o.rotate();p&&c.rotate(p,_,m),t.parent().append(c)}return t.remove(),!1}return r.forEach(o=>{o==="fill"&&t.attr("fill")==="none"||t.removeAttr(o)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,s=t.tagName();let o;if(s==="G"){if(!i)return null;o=t.clone(),gpe(o,a=>this.transformMaskChild(e,a))}else{if(n.includes(s))return null;o=t.clone()}return this.transformMaskRoot(e,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:s,attrs:o}=i,a="stroke-width"in o?o["stroke-width"]:1,u=t.attr("fill")!=="none";let c=parseFloat(t.attr("stroke-width"));isNaN(c)&&(c=1);const f=c+s*2,h=f+a*2;let p=this.getMaskShape(e,t);if(!p){const _=e.getNodeBoundingRect(t.node);_.inflate(_.width?0:.5,_.height?0:.5),p=He("rect",_.toJSON())}return p.attr(o),He("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:u?r:"none",stroke:r,"stroke-width":h}),p.clone().attr({fill:u?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:s,maskClip:o=E4,layer:a}=r,u="stroke"in s?s.stroke:"#000000";!a&&t===e.el&&n.remove();const c=e.getNodeBoundingRect(t).inflate(i+o),f=this.getNodeMatrix(e,t),h=this.getMask(e,He(t));this.addMask(e.paper,h),n.attr(c.toJSON()),n.attr({transform:He.matrixToTransformString(f),mask:`url(#${h.id})`,fill:u})},unhighlight(e){this.removeMask(e.paper)}}),_pe=Oo.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Io("highlight-opacity"),highlight:function(e,t){He(t).addClass(this.opacityClassName)},unhighlight:function(e,t){He(t).removeClass(this.opacityClassName)}}),A4=Io("highlighted"),ype=Oo.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:A4},highlight:function(e,t){He(t).addClass(this.options.className)},unhighlight:function(e,t){He(t).removeClass(this.options.className)}},{className:A4}),sE={ROW:"row",COLUMN:"column"},bpe=Oo.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:s=5,direction:o=sE.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,u=o===sE.ROW,c=u?a.width:a.height;let f=r.get(n);Array.isArray(f)||(f=[]);const h=this._prevItems||[],p=f.map((b,S)=>_l(h[S],f[S]));if(h.length!==f.length||p.some(b=>!b)){const b=this.vel.children(),S=f.map((E,A)=>{const P=A in b?b[A].node:null;if(p[A])return P;const R=this.createListItem(E,a,P);if(!R)return null;if(!(R instanceof SVGElement))throw new Error("List: item must be an SVGElement");R.dataset.index=A,R.dataset.attribute=n;const q=A*(c+s);return R.setAttribute("transform",u?`translate(${q}, 0)`:`translate(0, ${q})`),R});this.vel.empty().append(S),this._prevItems=f}const _=f.length,m=_===0?0:_*c+(_-1)*s,y=u?{width:m,height:a.height}:{width:a.width,height:m};this.position(r,y)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:s="top-left"}=n,{width:o,height:a}=e.size(),{left:u,right:c,top:f,bottom:h}=bc(i),p=new mt(u,f,o-(u+c),a-(f+h));let{x:_,y:m}=Lj(p,s);switch(s){case $n.CENTER:case $n.TOP:case $n.BOTTOM:{_-=t.width/2;break}case $n.RIGHT:case $n.BOTTOM_RIGHT:case $n.TOP_RIGHT:{_-=t.width;break}}switch(s){case $n.CENTER:case $n.RIGHT:case $n.LEFT:{m-=t.height/2;break}case $n.BOTTOM:case $n.BOTTOM_RIGHT:case $n.BOTTOM_LEFT:{m-=t.height;break}}r.attr("transform",`translate(${_}, ${m})`)}},{Directions:sE,Positions:$n}),wpe=Object.freeze(Object.defineProperty({__proto__:null,addClass:ype,list:bpe,mask:mpe,opacity:_pe,stroke:ppe},Symbol.toStringTag,{value:"Module"}));function xpe(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function Spe(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function Epe(e,t,r,n){var i=1e6,s=e.getConnection(),o=e.getConnectionSubdivisions(),a=new xt(r.clone().offset(0,i),r.clone().offset(0,-1e6)),u=new xt(r.clone().offset(i,0),r.clone().offset(-1e6,0)),c=a.intersect(s,{segmentSubdivisions:o}),f=u.intersect(s,{segmentSubdivisions:o}),h=[];return c&&Array.prototype.push.apply(h,c),f&&Array.prototype.push.apply(h,f),h.length>0?r.chooseClosest(h):"fallbackAt"in n?Kj(e,n.fallbackAt):Zj(e,t,r,n)}function Ape(e,t,r,n){var i=e.getClosestPoint(r);return i||new ge}function id(e){return function(t,r,n,i){if(n instanceof Element){var s=this.paper.findView(n),o;if(s)if(s.isNodeConnection(n)){var a="fixedAt"in i?i.fixedAt:"50%";o=Kj(s,a)}else o=s.getNodeBBox(n).center();else o=new ge;return e.call(this,t,r,o,i)}return e.apply(this,arguments)}}function Kj(e,t){var r=parseFloat(t);return Ci(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const Tpe=id(Epe),Zj=id(Ape),Ppe=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:Zj,connectionLength:Spe,connectionPerpendicular:Tpe,connectionRatio:xpe,resolveRef:id},Symbol.toStringTag,{value:"Module"}));function Tg(e,t,r){if(Jn(r)){const{x:i,y:s}=r;if(isFinite(s)){const o=new xt(t,e),{start:a,end:u}=o.parallel(s);t=a,e=u}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function wT(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function Cpe(e,t,r=0){let n,i,s,o;const{start:a,end:u}=e;switch(t){case"left":n="x",i=u,s=a,o=-1;break;case"right":n="x",i=a,s=u,o=1;break;case"top":n="y",i=u,s=a,o=-1;break;case"bottom":n="y",i=a,s=u,o=1;break;default:return}a[n]<u[n]?i[n]=s[n]:s[n]=i[n],isFinite(r)&&(i[n]+=o*r,s[n]+=o*r)}function Rpe(e,t,r,n){let{offset:i,alignOffset:s,align:o}=n;return o&&Cpe(e,o,s),Tg(e.end,e.start,i)}function Jj(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(wT(r)/2);var s=e.intersect(i),o=s?e.start.chooseClosest(s):e.end;return Tg(o,e.start,n.offset)}function Ipe(e,t,r,n){var i=t.model.angle();if(i===0)return Jj(e,t,r,n);var s=t.getNodeUnrotatedBBox(r);n.stroke&&s.inflate(wT(r)/2);var o=s.center(),a=e.clone().rotate(o,i),u=a.setLength(1e6).intersect(s),c=u?a.start.chooseClosest(u).rotate(o,-i):e.end;return Tg(c,e.start,n.offset)}function Ope(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var oE="segmentSubdivisons",aE="shapeBBox";function Mpe(e,t,r,n){var i,s,o=n.selector,a=e.end;if(typeof o=="string"?i=t.findBySelector(o)[0]:o===!1?i=r:Array.isArray(o)?i=Ph(r,o):i=Ope(r),!He.isSVGGraphicsElement(i)){if(i===r||!He.isSVGGraphicsElement(r))return a;i=r}var u=t.getNodeShape(i),c=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),h=t.getRootRotateMatrix(),p=f.multiply(h).multiply(c),_=p.inverse(),m=He.transformLine(e,_),y=m.start.clone(),b=t.getNodeData(i);if(n.insideout===!1){b[aE]||(b[aE]=u.bbox());var S=b[aE];if(S.containsPoint(y))return a}var E;if(u instanceof Bt){var A=n.precision||2;b[oE]||(b[oE]=u.getSegmentSubdivisions({precision:A})),E={precision:A,segmentSubdivisions:b[oE]}}n.extrapolate===!0&&m.setLength(1e6),s=m.intersect(u,E),s?He.isArray(s)&&(s=y.chooseClosest(s)):n.sticky===!0&&(u instanceof mt?s=u.pointNearestToPoint(y):u instanceof es?s=u.intersectionWithLineFromCenterToPoint(y):s=u.closestPoint(y,E));var P=s?He.transformPoint(s,p):a,R=n.offset||0;return n.stroke&&(R+=wT(i)/2),Tg(P,e.start,R)}const kpe=Rpe,Lpe=Jj,Npe=Ipe,qpe=Mpe,Dpe=Object.freeze(Object.defineProperty({__proto__:null,anchor:kpe,bbox:Lpe,boundary:qpe,rectangle:Npe},Symbol.toStringTag,{value:"Module"}));function iu(e){return function(t,r,n,i){var s=!!i.rotate,o=s?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),a=o[e](),u=i.dx;if(u){var c=Ci(u);u=parseFloat(u),isFinite(u)&&(c&&(u/=100,u*=o.width),a.x+=u)}var f=i.dy;if(f){var h=Ci(f);f=parseFloat(f),isFinite(f)&&(h&&(f/=100,f*=o.height),a.y+=f)}return s?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function Fpe(e,t,r,n){var i=e.model.angle(),s=e.getNodeBBox(t),o=s.center(),a=s.origin(),u=s.corner(),c=n.padding;if(isFinite(c)||(c=0),a.y+c<=r.y&&r.y<=u.y-c){var f=r.y-o.y;o.x+=i===0||i===180?0:f*1/Math.tan(_s(i)),o.y+=f}else if(a.x+c<=r.x&&r.x<=u.x-c){var h=r.x-o.x;o.y+=i===90||i===270?0:h*Math.tan(_s(i)),o.x+=h}return o}function Bpe(e,t,r,n){var i=!!n.rotate,s,o,a;i?(s=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),o=e.model.angle()):s=e.getNodeBBox(t);var u=n.padding;isFinite(u)&&s.inflate(u),i&&r.rotate(a,o);var c=s.sideNearestToPoint(r),f;switch(c){case"left":f=s.leftMiddle();break;case"right":f=s.rightMiddle();break;case"top":f=s.topMiddle();break;case"bottom":f=s.bottomMiddle();break}return i?f.rotate(a,-o):f}function zpe(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const Vpe=iu("center"),Gpe=iu("topMiddle"),$pe=iu("bottomMiddle"),Upe=iu("leftMiddle"),jpe=iu("rightMiddle"),Hpe=iu("origin"),Wpe=iu("topRight"),Xpe=iu("bottomLeft"),Ype=iu("corner"),Kpe=id(Fpe),Zpe=id(Bpe),Jpe=zpe,Qpe=Object.freeze(Object.defineProperty({__proto__:null,bottom:$pe,bottomLeft:Xpe,bottomRight:Ype,center:Vpe,left:Upe,midSide:Zpe,modelCenter:Jpe,perpendicular:Kpe,right:jpe,top:Gpe,topLeft:Hpe,topRight:Wpe},Symbol.toStringTag,{value:"Module"})),fl={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},ege=50,T4=20,P4=1e3,tge=1/0,Sv=9007199254740991,uE=Ar.Highlighting,C4={[uE.DEFAULT]:{name:"stroke",options:{padding:3}},[uE.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[uE.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},rge=[{name:ro.BACK},{name:ro.CELLS},{name:ro.LABELS},{name:ro.FRONT},{name:ro.TOOLS}],Qj=Ka.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:xi,linkView:Ki,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:C4,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new lf,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,s){return(i==="target"?r:e)instanceof xi},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:fl.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:wpe,anchorNamespace:Qpe,linkAnchorNamespace:Ppe,connectionPointNamespace:Dpe,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Ha(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new No;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Mt(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!vs(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===fl.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:s,origin:o,highlighting:a,cellViewNamespace:u,interactive:c}=e;!u&&typeof joint<"u"&&Ha(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),vn(t)||(e.defaultConnector=eo(t)),vn(r)||(e.defaultRouter=eo(r)),vn(n)||(e.defaultConnectionPoint=eo(n)),vn(i)||(e.defaultAnchor=eo(i)),vn(s)||(e.defaultLinkAnchor=eo(s)),Jn(c)&&(e.interactive=Wt({},c)),Jn(a)&&(e.highlighting=gT({},a,C4)),e.origin=Wt({},o)},children:function(){var e=He.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Io("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Io("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Io("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:s,grid:o}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Mt(s),this.$grid=Mt(o),this.renderLayers(),He.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=rge){this.removeLayers(),e.forEach(({name:i,sorted:s})=>{const o=new fve({name:i});this.layers.appendChild(o.el),this._layers[i]=o});const t=this.getLayerView(ro.CELLS),r=this.getLayerView(ro.TOOLS),n=this.getLayerView(ro.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(Io("viewport")),n.vel.addClass(Io("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),He.createSVGMatrix(e)}e=He.createSVGMatrix(e);var n=He.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return He.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof Ar)for(var n=e.model,i=this.model.getConnectedLinks(n),s=0,o=i.length;s<o;s++){var a=i[s],u=this.findViewByModel(a);if(u){var c=["UPDATE"];a.getTargetCell()===n&&c.push("TARGET"),a.getSourceCell()===n&&c.push("SOURCE");var f=Math.max(t+1,u.UPDATE_PRIORITY);this.scheduleViewUpdate(u,u.getFlag(c),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Ar))return!1;var r=e.model;if(r.isElement())return!1;if((t&e.getFlag(["SOURCE","TARGET"]))===0){var n={silent:!0},i=0,s=this.findViewByModel(r.getSourceCell());s&&!this.isViewMounted(s)&&(i=this.dumpView(s,n),e.updateEndMagnet("source"));var o=0,a=this.findViewByModel(r.getTargetCell());if(a&&!this.isViewMounted(a)&&(o=this.dumpView(a,n),e.updateEndMagnet("target")),i===0&&o===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var s=this.updateViews(n);i&&this.notifyAfterRender(s,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:s}=this;i.idle&&s.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:o,FLAG_INSERT:a,UPDATE_PRIORITY:u,cid:c}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>u)for(let _=r-1;_>=u;_--){const m=i.priorities[_];!m||!(c in m)||(f[c]|=m[c],delete m[c])}let h=f[c]||0;if((h&t)===t)return;h||i.count++,t&o&&h&a?f[c]^=a:t&a&&h&o&&(f[c]^=o),f[c]|=t;const p=s.onViewUpdate;typeof p=="function"&&p.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const s={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(s,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:s,model:o}=e;if(e instanceof Ar){if(t&n)return this.removeView(o),0;if(t&i){const a=!!(t&s);a&&(t^=s),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=Ls({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=Sv;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const s={updated:r,batches:n,priority:i};return this.notifyAfterRender(s,e),s},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Sv});const{_updates:r,options:n}=this,i=r.id;if(i){DE(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const s=this.updateViewsBatch(e),o=Ls({},e,{mountBatchSize:P4-s.mounted,unmountBatchSize:P4-s.unmounted}),a=this.checkViewport(o),u=a.unmounted,c=a.mounted;let f=t.processed;const h=r.count;s.updated>0?(f+=s.updated+s.unmounted,s.processed=f,t.priority=Math.min(s.priority,t.priority),s.empty&&c===0?(s.unmounted+=u,s.mounted+=c,s.priority=t.priority,this.notifyAfterRender(s,e),t.processed=0,t.priority=Sv,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(h&&typeof p=="function"&&p.call(this,s.empty,f,h,s,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=qE(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||tge,r=this._updates,n=0,i=0,s=0,o=0,a=Sv,u=!0,c=this.options,f=r.priorities,h="viewport"in e?e.viewport:c.viewport;typeof h!="function"&&(h=null);var p=c.onViewPostponed;typeof p!="function"&&(p=null);var _=Object.keys(f);e:for(var m=0,y=_.length;m<y;m++){var b=+_[m],S=f[b];for(var E in S){if(n>=t){u=!1;break e}var A=oc[E];if(!A){delete S[E];continue}var P=S[E];if((P&A.FLAG_REMOVE)===0){var R=E in r.unmounted;if(A.DETACHABLE&&h&&!h.call(this,A,!R,this)){R||(this.registerUnmountedView(A),this.detachView(A)),r.unmounted[E]|=P,delete S[E],s++;continue}R&&(P|=A.FLAG_INSERT,o++),P|=this.registerMountedView(A)}var q=this.updateView(A,P,e);if(q>0&&(S[E]=q,!p||!p.call(this,A,q,this)||S[E])){i++,u=!1;continue}a>b&&(a=b),n++,delete S[E]}}return{priority:a,updated:n,postponed:i,unmounted:s,mounted:o,empty:u}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=oc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=oc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,s=i.unmountedCids,o=i.unmounted,a=0,u=Math.min(s.length,n);a<u;a++){var c=s[a];if(c in o){var f=oc[c];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){s.push(c);continue}r++;var h=this.registerMountedView(f);h&&this.scheduleViewUpdate(f,h,f.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,a),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,s=i.mountedCids,o=i.mounted,a=0,u=Math.min(s.length,n);a<u;a++){var c=s[a];if(c in o){var f=oc[c];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){s.push(c);continue}r++;var h=this.registerUnmountedView(f);h&&this.detachView(f)}}}return s.splice(0,a),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:s}=n,o=!e.DETACHABLE||!r||r.call(this,e,!1,this);let a=!1,u=!1;if(e.cid in i&&!o){this.registerUnmountedView(e)&&this.detachView(e);const h=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(h,1),a=!0}if(!a&&e.cid in s&&o){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var c=this.registerMountedView(e);c&&this.scheduleViewUpdate(e,c,e.UPDATE_PRIORITY,{mounting:!0}),u=!0}return{mounted:u?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Ls({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var s=this.checkUnmountedViews(r,t);return{mounted:s,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var s=t.id;t.id=null,this.isAsync()&&s&&DE(s)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===fl.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return vs(t)||(t=this.el.clientWidth),vs(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let s=e===void 0?n:e,o=t===void 0?i:t;if(n===s&&i===o)return;r.width=s,r.height=o,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;vs(t)&&(t=Math.round(t)),vs(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Yr(e)?n=e:n=Wt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:s,width:o,height:a}=this.getFitToContentArea(n),{sx:u,sy:c}=this.scale();return this.setOrigin(-i*u,-s*c),this.setDimensions(o*u,a*c),new mt(i,s,o,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=bc(e.padding||0),i=Math.max(e.minWidth||0,t),s=Math.max(e.minHeight||0,r),o=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,u=e.allowNewOrigin,c="contentArea"in e?new mt(e.contentArea):this.getContentArea(e),{sx:f,sy:h}=this.scale();c.x*=f,c.y*=h,c.width*=f,c.height*=h;let p=Math.ceil((c.width+c.x)/t),_=Math.ceil((c.height+c.y)/r);e.allowNegativeBottomRight||(p=Math.max(p,1),_=Math.max(_,1)),p*=t,_*=r;let m=0;(u==="negative"&&c.x<0||u==="positive"&&c.x>=0||u==="any")&&(m=Math.ceil(-c.x/t)*t,m+=n.left,p+=m);let y=0;return(u==="negative"&&c.y<0||u==="positive"&&c.y>=0||u==="any")&&(y=Math.ceil(-c.y/r)*r,y+=n.top,_+=y),p+=n.right,_+=n.bottom,p=Math.max(p,i),_=Math.max(_,s),p=Math.min(p,o),_=Math.min(_,a),new mt(-m/f,-y/h,p/f,_/h)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const b=e.contentArea;t=this.localToPaperRect(b),r=new ge(b)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Ls(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=bc(e.padding),i=e.minScaleX||e.minScale,s=e.maxScaleX||e.maxScale,o=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let u;if(e.fittingBBox)u=e.fittingBBox;else{const b=this.translate(),S=this.getComputedSize();u={x:b.tx,y:b.ty,width:S.width,height:S.height}}u=new mt(u).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const c=this.scale();let f=u.width/t.width*c.sx,h=u.height/t.height*c.sy;if(e.preserveAspectRatio&&(f=h=Math.min(f,h)),e.scaleGrid){const b=e.scaleGrid;f=b*Math.floor(f/b),h=b*Math.floor(h/b)}f=Math.min(s,Math.max(i,f)),h=Math.min(a,Math.max(o,h));const p={x:f/c.sx,y:h/c.sy},_=this.options.origin;let m=u.x-r.x*f-_.x,y=u.y-r.y*h-_.y;switch(e.verticalAlign){case"middle":y=y+(u.height-t.height*p.y)/2;break;case"bottom":y=y+(u.height-t.height*p.y);break}switch(e.horizontalAlign){case"middle":m=m+(u.width-t.width*p.x)/2;break;case"right":m=m+(u.width-t.width*p.x);break}this.scale(f,h),this.translate(m,y)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new mt:He(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return vn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new mt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,s=e.get("type")+"View",o=Ph(i,s,".");e.isLink()?(r=t.linkView,n=Ki):(r=t.elementView,n=xi);var a=r.prototype instanceof ei.View?o||r:r.call(this,e)||o||n;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?ro.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:s}=i;const{mounted:o,unmounted:a}=n;i.remove(),delete r[t],delete o[s],delete a[s]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,s,o=!0;return r in n&&(i=n[r],i.model===e?(s=i.FLAG_INSERT,o=!1):this.removeView(e)),o&&(i=n[r]=this.createViewForModel(e),i.paper=this,s=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Qn(i,"initFlag"))),this.requestViewUpdate(i,s,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){Lo(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Mt(this.cells).children("[model-id]"),t=this.model.get("cells");kde(e,function(r,n){var i=t.get(r.getAttribute("model-id")),s=t.get(n.getAttribute("model-id")),o=i.attributes.z||0,a=s.attributes.z||0;return o===a?0:o<a?-1:1})},insertView:function(e,t){const r=this.getLayerView(ro.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case fl.APPROX:r.insertSortedNode(n,i.get("z"));break;case fl.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return He.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var s=i.tx-r*(e-1),o=i.ty-n*(t-1);this.translate(s,o)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return He.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return He.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const s=this.matrix();if(s.e===e&&s.f===t)return this;s.e=e,s.f=t,this.matrix(s);const{tx:o,ty:a}=this.translate();return n.x=o,n.y=a,this.trigger("translate",o,a),i&&this.drawGrid(),this},findView:function(e){var t=Di(e)?this.cells.querySelector(e):e instanceof Mt?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=Di(e)||vs(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ge(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Ls(t||{},{strict:!1}),e=new mt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ge(e,t),n=He.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new mt(e,t,r,n),s=He.transformRect(i,this.matrix());return s},paperToLocalPoint:function(e,t){var r=new ge(e,t),n=He.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new mt(e,t,r,n),s=He.transformRect(i,this.matrix().inverse());return s},localToClientPoint:function(e,t){var r=new ge(e,t),n=He.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new mt(e,t,r,n),s=He.transformRect(i,this.clientMatrix());return s},clientToLocalPoint:function(e,t){var r=new ge(e,t),n=He.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new mt(e,t,r,n),s=He.transformRect(i,this.clientMatrix().inverse());return s},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ge(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),s=new mt(e,t,r,n);return s.x-=i.x,s.y-=i.y,this.paperToLocalRect(s)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ge(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Ki))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return vn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;Di(t)&&(t={name:t});const s=t.name,o=i[s];if(!o)throw new Error('Unknown highlighter ("'+s+'")');if(typeof o.highlight!="function")throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if(typeof o.unhighlight!="function")throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:o,options:t.options||{},name:s}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:s}=n;i.highlight(e,t,s)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:s}=n;i.unhighlight(e,t,s)},pointerdblclick:function(e){e.preventDefault(),e=Zn(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=Zn(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=Zn(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=Zn(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const s=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!s&&e.preventDefault(),s&&n.preventDefaultInteraction(e);const o=this.customEventTrigger(e,n);if(o){if(o.isPropagationStopped())return;e.data=o.data}const a=t.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const u=Zn(Mt.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(u),u.isDefaultPrevented()&&e.preventDefault(),u.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,u.data);return}e.data=u.data}}if(i){this.contextMenuFired=!0;const s=Mt.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(s)}else{const s=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,s.x,s.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,s.x,s.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=Zn(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Zn(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Mt.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Zn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Zn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Zn(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const s=this.findView(r);i&&(s===i||(i.mouseenter(e),this.el.contains(r)))||s||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Zn(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const s=this.findView(r);i&&(s===i||(i.mouseleave(e),this.el.contains(r)))||s||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:mde(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((o,a)=>o+Rde(a,ege),0),n=Math.pow(.995,r),{x:i,y:s}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,s,n),this._mw_evt_buffer={event:null,deltas:[]}},T4,{maxWait:T4}),mousewheel:function(e){e=Zn(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:s}=Cde(r),o=this._events["paper:pinch"];if(e.ctrlKey&&o&&o.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(s),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,a):this.trigger("blank:mousewheel",e,n.x,n.y,a),this.trigger("paper:pan",e,i,s)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=Zn(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=Zn(e),this.guard(e,i))return;var s=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,s.x,s.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Mt.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,s){t.onmagnet(r,i,s)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,s){t.magnetpointerdblclick(r,n,i,s)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,s){t.magnetcontextmenu(r,n,i,s)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=Zn(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=Zn(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof ma||this.svg===r||this.el===r||Mt.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:He("svg",{width:"100%",height:"100%"},He("defs")),patterns:{},add:function(e,t){He(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(He("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Di(e)&&Array.isArray(t[e]))return t[e].map(function(u){return Wt({},u)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var s=t[i].map(function(u){return Wt({},u)}),o=Array.isArray(r.args)?r.args:[r.args||{}];Ls(o[0],yc(e,"args"));for(var a=0;a<o.length;a++)s[a]&&Wt(s[a],o[a]);return s}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(o,a){var u="pattern_"+a,c=si(o,r[a],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});c.width=t*(n.a||1)*(c.scaleFactor||1),c.height=t*(n.d||1)*(c.scaleFactor||1),i.exist(u)||i.add(u,He("pattern",{id:u,patternUnits:"userSpaceOnUse"},He(c.markup)));var f=i.get(u);vn(c.update)&&c.update(f.node.childNodes[0],c);var h=c.ox%c.width;h<0&&(h+=c.width);var p=c.oy%c.height;p<0&&(p+=c.height),f.attr({x:h,y:p,width:c.width,height:c.height})});var s=new XMLSerializer().serializeToString(i.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Yr(t)){var s=i.tx+n.sx*(t.x||0),o=i.ty+n.sy*(t.y||0);t=s+"px "+o+"px"}Yr(r)&&(r=new mt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",s=t.opacity||1,o=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[xde(i)];if(vn(a)){e.width*=o,e.height*=o;var u=a(e,t);if(!(u instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=u.toDataURL("image/png"),i="repeat",Yr(n)?(n.width*=u.width/e.width,n.height*=u.height/e.height):n===void 0&&(t.size={width:u.width/o,height:u.height/o})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:s,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=eo(e),yl(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Lo(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Yr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+pv(JSON.stringify(e))),!this.isDefined(t)){var n=Nde,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var s=Wt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});He(i,s).appendTo(this.defs)}return t},defineGradient:function(e){if(!Yr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+pv(JSON.stringify(e)),stops:s,attrs:o={}}=e;if(this.isDefined(i))return i;const a=Br(s).map(({offset:c,color:f,opacity:h})=>He("stop").attr({offset:c,"stop-color":f,"stop-opacity":Number.isFinite(h)?h:1})),u=He(n,o,a);return u.id=i,u.appendTo(r),i},definePattern:function(e){if(!Yr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+pv(JSON.stringify(e)),markup:i,attrs:s={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const o=He("pattern",{patternUnits:"userSpaceOnUse"});if(o.id=n,o.attr(s),typeof i=="string")o.append(He(i));else{const{fragment:a}=ep(i);o.append(a)}return o.appendTo(r),n},defineMarker:function(e){if(!Yr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+pv(JSON.stringify(e)),markup:i,attrs:s={},markerUnits:o="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const a=He("marker",{orient:"auto",overflow:"visible",markerUnits:o});a.id=n,a.attr(s);let u;if(i){let h;if(typeof i=="string")h=He(i),h=Array.isArray(h)?h:[h];else{const{fragment:p}=ep(i);h=He(p).children()}h.length>1?u=He("g").append(h):u=h[0]}else{const{type:h="path"}=e;u=He(h)}const c=yc(e,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach(h=>{const p=c[h],_=u.attr(h);if(_==null)u.attr(h,p);else switch(h){case"transform":u.attr(h,p+" "+_);break}}),u.appendTo(a),a.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=Zn(Mt.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:fl,Layers:ro,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var s=i.getContext("2d"),o=vs(t.watermarkAngle)?-t.watermarkAngle:-20,a=_s(o),u=i.width/4,c=i.height/4,f=0;f<4;f++)for(var h=0;h<4;h++)(f+h)%2>0&&(s.setTransform(1,0,0,1,(2*f-1)*u,(2*h-1)*c),s.rotate(a),s.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){He(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;He(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,s=t.thickness;n-s>=0&&i-s>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",He(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,s=t.thickness;n-s>=0&&i-s>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",He(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,s=t.thickness;n-s>=0&&i-s>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",He(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),Pg=Ka.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),nge=Ka.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Wt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof Ar))return this;for(var n=this.tools=[],i=0,s=t.length;i<s;i++){var o=t[i];o instanceof Pg&&(o.configure(r,this),this.vel.append(o.el),n.push(o))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var s=t[n];r?e.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=ro.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),Ch={exportElement:function(e){return e.size()},exportLink:function(e){var t=e.get("labelSize")||{},r={minLen:e.get("minLen")||1,weight:e.get("weight")||1,labelpos:e.get("labelPosition")||"c",labeloffset:e.get("labelOffset")||0,width:t.width||0,height:t.height||0};return r},importElement:function(e,t,r){var n=this.getCell(t),i=r.node(t);e.setPosition?e.setPosition(n,i):n.set("position",{x:i.x-i.width/2,y:i.y-i.height/2})},importLink:function(e,t,r){const i=this.getCell(t.name),s=r.edge(t),o=s.points||[],a=new gn(o);if(e.setVertices||e.setLinkVertices)if(vn(e.setVertices))e.setVertices(i,o);else{a.simplify({threshold:.001});const u=a.points.map(f=>f.toJSON()),c=u.length;i.set("vertices",u.slice(1,c-1))}if(e.setLabels&&"x"in s&&"y"in s){const u={x:s.x,y:s.y};if(vn(e.setLabels))e.setLabels(i,u,o);else{const c=a.closestPointLength(u),f=a.pointAtLength(c),h=c/a.length(),p=new ge(u).difference(f).toJSON();i.label(0,{position:{distance:h,offset:p}})}}},layout:function(e,t){var r;e instanceof No?r=e:r=new No().resetCells(e,{dry:!0,sort:!1}),e=null,t=Ls(t||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});const n=t.dagre||(typeof dagre<"u"?dagre:void 0);if(n===void 0)throw new Error('The the "dagre" utility is a mandatory dependency.');var i=Ch.toGraphLib(r,{graphlib:t.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:t.exportElement,setEdgeLabel:t.exportLink,setEdgeName:function(f){return f.id}}),s={},o=t.marginX||0,a=t.marginY||0;if(t.rankDir&&(s.rankdir=t.rankDir),t.align&&(s.align=t.align),t.nodeSep&&(s.nodesep=t.nodeSep),t.edgeSep&&(s.edgesep=t.edgeSep),t.rankSep&&(s.ranksep=t.rankSep),t.ranker&&(s.ranker=t.ranker),o&&(s.marginx=o),a&&(s.marginy=a),i.setGraph(s),n.layout(i,{debugTiming:!!t.debugTiming}),r.startBatch("layout"),Ch.fromGraphLib(i,{importNode:this.importElement.bind(r,t),importEdge:this.importLink.bind(r,t)}),t.resizeClusters){var u=i.nodes().filter(function(f){return i.children(f).length>0}).map(r.getCell.bind(r)).sort(function(f,h){return h.getAncestors().length-f.getAncestors().length});Lo(u,"fitToChildren",{padding:t.clusterPadding})}r.stopBatch("layout");var c=i.graph();return new mt(o,a,Math.abs(c.width-2*o),Math.abs(c.height-2*a))},fromGraphLib:function(e,t){t=t||{};var r=t.importNode||Wf,n=t.importEdge||Wf,i=this instanceof No?this:new No;return e.nodes().forEach(function(s){r.call(i,s,e,i,t)}),e.edges().forEach(function(s){n.call(i,s,e,i,t)}),i},toGraphLib:function(e,t){t=t||{};const r=t.graphlib||(typeof graphlib<"u"?graphlib:void 0);if(r===void 0)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var n=wde(t,"directed","compound","multigraph"),i=new r.Graph(n),s=t.setNodeLabel||Wf,o=t.setEdgeLabel||Wf,a=t.setEdgeName||Wf,u=e.get("cells"),c=0,f=u.length;c<f;c++){var h=u.at(c);if(h.isLink()){var p=h.get("source"),_=h.get("target");if(!p.id||!_.id)break;i.setEdge(p.id,_.id,o(h),a(h))}else if(i.setNode(h.id,s(h)),i.isCompound()&&h.has("parent")){var m=h.get("parent");u.has(m)&&i.setParent(h.id,m)}}return i}};No.prototype.toGraphLib=function(e){return Ch.toGraphLib(this,e)};No.prototype.fromGraphLib=function(e,t){return Ch.fromGraphLib.call(this,e,t)};const e9={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},gs=zi.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}});gs.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'});xi.extend({presentationAttributes:xi.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=xi.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}});gs.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'});gs.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'});gs.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'});gs.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'});gs.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'});gs.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'});const ige=gs.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'});ige.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}});const ip=e9.test("svgforeignobject");gs.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',ip?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),gs.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":Wt({},t),div:{style:Wt({},t)}})},updateContent:function(e,t){ip?this.attr({".content":{html:Mde(t)}}):this.attr({".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}});xi.extend({presentationAttributes:ip?xi.prototype.presentationAttributes:xi.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=xi.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var r=this.model;if(ip)xi.prototype.update.call(this,r,t);else{var n=yc(t||r.get("attrs"),".content");xi.prototype.update.call(this,r,n),(!t||Ha(t,".content"))&&this.updateContent(r,t)}},updateContent:function(e,t){var r=si({},(t||e.get("attrs"))[".content"]);r=yc(r,"text");var n=Rj(e.get("content"),e.get("size"),r,{svgDocument:this.paper.svg}),i=NE({},".content",r,"/");i[".content"].text=n,xi.prototype.update.call(this,e,i)}});zi.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});const sge=zi.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});zi.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});zi.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});zi.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});zi.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});zi.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});zi.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});zi.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});zi.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});zi.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var cE=10;zi.define("standard.Cylinder",{attrs:{body:{lateralArea:cE,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:cE,refRx:"50%",ry:cE,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=Ci(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=Ci(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,s=t.width,o=t.height,a=s/2,u=r?o*e:e,c=He.KAPPA,f=c*a,h=c*(r?o*e:e),p=n,_=n+s/2,m=n+s,y=i+u,b=y-u,S=i+o-u,E=i+o,A=["M",p,y,"L",p,S,"C",n,S+h,_-f,E,_,E,"C",_+f,E,m,S+h,m,S,"L",m,y,"C",m,y-h,_+f,b,_,b,"C",_-f,b,p,y-h,p,y,"Z"];return{d:A.join(" ")}}}}});var oge={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},age={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},uge=e9.test("svgforeignobject")?oge:age;zi.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},uge]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},s={text:e,width:-5,height:"100%"},o=Wt({textVerticalAnchor:"middle"},i);return kj.textWrap.set.call(this,s,t,r,o),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const Mv=lf.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});lf.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});lf.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var R4=Ka.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){const{vel:r,options:n}=this,{scale:i}=n;let s=He.createSVGMatrix().translate(e,t);i&&(s=s.scale(i)),r.transform(s,{absolute:!0})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const cge=Pg.extend({name:"vertices",options:{handleClass:R4,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var e=this.relatedView,t=e.model.vertices();return t.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,r=e.length;t<r;t++)e[t].remove()},renderHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),r=0,n=t.length;r<n;r++){var i=t[r],s=new this.options.handleClass({index:r,paper:this.paper,scale:this.options.scale,guard:o=>this.guard(o)});s.render(),s.position(i.x,i.y),this.simulateRelatedView(s.el),s.vel.appendTo(this.el),this.handles.push(s),this.startHandleListening(s)}},updateHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),r=0,n=t.length;r<n;r++){var i=t[r],s=this.handles[r];if(!s)return;s.position(i.x,i.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,r=t.model.vertices(),n=e>0?r[e-1]:t.sourceAnchor,i=e<r.length-1?r[e+1]:t.targetAnchor;return{prev:new ge(n),next:new ge(i)}},onHandleWillChange:function(e,t){this.focus();const{relatedView:r,options:n}=this;r.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerdown(...r.paper.getPointerArgs(t))},onHandleChanging:function(e,t){const{options:r,relatedView:n}=this;var i=e.options.index,[s,o,a]=n.paper.getPointerArgs(t),u={x:o,y:a};this.snapVertex(u,i),n.model.vertex(i,u,{ui:!0,tool:this.cid}),e.position(u.x,u.y),r.stopPropagation||n.notifyPointermove(s,o,a)},onHandleChanged:function(e,t){const{options:r,relatedView:n}=this;if(r.vertexAdding&&this.updatePath(),!!r.redundancyRemoval){var i=n.removeRedundantLinearVertices({ui:!0,tool:this.cid});i&&this.render(),this.blur(),n.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&n.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[s,o,a]=n.paper.getPointerArgs(t);r.stopPropagation||n.notifyPointerup(s,o,a),n.checkMouseleave(s)}},snapVertex:function(e,t){var r=this.options.snapRadius;if(r>0){var n=this.getNeighborPoints(t),i=n.prev,s=n.next;Math.abs(e.x-i.x)<r?e.x=i.x:Math.abs(e.x-s.x)<r&&(e.x=s.x),Math.abs(e.y-i.y)<r?e.y=n.prev.y:Math.abs(e.y-s.y)<r&&(e.y=s.y)}},onHandleRemove:function(e,t){var r=e.options.index,n=this.relatedView;n.model.removeVertex(r,{ui:!0}),this.options.vertexAdding&&this.updatePath(),n.checkMouseleave(Zn(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=Zn(e),r=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),n=this.relatedView;n.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=n.getVertexIndex(r.x,r.y);this.snapVertex(r,i),n.model.insertVertex(i,r,{ui:!0,tool:this.cid}),this.update();var s=this.handles[i];this.eventData(t,{vertexAdded:!0}),s.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:R4});function lge(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const t9=Pg.extend({tagName:"path",xAxisVector:new ge(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var e=this.ratio,t=this.relatedView,r=t.getTangentAtRatio(e),n,i;if(r?(n=r.start,i=r.vector().vectorAngle(this.xAxisVector)||0):(n=t.getPointAtRatio(e),i=0),!n)return this;var s=He.createSVGMatrix().translate(n.x,n.y).rotate(i);const{scale:o}=this.options;return o&&(s=s.scale(o)),this.vel.transform(s,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=Zn(e),r=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,r.x,r.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,r=t.paper,n=Zn(e),i=r.snapToGrid(n.clientX,n.clientY);t.pointerup(n,i.x,i.y),r.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),fge=t9.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),hge=t9.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),UE=Pg.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:s,rotate:o,scale:a}=t,u=lge(e,s);const c=e.model.angle();o||(u=u.bbox(c));const{x:f=0,y:h=0}=i;Ci(r)?r=parseFloat(r)/100*u.width:no(r)&&(r=Number(io(r,u))),Ci(n)?n=parseFloat(n)/100*u.height:no(n)&&(n=Number(io(n,u)));let p=He.createSVGMatrix().translate(u.x+u.width/2,u.y+u.height/2);return o&&(p=p.rotate(c)),p=p.translate(r+f-u.width/2,n+h-u.height/2),a&&(p=p.scale(a)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:s}=t;let o,a,u;Ci(n)?o=e.getTangentAtRatio(parseFloat(n)/100):o=e.getTangentAtLength(n),o?(a=o.start,u=o.vector().vectorAngle(new ge(1,0))||0):(a=e.getConnection().start,u=0);let c=He.createSVGMatrix().translate(a.x,a.y).rotate(u).translate(0,r);return i||(c=c.rotate(-u)),s&&(c=c.scale(s)),c},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),I4=UE.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}});var oh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dge=oh.exports,O4;function vge(){return O4||(O4=1,function(e,t){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,_=4,m=1,y=2,b=1,S=2,E=4,A=8,P=16,R=32,q=64,d=128,C=256,I=512,L=30,B="...",H=800,$=16,J=1,ae=2,X=3,D=1/0,z=9007199254740991,j=17976931348623157e292,ie=NaN,oe=4294967295,Se=oe-1,_e=oe>>>1,te=[["ary",d],["bind",b],["bindKey",S],["curry",A],["curryRight",P],["flip",I],["partial",R],["partialRight",q],["rearg",C]],ue="[object Arguments]",re="[object Array]",Q="[object AsyncFunction]",le="[object Boolean]",Ve="[object Date]",Le="[object DOMException]",Ce="[object Error]",Je="[object Function]",Ge="[object GeneratorFunction]",N="[object Map]",G="[object Number]",Y="[object Null]",K="[object Object]",Ee="[object Promise]",fe="[object Proxy]",Te="[object RegExp]",Re="[object Set]",ze="[object String]",qe="[object Symbol]",Ie="[object Undefined]",xe="[object WeakMap]",Ye="[object WeakSet]",lt="[object ArrayBuffer]",_t="[object DataView]",ht="[object Float32Array]",it="[object Float64Array]",Yt="[object Int8Array]",xr="[object Int16Array]",nr="[object Int32Array]",vr="[object Uint8Array]",Nr="[object Uint8ClampedArray]",zr="[object Uint16Array]",En="[object Uint32Array]",sr=/\b__p \+= '';/g,Mr=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wn=/&(?:amp|lt|gt|quot|#39);/g,mn=/[&<>"']/g,Un=RegExp(wn.source),ii=RegExp(mn.source),Ut=/<%-([\s\S]+?)%>/g,$t=/<%([\s\S]+?)%>/g,Vr=/<%=([\s\S]+?)%>/g,zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,An=/^\w*$/,Wr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/[\\^$.*+?()[\]{}|]/g,pi=RegExp(jn.source),Qr=/^\s+/,Hn=/\s/,Nn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gi=/\{\n\/\* \[wrapped with (.+)\] \*/,Ze=/,? & /,Tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ot=/[()=,{}\[\]\/\s]/,Dt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,Ke=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,Ct=/^\[object .+?Constructor\]$/,jt=/^0o[0-7]+$/i,un=/^(?:0|[1-9]\d*)$/,Wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,en=/['\n\r\u2028\u2029\\]/g,Tr="\\ud800-\\udfff",qr="\\u0300-\\u036f",Gr="\\ufe20-\\ufe2f",Pr="\\u20d0-\\u20ff",Tn=qr+Gr+Pr,Zt="\\u2700-\\u27bf",mi="a-z\\xdf-\\xf6\\xf8-\\xff",Ei="\\xac\\xb1\\xd7\\xf7",Vi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qe="\\u2000-\\u206f",gt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vt="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",It=Ei+Vi+Qe+gt,or="['â]",Xr="["+Tr+"]",hn="["+It+"]",$r="["+Tn+"]",xn="\\d+",Vn="["+Zt+"]",_i="["+mi+"]",Xo="[^"+Tr+It+xn+Zt+mi+vt+"]",Es="\\ud83c[\\udffb-\\udfff]",Xn="(?:"+$r+"|"+Es+")",Pa="[^"+Tr+"]",ss="(?:\\ud83c[\\udde6-\\uddff]){2}",Ca="[\\ud800-\\udbff][\\udc00-\\udfff]",Yo="["+vt+"]",Ko="\\u200d",Zo="(?:"+_i+"|"+Xo+")",df="(?:"+Yo+"|"+Xo+")",fd="(?:"+or+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+or+"(?:D|LL|M|RE|S|T|VE))?",vf=Xn+"?",jc="["+pt+"]?",hd="(?:"+Ko+"(?:"+[Pa,ss,Ca].join("|")+")"+jc+vf+")*",dd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pf=jc+vf+hd,kg="(?:"+[Vn,ss,Ca].join("|")+")"+pf,Lg="(?:"+[Pa+$r+"?",$r,ss,Ca,Xr].join("|")+")",gf=RegExp(or,"g"),Ng=RegExp($r,"g"),mf=RegExp(Es+"(?="+Es+")|"+Lg+pf,"g"),qg=RegExp([Yo+"?"+_i+"+"+fd+"(?="+[hn,Yo,"$"].join("|")+")",df+"+"+ou+"(?="+[hn,Yo+Zo,"$"].join("|")+")",Yo+"?"+Zo+"+"+fd,Yo+"+"+ou,Mg,dd,xn,kg].join("|"),"g"),Dg=RegExp("["+Ko+Tr+Tn+pt+"]"),Fg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zg=-1,dn={};dn[ht]=dn[it]=dn[Yt]=dn[xr]=dn[nr]=dn[vr]=dn[Nr]=dn[zr]=dn[En]=!0,dn[ue]=dn[re]=dn[lt]=dn[le]=dn[_t]=dn[Ve]=dn[Ce]=dn[Je]=dn[N]=dn[G]=dn[K]=dn[Te]=dn[Re]=dn[ze]=dn[xe]=!1;var tn={};tn[ue]=tn[re]=tn[lt]=tn[_t]=tn[le]=tn[Ve]=tn[ht]=tn[it]=tn[Yt]=tn[xr]=tn[nr]=tn[N]=tn[G]=tn[K]=tn[Te]=tn[Re]=tn[ze]=tn[qe]=tn[vr]=tn[Nr]=tn[zr]=tn[En]=!0,tn[Ce]=tn[Je]=tn[xe]=!1;var vd={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},_f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yf=parseFloat,Vg=parseInt,md=typeof qi=="object"&&qi&&qi.Object===Object&&qi,Gg=typeof self=="object"&&self&&self.Object===Object&&self,qn=md||Gg||Function("return this")(),Hc=t&&!t.nodeType&&t,wo=Hc&&!0&&e&&!e.nodeType&&e,_d=wo&&wo.exports===Hc,bf=_d&&md.process,os=function(){try{var ne=wo&&wo.require&&wo.require("util").types;return ne||bf&&bf.binding&&bf.binding("util")}catch{}}(),g=os&&os.isArrayBuffer,x=os&&os.isDate,O=os&&os.isMap,k=os&&os.isRegExp,F=os&&os.isSet,V=os&&os.isTypedArray;function W(ne,ye,me){switch(me.length){case 0:return ne.call(ye);case 1:return ne.call(ye,me[0]);case 2:return ne.call(ye,me[0],me[1]);case 3:return ne.call(ye,me[0],me[1],me[2])}return ne.apply(ye,me)}function pe(ne,ye,me,We){for(var tt=-1,Pt=ne==null?0:ne.length;++tt<Pt;){var Rt=ne[tt];ye(We,Rt,me(Rt),ne)}return We}function ce(ne,ye){for(var me=-1,We=ne==null?0:ne.length;++me<We&&ye(ne[me],me,ne)!==!1;);return ne}function Ae(ne,ye){for(var me=ne==null?0:ne.length;me--&&ye(ne[me],me,ne)!==!1;);return ne}function Be(ne,ye){for(var me=-1,We=ne==null?0:ne.length;++me<We;)if(!ye(ne[me],me,ne))return!1;return!0}function je(ne,ye){for(var me=-1,We=ne==null?0:ne.length,tt=0,Pt=[];++me<We;){var Rt=ne[me];ye(Rt,me,ne)&&(Pt[tt++]=Rt)}return Pt}function Me(ne,ye){var me=ne==null?0:ne.length;return!!me&&cn(ne,ye,0)>-1}function ct(ne,ye,me){for(var We=-1,tt=ne==null?0:ne.length;++We<tt;)if(me(ye,ne[We]))return!0;return!1}function At(ne,ye){for(var me=-1,We=ne==null?0:ne.length,tt=Array(We);++me<We;)tt[me]=ye(ne[me],me,ne);return tt}function hr(ne,ye){for(var me=-1,We=ye.length,tt=ne.length;++me<We;)ne[tt+me]=ye[me];return ne}function lr(ne,ye,me,We){var tt=-1,Pt=ne==null?0:ne.length;for(We&&Pt&&(me=ne[++tt]);++tt<Pt;)me=ye(me,ne[tt],tt,ne);return me}function li(ne,ye,me,We){var tt=ne==null?0:ne.length;for(We&&tt&&(me=ne[--tt]);tt--;)me=ye(me,ne[tt],tt,ne);return me}function Dn(ne,ye){for(var me=-1,We=ne==null?0:ne.length;++me<We;)if(ye(ne[me],me,ne))return!0;return!1}var Gs=Ra("length");function $s(ne){return ne.split("")}function Cr(ne){return ne.match(Tt)||[]}function Jo(ne,ye,me){var We;return me(ne,function(tt,Pt,Rt){if(ye(tt,Pt,Rt))return We=Pt,!1}),We}function Rr(ne,ye,me,We){for(var tt=ne.length,Pt=me+(We?1:-1);We?Pt--:++Pt<tt;)if(ye(ne[Pt],Pt,ne))return Pt;return-1}function cn(ne,ye,me){return ye===ye?jg(ne,ye,me):Rr(ne,Wc,me)}function Hu(ne,ye,me,We){for(var tt=me-1,Pt=ne.length;++tt<Pt;)if(We(ne[tt],ye))return tt;return-1}function Wc(ne){return ne!==ne}function As(ne,ye){var me=ne==null?0:ne.length;return me?Ii(ne,ye)/me:ie}function Ra(ne){return function(ye){return ye==null?r:ye[ne]}}function as(ne){return function(ye){return ne==null?r:ne[ye]}}function xo(ne,ye,me,We,tt){return tt(ne,function(Pt,Rt,St){me=We?(We=!1,Pt):ye(me,Pt,Rt,St)}),me}function Qo(ne,ye){var me=ne.length;for(ne.sort(ye);me--;)ne[me]=ne[me].value;return ne}function Ii(ne,ye){for(var me,We=-1,tt=ne.length;++We<tt;){var Pt=ye(ne[We]);Pt!==r&&(me=me===r?Pt:me+Pt)}return me}function Wu(ne,ye){for(var me=-1,We=Array(ne);++me<ne;)We[me]=ye(me);return We}function So(ne,ye){return At(ye,function(me){return[me,ne[me]]})}function Us(ne){return ne&&ne.slice(0,bd(ne)+1).replace(Qr,"")}function Gi(ne){return function(ye){return ne(ye)}}function wf(ne,ye){return At(ye,function(me){return ne[me]})}function Xu(ne,ye){return ne.has(ye)}function Kr(ne,ye){for(var me=-1,We=ne.length;++me<We&&cn(ye,ne[me],0)>-1;);return me}function Yu(ne,ye){for(var me=ne.length;me--&&cn(ye,ne[me],0)>-1;);return me}function Ts(ne,ye){for(var me=ne.length,We=0;me--;)ne[me]===ye&&++We;return We}var au=as(vd),$g=as(_f);function Ug(ne){return"\\"+gd[ne]}function yd(ne,ye){return ne==null?r:ne[ye]}function us(ne){return Dg.test(ne)}function xf(ne){return Fg.test(ne)}function ea(ne){for(var ye,me=[];!(ye=ne.next()).done;)me.push(ye.value);return me}function Xc(ne){var ye=-1,me=Array(ne.size);return ne.forEach(function(We,tt){me[++ye]=[tt,We]}),me}function uu(ne,ye){return function(me){return ne(ye(me))}}function Ps(ne,ye){for(var me=-1,We=ne.length,tt=0,Pt=[];++me<We;){var Rt=ne[me];(Rt===ye||Rt===f)&&(ne[me]=f,Pt[tt++]=me)}return Pt}function Ia(ne){var ye=-1,me=Array(ne.size);return ne.forEach(function(We){me[++ye]=We}),me}function Sf(ne){var ye=-1,me=Array(ne.size);return ne.forEach(function(We){me[++ye]=[We,We]}),me}function jg(ne,ye,me){for(var We=me-1,tt=ne.length;++We<tt;)if(ne[We]===ye)return We;return-1}function Yc(ne,ye,me){for(var We=me+1;We--;)if(ne[We]===ye)return We;return We}function ta(ne){return us(ne)?wd(ne):Gs(ne)}function $i(ne){return us(ne)?se(ne):$s(ne)}function bd(ne){for(var ye=ne.length;ye--&&Hn.test(ne.charAt(ye)););return ye}var Ef=as(pd);function wd(ne){for(var ye=mf.lastIndex=0;mf.test(ne);)++ye;return ye}function se(ne){return ne.match(mf)||[]}function we(ne){return ne.match(qg)||[]}var Oe=function ne(ye){ye=ye==null?qn:Ne.defaults(qn.Object(),ye,Ne.pick(qn,Bg));var me=ye.Array,We=ye.Date,tt=ye.Error,Pt=ye.Function,Rt=ye.Math,St=ye.Object,gr=ye.RegExp,Xt=ye.String,Sr=ye.TypeError,fi=me.prototype,yi=Pt.prototype,hi=St.prototype,Ui=ye["__core-js_shared__"],Eo=yi.toString,ar=hi.hasOwnProperty,gH=0,FT=function(){var l=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),xd=hi.toString,mH=Eo.call(St),_H=qn._,yH=gr("^"+Eo.call(ar).replace(jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sd=_d?ye.Buffer:r,cu=ye.Symbol,Ed=ye.Uint8Array,BT=Sd?Sd.allocUnsafe:r,Ad=uu(St.getPrototypeOf,St),zT=St.create,VT=hi.propertyIsEnumerable,Td=fi.splice,GT=cu?cu.isConcatSpreadable:r,Af=cu?cu.iterator:r,Ku=cu?cu.toStringTag:r,Pd=function(){try{var l=tc(St,"defineProperty");return l({},"",{}),l}catch{}}(),bH=ye.clearTimeout!==qn.clearTimeout&&ye.clearTimeout,wH=We&&We.now!==qn.Date.now&&We.now,xH=ye.setTimeout!==qn.setTimeout&&ye.setTimeout,Cd=Rt.ceil,Rd=Rt.floor,Hg=St.getOwnPropertySymbols,SH=Sd?Sd.isBuffer:r,$T=ye.isFinite,EH=fi.join,AH=uu(St.keys,St),di=Rt.max,Oi=Rt.min,TH=We.now,PH=ye.parseInt,UT=Rt.random,CH=fi.reverse,Wg=tc(ye,"DataView"),Tf=tc(ye,"Map"),Xg=tc(ye,"Promise"),Kc=tc(ye,"Set"),Pf=tc(ye,"WeakMap"),Cf=tc(St,"create"),Id=Pf&&new Pf,Zc={},RH=rc(Wg),IH=rc(Tf),OH=rc(Xg),MH=rc(Kc),kH=rc(Pf),Od=cu?cu.prototype:r,Rf=Od?Od.valueOf:r,jT=Od?Od.toString:r;function Z(l){if(Gn(l)&&!dr(l)&&!(l instanceof Dr)){if(l instanceof js)return l;if(ar.call(l,"__wrapped__"))return HP(l)}return new js(l)}var Jc=function(){function l(){}return function(v){if(!Fn(v))return{};if(zT)return zT(v);l.prototype=v;var w=new l;return l.prototype=r,w}}();function Md(){}function js(l,v){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=r}Z.templateSettings={escape:Ut,evaluate:$t,interpolate:Vr,variable:"",imports:{_:Z}},Z.prototype=Md.prototype,Z.prototype.constructor=Z,js.prototype=Jc(Md.prototype),js.prototype.constructor=js;function Dr(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function LH(){var l=new Dr(this.__wrapped__);return l.__actions__=cs(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=cs(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=cs(this.__views__),l}function NH(){if(this.__filtered__){var l=new Dr(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function qH(){var l=this.__wrapped__.value(),v=this.__dir__,w=dr(l),M=v<0,U=w?l.length:0,ee=XW(0,U,this.__views__),he=ee.start,be=ee.end,Pe=be-he,rt=M?be:he-1,nt=this.__iteratees__,at=nt.length,wt=0,Vt=Oi(Pe,this.__takeCount__);if(!w||!M&&U==Pe&&Vt==Pe)return pP(l,this.__actions__);var er=[];e:for(;Pe--&&wt<Vt;){rt+=v;for(var br=-1,tr=l[rt];++br<at;){var kr=nt[br],Ur=kr.iteratee,Is=kr.type,Wi=Ur(tr);if(Is==ae)tr=Wi;else if(!Wi){if(Is==J)continue e;break e}}er[wt++]=tr}return er}Dr.prototype=Jc(Md.prototype),Dr.prototype.constructor=Dr;function Zu(l){var v=-1,w=l==null?0:l.length;for(this.clear();++v<w;){var M=l[v];this.set(M[0],M[1])}}function DH(){this.__data__=Cf?Cf(null):{},this.size=0}function FH(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v}function BH(l){var v=this.__data__;if(Cf){var w=v[l];return w===u?r:w}return ar.call(v,l)?v[l]:r}function zH(l){var v=this.__data__;return Cf?v[l]!==r:ar.call(v,l)}function VH(l,v){var w=this.__data__;return this.size+=this.has(l)?0:1,w[l]=Cf&&v===r?u:v,this}Zu.prototype.clear=DH,Zu.prototype.delete=FH,Zu.prototype.get=BH,Zu.prototype.has=zH,Zu.prototype.set=VH;function Oa(l){var v=-1,w=l==null?0:l.length;for(this.clear();++v<w;){var M=l[v];this.set(M[0],M[1])}}function GH(){this.__data__=[],this.size=0}function $H(l){var v=this.__data__,w=kd(v,l);if(w<0)return!1;var M=v.length-1;return w==M?v.pop():Td.call(v,w,1),--this.size,!0}function UH(l){var v=this.__data__,w=kd(v,l);return w<0?r:v[w][1]}function jH(l){return kd(this.__data__,l)>-1}function HH(l,v){var w=this.__data__,M=kd(w,l);return M<0?(++this.size,w.push([l,v])):w[M][1]=v,this}Oa.prototype.clear=GH,Oa.prototype.delete=$H,Oa.prototype.get=UH,Oa.prototype.has=jH,Oa.prototype.set=HH;function Ma(l){var v=-1,w=l==null?0:l.length;for(this.clear();++v<w;){var M=l[v];this.set(M[0],M[1])}}function WH(){this.size=0,this.__data__={hash:new Zu,map:new(Tf||Oa),string:new Zu}}function XH(l){var v=jd(this,l).delete(l);return this.size-=v?1:0,v}function YH(l){return jd(this,l).get(l)}function KH(l){return jd(this,l).has(l)}function ZH(l,v){var w=jd(this,l),M=w.size;return w.set(l,v),this.size+=w.size==M?0:1,this}Ma.prototype.clear=WH,Ma.prototype.delete=XH,Ma.prototype.get=YH,Ma.prototype.has=KH,Ma.prototype.set=ZH;function Ju(l){var v=-1,w=l==null?0:l.length;for(this.__data__=new Ma;++v<w;)this.add(l[v])}function JH(l){return this.__data__.set(l,u),this}function QH(l){return this.__data__.has(l)}Ju.prototype.add=Ju.prototype.push=JH,Ju.prototype.has=QH;function Ao(l){var v=this.__data__=new Oa(l);this.size=v.size}function eW(){this.__data__=new Oa,this.size=0}function tW(l){var v=this.__data__,w=v.delete(l);return this.size=v.size,w}function rW(l){return this.__data__.get(l)}function nW(l){return this.__data__.has(l)}function iW(l,v){var w=this.__data__;if(w instanceof Oa){var M=w.__data__;if(!Tf||M.length<i-1)return M.push([l,v]),this.size=++w.size,this;w=this.__data__=new Ma(M)}return w.set(l,v),this.size=w.size,this}Ao.prototype.clear=eW,Ao.prototype.delete=tW,Ao.prototype.get=rW,Ao.prototype.has=nW,Ao.prototype.set=iW;function HT(l,v){var w=dr(l),M=!w&&nc(l),U=!w&&!M&&vu(l),ee=!w&&!M&&!U&&rl(l),he=w||M||U||ee,be=he?Wu(l.length,Xt):[],Pe=be.length;for(var rt in l)(v||ar.call(l,rt))&&!(he&&(rt=="length"||U&&(rt=="offset"||rt=="parent")||ee&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||qa(rt,Pe)))&&be.push(rt);return be}function WT(l){var v=l.length;return v?l[sm(0,v-1)]:r}function sW(l,v){return Hd(cs(l),Qu(v,0,l.length))}function oW(l){return Hd(cs(l))}function Yg(l,v,w){(w!==r&&!To(l[v],w)||w===r&&!(v in l))&&ka(l,v,w)}function If(l,v,w){var M=l[v];(!(ar.call(l,v)&&To(M,w))||w===r&&!(v in l))&&ka(l,v,w)}function kd(l,v){for(var w=l.length;w--;)if(To(l[w][0],v))return w;return-1}function aW(l,v,w,M){return lu(l,function(U,ee,he){v(M,U,w(U),he)}),M}function XT(l,v){return l&&na(v,bi(v),l)}function uW(l,v){return l&&na(v,fs(v),l)}function ka(l,v,w){v=="__proto__"&&Pd?Pd(l,v,{configurable:!0,enumerable:!0,value:w,writable:!0}):l[v]=w}function Kg(l,v){for(var w=-1,M=v.length,U=me(M),ee=l==null;++w<M;)U[w]=ee?r:Im(l,v[w]);return U}function Qu(l,v,w){return l===l&&(w!==r&&(l=l<=w?l:w),v!==r&&(l=l>=v?l:v)),l}function Hs(l,v,w,M,U,ee){var he,be=v&h,Pe=v&p,rt=v&_;if(w&&(he=U?w(l,M,U,ee):w(l)),he!==r)return he;if(!Fn(l))return l;var nt=dr(l);if(nt){if(he=KW(l),!be)return cs(l,he)}else{var at=Mi(l),wt=at==Je||at==Ge;if(vu(l))return _P(l,be);if(at==K||at==ue||wt&&!U){if(he=Pe||wt?{}:DP(l),!be)return Pe?BW(l,uW(he,l)):FW(l,XT(he,l))}else{if(!tn[at])return U?l:{};he=ZW(l,at,be)}}ee||(ee=new Ao);var Vt=ee.get(l);if(Vt)return Vt;ee.set(l,he),hC(l)?l.forEach(function(tr){he.add(Hs(tr,v,w,tr,l,ee))}):lC(l)&&l.forEach(function(tr,kr){he.set(kr,Hs(tr,v,w,kr,l,ee))});var er=rt?Pe?gm:pm:Pe?fs:bi,br=nt?r:er(l);return ce(br||l,function(tr,kr){br&&(kr=tr,tr=l[kr]),If(he,kr,Hs(tr,v,w,kr,l,ee))}),he}function cW(l){var v=bi(l);return function(w){return YT(w,l,v)}}function YT(l,v,w){var M=w.length;if(l==null)return!M;for(l=St(l);M--;){var U=w[M],ee=v[U],he=l[U];if(he===r&&!(U in l)||!ee(he))return!1}return!0}function KT(l,v,w){if(typeof l!="function")throw new Sr(o);return Df(function(){l.apply(r,w)},v)}function Of(l,v,w,M){var U=-1,ee=Me,he=!0,be=l.length,Pe=[],rt=v.length;if(!be)return Pe;w&&(v=At(v,Gi(w))),M?(ee=ct,he=!1):v.length>=i&&(ee=Xu,he=!1,v=new Ju(v));e:for(;++U<be;){var nt=l[U],at=w==null?nt:w(nt);if(nt=M||nt!==0?nt:0,he&&at===at){for(var wt=rt;wt--;)if(v[wt]===at)continue e;Pe.push(nt)}else ee(v,at,M)||Pe.push(nt)}return Pe}var lu=SP(ra),ZT=SP(Jg,!0);function lW(l,v){var w=!0;return lu(l,function(M,U,ee){return w=!!v(M,U,ee),w}),w}function Ld(l,v,w){for(var M=-1,U=l.length;++M<U;){var ee=l[M],he=v(ee);if(he!=null&&(be===r?he===he&&!Rs(he):w(he,be)))var be=he,Pe=ee}return Pe}function fW(l,v,w,M){var U=l.length;for(w=mr(w),w<0&&(w=-w>U?0:U+w),M=M===r||M>U?U:mr(M),M<0&&(M+=U),M=w>M?0:vC(M);w<M;)l[w++]=v;return l}function JT(l,v){var w=[];return lu(l,function(M,U,ee){v(M,U,ee)&&w.push(M)}),w}function Ai(l,v,w,M,U){var ee=-1,he=l.length;for(w||(w=QW),U||(U=[]);++ee<he;){var be=l[ee];v>0&&w(be)?v>1?Ai(be,v-1,w,M,U):hr(U,be):M||(U[U.length]=be)}return U}var Zg=EP(),QT=EP(!0);function ra(l,v){return l&&Zg(l,v,bi)}function Jg(l,v){return l&&QT(l,v,bi)}function Nd(l,v){return je(v,function(w){return Da(l[w])})}function ec(l,v){v=hu(v,l);for(var w=0,M=v.length;l!=null&&w<M;)l=l[ia(v[w++])];return w&&w==M?l:r}function eP(l,v,w){var M=v(l);return dr(l)?M:hr(M,w(l))}function ji(l){return l==null?l===r?Ie:Y:Ku&&Ku in St(l)?WW(l):oX(l)}function Qg(l,v){return l>v}function hW(l,v){return l!=null&&ar.call(l,v)}function dW(l,v){return l!=null&&v in St(l)}function vW(l,v,w){return l>=Oi(v,w)&&l<di(v,w)}function em(l,v,w){for(var M=w?ct:Me,U=l[0].length,ee=l.length,he=ee,be=me(ee),Pe=1/0,rt=[];he--;){var nt=l[he];he&&v&&(nt=At(nt,Gi(v))),Pe=Oi(nt.length,Pe),be[he]=!w&&(v||U>=120&&nt.length>=120)?new Ju(he&&nt):r}nt=l[0];var at=-1,wt=be[0];e:for(;++at<U&&rt.length<Pe;){var Vt=nt[at],er=v?v(Vt):Vt;if(Vt=w||Vt!==0?Vt:0,!(wt?Xu(wt,er):M(rt,er,w))){for(he=ee;--he;){var br=be[he];if(!(br?Xu(br,er):M(l[he],er,w)))continue e}wt&&wt.push(er),rt.push(Vt)}}return rt}function pW(l,v,w,M){return ra(l,function(U,ee,he){v(M,w(U),ee,he)}),M}function Mf(l,v,w){v=hu(v,l),l=VP(l,v);var M=l==null?l:l[ia(Xs(v))];return M==null?r:W(M,l,w)}function tP(l){return Gn(l)&&ji(l)==ue}function gW(l){return Gn(l)&&ji(l)==lt}function mW(l){return Gn(l)&&ji(l)==Ve}function kf(l,v,w,M,U){return l===v?!0:l==null||v==null||!Gn(l)&&!Gn(v)?l!==l&&v!==v:_W(l,v,w,M,kf,U)}function _W(l,v,w,M,U,ee){var he=dr(l),be=dr(v),Pe=he?re:Mi(l),rt=be?re:Mi(v);Pe=Pe==ue?K:Pe,rt=rt==ue?K:rt;var nt=Pe==K,at=rt==K,wt=Pe==rt;if(wt&&vu(l)){if(!vu(v))return!1;he=!0,nt=!1}if(wt&&!nt)return ee||(ee=new Ao),he||rl(l)?LP(l,v,w,M,U,ee):jW(l,v,Pe,w,M,U,ee);if(!(w&m)){var Vt=nt&&ar.call(l,"__wrapped__"),er=at&&ar.call(v,"__wrapped__");if(Vt||er){var br=Vt?l.value():l,tr=er?v.value():v;return ee||(ee=new Ao),U(br,tr,w,M,ee)}}return wt?(ee||(ee=new Ao),HW(l,v,w,M,U,ee)):!1}function yW(l){return Gn(l)&&Mi(l)==N}function tm(l,v,w,M){var U=w.length,ee=U,he=!M;if(l==null)return!ee;for(l=St(l);U--;){var be=w[U];if(he&&be[2]?be[1]!==l[be[0]]:!(be[0]in l))return!1}for(;++U<ee;){be=w[U];var Pe=be[0],rt=l[Pe],nt=be[1];if(he&&be[2]){if(rt===r&&!(Pe in l))return!1}else{var at=new Ao;if(M)var wt=M(rt,nt,Pe,l,v,at);if(!(wt===r?kf(nt,rt,m|y,M,at):wt))return!1}}return!0}function rP(l){if(!Fn(l)||tX(l))return!1;var v=Da(l)?yH:Ct;return v.test(rc(l))}function bW(l){return Gn(l)&&ji(l)==Te}function wW(l){return Gn(l)&&Mi(l)==Re}function xW(l){return Gn(l)&&Jd(l.length)&&!!dn[ji(l)]}function nP(l){return typeof l=="function"?l:l==null?hs:typeof l=="object"?dr(l)?oP(l[0],l[1]):sP(l):AC(l)}function rm(l){if(!qf(l))return AH(l);var v=[];for(var w in St(l))ar.call(l,w)&&w!="constructor"&&v.push(w);return v}function SW(l){if(!Fn(l))return sX(l);var v=qf(l),w=[];for(var M in l)M=="constructor"&&(v||!ar.call(l,M))||w.push(M);return w}function nm(l,v){return l<v}function iP(l,v){var w=-1,M=ls(l)?me(l.length):[];return lu(l,function(U,ee,he){M[++w]=v(U,ee,he)}),M}function sP(l){var v=_m(l);return v.length==1&&v[0][2]?BP(v[0][0],v[0][1]):function(w){return w===l||tm(w,l,v)}}function oP(l,v){return bm(l)&&FP(v)?BP(ia(l),v):function(w){var M=Im(w,l);return M===r&&M===v?Om(w,l):kf(v,M,m|y)}}function qd(l,v,w,M,U){l!==v&&Zg(v,function(ee,he){if(U||(U=new Ao),Fn(ee))EW(l,v,he,w,qd,M,U);else{var be=M?M(xm(l,he),ee,he+"",l,v,U):r;be===r&&(be=ee),Yg(l,he,be)}},fs)}function EW(l,v,w,M,U,ee,he){var be=xm(l,w),Pe=xm(v,w),rt=he.get(Pe);if(rt){Yg(l,w,rt);return}var nt=ee?ee(be,Pe,w+"",l,v,he):r,at=nt===r;if(at){var wt=dr(Pe),Vt=!wt&&vu(Pe),er=!wt&&!Vt&&rl(Pe);nt=Pe,wt||Vt||er?dr(be)?nt=be:Yn(be)?nt=cs(be):Vt?(at=!1,nt=_P(Pe,!0)):er?(at=!1,nt=yP(Pe,!0)):nt=[]:Ff(Pe)||nc(Pe)?(nt=be,nc(be)?nt=pC(be):(!Fn(be)||Da(be))&&(nt=DP(Pe))):at=!1}at&&(he.set(Pe,nt),U(nt,Pe,M,ee,he),he.delete(Pe)),Yg(l,w,nt)}function aP(l,v){var w=l.length;if(w)return v+=v<0?w:0,qa(v,w)?l[v]:r}function uP(l,v,w){v.length?v=At(v,function(ee){return dr(ee)?function(he){return ec(he,ee.length===1?ee[0]:ee)}:ee}):v=[hs];var M=-1;v=At(v,Gi(Jt()));var U=iP(l,function(ee,he,be){var Pe=At(v,function(rt){return rt(ee)});return{criteria:Pe,index:++M,value:ee}});return Qo(U,function(ee,he){return DW(ee,he,w)})}function AW(l,v){return cP(l,v,function(w,M){return Om(l,M)})}function cP(l,v,w){for(var M=-1,U=v.length,ee={};++M<U;){var he=v[M],be=ec(l,he);w(be,he)&&Lf(ee,hu(he,l),be)}return ee}function TW(l){return function(v){return ec(v,l)}}function im(l,v,w,M){var U=M?Hu:cn,ee=-1,he=v.length,be=l;for(l===v&&(v=cs(v)),w&&(be=At(l,Gi(w)));++ee<he;)for(var Pe=0,rt=v[ee],nt=w?w(rt):rt;(Pe=U(be,nt,Pe,M))>-1;)be!==l&&Td.call(be,Pe,1),Td.call(l,Pe,1);return l}function lP(l,v){for(var w=l?v.length:0,M=w-1;w--;){var U=v[w];if(w==M||U!==ee){var ee=U;qa(U)?Td.call(l,U,1):um(l,U)}}return l}function sm(l,v){return l+Rd(UT()*(v-l+1))}function PW(l,v,w,M){for(var U=-1,ee=di(Cd((v-l)/(w||1)),0),he=me(ee);ee--;)he[M?ee:++U]=l,l+=w;return he}function om(l,v){var w="";if(!l||v<1||v>z)return w;do v%2&&(w+=l),v=Rd(v/2),v&&(l+=l);while(v);return w}function Er(l,v){return Sm(zP(l,v,hs),l+"")}function CW(l){return WT(nl(l))}function RW(l,v){var w=nl(l);return Hd(w,Qu(v,0,w.length))}function Lf(l,v,w,M){if(!Fn(l))return l;v=hu(v,l);for(var U=-1,ee=v.length,he=ee-1,be=l;be!=null&&++U<ee;){var Pe=ia(v[U]),rt=w;if(Pe==="__proto__"||Pe==="constructor"||Pe==="prototype")return l;if(U!=he){var nt=be[Pe];rt=M?M(nt,Pe,be):r,rt===r&&(rt=Fn(nt)?nt:qa(v[U+1])?[]:{})}If(be,Pe,rt),be=be[Pe]}return l}var fP=Id?function(l,v){return Id.set(l,v),l}:hs,IW=Pd?function(l,v){return Pd(l,"toString",{configurable:!0,enumerable:!1,value:km(v),writable:!0})}:hs;function OW(l){return Hd(nl(l))}function Ws(l,v,w){var M=-1,U=l.length;v<0&&(v=-v>U?0:U+v),w=w>U?U:w,w<0&&(w+=U),U=v>w?0:w-v>>>0,v>>>=0;for(var ee=me(U);++M<U;)ee[M]=l[M+v];return ee}function MW(l,v){var w;return lu(l,function(M,U,ee){return w=v(M,U,ee),!w}),!!w}function Dd(l,v,w){var M=0,U=l==null?M:l.length;if(typeof v=="number"&&v===v&&U<=_e){for(;M<U;){var ee=M+U>>>1,he=l[ee];he!==null&&!Rs(he)&&(w?he<=v:he<v)?M=ee+1:U=ee}return U}return am(l,v,hs,w)}function am(l,v,w,M){var U=0,ee=l==null?0:l.length;if(ee===0)return 0;v=w(v);for(var he=v!==v,be=v===null,Pe=Rs(v),rt=v===r;U<ee;){var nt=Rd((U+ee)/2),at=w(l[nt]),wt=at!==r,Vt=at===null,er=at===at,br=Rs(at);if(he)var tr=M||er;else rt?tr=er&&(M||wt):be?tr=er&&wt&&(M||!Vt):Pe?tr=er&&wt&&!Vt&&(M||!br):Vt||br?tr=!1:tr=M?at<=v:at<v;tr?U=nt+1:ee=nt}return Oi(ee,Se)}function hP(l,v){for(var w=-1,M=l.length,U=0,ee=[];++w<M;){var he=l[w],be=v?v(he):he;if(!w||!To(be,Pe)){var Pe=be;ee[U++]=he===0?0:he}}return ee}function dP(l){return typeof l=="number"?l:Rs(l)?ie:+l}function Cs(l){if(typeof l=="string")return l;if(dr(l))return At(l,Cs)+"";if(Rs(l))return jT?jT.call(l):"";var v=l+"";return v=="0"&&1/l==-1/0?"-0":v}function fu(l,v,w){var M=-1,U=Me,ee=l.length,he=!0,be=[],Pe=be;if(w)he=!1,U=ct;else if(ee>=i){var rt=v?null:$W(l);if(rt)return Ia(rt);he=!1,U=Xu,Pe=new Ju}else Pe=v?[]:be;e:for(;++M<ee;){var nt=l[M],at=v?v(nt):nt;if(nt=w||nt!==0?nt:0,he&&at===at){for(var wt=Pe.length;wt--;)if(Pe[wt]===at)continue e;v&&Pe.push(at),be.push(nt)}else U(Pe,at,w)||(Pe!==be&&Pe.push(at),be.push(nt))}return be}function um(l,v){return v=hu(v,l),l=VP(l,v),l==null||delete l[ia(Xs(v))]}function vP(l,v,w,M){return Lf(l,v,w(ec(l,v)),M)}function Fd(l,v,w,M){for(var U=l.length,ee=M?U:-1;(M?ee--:++ee<U)&&v(l[ee],ee,l););return w?Ws(l,M?0:ee,M?ee+1:U):Ws(l,M?ee+1:0,M?U:ee)}function pP(l,v){var w=l;return w instanceof Dr&&(w=w.value()),lr(v,function(M,U){return U.func.apply(U.thisArg,hr([M],U.args))},w)}function cm(l,v,w){var M=l.length;if(M<2)return M?fu(l[0]):[];for(var U=-1,ee=me(M);++U<M;)for(var he=l[U],be=-1;++be<M;)be!=U&&(ee[U]=Of(ee[U]||he,l[be],v,w));return fu(Ai(ee,1),v,w)}function gP(l,v,w){for(var M=-1,U=l.length,ee=v.length,he={};++M<U;){var be=M<ee?v[M]:r;w(he,l[M],be)}return he}function lm(l){return Yn(l)?l:[]}function fm(l){return typeof l=="function"?l:hs}function hu(l,v){return dr(l)?l:bm(l,v)?[l]:jP(rn(l))}var kW=Er;function du(l,v,w){var M=l.length;return w=w===r?M:w,!v&&w>=M?l:Ws(l,v,w)}var mP=bH||function(l){return qn.clearTimeout(l)};function _P(l,v){if(v)return l.slice();var w=l.length,M=BT?BT(w):new l.constructor(w);return l.copy(M),M}function hm(l){var v=new l.constructor(l.byteLength);return new Ed(v).set(new Ed(l)),v}function LW(l,v){var w=v?hm(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.byteLength)}function NW(l){var v=new l.constructor(l.source,ut.exec(l));return v.lastIndex=l.lastIndex,v}function qW(l){return Rf?St(Rf.call(l)):{}}function yP(l,v){var w=v?hm(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.length)}function bP(l,v){if(l!==v){var w=l!==r,M=l===null,U=l===l,ee=Rs(l),he=v!==r,be=v===null,Pe=v===v,rt=Rs(v);if(!be&&!rt&&!ee&&l>v||ee&&he&&Pe&&!be&&!rt||M&&he&&Pe||!w&&Pe||!U)return 1;if(!M&&!ee&&!rt&&l<v||rt&&w&&U&&!M&&!ee||be&&w&&U||!he&&U||!Pe)return-1}return 0}function DW(l,v,w){for(var M=-1,U=l.criteria,ee=v.criteria,he=U.length,be=w.length;++M<he;){var Pe=bP(U[M],ee[M]);if(Pe){if(M>=be)return Pe;var rt=w[M];return Pe*(rt=="desc"?-1:1)}}return l.index-v.index}function wP(l,v,w,M){for(var U=-1,ee=l.length,he=w.length,be=-1,Pe=v.length,rt=di(ee-he,0),nt=me(Pe+rt),at=!M;++be<Pe;)nt[be]=v[be];for(;++U<he;)(at||U<ee)&&(nt[w[U]]=l[U]);for(;rt--;)nt[be++]=l[U++];return nt}function xP(l,v,w,M){for(var U=-1,ee=l.length,he=-1,be=w.length,Pe=-1,rt=v.length,nt=di(ee-be,0),at=me(nt+rt),wt=!M;++U<nt;)at[U]=l[U];for(var Vt=U;++Pe<rt;)at[Vt+Pe]=v[Pe];for(;++he<be;)(wt||U<ee)&&(at[Vt+w[he]]=l[U++]);return at}function cs(l,v){var w=-1,M=l.length;for(v||(v=me(M));++w<M;)v[w]=l[w];return v}function na(l,v,w,M){var U=!w;w||(w={});for(var ee=-1,he=v.length;++ee<he;){var be=v[ee],Pe=M?M(w[be],l[be],be,w,l):r;Pe===r&&(Pe=l[be]),U?ka(w,be,Pe):If(w,be,Pe)}return w}function FW(l,v){return na(l,ym(l),v)}function BW(l,v){return na(l,NP(l),v)}function Bd(l,v){return function(w,M){var U=dr(w)?pe:aW,ee=v?v():{};return U(w,l,Jt(M,2),ee)}}function Qc(l){return Er(function(v,w){var M=-1,U=w.length,ee=U>1?w[U-1]:r,he=U>2?w[2]:r;for(ee=l.length>3&&typeof ee=="function"?(U--,ee):r,he&&Hi(w[0],w[1],he)&&(ee=U<3?r:ee,U=1),v=St(v);++M<U;){var be=w[M];be&&l(v,be,M,ee)}return v})}function SP(l,v){return function(w,M){if(w==null)return w;if(!ls(w))return l(w,M);for(var U=w.length,ee=v?U:-1,he=St(w);(v?ee--:++ee<U)&&M(he[ee],ee,he)!==!1;);return w}}function EP(l){return function(v,w,M){for(var U=-1,ee=St(v),he=M(v),be=he.length;be--;){var Pe=he[l?be:++U];if(w(ee[Pe],Pe,ee)===!1)break}return v}}function zW(l,v,w){var M=v&b,U=Nf(l);function ee(){var he=this&&this!==qn&&this instanceof ee?U:l;return he.apply(M?w:this,arguments)}return ee}function AP(l){return function(v){v=rn(v);var w=us(v)?$i(v):r,M=w?w[0]:v.charAt(0),U=w?du(w,1).join(""):v.slice(1);return M[l]()+U}}function el(l){return function(v){return lr(SC(xC(v).replace(gf,"")),l,"")}}function Nf(l){return function(){var v=arguments;switch(v.length){case 0:return new l;case 1:return new l(v[0]);case 2:return new l(v[0],v[1]);case 3:return new l(v[0],v[1],v[2]);case 4:return new l(v[0],v[1],v[2],v[3]);case 5:return new l(v[0],v[1],v[2],v[3],v[4]);case 6:return new l(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new l(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var w=Jc(l.prototype),M=l.apply(w,v);return Fn(M)?M:w}}function VW(l,v,w){var M=Nf(l);function U(){for(var ee=arguments.length,he=me(ee),be=ee,Pe=tl(U);be--;)he[be]=arguments[be];var rt=ee<3&&he[0]!==Pe&&he[ee-1]!==Pe?[]:Ps(he,Pe);if(ee-=rt.length,ee<w)return IP(l,v,zd,U.placeholder,r,he,rt,r,r,w-ee);var nt=this&&this!==qn&&this instanceof U?M:l;return W(nt,this,he)}return U}function TP(l){return function(v,w,M){var U=St(v);if(!ls(v)){var ee=Jt(w,3);v=bi(v),w=function(be){return ee(U[be],be,U)}}var he=l(v,w,M);return he>-1?U[ee?v[he]:he]:r}}function PP(l){return Na(function(v){var w=v.length,M=w,U=js.prototype.thru;for(l&&v.reverse();M--;){var ee=v[M];if(typeof ee!="function")throw new Sr(o);if(U&&!he&&Ud(ee)=="wrapper")var he=new js([],!0)}for(M=he?M:w;++M<w;){ee=v[M];var be=Ud(ee),Pe=be=="wrapper"?mm(ee):r;Pe&&wm(Pe[0])&&Pe[1]==(d|A|R|C)&&!Pe[4].length&&Pe[9]==1?he=he[Ud(Pe[0])].apply(he,Pe[3]):he=ee.length==1&&wm(ee)?he[be]():he.thru(ee)}return function(){var rt=arguments,nt=rt[0];if(he&&rt.length==1&&dr(nt))return he.plant(nt).value();for(var at=0,wt=w?v[at].apply(this,rt):nt;++at<w;)wt=v[at].call(this,wt);return wt}})}function zd(l,v,w,M,U,ee,he,be,Pe,rt){var nt=v&d,at=v&b,wt=v&S,Vt=v&(A|P),er=v&I,br=wt?r:Nf(l);function tr(){for(var kr=arguments.length,Ur=me(kr),Is=kr;Is--;)Ur[Is]=arguments[Is];if(Vt)var Wi=tl(tr),Os=Ts(Ur,Wi);if(M&&(Ur=wP(Ur,M,U,Vt)),ee&&(Ur=xP(Ur,ee,he,Vt)),kr-=Os,Vt&&kr<rt){var Kn=Ps(Ur,Wi);return IP(l,v,zd,tr.placeholder,w,Ur,Kn,be,Pe,rt-kr)}var Po=at?w:this,Ba=wt?Po[l]:l;return kr=Ur.length,be?Ur=aX(Ur,be):er&&kr>1&&Ur.reverse(),nt&&Pe<kr&&(Ur.length=Pe),this&&this!==qn&&this instanceof tr&&(Ba=br||Nf(Ba)),Ba.apply(Po,Ur)}return tr}function CP(l,v){return function(w,M){return pW(w,l,v(M),{})}}function Vd(l,v){return function(w,M){var U;if(w===r&&M===r)return v;if(w!==r&&(U=w),M!==r){if(U===r)return M;typeof w=="string"||typeof M=="string"?(w=Cs(w),M=Cs(M)):(w=dP(w),M=dP(M)),U=l(w,M)}return U}}function dm(l){return Na(function(v){return v=At(v,Gi(Jt())),Er(function(w){var M=this;return l(v,function(U){return W(U,M,w)})})})}function Gd(l,v){v=v===r?" ":Cs(v);var w=v.length;if(w<2)return w?om(v,l):v;var M=om(v,Cd(l/ta(v)));return us(v)?du($i(M),0,l).join(""):M.slice(0,l)}function GW(l,v,w,M){var U=v&b,ee=Nf(l);function he(){for(var be=-1,Pe=arguments.length,rt=-1,nt=M.length,at=me(nt+Pe),wt=this&&this!==qn&&this instanceof he?ee:l;++rt<nt;)at[rt]=M[rt];for(;Pe--;)at[rt++]=arguments[++be];return W(wt,U?w:this,at)}return he}function RP(l){return function(v,w,M){return M&&typeof M!="number"&&Hi(v,w,M)&&(w=M=r),v=Fa(v),w===r?(w=v,v=0):w=Fa(w),M=M===r?v<w?1:-1:Fa(M),PW(v,w,M,l)}}function $d(l){return function(v,w){return typeof v=="string"&&typeof w=="string"||(v=Ys(v),w=Ys(w)),l(v,w)}}function IP(l,v,w,M,U,ee,he,be,Pe,rt){var nt=v&A,at=nt?he:r,wt=nt?r:he,Vt=nt?ee:r,er=nt?r:ee;v|=nt?R:q,v&=~(nt?q:R),v&E||(v&=-4);var br=[l,v,U,Vt,at,er,wt,be,Pe,rt],tr=w.apply(r,br);return wm(l)&&GP(tr,br),tr.placeholder=M,$P(tr,l,v)}function vm(l){var v=Rt[l];return function(w,M){if(w=Ys(w),M=M==null?0:Oi(mr(M),292),M&&$T(w)){var U=(rn(w)+"e").split("e"),ee=v(U[0]+"e"+(+U[1]+M));return U=(rn(ee)+"e").split("e"),+(U[0]+"e"+(+U[1]-M))}return v(w)}}var $W=Kc&&1/Ia(new Kc([,-0]))[1]==D?function(l){return new Kc(l)}:qm;function OP(l){return function(v){var w=Mi(v);return w==N?Xc(v):w==Re?Sf(v):So(v,l(v))}}function La(l,v,w,M,U,ee,he,be){var Pe=v&S;if(!Pe&&typeof l!="function")throw new Sr(o);var rt=M?M.length:0;if(rt||(v&=-97,M=U=r),he=he===r?he:di(mr(he),0),be=be===r?be:mr(be),rt-=U?U.length:0,v&q){var nt=M,at=U;M=U=r}var wt=Pe?r:mm(l),Vt=[l,v,w,M,U,nt,at,ee,he,be];if(wt&&iX(Vt,wt),l=Vt[0],v=Vt[1],w=Vt[2],M=Vt[3],U=Vt[4],be=Vt[9]=Vt[9]===r?Pe?0:l.length:di(Vt[9]-rt,0),!be&&v&(A|P)&&(v&=-25),!v||v==b)var er=zW(l,v,w);else v==A||v==P?er=VW(l,v,be):(v==R||v==(b|R))&&!U.length?er=GW(l,v,w,M):er=zd.apply(r,Vt);var br=wt?fP:GP;return $P(br(er,Vt),l,v)}function MP(l,v,w,M){return l===r||To(l,hi[w])&&!ar.call(M,w)?v:l}function kP(l,v,w,M,U,ee){return Fn(l)&&Fn(v)&&(ee.set(v,l),qd(l,v,r,kP,ee),ee.delete(v)),l}function UW(l){return Ff(l)?r:l}function LP(l,v,w,M,U,ee){var he=w&m,be=l.length,Pe=v.length;if(be!=Pe&&!(he&&Pe>be))return!1;var rt=ee.get(l),nt=ee.get(v);if(rt&&nt)return rt==v&&nt==l;var at=-1,wt=!0,Vt=w&y?new Ju:r;for(ee.set(l,v),ee.set(v,l);++at<be;){var er=l[at],br=v[at];if(M)var tr=he?M(br,er,at,v,l,ee):M(er,br,at,l,v,ee);if(tr!==r){if(tr)continue;wt=!1;break}if(Vt){if(!Dn(v,function(kr,Ur){if(!Xu(Vt,Ur)&&(er===kr||U(er,kr,w,M,ee)))return Vt.push(Ur)})){wt=!1;break}}else if(!(er===br||U(er,br,w,M,ee))){wt=!1;break}}return ee.delete(l),ee.delete(v),wt}function jW(l,v,w,M,U,ee,he){switch(w){case _t:if(l.byteLength!=v.byteLength||l.byteOffset!=v.byteOffset)return!1;l=l.buffer,v=v.buffer;case lt:return!(l.byteLength!=v.byteLength||!ee(new Ed(l),new Ed(v)));case le:case Ve:case G:return To(+l,+v);case Ce:return l.name==v.name&&l.message==v.message;case Te:case ze:return l==v+"";case N:var be=Xc;case Re:var Pe=M&m;if(be||(be=Ia),l.size!=v.size&&!Pe)return!1;var rt=he.get(l);if(rt)return rt==v;M|=y,he.set(l,v);var nt=LP(be(l),be(v),M,U,ee,he);return he.delete(l),nt;case qe:if(Rf)return Rf.call(l)==Rf.call(v)}return!1}function HW(l,v,w,M,U,ee){var he=w&m,be=pm(l),Pe=be.length,rt=pm(v),nt=rt.length;if(Pe!=nt&&!he)return!1;for(var at=Pe;at--;){var wt=be[at];if(!(he?wt in v:ar.call(v,wt)))return!1}var Vt=ee.get(l),er=ee.get(v);if(Vt&&er)return Vt==v&&er==l;var br=!0;ee.set(l,v),ee.set(v,l);for(var tr=he;++at<Pe;){wt=be[at];var kr=l[wt],Ur=v[wt];if(M)var Is=he?M(Ur,kr,wt,v,l,ee):M(kr,Ur,wt,l,v,ee);if(!(Is===r?kr===Ur||U(kr,Ur,w,M,ee):Is)){br=!1;break}tr||(tr=wt=="constructor")}if(br&&!tr){var Wi=l.constructor,Os=v.constructor;Wi!=Os&&"constructor"in l&&"constructor"in v&&!(typeof Wi=="function"&&Wi instanceof Wi&&typeof Os=="function"&&Os instanceof Os)&&(br=!1)}return ee.delete(l),ee.delete(v),br}function Na(l){return Sm(zP(l,r,YP),l+"")}function pm(l){return eP(l,bi,ym)}function gm(l){return eP(l,fs,NP)}var mm=Id?function(l){return Id.get(l)}:qm;function Ud(l){for(var v=l.name+"",w=Zc[v],M=ar.call(Zc,v)?w.length:0;M--;){var U=w[M],ee=U.func;if(ee==null||ee==l)return U.name}return v}function tl(l){var v=ar.call(Z,"placeholder")?Z:l;return v.placeholder}function Jt(){var l=Z.iteratee||Lm;return l=l===Lm?nP:l,arguments.length?l(arguments[0],arguments[1]):l}function jd(l,v){var w=l.__data__;return eX(v)?w[typeof v=="string"?"string":"hash"]:w.map}function _m(l){for(var v=bi(l),w=v.length;w--;){var M=v[w],U=l[M];v[w]=[M,U,FP(U)]}return v}function tc(l,v){var w=yd(l,v);return rP(w)?w:r}function WW(l){var v=ar.call(l,Ku),w=l[Ku];try{l[Ku]=r;var M=!0}catch{}var U=xd.call(l);return M&&(v?l[Ku]=w:delete l[Ku]),U}var ym=Hg?function(l){return l==null?[]:(l=St(l),je(Hg(l),function(v){return VT.call(l,v)}))}:Dm,NP=Hg?function(l){for(var v=[];l;)hr(v,ym(l)),l=Ad(l);return v}:Dm,Mi=ji;(Wg&&Mi(new Wg(new ArrayBuffer(1)))!=_t||Tf&&Mi(new Tf)!=N||Xg&&Mi(Xg.resolve())!=Ee||Kc&&Mi(new Kc)!=Re||Pf&&Mi(new Pf)!=xe)&&(Mi=function(l){var v=ji(l),w=v==K?l.constructor:r,M=w?rc(w):"";if(M)switch(M){case RH:return _t;case IH:return N;case OH:return Ee;case MH:return Re;case kH:return xe}return v});function XW(l,v,w){for(var M=-1,U=w.length;++M<U;){var ee=w[M],he=ee.size;switch(ee.type){case"drop":l+=he;break;case"dropRight":v-=he;break;case"take":v=Oi(v,l+he);break;case"takeRight":l=di(l,v-he);break}}return{start:l,end:v}}function YW(l){var v=l.match(gi);return v?v[1].split(Ze):[]}function qP(l,v,w){v=hu(v,l);for(var M=-1,U=v.length,ee=!1;++M<U;){var he=ia(v[M]);if(!(ee=l!=null&&w(l,he)))break;l=l[he]}return ee||++M!=U?ee:(U=l==null?0:l.length,!!U&&Jd(U)&&qa(he,U)&&(dr(l)||nc(l)))}function KW(l){var v=l.length,w=new l.constructor(v);return v&&typeof l[0]=="string"&&ar.call(l,"index")&&(w.index=l.index,w.input=l.input),w}function DP(l){return typeof l.constructor=="function"&&!qf(l)?Jc(Ad(l)):{}}function ZW(l,v,w){var M=l.constructor;switch(v){case lt:return hm(l);case le:case Ve:return new M(+l);case _t:return LW(l,w);case ht:case it:case Yt:case xr:case nr:case vr:case Nr:case zr:case En:return yP(l,w);case N:return new M;case G:case ze:return new M(l);case Te:return NW(l);case Re:return new M;case qe:return qW(l)}}function JW(l,v){var w=v.length;if(!w)return l;var M=w-1;return v[M]=(w>1?"& ":"")+v[M],v=v.join(w>2?", ":" "),l.replace(Nn,`{
/* [wrapped with `+v+`] */
`)}function QW(l){return dr(l)||nc(l)||!!(GT&&l&&l[GT])}function qa(l,v){var w=typeof l;return v=v??z,!!v&&(w=="number"||w!="symbol"&&un.test(l))&&l>-1&&l%1==0&&l<v}function Hi(l,v,w){if(!Fn(w))return!1;var M=typeof v;return(M=="number"?ls(w)&&qa(v,w.length):M=="string"&&v in w)?To(w[v],l):!1}function bm(l,v){if(dr(l))return!1;var w=typeof l;return w=="number"||w=="symbol"||w=="boolean"||l==null||Rs(l)?!0:An.test(l)||!zn.test(l)||v!=null&&l in St(v)}function eX(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}function wm(l){var v=Ud(l),w=Z[v];if(typeof w!="function"||!(v in Dr.prototype))return!1;if(l===w)return!0;var M=mm(w);return!!M&&l===M[0]}function tX(l){return!!FT&&FT in l}var rX=Ui?Da:Fm;function qf(l){var v=l&&l.constructor,w=typeof v=="function"&&v.prototype||hi;return l===w}function FP(l){return l===l&&!Fn(l)}function BP(l,v){return function(w){return w==null?!1:w[l]===v&&(v!==r||l in St(w))}}function nX(l){var v=Kd(l,function(M){return w.size===c&&w.clear(),M}),w=v.cache;return v}function iX(l,v){var w=l[1],M=v[1],U=w|M,ee=U<(b|S|d),he=M==d&&w==A||M==d&&w==C&&l[7].length<=v[8]||M==(d|C)&&v[7].length<=v[8]&&w==A;if(!(ee||he))return l;M&b&&(l[2]=v[2],U|=w&b?0:E);var be=v[3];if(be){var Pe=l[3];l[3]=Pe?wP(Pe,be,v[4]):be,l[4]=Pe?Ps(l[3],f):v[4]}return be=v[5],be&&(Pe=l[5],l[5]=Pe?xP(Pe,be,v[6]):be,l[6]=Pe?Ps(l[5],f):v[6]),be=v[7],be&&(l[7]=be),M&d&&(l[8]=l[8]==null?v[8]:Oi(l[8],v[8])),l[9]==null&&(l[9]=v[9]),l[0]=v[0],l[1]=U,l}function sX(l){var v=[];if(l!=null)for(var w in St(l))v.push(w);return v}function oX(l){return xd.call(l)}function zP(l,v,w){return v=di(v===r?l.length-1:v,0),function(){for(var M=arguments,U=-1,ee=di(M.length-v,0),he=me(ee);++U<ee;)he[U]=M[v+U];U=-1;for(var be=me(v+1);++U<v;)be[U]=M[U];return be[v]=w(he),W(l,this,be)}}function VP(l,v){return v.length<2?l:ec(l,Ws(v,0,-1))}function aX(l,v){for(var w=l.length,M=Oi(v.length,w),U=cs(l);M--;){var ee=v[M];l[M]=qa(ee,w)?U[ee]:r}return l}function xm(l,v){if(!(v==="constructor"&&typeof l[v]=="function")&&v!="__proto__")return l[v]}var GP=UP(fP),Df=xH||function(l,v){return qn.setTimeout(l,v)},Sm=UP(IW);function $P(l,v,w){var M=v+"";return Sm(l,JW(M,uX(YW(M),w)))}function UP(l){var v=0,w=0;return function(){var M=TH(),U=$-(M-w);if(w=M,U>0){if(++v>=H)return arguments[0]}else v=0;return l.apply(r,arguments)}}function Hd(l,v){var w=-1,M=l.length,U=M-1;for(v=v===r?M:v;++w<v;){var ee=sm(w,U),he=l[ee];l[ee]=l[w],l[w]=he}return l.length=v,l}var jP=nX(function(l){var v=[];return l.charCodeAt(0)===46&&v.push(""),l.replace(Wr,function(w,M,U,ee){v.push(U?ee.replace(Dt,"$1"):M||w)}),v});function ia(l){if(typeof l=="string"||Rs(l))return l;var v=l+"";return v=="0"&&1/l==-1/0?"-0":v}function rc(l){if(l!=null){try{return Eo.call(l)}catch{}try{return l+""}catch{}}return""}function uX(l,v){return ce(te,function(w){var M="_."+w[0];v&w[1]&&!Me(l,M)&&l.push(M)}),l.sort()}function HP(l){if(l instanceof Dr)return l.clone();var v=new js(l.__wrapped__,l.__chain__);return v.__actions__=cs(l.__actions__),v.__index__=l.__index__,v.__values__=l.__values__,v}function cX(l,v,w){(w?Hi(l,v,w):v===r)?v=1:v=di(mr(v),0);var M=l==null?0:l.length;if(!M||v<1)return[];for(var U=0,ee=0,he=me(Cd(M/v));U<M;)he[ee++]=Ws(l,U,U+=v);return he}function lX(l){for(var v=-1,w=l==null?0:l.length,M=0,U=[];++v<w;){var ee=l[v];ee&&(U[M++]=ee)}return U}function fX(){var l=arguments.length;if(!l)return[];for(var v=me(l-1),w=arguments[0],M=l;M--;)v[M-1]=arguments[M];return hr(dr(w)?cs(w):[w],Ai(v,1))}var hX=Er(function(l,v){return Yn(l)?Of(l,Ai(v,1,Yn,!0)):[]}),dX=Er(function(l,v){var w=Xs(v);return Yn(w)&&(w=r),Yn(l)?Of(l,Ai(v,1,Yn,!0),Jt(w,2)):[]}),vX=Er(function(l,v){var w=Xs(v);return Yn(w)&&(w=r),Yn(l)?Of(l,Ai(v,1,Yn,!0),r,w):[]});function pX(l,v,w){var M=l==null?0:l.length;return M?(v=w||v===r?1:mr(v),Ws(l,v<0?0:v,M)):[]}function gX(l,v,w){var M=l==null?0:l.length;return M?(v=w||v===r?1:mr(v),v=M-v,Ws(l,0,v<0?0:v)):[]}function mX(l,v){return l&&l.length?Fd(l,Jt(v,3),!0,!0):[]}function _X(l,v){return l&&l.length?Fd(l,Jt(v,3),!0):[]}function yX(l,v,w,M){var U=l==null?0:l.length;return U?(w&&typeof w!="number"&&Hi(l,v,w)&&(w=0,M=U),fW(l,v,w,M)):[]}function WP(l,v,w){var M=l==null?0:l.length;if(!M)return-1;var U=w==null?0:mr(w);return U<0&&(U=di(M+U,0)),Rr(l,Jt(v,3),U)}function XP(l,v,w){var M=l==null?0:l.length;if(!M)return-1;var U=M-1;return w!==r&&(U=mr(w),U=w<0?di(M+U,0):Oi(U,M-1)),Rr(l,Jt(v,3),U,!0)}function YP(l){var v=l==null?0:l.length;return v?Ai(l,1):[]}function bX(l){var v=l==null?0:l.length;return v?Ai(l,D):[]}function wX(l,v){var w=l==null?0:l.length;return w?(v=v===r?1:mr(v),Ai(l,v)):[]}function xX(l){for(var v=-1,w=l==null?0:l.length,M={};++v<w;){var U=l[v];M[U[0]]=U[1]}return M}function KP(l){return l&&l.length?l[0]:r}function SX(l,v,w){var M=l==null?0:l.length;if(!M)return-1;var U=w==null?0:mr(w);return U<0&&(U=di(M+U,0)),cn(l,v,U)}function EX(l){var v=l==null?0:l.length;return v?Ws(l,0,-1):[]}var AX=Er(function(l){var v=At(l,lm);return v.length&&v[0]===l[0]?em(v):[]}),TX=Er(function(l){var v=Xs(l),w=At(l,lm);return v===Xs(w)?v=r:w.pop(),w.length&&w[0]===l[0]?em(w,Jt(v,2)):[]}),PX=Er(function(l){var v=Xs(l),w=At(l,lm);return v=typeof v=="function"?v:r,v&&w.pop(),w.length&&w[0]===l[0]?em(w,r,v):[]});function CX(l,v){return l==null?"":EH.call(l,v)}function Xs(l){var v=l==null?0:l.length;return v?l[v-1]:r}function RX(l,v,w){var M=l==null?0:l.length;if(!M)return-1;var U=M;return w!==r&&(U=mr(w),U=U<0?di(M+U,0):Oi(U,M-1)),v===v?Yc(l,v,U):Rr(l,Wc,U,!0)}function IX(l,v){return l&&l.length?aP(l,mr(v)):r}var OX=Er(ZP);function ZP(l,v){return l&&l.length&&v&&v.length?im(l,v):l}function MX(l,v,w){return l&&l.length&&v&&v.length?im(l,v,Jt(w,2)):l}function kX(l,v,w){return l&&l.length&&v&&v.length?im(l,v,r,w):l}var LX=Na(function(l,v){var w=l==null?0:l.length,M=Kg(l,v);return lP(l,At(v,function(U){return qa(U,w)?+U:U}).sort(bP)),M});function NX(l,v){var w=[];if(!(l&&l.length))return w;var M=-1,U=[],ee=l.length;for(v=Jt(v,3);++M<ee;){var he=l[M];v(he,M,l)&&(w.push(he),U.push(M))}return lP(l,U),w}function Em(l){return l==null?l:CH.call(l)}function qX(l,v,w){var M=l==null?0:l.length;return M?(w&&typeof w!="number"&&Hi(l,v,w)?(v=0,w=M):(v=v==null?0:mr(v),w=w===r?M:mr(w)),Ws(l,v,w)):[]}function DX(l,v){return Dd(l,v)}function FX(l,v,w){return am(l,v,Jt(w,2))}function BX(l,v){var w=l==null?0:l.length;if(w){var M=Dd(l,v);if(M<w&&To(l[M],v))return M}return-1}function zX(l,v){return Dd(l,v,!0)}function VX(l,v,w){return am(l,v,Jt(w,2),!0)}function GX(l,v){var w=l==null?0:l.length;if(w){var M=Dd(l,v,!0)-1;if(To(l[M],v))return M}return-1}function $X(l){return l&&l.length?hP(l):[]}function UX(l,v){return l&&l.length?hP(l,Jt(v,2)):[]}function jX(l){var v=l==null?0:l.length;return v?Ws(l,1,v):[]}function HX(l,v,w){return l&&l.length?(v=w||v===r?1:mr(v),Ws(l,0,v<0?0:v)):[]}function WX(l,v,w){var M=l==null?0:l.length;return M?(v=w||v===r?1:mr(v),v=M-v,Ws(l,v<0?0:v,M)):[]}function XX(l,v){return l&&l.length?Fd(l,Jt(v,3),!1,!0):[]}function YX(l,v){return l&&l.length?Fd(l,Jt(v,3)):[]}var KX=Er(function(l){return fu(Ai(l,1,Yn,!0))}),ZX=Er(function(l){var v=Xs(l);return Yn(v)&&(v=r),fu(Ai(l,1,Yn,!0),Jt(v,2))}),JX=Er(function(l){var v=Xs(l);return v=typeof v=="function"?v:r,fu(Ai(l,1,Yn,!0),r,v)});function QX(l){return l&&l.length?fu(l):[]}function eY(l,v){return l&&l.length?fu(l,Jt(v,2)):[]}function tY(l,v){return v=typeof v=="function"?v:r,l&&l.length?fu(l,r,v):[]}function Am(l){if(!(l&&l.length))return[];var v=0;return l=je(l,function(w){if(Yn(w))return v=di(w.length,v),!0}),Wu(v,function(w){return At(l,Ra(w))})}function JP(l,v){if(!(l&&l.length))return[];var w=Am(l);return v==null?w:At(w,function(M){return W(v,r,M)})}var rY=Er(function(l,v){return Yn(l)?Of(l,v):[]}),nY=Er(function(l){return cm(je(l,Yn))}),iY=Er(function(l){var v=Xs(l);return Yn(v)&&(v=r),cm(je(l,Yn),Jt(v,2))}),sY=Er(function(l){var v=Xs(l);return v=typeof v=="function"?v:r,cm(je(l,Yn),r,v)}),oY=Er(Am);function aY(l,v){return gP(l||[],v||[],If)}function uY(l,v){return gP(l||[],v||[],Lf)}var cY=Er(function(l){var v=l.length,w=v>1?l[v-1]:r;return w=typeof w=="function"?(l.pop(),w):r,JP(l,w)});function QP(l){var v=Z(l);return v.__chain__=!0,v}function lY(l,v){return v(l),l}function Wd(l,v){return v(l)}var fY=Na(function(l){var v=l.length,w=v?l[0]:0,M=this.__wrapped__,U=function(ee){return Kg(ee,l)};return v>1||this.__actions__.length||!(M instanceof Dr)||!qa(w)?this.thru(U):(M=M.slice(w,+w+(v?1:0)),M.__actions__.push({func:Wd,args:[U],thisArg:r}),new js(M,this.__chain__).thru(function(ee){return v&&!ee.length&&ee.push(r),ee}))});function hY(){return QP(this)}function dY(){return new js(this.value(),this.__chain__)}function vY(){this.__values__===r&&(this.__values__=dC(this.value()));var l=this.__index__>=this.__values__.length,v=l?r:this.__values__[this.__index__++];return{done:l,value:v}}function pY(){return this}function gY(l){for(var v,w=this;w instanceof Md;){var M=HP(w);M.__index__=0,M.__values__=r,v?U.__wrapped__=M:v=M;var U=M;w=w.__wrapped__}return U.__wrapped__=l,v}function mY(){var l=this.__wrapped__;if(l instanceof Dr){var v=l;return this.__actions__.length&&(v=new Dr(this)),v=v.reverse(),v.__actions__.push({func:Wd,args:[Em],thisArg:r}),new js(v,this.__chain__)}return this.thru(Em)}function _Y(){return pP(this.__wrapped__,this.__actions__)}var yY=Bd(function(l,v,w){ar.call(l,w)?++l[w]:ka(l,w,1)});function bY(l,v,w){var M=dr(l)?Be:lW;return w&&Hi(l,v,w)&&(v=r),M(l,Jt(v,3))}function wY(l,v){var w=dr(l)?je:JT;return w(l,Jt(v,3))}var xY=TP(WP),SY=TP(XP);function EY(l,v){return Ai(Xd(l,v),1)}function AY(l,v){return Ai(Xd(l,v),D)}function TY(l,v,w){return w=w===r?1:mr(w),Ai(Xd(l,v),w)}function eC(l,v){var w=dr(l)?ce:lu;return w(l,Jt(v,3))}function tC(l,v){var w=dr(l)?Ae:ZT;return w(l,Jt(v,3))}var PY=Bd(function(l,v,w){ar.call(l,w)?l[w].push(v):ka(l,w,[v])});function CY(l,v,w,M){l=ls(l)?l:nl(l),w=w&&!M?mr(w):0;var U=l.length;return w<0&&(w=di(U+w,0)),Qd(l)?w<=U&&l.indexOf(v,w)>-1:!!U&&cn(l,v,w)>-1}var RY=Er(function(l,v,w){var M=-1,U=typeof v=="function",ee=ls(l)?me(l.length):[];return lu(l,function(he){ee[++M]=U?W(v,he,w):Mf(he,v,w)}),ee}),IY=Bd(function(l,v,w){ka(l,w,v)});function Xd(l,v){var w=dr(l)?At:iP;return w(l,Jt(v,3))}function OY(l,v,w,M){return l==null?[]:(dr(v)||(v=v==null?[]:[v]),w=M?r:w,dr(w)||(w=w==null?[]:[w]),uP(l,v,w))}var MY=Bd(function(l,v,w){l[w?0:1].push(v)},function(){return[[],[]]});function kY(l,v,w){var M=dr(l)?lr:xo,U=arguments.length<3;return M(l,Jt(v,4),w,U,lu)}function LY(l,v,w){var M=dr(l)?li:xo,U=arguments.length<3;return M(l,Jt(v,4),w,U,ZT)}function NY(l,v){var w=dr(l)?je:JT;return w(l,Zd(Jt(v,3)))}function qY(l){var v=dr(l)?WT:CW;return v(l)}function DY(l,v,w){(w?Hi(l,v,w):v===r)?v=1:v=mr(v);var M=dr(l)?sW:RW;return M(l,v)}function FY(l){var v=dr(l)?oW:OW;return v(l)}function BY(l){if(l==null)return 0;if(ls(l))return Qd(l)?ta(l):l.length;var v=Mi(l);return v==N||v==Re?l.size:rm(l).length}function zY(l,v,w){var M=dr(l)?Dn:MW;return w&&Hi(l,v,w)&&(v=r),M(l,Jt(v,3))}var VY=Er(function(l,v){if(l==null)return[];var w=v.length;return w>1&&Hi(l,v[0],v[1])?v=[]:w>2&&Hi(v[0],v[1],v[2])&&(v=[v[0]]),uP(l,Ai(v,1),[])}),Yd=wH||function(){return qn.Date.now()};function GY(l,v){if(typeof v!="function")throw new Sr(o);return l=mr(l),function(){if(--l<1)return v.apply(this,arguments)}}function rC(l,v,w){return v=w?r:v,v=l&&v==null?l.length:v,La(l,d,r,r,r,r,v)}function nC(l,v){var w;if(typeof v!="function")throw new Sr(o);return l=mr(l),function(){return--l>0&&(w=v.apply(this,arguments)),l<=1&&(v=r),w}}var Tm=Er(function(l,v,w){var M=b;if(w.length){var U=Ps(w,tl(Tm));M|=R}return La(l,M,v,w,U)}),iC=Er(function(l,v,w){var M=b|S;if(w.length){var U=Ps(w,tl(iC));M|=R}return La(v,M,l,w,U)});function sC(l,v,w){v=w?r:v;var M=La(l,A,r,r,r,r,r,v);return M.placeholder=sC.placeholder,M}function oC(l,v,w){v=w?r:v;var M=La(l,P,r,r,r,r,r,v);return M.placeholder=oC.placeholder,M}function aC(l,v,w){var M,U,ee,he,be,Pe,rt=0,nt=!1,at=!1,wt=!0;if(typeof l!="function")throw new Sr(o);v=Ys(v)||0,Fn(w)&&(nt=!!w.leading,at="maxWait"in w,ee=at?di(Ys(w.maxWait)||0,v):ee,wt="trailing"in w?!!w.trailing:wt);function Vt(Kn){var Po=M,Ba=U;return M=U=r,rt=Kn,he=l.apply(Ba,Po),he}function er(Kn){return rt=Kn,be=Df(kr,v),nt?Vt(Kn):he}function br(Kn){var Po=Kn-Pe,Ba=Kn-rt,TC=v-Po;return at?Oi(TC,ee-Ba):TC}function tr(Kn){var Po=Kn-Pe,Ba=Kn-rt;return Pe===r||Po>=v||Po<0||at&&Ba>=ee}function kr(){var Kn=Yd();if(tr(Kn))return Ur(Kn);be=Df(kr,br(Kn))}function Ur(Kn){return be=r,wt&&M?Vt(Kn):(M=U=r,he)}function Is(){be!==r&&mP(be),rt=0,M=Pe=U=be=r}function Wi(){return be===r?he:Ur(Yd())}function Os(){var Kn=Yd(),Po=tr(Kn);if(M=arguments,U=this,Pe=Kn,Po){if(be===r)return er(Pe);if(at)return mP(be),be=Df(kr,v),Vt(Pe)}return be===r&&(be=Df(kr,v)),he}return Os.cancel=Is,Os.flush=Wi,Os}var $Y=Er(function(l,v){return KT(l,1,v)}),UY=Er(function(l,v,w){return KT(l,Ys(v)||0,w)});function jY(l){return La(l,I)}function Kd(l,v){if(typeof l!="function"||v!=null&&typeof v!="function")throw new Sr(o);var w=function(){var M=arguments,U=v?v.apply(this,M):M[0],ee=w.cache;if(ee.has(U))return ee.get(U);var he=l.apply(this,M);return w.cache=ee.set(U,he)||ee,he};return w.cache=new(Kd.Cache||Ma),w}Kd.Cache=Ma;function Zd(l){if(typeof l!="function")throw new Sr(o);return function(){var v=arguments;switch(v.length){case 0:return!l.call(this);case 1:return!l.call(this,v[0]);case 2:return!l.call(this,v[0],v[1]);case 3:return!l.call(this,v[0],v[1],v[2])}return!l.apply(this,v)}}function HY(l){return nC(2,l)}var WY=kW(function(l,v){v=v.length==1&&dr(v[0])?At(v[0],Gi(Jt())):At(Ai(v,1),Gi(Jt()));var w=v.length;return Er(function(M){for(var U=-1,ee=Oi(M.length,w);++U<ee;)M[U]=v[U].call(this,M[U]);return W(l,this,M)})}),Pm=Er(function(l,v){var w=Ps(v,tl(Pm));return La(l,R,r,v,w)}),uC=Er(function(l,v){var w=Ps(v,tl(uC));return La(l,q,r,v,w)}),XY=Na(function(l,v){return La(l,C,r,r,r,v)});function YY(l,v){if(typeof l!="function")throw new Sr(o);return v=v===r?v:mr(v),Er(l,v)}function KY(l,v){if(typeof l!="function")throw new Sr(o);return v=v==null?0:di(mr(v),0),Er(function(w){var M=w[v],U=du(w,0,v);return M&&hr(U,M),W(l,this,U)})}function ZY(l,v,w){var M=!0,U=!0;if(typeof l!="function")throw new Sr(o);return Fn(w)&&(M="leading"in w?!!w.leading:M,U="trailing"in w?!!w.trailing:U),aC(l,v,{leading:M,maxWait:v,trailing:U})}function JY(l){return rC(l,1)}function QY(l,v){return Pm(fm(v),l)}function eK(){if(!arguments.length)return[];var l=arguments[0];return dr(l)?l:[l]}function tK(l){return Hs(l,_)}function rK(l,v){return v=typeof v=="function"?v:r,Hs(l,_,v)}function nK(l){return Hs(l,h|_)}function iK(l,v){return v=typeof v=="function"?v:r,Hs(l,h|_,v)}function sK(l,v){return v==null||YT(l,v,bi(v))}function To(l,v){return l===v||l!==l&&v!==v}var oK=$d(Qg),aK=$d(function(l,v){return l>=v}),nc=tP(function(){return arguments}())?tP:function(l){return Gn(l)&&ar.call(l,"callee")&&!VT.call(l,"callee")},dr=me.isArray,uK=g?Gi(g):gW;function ls(l){return l!=null&&Jd(l.length)&&!Da(l)}function Yn(l){return Gn(l)&&ls(l)}function cK(l){return l===!0||l===!1||Gn(l)&&ji(l)==le}var vu=SH||Fm,lK=x?Gi(x):mW;function fK(l){return Gn(l)&&l.nodeType===1&&!Ff(l)}function hK(l){if(l==null)return!0;if(ls(l)&&(dr(l)||typeof l=="string"||typeof l.splice=="function"||vu(l)||rl(l)||nc(l)))return!l.length;var v=Mi(l);if(v==N||v==Re)return!l.size;if(qf(l))return!rm(l).length;for(var w in l)if(ar.call(l,w))return!1;return!0}function dK(l,v){return kf(l,v)}function vK(l,v,w){w=typeof w=="function"?w:r;var M=w?w(l,v):r;return M===r?kf(l,v,r,w):!!M}function Cm(l){if(!Gn(l))return!1;var v=ji(l);return v==Ce||v==Le||typeof l.message=="string"&&typeof l.name=="string"&&!Ff(l)}function pK(l){return typeof l=="number"&&$T(l)}function Da(l){if(!Fn(l))return!1;var v=ji(l);return v==Je||v==Ge||v==Q||v==fe}function cC(l){return typeof l=="number"&&l==mr(l)}function Jd(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=z}function Fn(l){var v=typeof l;return l!=null&&(v=="object"||v=="function")}function Gn(l){return l!=null&&typeof l=="object"}var lC=O?Gi(O):yW;function gK(l,v){return l===v||tm(l,v,_m(v))}function mK(l,v,w){return w=typeof w=="function"?w:r,tm(l,v,_m(v),w)}function _K(l){return fC(l)&&l!=+l}function yK(l){if(rX(l))throw new tt(s);return rP(l)}function bK(l){return l===null}function wK(l){return l==null}function fC(l){return typeof l=="number"||Gn(l)&&ji(l)==G}function Ff(l){if(!Gn(l)||ji(l)!=K)return!1;var v=Ad(l);if(v===null)return!0;var w=ar.call(v,"constructor")&&v.constructor;return typeof w=="function"&&w instanceof w&&Eo.call(w)==mH}var Rm=k?Gi(k):bW;function xK(l){return cC(l)&&l>=-9007199254740991&&l<=z}var hC=F?Gi(F):wW;function Qd(l){return typeof l=="string"||!dr(l)&&Gn(l)&&ji(l)==ze}function Rs(l){return typeof l=="symbol"||Gn(l)&&ji(l)==qe}var rl=V?Gi(V):xW;function SK(l){return l===r}function EK(l){return Gn(l)&&Mi(l)==xe}function AK(l){return Gn(l)&&ji(l)==Ye}var TK=$d(nm),PK=$d(function(l,v){return l<=v});function dC(l){if(!l)return[];if(ls(l))return Qd(l)?$i(l):cs(l);if(Af&&l[Af])return ea(l[Af]());var v=Mi(l),w=v==N?Xc:v==Re?Ia:nl;return w(l)}function Fa(l){if(!l)return l===0?l:0;if(l=Ys(l),l===D||l===-1/0){var v=l<0?-1:1;return v*j}return l===l?l:0}function mr(l){var v=Fa(l),w=v%1;return v===v?w?v-w:v:0}function vC(l){return l?Qu(mr(l),0,oe):0}function Ys(l){if(typeof l=="number")return l;if(Rs(l))return ie;if(Fn(l)){var v=typeof l.valueOf=="function"?l.valueOf():l;l=Fn(v)?v+"":v}if(typeof l!="string")return l===0?l:+l;l=Us(l);var w=yt.test(l);return w||jt.test(l)?Vg(l.slice(2),w?2:8):Ke.test(l)?ie:+l}function pC(l){return na(l,fs(l))}function CK(l){return l?Qu(mr(l),-9007199254740991,z):l===0?l:0}function rn(l){return l==null?"":Cs(l)}var RK=Qc(function(l,v){if(qf(v)||ls(v)){na(v,bi(v),l);return}for(var w in v)ar.call(v,w)&&If(l,w,v[w])}),gC=Qc(function(l,v){na(v,fs(v),l)}),ev=Qc(function(l,v,w,M){na(v,fs(v),l,M)}),IK=Qc(function(l,v,w,M){na(v,bi(v),l,M)}),OK=Na(Kg);function MK(l,v){var w=Jc(l);return v==null?w:XT(w,v)}var kK=Er(function(l,v){l=St(l);var w=-1,M=v.length,U=M>2?v[2]:r;for(U&&Hi(v[0],v[1],U)&&(M=1);++w<M;)for(var ee=v[w],he=fs(ee),be=-1,Pe=he.length;++be<Pe;){var rt=he[be],nt=l[rt];(nt===r||To(nt,hi[rt])&&!ar.call(l,rt))&&(l[rt]=ee[rt])}return l}),LK=Er(function(l){return l.push(r,kP),W(mC,r,l)});function NK(l,v){return Jo(l,Jt(v,3),ra)}function qK(l,v){return Jo(l,Jt(v,3),Jg)}function DK(l,v){return l==null?l:Zg(l,Jt(v,3),fs)}function FK(l,v){return l==null?l:QT(l,Jt(v,3),fs)}function BK(l,v){return l&&ra(l,Jt(v,3))}function zK(l,v){return l&&Jg(l,Jt(v,3))}function VK(l){return l==null?[]:Nd(l,bi(l))}function GK(l){return l==null?[]:Nd(l,fs(l))}function Im(l,v,w){var M=l==null?r:ec(l,v);return M===r?w:M}function $K(l,v){return l!=null&&qP(l,v,hW)}function Om(l,v){return l!=null&&qP(l,v,dW)}var UK=CP(function(l,v,w){v!=null&&typeof v.toString!="function"&&(v=xd.call(v)),l[v]=w},km(hs)),jK=CP(function(l,v,w){v!=null&&typeof v.toString!="function"&&(v=xd.call(v)),ar.call(l,v)?l[v].push(w):l[v]=[w]},Jt),HK=Er(Mf);function bi(l){return ls(l)?HT(l):rm(l)}function fs(l){return ls(l)?HT(l,!0):SW(l)}function WK(l,v){var w={};return v=Jt(v,3),ra(l,function(M,U,ee){ka(w,v(M,U,ee),M)}),w}function XK(l,v){var w={};return v=Jt(v,3),ra(l,function(M,U,ee){ka(w,U,v(M,U,ee))}),w}var YK=Qc(function(l,v,w){qd(l,v,w)}),mC=Qc(function(l,v,w,M){qd(l,v,w,M)}),KK=Na(function(l,v){var w={};if(l==null)return w;var M=!1;v=At(v,function(ee){return ee=hu(ee,l),M||(M=ee.length>1),ee}),na(l,gm(l),w),M&&(w=Hs(w,h|p|_,UW));for(var U=v.length;U--;)um(w,v[U]);return w});function ZK(l,v){return _C(l,Zd(Jt(v)))}var JK=Na(function(l,v){return l==null?{}:AW(l,v)});function _C(l,v){if(l==null)return{};var w=At(gm(l),function(M){return[M]});return v=Jt(v),cP(l,w,function(M,U){return v(M,U[0])})}function QK(l,v,w){v=hu(v,l);var M=-1,U=v.length;for(U||(U=1,l=r);++M<U;){var ee=l==null?r:l[ia(v[M])];ee===r&&(M=U,ee=w),l=Da(ee)?ee.call(l):ee}return l}function eZ(l,v,w){return l==null?l:Lf(l,v,w)}function tZ(l,v,w,M){return M=typeof M=="function"?M:r,l==null?l:Lf(l,v,w,M)}var yC=OP(bi),bC=OP(fs);function rZ(l,v,w){var M=dr(l),U=M||vu(l)||rl(l);if(v=Jt(v,4),w==null){var ee=l&&l.constructor;U?w=M?new ee:[]:Fn(l)?w=Da(ee)?Jc(Ad(l)):{}:w={}}return(U?ce:ra)(l,function(he,be,Pe){return v(w,he,be,Pe)}),w}function nZ(l,v){return l==null?!0:um(l,v)}function iZ(l,v,w){return l==null?l:vP(l,v,fm(w))}function sZ(l,v,w,M){return M=typeof M=="function"?M:r,l==null?l:vP(l,v,fm(w),M)}function nl(l){return l==null?[]:wf(l,bi(l))}function oZ(l){return l==null?[]:wf(l,fs(l))}function aZ(l,v,w){return w===r&&(w=v,v=r),w!==r&&(w=Ys(w),w=w===w?w:0),v!==r&&(v=Ys(v),v=v===v?v:0),Qu(Ys(l),v,w)}function uZ(l,v,w){return v=Fa(v),w===r?(w=v,v=0):w=Fa(w),l=Ys(l),vW(l,v,w)}function cZ(l,v,w){if(w&&typeof w!="boolean"&&Hi(l,v,w)&&(v=w=r),w===r&&(typeof v=="boolean"?(w=v,v=r):typeof l=="boolean"&&(w=l,l=r)),l===r&&v===r?(l=0,v=1):(l=Fa(l),v===r?(v=l,l=0):v=Fa(v)),l>v){var M=l;l=v,v=M}if(w||l%1||v%1){var U=UT();return Oi(l+U*(v-l+yf("1e-"+((U+"").length-1))),v)}return sm(l,v)}var lZ=el(function(l,v,w){return v=v.toLowerCase(),l+(w?wC(v):v)});function wC(l){return Mm(rn(l).toLowerCase())}function xC(l){return l=rn(l),l&&l.replace(Wn,au).replace(Ng,"")}function fZ(l,v,w){l=rn(l),v=Cs(v);var M=l.length;w=w===r?M:Qu(mr(w),0,M);var U=w;return w-=v.length,w>=0&&l.slice(w,U)==v}function hZ(l){return l=rn(l),l&&ii.test(l)?l.replace(mn,$g):l}function dZ(l){return l=rn(l),l&&pi.test(l)?l.replace(jn,"\\$&"):l}var vZ=el(function(l,v,w){return l+(w?"-":"")+v.toLowerCase()}),pZ=el(function(l,v,w){return l+(w?" ":"")+v.toLowerCase()}),gZ=AP("toLowerCase");function mZ(l,v,w){l=rn(l),v=mr(v);var M=v?ta(l):0;if(!v||M>=v)return l;var U=(v-M)/2;return Gd(Rd(U),w)+l+Gd(Cd(U),w)}function _Z(l,v,w){l=rn(l),v=mr(v);var M=v?ta(l):0;return v&&M<v?l+Gd(v-M,w):l}function yZ(l,v,w){l=rn(l),v=mr(v);var M=v?ta(l):0;return v&&M<v?Gd(v-M,w)+l:l}function bZ(l,v,w){return w||v==null?v=0:v&&(v=+v),PH(rn(l).replace(Qr,""),v||0)}function wZ(l,v,w){return(w?Hi(l,v,w):v===r)?v=1:v=mr(v),om(rn(l),v)}function xZ(){var l=arguments,v=rn(l[0]);return l.length<3?v:v.replace(l[1],l[2])}var SZ=el(function(l,v,w){return l+(w?"_":"")+v.toLowerCase()});function EZ(l,v,w){return w&&typeof w!="number"&&Hi(l,v,w)&&(v=w=r),w=w===r?oe:w>>>0,w?(l=rn(l),l&&(typeof v=="string"||v!=null&&!Rm(v))&&(v=Cs(v),!v&&us(l))?du($i(l),0,w):l.split(v,w)):[]}var AZ=el(function(l,v,w){return l+(w?" ":"")+Mm(v)});function TZ(l,v,w){return l=rn(l),w=w==null?0:Qu(mr(w),0,l.length),v=Cs(v),l.slice(w,w+v.length)==v}function PZ(l,v,w){var M=Z.templateSettings;w&&Hi(l,v,w)&&(v=r),l=rn(l),v=ev({},v,M,MP);var U=ev({},v.imports,M.imports,MP),ee=bi(U),he=wf(U,ee),be,Pe,rt=0,nt=v.interpolate||qt,at="__p += '",wt=gr((v.escape||qt).source+"|"+nt.source+"|"+(nt===Vr?Ft:qt).source+"|"+(v.evaluate||qt).source+"|$","g"),Vt="//# sourceURL="+(ar.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zg+"]")+`
`;l.replace(wt,function(tr,kr,Ur,Is,Wi,Os){return Ur||(Ur=Is),at+=l.slice(rt,Os).replace(en,Ug),kr&&(be=!0,at+=`' +
__e(`+kr+`) +
'`),Wi&&(Pe=!0,at+=`';
`+Wi+`;
__p += '`),Ur&&(at+=`' +
((__t = (`+Ur+`)) == null ? '' : __t) +
'`),rt=Os+tr.length,tr}),at+=`';
`;var er=ar.call(v,"variable")&&v.variable;if(!er)at=`with (obj) {
`+at+`
}
`;else if(Ot.test(er))throw new tt(a);at=(Pe?at.replace(sr,""):at).replace(Mr,"$1").replace(bn,"$1;"),at="function("+(er||"obj")+`) {
`+(er?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+at+`return __p
}`;var br=EC(function(){return Pt(ee,Vt+"return "+at).apply(r,he)});if(br.source=at,Cm(br))throw br;return br}function CZ(l){return rn(l).toLowerCase()}function RZ(l){return rn(l).toUpperCase()}function IZ(l,v,w){if(l=rn(l),l&&(w||v===r))return Us(l);if(!l||!(v=Cs(v)))return l;var M=$i(l),U=$i(v),ee=Kr(M,U),he=Yu(M,U)+1;return du(M,ee,he).join("")}function OZ(l,v,w){if(l=rn(l),l&&(w||v===r))return l.slice(0,bd(l)+1);if(!l||!(v=Cs(v)))return l;var M=$i(l),U=Yu(M,$i(v))+1;return du(M,0,U).join("")}function MZ(l,v,w){if(l=rn(l),l&&(w||v===r))return l.replace(Qr,"");if(!l||!(v=Cs(v)))return l;var M=$i(l),U=Kr(M,$i(v));return du(M,U).join("")}function kZ(l,v){var w=L,M=B;if(Fn(v)){var U="separator"in v?v.separator:U;w="length"in v?mr(v.length):w,M="omission"in v?Cs(v.omission):M}l=rn(l);var ee=l.length;if(us(l)){var he=$i(l);ee=he.length}if(w>=ee)return l;var be=w-ta(M);if(be<1)return M;var Pe=he?du(he,0,be).join(""):l.slice(0,be);if(U===r)return Pe+M;if(he&&(be+=Pe.length-be),Rm(U)){if(l.slice(be).search(U)){var rt,nt=Pe;for(U.global||(U=gr(U.source,rn(ut.exec(U))+"g")),U.lastIndex=0;rt=U.exec(nt);)var at=rt.index;Pe=Pe.slice(0,at===r?be:at)}}else if(l.indexOf(Cs(U),be)!=be){var wt=Pe.lastIndexOf(U);wt>-1&&(Pe=Pe.slice(0,wt))}return Pe+M}function LZ(l){return l=rn(l),l&&Un.test(l)?l.replace(wn,Ef):l}var NZ=el(function(l,v,w){return l+(w?" ":"")+v.toUpperCase()}),Mm=AP("toUpperCase");function SC(l,v,w){return l=rn(l),v=w?r:v,v===r?xf(l)?we(l):Cr(l):l.match(v)||[]}var EC=Er(function(l,v){try{return W(l,r,v)}catch(w){return Cm(w)?w:new tt(w)}}),qZ=Na(function(l,v){return ce(v,function(w){w=ia(w),ka(l,w,Tm(l[w],l))}),l});function DZ(l){var v=l==null?0:l.length,w=Jt();return l=v?At(l,function(M){if(typeof M[1]!="function")throw new Sr(o);return[w(M[0]),M[1]]}):[],Er(function(M){for(var U=-1;++U<v;){var ee=l[U];if(W(ee[0],this,M))return W(ee[1],this,M)}})}function FZ(l){return cW(Hs(l,h))}function km(l){return function(){return l}}function BZ(l,v){return l==null||l!==l?v:l}var zZ=PP(),VZ=PP(!0);function hs(l){return l}function Lm(l){return nP(typeof l=="function"?l:Hs(l,h))}function GZ(l){return sP(Hs(l,h))}function $Z(l,v){return oP(l,Hs(v,h))}var UZ=Er(function(l,v){return function(w){return Mf(w,l,v)}}),jZ=Er(function(l,v){return function(w){return Mf(l,w,v)}});function Nm(l,v,w){var M=bi(v),U=Nd(v,M);w==null&&!(Fn(v)&&(U.length||!M.length))&&(w=v,v=l,l=this,U=Nd(v,bi(v)));var ee=!(Fn(w)&&"chain"in w)||!!w.chain,he=Da(l);return ce(U,function(be){var Pe=v[be];l[be]=Pe,he&&(l.prototype[be]=function(){var rt=this.__chain__;if(ee||rt){var nt=l(this.__wrapped__),at=nt.__actions__=cs(this.__actions__);return at.push({func:Pe,args:arguments,thisArg:l}),nt.__chain__=rt,nt}return Pe.apply(l,hr([this.value()],arguments))})}),l}function HZ(){return qn._===this&&(qn._=_H),this}function qm(){}function WZ(l){return l=mr(l),Er(function(v){return aP(v,l)})}var XZ=dm(At),YZ=dm(Be),KZ=dm(Dn);function AC(l){return bm(l)?Ra(ia(l)):TW(l)}function ZZ(l){return function(v){return l==null?r:ec(l,v)}}var JZ=RP(),QZ=RP(!0);function Dm(){return[]}function Fm(){return!1}function eJ(){return{}}function tJ(){return""}function rJ(){return!0}function nJ(l,v){if(l=mr(l),l<1||l>z)return[];var w=oe,M=Oi(l,oe);v=Jt(v),l-=oe;for(var U=Wu(M,v);++w<l;)v(w);return U}function iJ(l){return dr(l)?At(l,ia):Rs(l)?[l]:cs(jP(rn(l)))}function sJ(l){var v=++gH;return rn(l)+v}var oJ=Vd(function(l,v){return l+v},0),aJ=vm("ceil"),uJ=Vd(function(l,v){return l/v},1),cJ=vm("floor");function lJ(l){return l&&l.length?Ld(l,hs,Qg):r}function fJ(l,v){return l&&l.length?Ld(l,Jt(v,2),Qg):r}function hJ(l){return As(l,hs)}function dJ(l,v){return As(l,Jt(v,2))}function vJ(l){return l&&l.length?Ld(l,hs,nm):r}function pJ(l,v){return l&&l.length?Ld(l,Jt(v,2),nm):r}var gJ=Vd(function(l,v){return l*v},1),mJ=vm("round"),_J=Vd(function(l,v){return l-v},0);function yJ(l){return l&&l.length?Ii(l,hs):0}function bJ(l,v){return l&&l.length?Ii(l,Jt(v,2)):0}return Z.after=GY,Z.ary=rC,Z.assign=RK,Z.assignIn=gC,Z.assignInWith=ev,Z.assignWith=IK,Z.at=OK,Z.before=nC,Z.bind=Tm,Z.bindAll=qZ,Z.bindKey=iC,Z.castArray=eK,Z.chain=QP,Z.chunk=cX,Z.compact=lX,Z.concat=fX,Z.cond=DZ,Z.conforms=FZ,Z.constant=km,Z.countBy=yY,Z.create=MK,Z.curry=sC,Z.curryRight=oC,Z.debounce=aC,Z.defaults=kK,Z.defaultsDeep=LK,Z.defer=$Y,Z.delay=UY,Z.difference=hX,Z.differenceBy=dX,Z.differenceWith=vX,Z.drop=pX,Z.dropRight=gX,Z.dropRightWhile=mX,Z.dropWhile=_X,Z.fill=yX,Z.filter=wY,Z.flatMap=EY,Z.flatMapDeep=AY,Z.flatMapDepth=TY,Z.flatten=YP,Z.flattenDeep=bX,Z.flattenDepth=wX,Z.flip=jY,Z.flow=zZ,Z.flowRight=VZ,Z.fromPairs=xX,Z.functions=VK,Z.functionsIn=GK,Z.groupBy=PY,Z.initial=EX,Z.intersection=AX,Z.intersectionBy=TX,Z.intersectionWith=PX,Z.invert=UK,Z.invertBy=jK,Z.invokeMap=RY,Z.iteratee=Lm,Z.keyBy=IY,Z.keys=bi,Z.keysIn=fs,Z.map=Xd,Z.mapKeys=WK,Z.mapValues=XK,Z.matches=GZ,Z.matchesProperty=$Z,Z.memoize=Kd,Z.merge=YK,Z.mergeWith=mC,Z.method=UZ,Z.methodOf=jZ,Z.mixin=Nm,Z.negate=Zd,Z.nthArg=WZ,Z.omit=KK,Z.omitBy=ZK,Z.once=HY,Z.orderBy=OY,Z.over=XZ,Z.overArgs=WY,Z.overEvery=YZ,Z.overSome=KZ,Z.partial=Pm,Z.partialRight=uC,Z.partition=MY,Z.pick=JK,Z.pickBy=_C,Z.property=AC,Z.propertyOf=ZZ,Z.pull=OX,Z.pullAll=ZP,Z.pullAllBy=MX,Z.pullAllWith=kX,Z.pullAt=LX,Z.range=JZ,Z.rangeRight=QZ,Z.rearg=XY,Z.reject=NY,Z.remove=NX,Z.rest=YY,Z.reverse=Em,Z.sampleSize=DY,Z.set=eZ,Z.setWith=tZ,Z.shuffle=FY,Z.slice=qX,Z.sortBy=VY,Z.sortedUniq=$X,Z.sortedUniqBy=UX,Z.split=EZ,Z.spread=KY,Z.tail=jX,Z.take=HX,Z.takeRight=WX,Z.takeRightWhile=XX,Z.takeWhile=YX,Z.tap=lY,Z.throttle=ZY,Z.thru=Wd,Z.toArray=dC,Z.toPairs=yC,Z.toPairsIn=bC,Z.toPath=iJ,Z.toPlainObject=pC,Z.transform=rZ,Z.unary=JY,Z.union=KX,Z.unionBy=ZX,Z.unionWith=JX,Z.uniq=QX,Z.uniqBy=eY,Z.uniqWith=tY,Z.unset=nZ,Z.unzip=Am,Z.unzipWith=JP,Z.update=iZ,Z.updateWith=sZ,Z.values=nl,Z.valuesIn=oZ,Z.without=rY,Z.words=SC,Z.wrap=QY,Z.xor=nY,Z.xorBy=iY,Z.xorWith=sY,Z.zip=oY,Z.zipObject=aY,Z.zipObjectDeep=uY,Z.zipWith=cY,Z.entries=yC,Z.entriesIn=bC,Z.extend=gC,Z.extendWith=ev,Nm(Z,Z),Z.add=oJ,Z.attempt=EC,Z.camelCase=lZ,Z.capitalize=wC,Z.ceil=aJ,Z.clamp=aZ,Z.clone=tK,Z.cloneDeep=nK,Z.cloneDeepWith=iK,Z.cloneWith=rK,Z.conformsTo=sK,Z.deburr=xC,Z.defaultTo=BZ,Z.divide=uJ,Z.endsWith=fZ,Z.eq=To,Z.escape=hZ,Z.escapeRegExp=dZ,Z.every=bY,Z.find=xY,Z.findIndex=WP,Z.findKey=NK,Z.findLast=SY,Z.findLastIndex=XP,Z.findLastKey=qK,Z.floor=cJ,Z.forEach=eC,Z.forEachRight=tC,Z.forIn=DK,Z.forInRight=FK,Z.forOwn=BK,Z.forOwnRight=zK,Z.get=Im,Z.gt=oK,Z.gte=aK,Z.has=$K,Z.hasIn=Om,Z.head=KP,Z.identity=hs,Z.includes=CY,Z.indexOf=SX,Z.inRange=uZ,Z.invoke=HK,Z.isArguments=nc,Z.isArray=dr,Z.isArrayBuffer=uK,Z.isArrayLike=ls,Z.isArrayLikeObject=Yn,Z.isBoolean=cK,Z.isBuffer=vu,Z.isDate=lK,Z.isElement=fK,Z.isEmpty=hK,Z.isEqual=dK,Z.isEqualWith=vK,Z.isError=Cm,Z.isFinite=pK,Z.isFunction=Da,Z.isInteger=cC,Z.isLength=Jd,Z.isMap=lC,Z.isMatch=gK,Z.isMatchWith=mK,Z.isNaN=_K,Z.isNative=yK,Z.isNil=wK,Z.isNull=bK,Z.isNumber=fC,Z.isObject=Fn,Z.isObjectLike=Gn,Z.isPlainObject=Ff,Z.isRegExp=Rm,Z.isSafeInteger=xK,Z.isSet=hC,Z.isString=Qd,Z.isSymbol=Rs,Z.isTypedArray=rl,Z.isUndefined=SK,Z.isWeakMap=EK,Z.isWeakSet=AK,Z.join=CX,Z.kebabCase=vZ,Z.last=Xs,Z.lastIndexOf=RX,Z.lowerCase=pZ,Z.lowerFirst=gZ,Z.lt=TK,Z.lte=PK,Z.max=lJ,Z.maxBy=fJ,Z.mean=hJ,Z.meanBy=dJ,Z.min=vJ,Z.minBy=pJ,Z.stubArray=Dm,Z.stubFalse=Fm,Z.stubObject=eJ,Z.stubString=tJ,Z.stubTrue=rJ,Z.multiply=gJ,Z.nth=IX,Z.noConflict=HZ,Z.noop=qm,Z.now=Yd,Z.pad=mZ,Z.padEnd=_Z,Z.padStart=yZ,Z.parseInt=bZ,Z.random=cZ,Z.reduce=kY,Z.reduceRight=LY,Z.repeat=wZ,Z.replace=xZ,Z.result=QK,Z.round=mJ,Z.runInContext=ne,Z.sample=qY,Z.size=BY,Z.snakeCase=SZ,Z.some=zY,Z.sortedIndex=DX,Z.sortedIndexBy=FX,Z.sortedIndexOf=BX,Z.sortedLastIndex=zX,Z.sortedLastIndexBy=VX,Z.sortedLastIndexOf=GX,Z.startCase=AZ,Z.startsWith=TZ,Z.subtract=_J,Z.sum=yJ,Z.sumBy=bJ,Z.template=PZ,Z.times=nJ,Z.toFinite=Fa,Z.toInteger=mr,Z.toLength=vC,Z.toLower=CZ,Z.toNumber=Ys,Z.toSafeInteger=CK,Z.toString=rn,Z.toUpper=RZ,Z.trim=IZ,Z.trimEnd=OZ,Z.trimStart=MZ,Z.truncate=kZ,Z.unescape=LZ,Z.uniqueId=sJ,Z.upperCase=NZ,Z.upperFirst=Mm,Z.each=eC,Z.eachRight=tC,Z.first=KP,Nm(Z,function(){var l={};return ra(Z,function(v,w){ar.call(Z.prototype,w)||(l[w]=v)}),l}(),{chain:!1}),Z.VERSION=n,ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Z[l].placeholder=Z}),ce(["drop","take"],function(l,v){Dr.prototype[l]=function(w){w=w===r?1:di(mr(w),0);var M=this.__filtered__&&!v?new Dr(this):this.clone();return M.__filtered__?M.__takeCount__=Oi(w,M.__takeCount__):M.__views__.push({size:Oi(w,oe),type:l+(M.__dir__<0?"Right":"")}),M},Dr.prototype[l+"Right"]=function(w){return this.reverse()[l](w).reverse()}}),ce(["filter","map","takeWhile"],function(l,v){var w=v+1,M=w==J||w==X;Dr.prototype[l]=function(U){var ee=this.clone();return ee.__iteratees__.push({iteratee:Jt(U,3),type:w}),ee.__filtered__=ee.__filtered__||M,ee}}),ce(["head","last"],function(l,v){var w="take"+(v?"Right":"");Dr.prototype[l]=function(){return this[w](1).value()[0]}}),ce(["initial","tail"],function(l,v){var w="drop"+(v?"":"Right");Dr.prototype[l]=function(){return this.__filtered__?new Dr(this):this[w](1)}}),Dr.prototype.compact=function(){return this.filter(hs)},Dr.prototype.find=function(l){return this.filter(l).head()},Dr.prototype.findLast=function(l){return this.reverse().find(l)},Dr.prototype.invokeMap=Er(function(l,v){return typeof l=="function"?new Dr(this):this.map(function(w){return Mf(w,l,v)})}),Dr.prototype.reject=function(l){return this.filter(Zd(Jt(l)))},Dr.prototype.slice=function(l,v){l=mr(l);var w=this;return w.__filtered__&&(l>0||v<0)?new Dr(w):(l<0?w=w.takeRight(-l):l&&(w=w.drop(l)),v!==r&&(v=mr(v),w=v<0?w.dropRight(-v):w.take(v-l)),w)},Dr.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Dr.prototype.toArray=function(){return this.take(oe)},ra(Dr.prototype,function(l,v){var w=/^(?:filter|find|map|reject)|While$/.test(v),M=/^(?:head|last)$/.test(v),U=Z[M?"take"+(v=="last"?"Right":""):v],ee=M||/^find/.test(v);U&&(Z.prototype[v]=function(){var he=this.__wrapped__,be=M?[1]:arguments,Pe=he instanceof Dr,rt=be[0],nt=Pe||dr(he),at=function(kr){var Ur=U.apply(Z,hr([kr],be));return M&&wt?Ur[0]:Ur};nt&&w&&typeof rt=="function"&&rt.length!=1&&(Pe=nt=!1);var wt=this.__chain__,Vt=!!this.__actions__.length,er=ee&&!wt,br=Pe&&!Vt;if(!ee&&nt){he=br?he:new Dr(this);var tr=l.apply(he,be);return tr.__actions__.push({func:Wd,args:[at],thisArg:r}),new js(tr,wt)}return er&&br?l.apply(this,be):(tr=this.thru(at),er?M?tr.value()[0]:tr.value():tr)})}),ce(["pop","push","shift","sort","splice","unshift"],function(l){var v=fi[l],w=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",M=/^(?:pop|shift)$/.test(l);Z.prototype[l]=function(){var U=arguments;if(M&&!this.__chain__){var ee=this.value();return v.apply(dr(ee)?ee:[],U)}return this[w](function(he){return v.apply(dr(he)?he:[],U)})}}),ra(Dr.prototype,function(l,v){var w=Z[v];if(w){var M=w.name+"";ar.call(Zc,M)||(Zc[M]=[]),Zc[M].push({name:v,func:w})}}),Zc[zd(r,S).name]=[{name:"wrapper",func:r}],Dr.prototype.clone=LH,Dr.prototype.reverse=NH,Dr.prototype.value=qH,Z.prototype.at=fY,Z.prototype.chain=hY,Z.prototype.commit=dY,Z.prototype.next=vY,Z.prototype.plant=gY,Z.prototype.reverse=mY,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=_Y,Z.prototype.first=Z.prototype.head,Af&&(Z.prototype[Af]=pY),Z},Ne=Oe();wo?((wo.exports=Ne)._=Ne,Hc._=Ne):qn._=Ne}).call(dge)}(oh,oh.exports)),oh.exports}var pge=vge();const On=Kl(pge);var gge=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},mge=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},kv;function Zs(e,t,r){return t.map((n,i)=>e(n,r[i]))}function Ev(e,t,r,n,i){return t.map((s,o)=>e(s,r[o],n[o],i[o]))}function oa(e,t,r,n){if(t.length==0)return n==1?1:0;let i=t[t.length-1];n==1?i|=~r:i&=r;for(let s=0;s<t.length-1;s++)i=e(i,t[s]);return i=e(i,i>>>16),i=e(i,i>>>8),i=e(i,i>>>4),i=e(i,i>>>2),i=e(i,i>>>1),i&1}function _ge(e){return e>>5}function la(e){return e&31}function wl(e,t,r,n,i){const s=e>0&&!(n[t]&1<<e-1)&&i[t]&1<<e-1;s&&la(e)&&(i[t]|=-1<<e),s&&t+1<r&&i.fill(-1,t+1)}function xT(e,t){const r={};function n(i,s){if(r[i]=s,!(i.length*e>=t)){for(let o=0;o<1<<e;o+=1)n(i+o.toString(1<<e),s<<e|o|o<<16);n(i+"x",s<<e|(1<<e)-1)}}return n("",0),Object.seal(r),r}const yge=xT(1,8),bge=xT(3,3),wge=xT(4,8);function r9(e,t,r,n){const i=[];let s=0,o=e;for(;s<t;){const a="00000000"+r[o].toString(16),u=r[o]^n[o];o++;for(let c=0;c<8&&s<t;c++,s+=4)u&15<<4*c?i.push("x"):i.push(a[a.length-1-c])}return i.reverse().join("")}function n9(e,t,r,n){const i=[];let s=0,o=e;for(;s<t;){const a="00000000000000000000000000000000"+r[o].toString(2),u=r[o]^n[o];o++;for(let c=0;c<32&&s<t;c++,s++)u&1<<c?i.push("x"):i.push(a[a.length-1-c])}return i.reverse().join("")}function jE(e,t,r,n,i){const o=r+31>>>5;let a=0,u=-1+t;for(let c=e.length;c>0;){const f=e.slice(Math.max(0,c-2),c);c-=f.length;const h=wge[f];la(a)==0&&u++;const p=(1<<4*f.length)-1;n[u]|=(h>>>16&p)<<a,i[u]|=(h&p)<<a,a+=4*f.length}a<r&&wl(a,u,o,n,i)}function i9(e,t,r,n,i){const o=r+31>>>5;let a=0,u=-1+t;for(let c=e.length;c>0;){const f=e.slice(Math.max(0,c-8),c);c-=f.length;const h=yge[f];la(a)==0&&u++;const p=(1<<1*f.length)-1;n[u]|=(h>>>16&p)<<a,i[u]|=(h&p)<<a,a+=1*f.length}a<r&&wl(a,u,o,n,i)}class ST extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ST.prototype)}}function wi(e,t){if(!e)throw new ST("Assertion failed: "+t)}class et{constructor(t,r,n){this._bits=t,this._avec=r,this._bvec=n}static make(t,r){t=t|0;let n,i;switch(r){case!0:case"1":case 1:n=i=-1;break;case!1:case"0":case-1:case void 0:n=i=0;break;case"x":case 0:n=0,i=-1;break;default:wi(!1,"Vector3vl.make() called with invalid initializer")}const s=(t+31)/32|0;return new et(t,new Uint32Array(s).fill(n),new Uint32Array(s).fill(i))}static zeros(t){return et.make(t,-1)}static ones(t){return et.make(t,1)}static xes(t){return et.make(t,0)}static fromBool(t,r=1){return et.make(r,t?1:-1)}static concat(...t){const n=t.reduce((u,c)=>c.bits+u,0)+31>>>5;let i=0,s=-1,o=new Uint32Array(n),a=new Uint32Array(n);for(const u of t)if(u.normalize(),la(i)==0)o.set(u._avec,s+1),a.set(u._bvec,s+1),i+=u._bits,s+=u._bits+31>>>5;else{for(const c in u._avec){if(o[s]|=u._avec[c]<<i,a[s]|=u._bvec[c]<<i,s++,s==n)break;o[s]=u._avec[c]>>>-i,a[s]=u._bvec[c]>>>-i}i+=u._bits,s+1>i+31>>>5&&s--}return new et(i,o,a)}static fromIterator(t,r,n){return(r&r-1)==0?et.fromIteratorPow2(t,r,n):et.fromIteratorAnySkip(t,r,n)}static fromIteratorAnySkip(t,r,n){const i=n+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<r)-1;for(const f of t)la(s)==0&&o++,a[o]|=(f>>>r&c)<<s,u[o]|=(f&c)<<s,c<<s>>>s!=c&&(o++,a[o]=(f>>>r&c)>>>-s,u[o]=(f&c)>>>-s),s+=r;return s<n&&wl(s,o,i,a,u),new et(n,a,u)}static fromIteratorPow2(t,r,n){const i=n+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<r)-1;for(const f of t)la(s)==0&&o++,a[o]|=(f>>>r&c)<<s,u[o]|=(f&c)<<s,s+=r;return s<n&&wl(s,o,i,a,u),new et(n,a,u)}static fromArray(t){const r=t.length,n=1,i=r+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=(1<<n)-1;for(const f of t){const h=f+1+ +(f>0);la(s)==0&&o++,a[o]|=(h>>>n&c)<<s,u[o]|=(h&c)<<s,s+=n}return s<r&&wl(s,o,i,a,u),new et(r,a,u)}static fromBin(t,r){r===void 0&&(r=t.length);const n=r+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);return i9(t,0,r,i,s),new et(r,i,s)}static fromOct(t,r){r===void 0&&(r=t.length*3);const i=r+31>>>5;let s=0,o=-1,a=new Uint32Array(i),u=new Uint32Array(i);const c=7;for(let f=t.length-1;f>=0;f--){const h=bge[t[f]];la(s)==0&&o++,a[o]|=(h>>>16&c)<<s,u[o]|=(h&c)<<s,c<<s>>>s!=c&&(o++,a[o]=(h>>>16&c)>>>-s,u[o]=(h&c)>>>-s),s+=3}return s<r&&wl(s,o,i,a,u),new et(r,a,u)}static fromHex(t,r){r===void 0&&(r=t.length*4);const n=r+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);return jE(t,0,r,i,s),new et(r,i,s)}static fromString(t){const n=/^([0-9]*)'?(b[01x]*|o[0-7x]*|h[0-9a-fx]*|d[0-9]*)$/.exec(t);wi(n!=null,"Vector3vl.fromString() Invalid string");const i=n[1].length?Number(n[1]):void 0,s=n[2].slice(1);switch(n[2][0]){case"b":return et.fromBin(s,i);case"o":return et.fromOct(s,i);case"h":return et.fromHex(s,i);case"d":return et.fromNumber(BigInt(s),i)}}static fromClonable(t){return new et(t._bits,t._avec,t._bvec)}static fromNumber(t,r){const n=r===void 0?0:r,i=BigInt(t);if(i>=BigInt(0)){let s=i.toString(2);return et.fromBin("0".repeat(Math.max(0,n-s.length))+s,r)}else{const s=(-i).toString(2).length;let a=(i+(BigInt(1)<<BigInt(s))).toString(2);return et.fromBin("1".repeat(Math.max(1,n-s))+"0".repeat(s-a.length)+a,r)}}get bits(){return this._bits}get msb(){return this.get(this._bits-1)}get lsb(){return this.get(0)}get(t){const r=la(t),n=_ge(t),i=this._avec[n]>>>r&1,s=this._bvec[n]>>>r&1;return i+s-1}get isHigh(){if(this._bits==0)return!0;const t=this._lastmask,r=n=>n.slice(0,n.length-1).every(i=>~i==0)&&(n[n.length-1]&t)==t;return r(this._avec)&&r(this._bvec)}get isLow(){if(this._bits==0)return!0;const t=this._lastmask,r=n=>n.slice(0,n.length-1).every(i=>i==0)&&(n[n.length-1]&t)==0;return r(this._avec)&&r(this._bvec)}get isDefined(){if(this._bits==0)return!1;const t=Zs((r,n)=>r^n,this._avec,this._bvec);return t[t.length-1]|=~this._lastmask,!t.every(r=>~r==0)}get isFullyDefined(){if(this._bits==0)return!0;const t=Zs((r,n)=>r^n,this._avec,this._bvec);return t[t.length-1]&=this._lastmask,!t.some(r=>!!r)}and(t){return wi(t._bits==this._bits,"Vector3vl.and() called with vectors of different sizes"),new et(this._bits,Zs((r,n)=>r&n,t._avec,this._avec),Zs((r,n)=>r&n,t._bvec,this._bvec))}or(t){return wi(t._bits==this._bits,"Vector3vl.or() called with vectors of different sizes"),new et(this._bits,Zs((r,n)=>r|n,t._avec,this._avec),Zs((r,n)=>r|n,t._bvec,this._bvec))}xor(t){return wi(t._bits==this._bits,"Vector3vl.xor() called with vectors of different sizes"),new et(this._bits,Ev((r,n,i,s)=>(r|i)&(n^s),t._avec,t._bvec,this._avec,this._bvec),Ev((r,n,i,s)=>r&i^(n|s),t._avec,t._bvec,this._avec,this._bvec))}nand(t){return wi(t._bits==this._bits,"Vector3vl.nand() called with vectors of different sizes"),new et(this._bits,Zs((r,n)=>~(r&n),t._bvec,this._bvec),Zs((r,n)=>~(r&n),t._avec,this._avec))}nor(t){return wi(t._bits==this._bits,"Vector3vl.nor() called with vectors of different sizes"),new et(this._bits,Zs((r,n)=>~(r|n),t._bvec,this._bvec),Zs((r,n)=>~(r|n),t._avec,this._avec))}xnor(t){return wi(t._bits==this._bits,"Vector3vl.xnor() called with vectors of different sizes"),new et(this._bits,Ev((r,n,i,s)=>~(r&i^(n|s)),t._avec,t._bvec,this._avec,this._bvec),Ev((r,n,i,s)=>~((r|i)&(n^s)),t._avec,t._bvec,this._avec,this._bvec))}not(){return new et(this._bits,this._bvec.map(t=>~t),this._avec.map(t=>~t))}xmask(){const t=Zs((r,n)=>r^n,this._avec,this._bvec);return new et(this._bits,t,t)}reduceAnd(){return new et(1,Uint32Array.of(oa((t,r)=>t&r,this._avec,this._lastmask,1)),Uint32Array.of(oa((t,r)=>t&r,this._bvec,this._lastmask,1)))}reduceOr(){return new et(1,Uint32Array.of(oa((t,r)=>t|r,this._avec,this._lastmask,0)),Uint32Array.of(oa((t,r)=>t|r,this._bvec,this._lastmask,0)))}reduceNand(){return new et(1,Uint32Array.of(~oa((t,r)=>t&r,this._bvec,this._lastmask,1)),Uint32Array.of(~oa((t,r)=>t&r,this._avec,this._lastmask,1)))}reduceNor(){return new et(1,Uint32Array.of(~oa((t,r)=>t|r,this._bvec,this._lastmask,0)),Uint32Array.of(~oa((t,r)=>t|r,this._avec,this._lastmask,0)))}reduceXor(){const t=Zs((i,s)=>~i&s,this._avec,this._bvec),r=oa((i,s)=>i|s,t,this._lastmask,0),n=oa((i,s)=>i^s,this._avec,this._lastmask,0);return new et(1,Uint32Array.of(n&~r),Uint32Array.of(n|r))}reduceXnor(){return this.reduceXor().not()}concat(...t){return et.concat(this,...t)}slice(t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._bits),r>this.bits&&(r=this.bits),t>r&&(r=t),la(t)==0){const n=this._avec.slice(t>>>5,r+31>>>5),i=this._bvec.slice(t>>>5,r+31>>>5);return new et(r-t,n,i)}else{const n=r-t+31>>>5,i=new Uint32Array(n),s=new Uint32Array(n);let o=0;i[o]=this._avec[t>>5]>>>t,s[o]=this._bvec[t>>5]>>>t;for(let a=(t>>5)+1;a<=r>>>5&&(i[o]|=this._avec[a]<<-t,s[o]|=this._bvec[a]<<-t,o++,o!=n);a++)i[o]=this._avec[a]>>>t,s[o]=this._bvec[a]>>>t;return new et(r-t,i,s)}}toIterator(t){return(t&t-1)==0?this.toIteratorPow2(t):this.toIteratorAnySkip(t)}*toIteratorAnySkip(t){this.normalize();const r=(1<<t)-1;let n=0,i=0,s=r;for(;n<this._bits;){let o=(this._avec[i]&s)>>>n,a=(this._bvec[i]&s)>>>n;if(s>>>n!=r&&i+1!=this._avec.length){const u=r>>-n;o|=(this._avec[i+1]&u)<<-n,a|=(this._bvec[i+1]&u)<<-n}yield o<<t|a,s<<=t,n+=t,s==0&&(i++,s=r<<n)}}*toIteratorPow2(t){this.normalize();const r=(1<<t)-1;let n=0,i=0,s=r;for(;n<this._bits;){const o=(this._avec[i]&s)>>>n,a=(this._bvec[i]&s)>>>n;yield o<<t|a,s<<=t,n+=t,s==0&&(i++,s=r)}}toArray(){this.normalize();const t=1,r=(1<<t)-1;let n=0,i=0,s=r,o=[];for(;n<this._bits;){const a=(this._avec[i]&s)>>>n,u=(this._bvec[i]&s)>>>n,c=a<<t|u;o.push(c-1-+(c>1)),s<<=t,n+=t,s==0&&(i++,s=r)}return o}toBin(){return n9(0,this._bits,this._avec,this._bvec)}toOct(){this.normalize();const t=3,r=(1<<t)-1;let n=0,i=0,s=r,o=[];for(;n<this._bits;){let a=(this._avec[i]&s)>>>n,u=(this._bvec[i]&s)>>>n;if(s>>>n!=r&&i+1!=this._avec.length){const f=r>>-n;a|=(this._avec[i+1]&f)<<-n,u|=(this._bvec[i+1]&f)<<-n}const c=a<<t|u;7&c&~(c>>3)?o.push("x"):o.push((c>>3).toString()),s<<=t,n+=t,s==0&&(i++,s=r<<n)}return o.reverse().join("")}toHex(){return this.normalize(),r9(0,this._bits,this._avec,this._bvec)}toString(){return"Vector3vl "+this.toBin()}toClonable(){return{_bits:this._bits,_avec:this._avec,_bvec:this._bvec}}toNumber(t=!1){return t?this.toNumberSigned():(wi(this.isFullyDefined,"Vector3vl.toNumber() called on a not fully defined vector"),wi(this._bits<32,"Vector3vl.toNumber() called on a too wide vector"),this._bits==0?0:Number.parseInt(this.toHex(),16))}toNumberSigned(){return wi(this.isFullyDefined,"Vector3vl.toNumberSigned() called on a not fully defined vector"),wi(this._bits<32,"Vector3vl.toNumberSigned() called on a too wide vector"),wi(this._bits>0,"Vector3vl.toNumberSigned() called on an empty vector"),this.msb==1?Number.parseInt(this.toHex(),16)-(1<<this._bits):Number.parseInt(this.toHex(),16)}toBigInt(t=!1){return t?this.toBigIntSigned():(wi(this.isFullyDefined,"Vector3vl.toBigInt() called on a not fully defined vector"),this._bits==0?BigInt(0):BigInt("0x"+this.toHex()))}toBigIntSigned(){return wi(this.isFullyDefined,"Vector3vl.toBigIntSigned() called on a not fully defined vector"),wi(this._bits>0,"Vector3vl.toBigIntSigned() called on an empty vector"),this.msb==1?BigInt("0x"+this.toHex())-(BigInt(1)<<BigInt(this._bits)):BigInt("0x"+this.toHex())}eq(t){if(t._bits!=this._bits)return!1;this.normalize(),t.normalize();for(const r in this._avec)if(this._avec[r]!=t._avec[r]||this._bvec[r]!=t._bvec[r])return!1;return!0}normalize(){const t=this._lastmask;this._avec[this._avec.length-1]&=t,this._bvec[this._bvec.length-1]&=t}get _lastmask(){return-1>>>-this.bits}}et.empty=et.zeros(0);et.one=et.ones(1);et.zero=et.zeros(1);et.x=et.xes(1);class Tl{constructor(t,r,n){n===void 0&&(n=0),this._bits=t|0,this._size=r|0,this._wpc=(t+31)/32|0,this._avec=new Uint32Array(r*this._wpc).fill(n>0?-1:0),this._bvec=new Uint32Array(r*this._wpc).fill(n>=0?-1:0),this._size&&this.set(this._size-1,this.get(this._size-1))}static fromData(t){if(t.length==0)return new Tl(0,0);const r=new Tl(t[0].bits,t.length);for(const n in t){t[n].normalize(),wi(t[n].bits==r._bits,"Mem3vl.fromData() called with vectors of different sizes");for(let i=0;i<r._wpc;i++){const s=Number(n)*r._wpc+i;r._avec[s]=t[n]._avec[i],r._bvec[s]=t[n]._bvec[i]}}return r}get bits(){return this._bits}get words(){return this._size}get(t){const r=this._wpc*t;return new et(this._bits,this._avec.slice(r,r+this._wpc),this._bvec.slice(r,r+this._wpc))}set(t,r){wi(r.bits==this._bits,"Mem3vl.set() called with a vector with different bit width than the memory"),r.normalize();for(let n=0;n<this._wpc;n++)this._avec[t*this._wpc+n]=r._avec[n],this._bvec[t*this._wpc+n]=r._bvec[n]}toJSON(){const t=[];let r=[],n,i=0;const s=()=>{if(r.length!=0){if(r.reduce((u,c)=>u+c.length,0)==this._bits){const u=r.pop();r.length>0&&t.push(r.join("")),t.push(u)}else t.push(r.join(""));r=[]}},o=()=>{i!=0&&(i==1?n.length==this._bits?(s(),t.push(n)):r.push(n):(s(),t.push(i),t.push(n)),n=void 0,i=0)},a=u=>{n==u?i++:(o(),n=u,i=1)};for(let u=0;u<this._size;u++){const c=()=>{for(let f=0;f<this._wpc;f++){const h=this._avec[u*this._wpc+f]^this._bvec[u*this._wpc+f];for(let p=0;p<4;p++){const _=255<<p*16,m=h&_;if(m!=_||m!=0)return!1}}return!0};this._bits>0&&c()?a(r9(u*this._wpc,this._bits,this._avec,this._bvec)):a(n9(u*this._wpc,this._bits,this._avec,this._bvec))}return o(),s(),t}static fromJSON(t,r){const n=Math.ceil(t/4);let i=0;const s=c=>c.length==t||c.length==n?1:c.length/n;for(let c=0;c<r.length;c++)typeof r[c]=="string"?i+=s(r[c]):typeof r[c]=="number"&&(i+=r[c]*s(r[c+1]),c++);const o=new Tl(t,i,-1);let a=0;const u=c=>{if(c.length==t)i9(c,a,t,o._avec,o._bvec),a+=o._wpc;else if(c.length==n)jE(c,a,t,o._avec,o._bvec),a+=o._wpc;else for(let f=0;f<c.length/n;f++)jE(c.slice(f*n,(f+1)*n),a,t,o._avec,o._bvec),a+=o._wpc};for(let c=0;c<r.length;c++)if(typeof r[c]=="string")u(r[c]);else if(typeof r[c]=="number"){for(const f of Array(r[c]).keys())u(r[c+1]);c++}return o}toArray(){return Array(this._size).fill(0).map((t,r)=>this.get(r))}toHex(){return this.toArray().map(t=>t.toHex())}eq(t){if(t._bits!=this._bits||t._size!=this._size)return!1;for(let r=0;r<this._size;r++)if(!t.get(r).eq(this.get(r)))return!1;return!0}}class ff{constructor(t){kv.set(this,void 0),this.pattern=t,gge(this,kv,RegExp("^(?:"+this.pattern+")$"),"f")}validate(t,r){return mge(this,kv,"f").test(t)}}kv=new WeakMap;class xge extends ff{constructor(){super("[0-9a-fx]*"),this.name="hex",this.sort=0}can(t,r){return!0}read(t,r){return et.fromHex(t,r)}show(t){return t.toHex()}size(t){return Math.ceil(t/4)}}class Sge extends ff{constructor(){super("[01x]*"),this.name="bin",this.sort=0}can(t,r){return!0}read(t,r){return et.fromBin(t,r)}show(t){return t.toBin()}size(t){return t}}class Ege extends ff{constructor(){super("[0-7x]*"),this.name="oct",this.sort=0}can(t,r){return!0}read(t,r){return et.fromOct(t,r)}show(t){return t.toOct()}size(t){return Math.ceil(t/3)}}class Age extends ff{constructor(){super("[0-9]*|x")}get name(){return"dec"}get sort(){return 0}can(t,r){return!0}read(t,r){return t=="x"?et.xes(r):et.fromNumber(BigInt(t),r)}show(t){return t.isFullyDefined?t.toBigInt().toString():"x"}size(t){return Math.max(1,Math.ceil(t/Math.log2(10)))}}class Tge extends ff{constructor(){super("-?[0-9]*|x")}get name(){return"dec2c"}get sort(){return 0}can(t,r){return r>0}read(t,r){return t=="x"?et.xes(r):et.fromNumber(BigInt(t),r)}show(t){return t.isFullyDefined?t.toBigIntSigned().toString():"x"}size(t){return 1+Math.ceil(t/Math.log2(10))}}class s9{constructor(){this.displays={},this.addDisplay(new xge),this.addDisplay(new Sge),this.addDisplay(new Ege),this.addDisplay(new Age),this.addDisplay(new Tge)}addDisplay(t){this.displays[t.name]=t}usableDisplays(t,r){const n=[];for(let i of Object.values(this.displays))i.can(t,r)&&n.push(i);return n.sort((i,s)=>i.sort-s.sort?i.sort-s.sort:i.name.localeCompare(s.name)).map(i=>i.name)}show(t,r){return this.displays[t].show(r)}read(t,r,n){return this.displays[t].read(r,n)}pattern(t){return this.displays[t].pattern}validate(t,r,n){return this.displays[t].validate(r,n)}size(t,r){return this.displays[t].size(r)}}const o9={tagName:"circle",attributes:{r:7,fill:"black","fill-opacity":.3,stroke:"black","stroke-width":2,cursor:"move"}},Pge=hge.extend(On.merge({},o9)),Cge=fge.extend(On.merge({},o9)),a9=UE.extend({update(){return this.relatedView.isShortWire()?(this.options.distance=this.options.distanceShort||this.options.distance,this.options.secondary&&this.hide()):this.options.distance=this.options.distanceLong||this.options.distance,UE.prototype.update.apply(this,arguments)}}),M4=a9.extend({name:"remove",children:I4.prototype.children,options:I4.prototype.options}),k4=a9.extend({name:"monitor",children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#001DFF",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"m -2.5,-0.5 a 2,2 0 1 0 4,0 2,2 0 1 0 -4,0 M 1,1 3,3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{action(e){this.notify("link:monitor")}}}),sp={wire:{stroke:"#4B4F6A",x1:0,y1:0,x2:void 0,y2:0},port:{magnet:void 0,r:7,stroke:"black",fill:"white",strokeWidth:2,strokeOpacity:.5},bits:{ref:"port",fill:"black",fontSize:"7pt"},iolabel:{textVerticalAnchor:"middle",fill:"black",fontSize:"8pt"},decor:{stroke:"black",fill:"transparent"}},Sn=gs.define("Gate",{propagation:1,label:"",size:{width:80,height:30},inputSignals:{},outputSignals:{},attrs:{".":{magnet:!1},body:{stroke:"black",strokeWidth:2},text:{fontSize:"8pt",fill:"black"},label:{refX:.5,refDy:3,textAnchor:"middle"}},ports:{groups:{in:{position:"left",attrs:On.merge({},sp,{wire:{x2:-25},port:{magnet:"passive",refX:-25},bits:{refDx:1,refY:-3,textAnchor:"start"},iolabel:{refX:5,textAnchor:"start"}})},out:{position:"right",attrs:On.merge({},sp,{wire:{x2:25},port:{magnet:!0,refX:25},bits:{refX:-1,refY:-3,textAnchor:"end"},iolabel:{refX:-5,textAnchor:"end"}})}}},z:1},{operation(){return{}},initialize(){const e=this.get("ports");e.items&&this._preprocessPorts(e.items),gs.prototype.initialize.apply(this,arguments),this.prepare(),this.bindAttrToProp("label/text","label"),this._unsupportedPropChanges.length>0&&this.on(this._unsupportedPropChanges.map(t=>"change:"+t).join(" "),(t,r,n)=>{if(n.init)return;const i=On.intersection(Object.keys(this.changed),this._unsupportedPropChanges);i.forEach(s=>{this.set(s,this.previous(s),{init:!0})}),console.warn('Beta property change support: "'+i+'" changes on '+this.get("type")+" are (currently) not supported.")})},prepare(){},bindAttrToProp(e,t){this.attr(e,this.get(t)),this.on("change:"+t,(r,n)=>this.attr(e,n))},_changeOutputSignals(e){On.chain(this.graph.getConnectedLinks(this,{outbound:!0})).groupBy(t=>t.get("source").port).forEach((t,r)=>t.forEach(n=>n.set("signal",e[r]))).value()},_setInput(e,t){const r=On.clone(this.get("inputSignals"));r[t]=e,this.set("inputSignals",r)},_clearInput(e){const t=this.getPort(e).bits;this._setInput(et.xes(t),e)},_preprocessPorts(e){this._resetPortsSignals(e);for(const t of e){if(t.attrs={},t.attrs.bits={text:this._getBitsText(t.bits)},t.labelled){const r={text:"portlabel"in t?t.portlabel:t.id};t.polarity===!1&&(r["text-decoration"]="overline"),t.decor&&(console.assert(t.group=="in"),r.refX=10),t.attrs.iolabel=r}t.decor&&(t.attrs.decor={d:t.decor})}},_setPortsBits(e){const t=On.cloneDeep(this.get("ports")),r=[];for(const n in e){const i=e[n],s=t.items.find(function(o){return o.id&&o.id===n});s.bits=i,s.attrs.bits.text=this._getBitsText(i),r.push(s)}this._resetPortsSignals(r),this.set("ports",t),this.graph.getConnectedLinks(this,{outbound:!0}).filter(n=>n.get("source").port in e).forEach(n=>n._changeSource(n.get("source"))),this.graph.getConnectedLinks(this,{inbound:!0}).filter(n=>n.get("target").port in e).forEach(n=>n._changeTarget(n.get("target")))},_getBitsText(e){return e>1?e:""},_resetPortValue(e){return et.xes(e.bits)},_resetPortsSignals(e){const t={in:this.get("inputSignals"),out:this.get("outputSignals")};for(const r of e)console.assert(r.bits>=0),t[r.dir][r.id]=this._resetPortValue(r);this.set("inputSignals",t.in),this.set("outputSignals",t.out)},_removePortsSignals(e){const t={in:this.get("inputSignals"),out:this.get("outputSignals")};for(const r of e)delete t[r.dir][r.id];this.set("inputSignals",t.in),this.set("outputSignals",t.out)},addPort(e){this.addPorts([e])},addPorts(e){this._preprocessPorts(e),gs.prototype.addPorts.apply(this,arguments)},removePort(e,t){this.removePorts([e])},removePorts(e,t){this._removePortsSignals(e),gs.prototype.removePorts.apply(this,arguments)},_getStackedPosition(e){return function(t,r){const n=e.side||"left",i=e.step||16,s=e.offset||12,o=n=="left"?r.topLeft().x:n=="right"?r.topRight().x:void 0,a=n=="top"?r.topLeft().y:n=="bottom"?r.bottomRight().y:void 0;return o!==void 0?On.map(t,function(u,c){return c+=u.idxOffset||0,ge({x:o,y:c*i+s})}):On.map(t,function(u,c){return c+=u.idxOffset||0,ge({x:c*i+s,y:a})})}},getLayoutSize(){return this.size()},setLayoutPosition(e){this.set("position",{x:e.x,y:e.y})},portMarkup:[{tagName:"line",className:"wire",selector:"wire"},{tagName:"circle",className:"port",selector:"port"},{tagName:"text",className:"bits",selector:"bits"},{tagName:"text",className:"iolabel",selector:"iolabel"},{tagName:"path",className:"decor",selector:"decor"}],markup:[{tagName:"text",className:"label",selector:"label"}],getGateParams(e){return On.cloneDeep(On.pick(this.attributes,this._gateParams.concat(e?this._gateLayoutParams:[])))},_gateParams:["label","type","propagation","source_positions"],_gateLayoutParams:["position"],_unsupportedPropChanges:[],_operationHelpers:[],_presentationParams:[]}),Qt=xi.extend({attrs:{signal:{high:{port:{stroke:"#03c03c"}},low:{port:{stroke:"#fc7c68"}},def:{port:{stroke:"#779ecb"}},undef:{port:{stroke:"#999"}}}},presentationAttributes:xi.addPresentationAttributes({inputSignals:"SIGNAL",outputSignals:"SIGNAL2"}),stopprop(e){e.stopPropagation()},confirmUpdate(e){this.hasFlag(e,"SIGNAL")&&this._updatePortSignals("in"),this.hasFlag(e,"SIGNAL2")&&this._updatePortSignals("out"),xi.prototype.confirmUpdate.apply(this,arguments)},_updatePortSignals(e){const t=e==="in"?this.model.get("inputSignals"):e==="out"?this.model.get("outputSignals"):On.merge({},this.model.get("inputSignals"),this.model.get("outputSignals"));for(const r in t){const n=t[r],i=this.attrs.signal[n.isDefined?n.isHigh?"high":n.isLow?"low":"def":"undef"];this._applyPortAttrs(r,i)}},_applyAttrs(e){for(const t in e){const r=this.selectors[t];this.setNodeAttributes(r,e[t])}},_applyPortAttrs(e,t){if(e in this._portElementsCache)for(const r in t){const n=this._portElementsCache[e].portSelectors[r];this.setNodeAttributes(n,t[r])}},_updatePorts(){xi.prototype._updatePorts.apply(this,arguments),this._updatePortSignals()}}),u9=Mv.define("Wire",{attrs:{line:{class:"connection",targetMarker:null},wrapper:{stroke:"red"}},signal:et.xes(1),bits:1,warning:!1,z:0},{initialize(){Mv.prototype.initialize.apply(this,arguments),this.has("netname")&&this.label(0,{markup:[{tagName:"text",selector:"label"}],attrs:{label:{text:this.get("netname"),fill:"black",fontSize:"8pt"}},position:{distance:.5}})},onAdd(){this._changeSource(this.get("source")),this._was_added=!0},remove(){const e=this.get("target"),t=this.graph.getCell(e.id);t&&"port"in e&&t._clearInput(e.port),Mv.prototype.remove.apply(this,arguments)},_propagateSignal(e,t){const r=this.getTargetElement();r&&(this.get("warning")?r._clearInput(e.port):r._setInput(t,e.port))},_changeSignal(e){this._propagateSignal(this.get("target"),e)},_changeSource(e){const t=this.getSourceElement();t&&"port"in e?(this.set("bits",t.getPort(e.port).bits),this._checkConnection(),this.set("signal",t.get("outputSignals")[e.port])):this.set("signal",et.xes(this.get("bits")))},_changeTarget(e){if(this._checkConnection(),"port"in e&&this._propagateSignal(e,this.get("signal")),!this.hasChanged("target"))return;const t=this.previous("target"),r=this.graph.getCell(t.id);r&&"port"in t&&r._clearInput(t.port)},_checkConnection(){const e=this.get("target"),t=this.graph.getCell(e.id);this.set("warning",t&&t.getPort(e.port).bits!==this.get("bits")||!1,{silent:!this._was_added})},getWireParams(e){const t={from:{id:this.get("source").id,port:this.get("source").port},to:{id:this.get("target").id,port:this.get("target").port}};return this.has("netname")&&(t.name=this.get("netname")),e&&this.has("vertices")&&this.get("vertices").length>0&&(t.vertices=On.cloneDeep(this.get("vertices"))),t},getWirePath(){const e=[];for(let t=this.graph.get("subcircuit");t!=null;t=t.graph.get("subcircuit")){if(!t.has("label"))return null;e.push(t.get("label"))}return e.reverse()}}),Rge=Ki.extend({initFlag:Ki.prototype.initFlag.concat(["INIT"]),longWireLength:400,attrs:{signal:{high:{line:{stroke:"#03c03c"}},low:{line:{stroke:"#fc7c68"}},def:{line:{stroke:"#779ecb"}},undef:{line:{stroke:"#999"}}},bits:{bus:{line:{"stroke-width":"4px"}},single:{line:{"stroke-width":"2px"}}},warning:{warn:{wrapper:{"stroke-opacity":"0.5"}},none:{wrapper:{"stroke-opacity":"0"}}}},_wireToolsView:typeof window<"u"?new nge({tools:[new cge({focusOpacity:.5}),new Pge,new Cge,new M4({distanceShort:"75%",distanceLong:"50"}),new M4({distance:"-50",secondary:!0}),new k4({distanceShort:"25%",distanceLong:"30"}),new k4({distance:"-30",secondary:!0})]}):null,presentationAttributes:Ki.addPresentationAttributes({signal:"SIGNAL",bits:"BITS",warning:"WARNING"}),initialize(){Ki.prototype.initialize.apply(this,arguments),this.prevModels={source:null,target:null}},confirmUpdate(e){Ki.prototype.confirmUpdate.apply(this,arguments),this.hasFlag(e,"SIGNAL")&&this._updateSignal(),this.hasFlag(e,"BITS")&&this._updateBits(),this.hasFlag(e,"WARNING")&&this._updateWarning()},isShortWire(){return this.getConnectionLength()<this.longWireLength},_updateSignal(){const e=this.model.get("signal"),t=this.attrs.signal[e.isDefined?e.isHigh?"high":e.isLow?"low":"def":"undef"];this._applyAttrs(t)},_updateBits(){const e=this.model.get("bits"),t=this.attrs.bits[e>1?"bus":"single"];this._applyAttrs(t)},_updateWarning(){const e=this.model.get("warning"),t=this.attrs.warning[e?"warn":"none"];this._applyAttrs(t)},_applyAttrs(e){for(const t in e){const r=this.selectors[t];this.setNodeAttributes(r,e[t])}},update(){Ki.prototype.update.apply(this,arguments),this._updateSignal(),this._updateBits(),this._updateWarning()},onRemove(){Ki.prototype.onRemove.apply(this,arguments),this._removeTooltip()},mouseenter(e){Ki.prototype.mouseenter.apply(this,arguments),this.addTools(this._wireToolsView),this._addTooltip({x:e.clientX+5,y:e.clientY+5})},mouseleave(e){Ki.prototype.mouseleave.apply(this,arguments),this.removeTools(),this._removeTooltip()},_addTooltip(e){this.model.get("bits")!=1&&(this.wire_hover||(this.wire_hover=Mt('<div class="wire_hover">').css("left",e.x).css("top",e.y).appendTo(Mt(document.body)),this._generateTextForTooltip(),this.listenTo(this.model,"change:signal",this._generateTextForTooltip)))},_removeTooltip(){this.wire_hover&&(this.wire_hover.remove(),this.wire_hover=null,this.stopListening(this.model,"change:signal",this._generateTextForTooltip))},_generateTextForTooltip(){if(!this.wire_hover)return;const e=this.model.get("signal"),t=this.model.graph._display3vl,r=["Hex: "+t.show("hex",e)+"<br>","Dec: "+t.show("dec",e)+"<br>","Oct: "+t.show("oct",e)+"<br>","Bin: "+t.show("bin",e)].join("");this.wire_hover.html(r)},onEndModelChange(e,t,r){typeof t=="object"&&t!=null&&t==this.prevModels[e]&&Object.keys(t.changed).length>0&&!("position"in t.changed)||(Ki.prototype.onEndModelChange.apply(this,arguments),this.prevModels[e]=t)}}),Gt=Sn.define("Box",{attrs:{body:{refWidth:1,refHeight:1},tooltip:{refX:0,refY:-30,height:30}}},{initialize(){Sn.prototype.initialize.apply(this,arguments),this.on("change:size",(e,t)=>{t.width>this.tooltipMinWidth?this.attr("tooltip",{refWidth:1,width:null}):this.attr("tooltip",{refWidth:null,width:this.tooltipMinWidth})}),this.trigger("change:size",this,this.prop("size"))},markup:Sn.prototype.markup.concat([{tagName:"rect",className:"body",selector:"body"}]),markupZoom:[{tagName:"foreignObject",className:"tooltip",selector:"tooltip",children:[{tagName:"body",namespaceURI:"http://www.w3.org/1999/xhtml",children:[{tagName:"a",className:"zoom",textContent:"ð",style:{cursor:"pointer"}}]}]}],tooltipMinWidth:20,decorClock:"M"+[[0,-6],[6,0],[0,6]].map(e=>e.join(" ")).join(" L")}),oi=Qt.extend({_autoResizeBox:!1,render(){Qt.prototype.render.apply(this,arguments),this._autoResizeBox&&!this.model.get("box_resized")&&(this.model.set("box_resized",!0),this.model.prop("size/width",this._calculateBoxWidth()))},_calculateBoxWidth(){const e=Array.from(this.el.querySelectorAll("[port-group=in] > text.iolabel")),t=Array.from(this.el.querySelectorAll("[port-group=out] > text.iolabel")),r=Math.max(...e.map(o=>o.getBBox().width)),n=Math.max(...t.map(o=>o.getBBox().width)),i=o=>o==-1/0?-5:o;return i(r)+i(n)+25}}),ds=Gt.define("NumBase",{numbase:"hex",bits:1},{initialize(){Gt.prototype.initialize.apply(this,arguments),this.on("change:bits",(e,t)=>{this.graph._display3vl.usableDisplays(this.numbaseType,this.get("bits")).includes(this.get("numbase"))||this.set("numbase","hex")})},tooltipMinWidth:70,markupTooltip:[{tagName:"foreignObject",className:"tooltip",selector:"tooltip",children:[{tagName:"body",namespaceURI:"http://www.w3.org/1999/xhtml",children:[{tagName:"select",className:"numbase"}]}]}],_gateParams:Gt.prototype._gateParams.concat(["numbase"])}),Au=oi.extend({presentationAttributes:oi.addPresentationAttributes({bits:"BITS",numbase:"NUMBASE"}),_autoResizeBox:!0,events:{"click select.numbase":"stopprop","mousedown select.numbase":"stopprop","touchstart select.numbase":"stopprop","change select.numbase":"_changeNumbase"},_changeNumbase(e){this.model.set("numbase",e.target.value||"bin")},_calculateBoxWidth(){const e=document.createElementNS("http://www.w3.org/2000/svg","text");Mt(e).text(Array(this.model.get("bits")).fill("0").join("")).attr("class","numvalue").appendTo(this.$el);const t=e.getBBox().width+20;return e.remove(),t},confirmUpdate(e){oi.prototype.confirmUpdate.apply(this,arguments),(this.hasFlag(e,"BITS")||this.hasFlag(e,"RENDER"))&&this._makeNumBaseSelector(),this.hasFlag(e,"NUMBASE")&&this._updateNumBaseSelector()},_makeNumBaseSelector(){this.$("select.numbase").empty();const e=this.model.get("numbase"),t=this.model.graph._display3vl;for(const r of t.usableDisplays(this.model.numbaseType,this.model.get("bits")))Mt("<option>").attr("value",r).prop("selected",r==e).text(r).appendTo(this.$("select.numbase"))},_updateNumBaseSelector(){this.$("select.numbase").val(this.model.get("numbase"))}}),Mo=ds.define("IO",{bits:1,net:"",propagation:0,mode:-1,attrs:{ioname:{refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontWeight:"bold",fontSize:"10pt"}}},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:this._portDirection,group:this._portDirection,dir:this._portDirection,bits:e}],ds.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{const n={};n[this._portDirection]=r,this._setPortsBits(n),this.get("mode")!=0&&this._checkMode()}),this.bindAttrToProp("text.ioname/text","net")},onAdd(){this._checkMode()},_checkMode(){const e=this.graph&&this.graph.has("subcircuit"),t=this.get("bits"),r=e?0:t==1?1:2;return this.set("mode",r),this.set("box_resized",!1),this.set("markup",r==0?this.markupInSubcircuit:r==1?this.markupSingle:this.markupBus),r},_setPortsBits(e){if(ds.prototype._setPortsBits.apply(this,arguments),this.get("mode")!=0)return;const t=this.graph.get("subcircuit");console.assert(t!=null);const r={};r[this.get("net")]=e[this._portDirection],t._setPortsBits(r)},markupSingle:ds.prototype.markup,markupBus:ds.prototype.markup.concat(ds.prototype.markupTooltip),markupInSubcircuit:ds.prototype.markup.concat([{tagName:"text",className:"ioname",selector:"ioname"}]),_gateParams:ds.prototype._gateParams.concat(["bits","net","order"])}),da=Au.extend({_calculateBoxWidth(){switch(this.model.get("mode")){case 0:const e=this.selectors.ioname;return e.getAttribute("display")!=="none"?e.getBBox().width+10:20;case 1:return 30;case 2:return Au.prototype._calculateBoxWidth.call(this)}}}),sd=Mo.define("Input",{attrs:{btnface:{stroke:"black",strokeWidth:2,refX:.2,refY:.2,refHeight:.6,refWidth:.6,cursor:"pointer"},"foreignObject.valinput":{refX:.5,refY:.5,refWidth:-10,refHeight:-10,xAlignment:"middle",yAlignment:"middle"}}},{isInput:!0,_portDirection:"out",_resetPortValue(e){if(e.id=="out"&&e.dir=="out"){const t=this.get("bits");return this.get("mode")==1?et.zeros(t):et.xes(t)}else return Mo.prototype._resetPortValue.call(this,e)},_checkMode(){Mo.prototype._checkMode.call(this),this._resetPortsSignals([this.get("ports").items[0]])},setInput(e){this._setInput(e),this.trigger("userChange",this)},toggleInput(){this.setInput(this.get("outputSignals").out.not())},_setInput(e){if(e.bits!=this.get("bits"))throw new Error("setInput: wrong number of bits");this.set("outputSignals",{out:e})},markupSingle:Mo.prototype.markupSingle.concat([{tagName:"rect",className:"btnface",selector:"btnface"}]),markupBus:Mo.prototype.markupBus.concat([{tagName:"foreignObject",className:"valinput",children:[{tagName:"body",namespaceURI:"http://www.w3.org/1999/xhtml",children:[{tagName:"input",attributes:{type:"text"}}]}]}]),numbaseType:"read"}),ET=da.extend({attrs:On.merge({button:{high:{btnface:{fill:"black"}},low:{btnface:{fill:"white"}}}},da.prototype.attrs),confirmUpdate(e){da.prototype.confirmUpdate.apply(this,arguments),(this.hasFlag(e,"SIGNAL2")||this.hasFlag(e,"NUMBASE"))&&this._updateView()},_updateView(){switch(this.model.get("mode")){case 1:this._updateButton();break;case 2:this._updateNumEntry();break}},_updateButton(){const e=this.model.get("outputSignals").out,t=this.attrs.button[e.isHigh?"high":"low"];this._applyAttrs(t)},_updateNumEntry(){const e=this.model.graph._display3vl;this.$("input").val(e.show(this.model.get("numbase"),this.model.get("outputSignals").out)),this.$("input").removeClass("invalid")},render(){da.prototype.render.apply(this,arguments),this._updateView()},events:On.merge({"click .btnface":"_onButton","mousedown .btnface":"stopprop","touchstart .btnface":"stopprop","click input":"stopprop","mousedown input":"stopprop","touchstart input":"stopprop","change input":"_onNumEntry"},Au.prototype.events),_onButton(){this.model.toggleInput()},_onNumEntry(e){const t=this.model.get("numbase"),r=this.model.get("bits"),n=this.model.graph._display3vl;if(n.validate(t,e.target.value,r)){const i=n.read(t,e.target.value,r);this.model.setInput(i)}else this.$("input").addClass("invalid")}}),c9=sd,Ige=ET,l9=sd,Oge=ET,od=Mo.define("Output",{attrs:{led:{refX:.5,refY:.5,refR:.35},value:{refX:.5,refY:.5,textVerticalAnchor:"middle",text:"0"}}},{isOutput:!0,_portDirection:"in",getOutput(){return this.get("inputSignals").in},markupSingle:Mo.prototype.markupSingle.concat([{tagName:"circle",className:"led",selector:"led"}]),markupBus:Mo.prototype.markupBus.concat([{tagName:"text",className:"value numvalue",selector:"value"}]),numbaseType:"show"}),AT=da.extend({attrs:On.merge({lamp:{high:{led:{fill:"#03c03c"}},low:{led:{fill:"#fc7c68"}},undef:{led:{fill:"#bfc5c6"}}}},da.prototype.attrs),confirmUpdate(e){da.prototype.confirmUpdate.apply(this,arguments),(this.hasFlag(e,"SIGNAL")||this.hasFlag(e,"NUMBASE"))&&this._updateView()},_updateView(){switch(this.model.get("mode")){case 1:this._updateLamp();break;case 2:this._updateNumDisplay();break}},_updateLamp(){const e=this.model.get("inputSignals").in,t=this.attrs.lamp[e.isHigh?"high":e.isLow?"low":"undef"];this._applyAttrs(t)},_updateNumDisplay(){const e=this.model.graph._display3vl;this.$("text.value tspan").text(e.show(this.model.get("numbase"),this.model.get("inputSignals").in))},render(){da.prototype.render.apply(this,arguments),this._updateView()}}),f9=od,Mge=AT,h9=od,kge=AT,d9=ds.define("Constant",{constant:"0",propagation:0,attrs:{value:{refX:.5,refY:.5,textVerticalAnchor:"middle",text:"0"}}},{initialize(){const t=this.get("constant").length;this.set("bits",t),this.get("ports").items=[{id:"out",group:"out",dir:"out",bits:t}],ds.prototype.initialize.apply(this,arguments),this.on("change:constant",(r,n)=>{const i=n.length;this._setPortsBits({out:i}),this.set("bits",i),this.set("constantCache",et.fromBin(n,i))})},prepare(){const e=this.get("constant"),t=e.length;this.set("constantCache",et.fromBin(e,t))},operation(){return{out:this.get("constantCache")}},markup:ds.prototype.markup.concat([{tagName:"text",className:"value numvalue",selector:"value"}]),_gateParams:ds.prototype._gateParams.concat(["constant"]),numbaseType:"show"}),Lge=Au.extend({presentationAttributes:Au.addPresentationAttributes({constantCache:"CONSTANT"}),confirmUpdate(e){Au.prototype.confirmUpdate.apply(this,arguments),(this.hasFlag(e,"CONSTANT")||this.hasFlag(e,"NUMBASE"))&&this._showText()},_showText(){const e=this.model.graph._display3vl;this.$("text.value tspan").text(e.show(this.model.get("numbase"),this.model.get("constantCache")))},update(){Au.prototype.update.apply(this,arguments),this._showText()}}),v9=Gt.define("Clock",{propagation:100,ports:{items:[{id:"out",group:"out",dir:"out",bits:1}]},size:{width:30,height:30}},{_resetPortValue(e){return e.id=="out"&&e.dir=="out"?et.zero:Gt.prototype._resetPortValue(e)},operation(){return{out:this.get("outputSignals").out.not(),_clock_hack:!0}},tooltipMinWidth:55,markup:Gt.prototype.markup.concat([{tagName:"path",className:"decor",attributes:{d:"M7.5 7.5 L7.5 22.5 L15 22.5 L15 7.5 L22.5 7.5 L22.5 22.5",stroke:"black"}},{tagName:"foreignObject",className:"tooltip",selector:"tooltip",children:[{tagName:"body",namespaceURI:"http://www.w3.org/1999/xhtml",children:[{tagName:"input",attributes:{type:"number",min:1,step:1}}]}]}]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["bits"])}),Nge=oi.extend({presentationAttributes:oi.addPresentationAttributes({propagation:"SIGNAL"}),events:{"click input":"stopprop","mousedown input":"stopprop","touchstart input":"stopprop","change input":"_changePropagation","input input":"_changePropagation"},render(e){oi.prototype.render.apply(this,arguments),this.updatePropagation()},confirmUpdate(e){oi.prototype.confirmUpdate.apply(this,arguments),this.hasFlag(e,"SIGNAL")&&this.updatePropagation()},_changePropagation(e){const t=e.target.value,r=String(t)==String(Number(t));r&&this.model.set("propagation",Number(t)||1),this.$("input").toggleClass("invalid",!r)},updatePropagation(){this.$("input").val(this.model.get("propagation"))}}),L4=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","HT","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","SP","DEL"];class qge extends ff{constructor(){super("[ -~Â -Ã¿ï¿½â-â¡]|"+L4.join("|"))}get name(){return"ascii"}get sort(){return 1}can(t,r){return r==7||r==8}read(t,r){if(t.length==1){const n=t.charCodeAt(0);return n==65533?et.xes(r):n==9249?et.fromHex("7f",r):n>=9216&&n<=9248?et.fromHex((n-9216).toString(16),r):et.fromHex(n.toString(16),r)}else{const n=L4.indexOf(t);return n<0?et.xes(r):n==33?et.fromHex("7f",r):et.fromHex(n.toString(16),r)}}show(t){if(!t.isFullyDefined)return"ï¿½";const r=parseInt(t.toHex(),16);return r<=32?String.fromCharCode(9216+r):r==127?"â¡":r>127&&r<160?"ï¿½":String.fromCharCode(r)}size(t){return 1}}function TT(e,t,r){return'<select name="base">'+e.usableDisplays("read",t).map(i=>'<option value="'+i+'"'+(i==r?' selected="selected"':"")+">"+i+"</option>").join("")+"</select>"}function HE(e,t){for(const r in t)if(!e[r].eq(t[r]))return!1;return!0}const Cg="M19 0v32h16c9 0 16-7 16-16S44 0 35 0H20z",ju="M14.3 0l1.6 2s4.5 5.6 4.5 14s-4.5 14-4.5 14l-1.6 2H28c3.8 0 16.6-.5 25-16h0A28 28 0 0028 0H16.8z",p9="M18-2v36l2-1 32-17h0L20-1z",Dge="M6.8-1.2 10 2.7S14.2 8 14.2 16S10 29.3 10 29.3l-3.2 3.9H10l1.7-2.4s4.8-6 4.8-14.8c0-8.9-4.8-14.8-4.8-14.8l-1.7-2.4z",Rg={tagName:"path",selector:"xor_arc",attributes:{fill:"#000",d:Dge}},Vc={tagName:"circle",className:"body",selector:"neg_bubble",attributes:{stroke:"#000","stroke-width":"2px",cx:56,cy:16,r:4}};function su(e=[]){return{tagName:"g",selector:"body",children:[{tagName:"path",className:"body gate",selector:"gate"}].concat(e)}}const ha=Sn.define("GateSVG",{bits:1,size:{width:60,height:32},ports:{groups:{in:{position:{name:"left",args:{dx:30}},attrs:{wire:{x2:-50},port:{refX:-50}},z:-1},out:{position:{name:"right",args:{dx:-30}},attrs:{wire:{x2:50},port:{refX:50}},z:-1}}}},{markup:Sn.prototype.markup.concat([su()]),_gateParams:Sn.prototype._gateParams.concat(["bits"])}),PT=ha.define("Gate11",{},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e},{id:"out",group:"out",dir:"out",bits:e}],ha.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits({in:r,out:r})})}}),Gc=ha.define("GateX1",{inputs:2,attrs:{gate:{"vector-effect":"non-scaling-stroke"},xor_arc:{"vector-effect":"non-scaling-stroke"},neg_bubble:{"vector-effect":"non-scaling-stroke"}}},{initialize(){const e=this.get("bits"),t=this.get("inputs"),r=[];for(let i=1;i<=t;i++)r.push({id:"in"+i,group:"in",dir:"in",bits:e});r.push({id:"out",group:"out",dir:"out",bits:e}),this.get("ports").items=r;const n=t/2;this.set("size",{width:60*n,height:32*n}),this.attr("body/transform","translate(-4, 0) scale("+n+")"),this.prop("ports/groups/in/position/args/dx",30*n),this.prop("ports/groups/in/attrs/wire/x2",-30*n-20),this.prop("ports/groups/in/attrs/port/refX",-30*n-20),this.prop("ports/groups/out/position/args/dx",-30*n),this.prop("ports/groups/out/attrs/wire/x2",30*n+20),this.prop("ports/groups/out/attrs/port/refX",30*n+20),ha.prototype.initialize.apply(this,arguments),this.on("change:bits",(i,s)=>{const o=this.get("inputs"),a={out:s};for(let u=1;u<=o;u++)a["in"+u]=s;this._setPortsBits(a)})},operation(e){let t=e.in1;for(let r=2;r<=this.get("inputs");r++)t=this.binoperation(t,e["in"+r]);return{out:this.finoperation(t)}},finoperation(e){return e},_gateParams:ha.prototype._gateParams.concat(["inputs"]),_unsupportedPropChanges:ha.prototype._unsupportedPropChanges.concat(["inputs"]),_operationHelpers:ha.prototype._operationHelpers.concat(["binoperation","finoperation"])}),Mu=ha.define("GateReduce",{},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e},{id:"out",group:"out",dir:"out",bits:1}],ha.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits({in:r})})}}),g9=PT.define("Repeater",{attrs:{gate:{d:p9}}},{operation(e){return{out:e.in}}}),Fge=Qt,m9=PT.define("Not",{attrs:{gate:{d:p9}}},{operation(e){return{out:e.in.not()}},markup:Sn.prototype.markup.concat([su([Vc])])}),Bge=Qt,_9=Gc.define("Or",{attrs:{gate:{d:ju}}},{binoperation(e,t){return e.or(t)}}),zge=Qt,y9=Gc.define("And",{attrs:{gate:{d:Cg}}},{binoperation(e,t){return e.and(t)}}),Vge=Qt,b9=Gc.define("Nor",{attrs:{gate:{d:ju}}},{binoperation(e,t){return e.or(t)},finoperation(e){return e.not()},markup:Sn.prototype.markup.concat([su([Vc])])}),Gge=Qt,w9=Gc.define("Nand",{attrs:{gate:{d:Cg}}},{binoperation(e,t){return e.and(t)},finoperation(e){return e.not()},markup:Sn.prototype.markup.concat([su([Vc])])}),$ge=Qt,x9=Gc.define("Xor",{attrs:{gate:{d:ju}}},{binoperation(e,t){return e.xor(t)},markup:Sn.prototype.markup.concat([su([Rg])])}),Uge=Qt,S9=Gc.define("Xnor",{attrs:{gate:{d:ju}}},{binoperation(e,t){return e.xor(t)},finoperation(e){return e.not()},markup:Sn.prototype.markup.concat([su([Rg,Vc])])}),jge=Qt,WE=Mu.define("OrReduce",{attrs:{gate:{d:ju}}},{operation(e){return{out:e.in.reduceOr()}}}),Hge=Qt,XE=Mu.define("NorReduce",{attrs:{gate:{d:ju}}},{operation(e){return{out:e.in.reduceNor()}},markup:Mu.prototype.markup.concat([Vc])}),Wge=Qt,E9=Mu.define("AndReduce",{attrs:{gate:{d:Cg}}},{operation(e){return{out:e.in.reduceAnd()}}}),Xge=Qt,A9=Mu.define("NandReduce",{attrs:{gate:{d:Cg}}},{operation(e){return{out:e.in.reduceNand()}},markup:Sn.prototype.markup.concat([su([Vc])])}),Yge=Qt,T9=Mu.define("XorReduce",{attrs:{gate:{d:ju}}},{operation(e){return{out:e.in.reduceXor()}},markup:Sn.prototype.markup.concat([su([Rg])])}),Kge=Qt,P9=Mu.define("XnorReduce",{attrs:{gate:{d:ju}}},{operation(e){return{out:e.in.reduceXnor()}},markup:Sn.prototype.markup.concat([su([Rg,Vc])])}),Zge=Qt;function YE(e){return e<=Number.MAX_SAFE_INTEGER&&e>=-Number.MAX_SAFE_INTEGER}const Si=Sn.define("Arith",{size:{width:40,height:40},attrs:{body:{refR:.5,refCx:.5,refCy:.5},oper:{refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontSize:"12pt"}},ports:{groups:{in:{position:{name:"left",args:{dx:10}},attrs:{wire:{x2:-35},port:{refX:-35}},z:-1},out:{position:{name:"right",args:{dx:-10}},attrs:{wire:{x2:35},port:{refX:35}},z:-1}}}},{markup:Sn.prototype.markup.concat([{tagName:"circle",className:"body",selector:"body"},{tagName:"text",className:"oper",selector:"oper"}]),_gateParams:Sn.prototype._gateParams.concat(["bits","signed"]),_unsupportedPropChanges:Sn.prototype._unsupportedPropChanges.concat(["signed"])}),CT=Si.define("Arith11",{bits:{in:1,out:1},signed:!1},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.in},{id:"out",group:"out",dir:"out",bits:e.out}],Si.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits(r)})},operation(e){const t=this.get("bits");return e.in.isFullyDefined?{out:et.fromNumber(this.arithop(e.in.toBigInt(this.get("signed"))),t.out)}:{out:et.xes(t.out)}},_operationHelpers:Si.prototype._operationHelpers.concat(["arithop"])}),$c=Si.define("Arith21",{bits:{in1:1,in2:1,out:1},signed:{in1:!1,in2:!1}},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in1",group:"in",dir:"in",bits:e.in1},{id:"in2",group:"in",dir:"in",bits:e.in2},{id:"out",group:"out",dir:"out",bits:e.out}],Si.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits(r)})},operation(e){const t=this.get("bits"),r=this.get("signed");return!e.in1.isFullyDefined||!e.in2.isFullyDefined?{out:et.xes(t.out)}:{out:et.fromNumber(this.arithop(e.in1.toBigInt(r.in1&&r.in2),e.in2.toBigInt(r.in1&&r.in2)),t.out)}},_operationHelpers:Si.prototype._operationHelpers.concat(["arithop"])});function KE(e,t,r,n,i,s,o){const a=e.get(e.bits-1),u=et.make(Math.max(0,n-r),o?0:i?a:-1),c=e.concat(u);return(t<0?et.make(-t,o?0:-1).concat(c):c.slice(t).concat(et.make(t,o?0:s?c.get(c.bits-1):-1))).slice(0,n)}const RT=Si.define("Shift",{bits:{in1:1,in2:1,out:1},signed:{in1:!1,in2:!1,out:!1},fillx:!1},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in1",group:"in",dir:"in",bits:e.in1},{id:"in2",group:"in",dir:"in",bits:e.in2},{id:"out",group:"out",dir:"out",bits:e.out}],Si.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits(r)})},operation(e){const t=this.get("bits"),r=this.get("signed"),n=this.get("fillx");if(!e.in2.isFullyDefined)return{out:et.xes(t.out)};const i=e.in2.toNumber(r.in2)*this.shiftdir;return{out:KE(e.in1,i,t.in1,t.out,r.in1,r.out,n)}},_gateParams:Si.prototype._gateParams.concat(["fillx"]),_unsupportedPropChanges:Si.prototype._unsupportedPropChanges.concat(["fillx"]),_operationHelpers:Si.prototype._operationHelpers.concat(["shiftdir"])}),Rh=Si.define("BaseCompare",{bits:{in1:1,in2:1},signed:{in1:!1,in2:!1}},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in1",group:"in",dir:"in",bits:e.in1},{id:"in2",group:"in",dir:"in",bits:e.in2},{id:"out",group:"out",dir:"out",bits:1}],Si.prototype.initialize.apply(this,arguments),this.on("change:bits",(t,r)=>{this._setPortsBits(r)})}}),ad=Rh.define("Compare",{},{operation(e){this.get("bits");const t=this.get("signed");return!e.in1.isFullyDefined||!e.in2.isFullyDefined?{out:et.xes(1)}:{out:et.fromBool(this.arithcomp(e.in1.toBigInt(t.in1&&t.in2),e.in2.toBigInt(t.in1&&t.in2)))}},_operationHelpers:Rh.prototype._operationHelpers.concat(["arithcomp"])}),IT=Rh.define("EqCompare",{},{operation(e){const t=this.get("bits"),r=this.get("signed"),n=t.in1>=t.in2?e.in1:e.in1.concat(et.make(t.in2-t.in1,r.in1&&r.in2?e.in1.msb:-1)),i=t.in2>=t.in1?e.in2:e.in2.concat(et.make(t.in1-t.in2,r.in1&&r.in2?e.in2.msb:-1));return{out:this.bincomp(n,i)}},_operationHelpers:Rh.prototype._operationHelpers.concat(["bincomp"])}),C9=CT.define("Negation",{attrs:{oper:{text:"-"}}},{arithop:e=>-e}),Jge=Qt,R9=CT.define("UnaryPlus",{attrs:{oper:{text:"+"}}},{arithop:e=>e}),Qge=Qt,I9=$c.define("Addition",{attrs:{oper:{text:"+"}}},{arithop:(e,t)=>e+t}),eme=Qt,O9=$c.define("Subtraction",{attrs:{oper:{text:"-"}}},{arithop:(e,t)=>e-t}),tme=Qt,M9=$c.define("Multiplication",{attrs:{oper:{text:"Ã"}}},{arithop:(e,t)=>e*t}),rme=Qt,k9=$c.define("Division",{attrs:{oper:{text:"Ã·"}}},{arithop:(e,t)=>t==0n?e:e/t}),nme=Qt,L9=$c.define("Modulo",{attrs:{oper:{text:"%"}}},{arithop:(e,t)=>t==0n?e:e%t}),ime=Qt,N9=$c.define("Power",{attrs:{oper:{text:"^"}}},{arithop:(e,t)=>t>=0n?e**t:e==1n?1n:e==-1n?t%2n?-1n:1n:0n}),sme=Qt,q9=RT.define("ShiftLeft",{attrs:{oper:{text:"âª"}}},{shiftdir:-1}),ome=Qt,D9=RT.define("ShiftRight",{attrs:{oper:{text:"â«"}}},{shiftdir:1}),ame=Qt,F9=ad.define("Lt",{attrs:{oper:{text:"<"}}},{arithcomp:(e,t)=>e<t}),ume=Qt,B9=ad.define("Le",{attrs:{oper:{text:"â¤"}}},{arithcomp:(e,t)=>e<=t}),cme=Qt,z9=ad.define("Gt",{attrs:{oper:{text:">"}}},{arithcomp:(e,t)=>e>t}),lme=Qt,V9=ad.define("Ge",{attrs:{oper:{text:"â¥"}}},{arithcomp:(e,t)=>e>=t}),fme=Qt,G9=IT.define("Eq",{attrs:{oper:{text:"="}}},{bincomp:(e,t)=>e.xnor(t).reduceAnd()}),hme=Qt,$9=IT.define("Ne",{attrs:{oper:{text:"â "}}},{bincomp:(e,t)=>e.xor(t).reduceOr()}),dme=Qt,va=Si.define("OpConst",{leftOp:!1,constant:0},{initialize(){Si.prototype.initialize.apply(this,arguments);let e=this.get("constant");(typeof e=="string"||e instanceof String)&&(e=BigInt(e),YE(e)&&(e=Number(e)),this.set("constant",e));const t=()=>{const n=30+String(this.get("constant")).length*10;this.prop("size",{width:n,height:n}),this.attr("oper/text",this.get("leftOp")?this.get("constant")+this.operSymbol:this.operSymbol+this.get("constant"))};t(),this.on("change:bits",(r,n)=>{this._setPortsBits(n)}),this.on("change:constant",()=>t()),this.on("change:leftOp",()=>t())},getGateParams(){const e=Si.prototype.getGateParams.apply(this,arguments);return typeof e.constant=="bigint"&&(YE(e.constant)?e.constant=Number(e.constant):e.constant=String(e.constant)),e},_gateParams:Si.prototype._gateParams.concat(["leftOp","constant"])}),Uc=va.define("ArithConst",{bits:{in:1,out:1},signed:!1},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.in},{id:"out",group:"out",dir:"out",bits:e.out}],va.prototype.initialize.apply(this,arguments)},operation(e){const t=this.get("bits"),r=this.get("signed"),n=this.get("constant");return e.in.isFullyDefined?this.get("leftOp")?{out:et.fromNumber(this.arithop(BigInt(n),e.in.toBigInt(r.in)),t.out)}:{out:et.fromNumber(this.arithop(e.in.toBigInt(r.in),BigInt(n)),t.out)}:{out:et.xes(t.out)}},_operationHelpers:va.prototype._operationHelpers.concat(["arithop"])}),OT=va.define("ShiftConst",{bits:{in:1,out:1},signed:{in:!1,out:!1},fillx:!1},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.in},{id:"out",group:"out",dir:"out",bits:e.out}],va.prototype.initialize.apply(this,arguments)},operation(e){const t=this.get("bits"),r=this.get("signed"),n=this.get("fillx"),i=this.get("constant");if(this.get("leftOp")){if(!e.in.isFullyDefined)return{out:et.xes(t.out)};const s=e.in.toNumber(r.in),o=et.fromNumber(i);return{out:KE(o,s*this.shiftdir,o.bits,t.out,i<0,r.out,n)}}else return console.assert(YE(i)),{out:KE(e.in,Number(i)*this.shiftdir,t.in,t.out,r.in,r.out,n)}},_gateParams:va.prototype._gateParams.concat(["fillx"]),_operationHelpers:va.prototype._operationHelpers.concat(["shiftdir"])}),Ih=va.define("BaseCompareConst",{bits:{in:1},signed:!1},{initialize(){const e=this.get("bits");this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.in},{id:"out",group:"out",dir:"out",bits:1}],va.prototype.initialize.apply(this,arguments)}}),ud=Ih.define("CompareConst",{},{operation(e){this.get("bits");const t=this.get("signed"),r=this.get("constant");return e.in.isFullyDefined?this.get("leftOp")?{out:et.fromBool(this.arithcomp(BigInt(r),e.in.toBigInt(t.in)))}:{out:et.fromBool(this.arithcomp(e.in.toBigInt(t.in),BigInt(r)))}:{out:et.x}},_operationHelpers:Ih.prototype._operationHelpers.concat(["arithcomp"])}),MT=Ih.define("EqCompareConst",{},{operation(e){const t=this.get("bits");this.get("signed");const r=this.get("constant");return this.get("leftOp")?{out:this.bincomp(et.fromNumber(r,t.in),e.in)}:{out:this.bincomp(e.in,et.fromNumber(r,t.in))}},_operationHelpers:Ih.prototype._operationHelpers.concat(["bincomp"])}),vme=Uc.define("AdditionConst",{},{operSymbol:"+",arithop:(e,t)=>e+t}),pme=Qt,gme=Uc.define("SubtractionConst",{},{operSymbol:"-",arithop:(e,t)=>e-t}),mme=Qt,_me=Uc.define("MultiplicationConst",{},{operSymbol:"Ã",arithop:(e,t)=>e*t}),yme=Qt,bme=Uc.define("DivisionConst",{},{operSymbol:"Ã·",arithop:(e,t)=>t==0n?e:e/t}),wme=Qt,xme=Uc.define("ModuloConst",{},{operSymbol:"%",arithop:(e,t)=>t==0n?e:e%t}),Sme=Qt,Eme=Uc.define("PowerConst",{},{operSymbol:"^",arithop:(e,t)=>t>=0n?e**t:e==1n?1n:e==-1n?t%2n?-1n:1n:0n}),Ame=Qt,Tme=OT.define("ShiftLeftConst",{},{operSymbol:"âª",shiftdir:-1}),Pme=Qt,Cme=OT.define("ShiftRightConst",{},{operSymbol:"â«",shiftdir:1}),Rme=Qt,Ime=ud.define("LtConst",{},{operSymbol:"<",arithcomp:(e,t)=>e<t}),Ome=Qt,Mme=ud.define("LeConst",{},{operSymbol:"â¤",arithcomp:(e,t)=>e<=t}),kme=Qt,Lme=ud.define("GtConst",{},{operSymbol:">",arithcomp:(e,t)=>e>t}),Nme=Qt,qme=ud.define("GeConst",{},{operSymbol:"â¥",arithcomp:(e,t)=>e>=t}),Dme=Qt,Fme=MT.define("EqConst",{},{operSymbol:"=",bincomp:(e,t)=>e.xnor(t).reduceAnd()}),Bme=Qt,zme=MT.define("NeConst",{},{operSymbol:"â ",bincomp:(e,t)=>e.xor(t).reduceOr()}),Vme=Qt,kT=Gt.define("BitExtend",{extend:{input:1,output:1},propagation:0,attrs:{value:{refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle"}}},{initialize(){const e=this.get("extend");console.assert(e.input<=e.output),this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.input},{id:"out",group:"out",dir:"out",bits:e.output}],Gt.prototype.initialize.apply(this,arguments),this.on("change:extend",(t,r)=>{this._setPortsBits({in:r.input,out:r.output})})},operation(e){const t=this.get("extend");return{out:e.in.concat(et.make(t.output-t.input,this._extBit(e.in)))}},markup:Gt.prototype.markup.concat([{tagName:"text",className:"value",selector:"value"}]),_gateParams:Gt.prototype._gateParams.concat(["extend"]),_operationHelpers:Gt.prototype._operationHelpers.concat(["_extBit"])}),LT=oi.extend({_autoResizeBox:!0,_calculateBoxWidth(){return this.el.querySelector("text.value").getBBox().width+10}}),U9=kT.define("ZeroExtend",{attrs:{value:{text:"zero-extend"}}},{_extBit(e){return-1}}),Gme=LT,j9=kT.define("SignExtend",{attrs:{value:{text:"sign-extend"}}},{_extBit(e){return e.get(e.bits-1)}}),$me=LT,H9=Gt.define("BusSlice",{slice:{first:0,count:1,total:2},propagation:0,size:{width:40,height:24}},{initialize(){const e=this.get("slice"),t=e.count==1?e.first:e.first+"-"+(e.first+e.count-1);this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.total},{id:"out",group:"out",dir:"out",bits:e.count,portlabel:t,labelled:!0}],Gt.prototype.initialize.apply(this,arguments),this.on("change:slice",(r,n)=>{this._setPortsBits({in:n.total,out:n.count})})},operation(e){const t=this.get("slice");return{out:e.in.slice(t.first,t.first+t.count)}},_gateParams:Gt.prototype._gateParams.concat(["slice"])}),Ume=oi.extend({_autoResizeBox:!0}),NT=Gt.define("BusRegroup",{groups:[1],propagation:0,size:{width:40,height:void 0}},{initialize(){var e=0;const t=[],r=this.get("groups");this.get("size").height=r.length*16+8;for(const[i,s]of r.entries()){const o=e+(s>1?"-"+(e+s-1):"");e+=s,t.push({id:this.group_dir+i,group:this.group_dir,dir:this.group_dir,bits:s,portlabel:o,labelled:!0})}this.set("bits",e);const n=this.group_dir=="out"?"in":"out";t.push({id:n,group:n,dir:n,bits:e}),this.get("ports").items=t,Gt.prototype.initialize.apply(this,arguments)},_gateParams:Gt.prototype._gateParams.concat(["groups"]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["groups"])}),qT=oi.extend({_autoResizeBox:!0}),W9=NT.define("BusGroup",{},{group_dir:"in",operation(e){const t=[];for(const r of this.get("groups").keys())t.push(e["in"+r]);return{out:et.concat(...t)}}}),jme=qT,X9=NT.define("BusUngroup",{},{group_dir:"out",operation(e){const t={};let r=0;for(const[n,i]of this.get("groups").entries())t["out"+n]=e.in.slice(r,r+i),r+=i;return t}}),Hme=qT,N4=10,Wme=10,Y9=Gt.define("Subcircuit",{propagation:0,warning:!1,attrs:{wrapper:{refWidth:1,refHeight:1,stroke:"red",strokeWidth:10},type:{refX:.5,refY:-10,textAnchor:"middle",textVerticalAnchor:"middle"}}},{initialize(){this.bindAttrToProp("text.type/text","celltype");const e=this.get("graph");console.assert(e instanceof No),e.set("subcircuit",this);const t=e.getCells().filter(c=>c instanceof Mo),r=t.filter(c=>c instanceof sd),n=t.filter(c=>c instanceof od);function i(c,f){return c.has("order")||f.has("order")?c.get("order")-f.get("order"):c.get("net").localeCompare(f.get("net"))}r.sort(i),n.sort(i);const o={width:80,height:Math.max(r.length,n.length)*16+8},a=[],u={};for(const[c,f]of r.entries())a.push({id:f.get("net"),group:"in",dir:"in",bits:f.get("bits"),labelled:!0});for(const[c,f]of n.entries())a.push({id:f.get("net"),group:"out",dir:"out",bits:f.get("bits"),labelled:!0});for(const c of t)u[c.get("net")]=c.get("id");this.set("size",o),this.set("circuitIOmap",u),this.get("ports").items=a,this.set("warning",e._warnings>0),Gt.prototype.initialize.apply(this,arguments)},_resetPortValue(e){const t=this.get("circuitIOmap"),r=this.get("graph");return e.dir=="in"?r.getCell(t[e.id]).get("outputSignals").out:e.dir=="out"?r.getCell(t[e.id]).get("inputSignals").in:Gt.prototype._resetPortValue.call(this,e)},getLayoutSize(){const e=this.size();return e.height+=Wme,e},setLayoutPosition(e){this.set("position",{x:e.x,y:e.y+N4})},getPortsPositions(){const e=Gt.prototype.getPortsPositions.apply(this,arguments),t={};for(const r in e)t[r]={...e[r]},t[r].y=t[r].y+N4;return t},markup:[{tagName:"rect",selector:"wrapper"}].concat(Gt.prototype.markup,[{tagName:"text",className:"type",selector:"type"}],Gt.prototype.markupZoom),_gateParams:Gt.prototype._gateParams.concat(["celltype"]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["celltype"])}),Xme=oi.extend({attrs:On.merge({},oi.prototype.attrs,{warning:{warn:{wrapper:{"stroke-opacity":"0.5"}},none:{wrapper:{"stroke-opacity":"0"}}}}),_autoResizeBox:!0,presentationAttributes:oi.addPresentationAttributes({warning:"WARNING"}),confirmUpdate(e){oi.prototype.confirmUpdate.apply(this,arguments),this.hasFlag(e,"WARNING")&&this._updateWarning()},_updateWarning(){const e=this.model.get("warning"),t=this.attrs.warning[e?"warn":"none"];this._applyAttrs(t)},update(){oi.prototype.update.apply(this,arguments),this._updateWarning()},events:{"click foreignObject.tooltip":"stopprop","mousedown foreignObject.tooltip":"stopprop","touchstart foreignObject.tooltip":"stopprop","click a.zoom":"zoomInCircuit"},zoomInCircuit(e){return e.stopPropagation(),this.paper.trigger("open:subcircuit",this.model),!1}}),q4=20,Yme=30,Tu=Sn.define("GenMux",{bits:{in:1,sel:1},size:{width:40,height:void 0},ports:{groups:{in2:{position:{name:"top",args:{y:5}},attrs:On.merge({},sp,{wire:{x2:0,y2:-25},port:{magnet:"passive",refY:-25},bits:{refDx:-5,refDy:2,textAnchor:"start"}}),z:-1}}},attrs:{label:{refDy:8}}},{initialize(){const e=this.get("bits"),t=[{id:"sel",group:"in2",dir:"in",bits:e.sel},{id:"out",group:"out",dir:"out",bits:e.in}],r=this.muxInputs(e.sel);this.get("size").height=r.length*16+8;const i="M"+[[2,0],[5,5],[10,-5]].map(o=>o.join(" ")).join(" L");for(const[o,a]of r.entries()){const u={id:"in"+o,group:"in",dir:"in",bits:e.in,decor:i};a&&(u.portlabel=String(a),u.labelled=!0),t.push(u)}this.get("ports").items=t,Sn.prototype.initialize.apply(this,arguments);const s=o=>this.attr(["body","points"],[[0,-5],[o.width,5],[o.width,o.height-5],[0,o.height+5]].map(a=>a.join(",")).join(" "));s(this.get("size")),this.on("change:size",(o,a)=>s(a))},operation(e){const t=this.muxInput(e.sel);return t===void 0?{out:et.xes(this.get("bits").in)}:{out:e["in"+t]}},getLayoutSize(){const e=this.size();return e.height+=Yme,e},setLayoutPosition(e){this.set("position",{x:e.x,y:e.y+q4})},getPortsPositions(){const e=Sn.prototype.getPortsPositions.apply(this,arguments),t={};for(const r in e)t[r]={...e[r]},t[r].y=t[r].y+q4;return t},markup:Sn.prototype.markup.concat([{tagName:"polygon",className:"body",selector:"body"}]),_gateParams:Sn.prototype._gateParams.concat(["bits"]),_unsupportedPropChanges:Sn.prototype._unsupportedPropChanges.concat(["bits"]),_operationHelpers:Sn.prototype._operationHelpers.concat(["muxInput"])}),Ig=Qt.extend({initialize(){this.ins=this.model.muxInputs(this.model.get("bits").sel),Qt.prototype.initialize.apply(this,arguments)},confirmUpdate(e){Qt.prototype.confirmUpdate.apply(this,arguments),this.hasFlag(e,"SIGNAL")&&this._updateMux(this.model.get("inputSignals"))},render(){Qt.prototype.render.apply(this,arguments),this._updateMux(this.model.get("inputSignals"))},_updateMux(e){const t=this.model.muxInput(e.sel);for(const r of this.ins.keys())this.$("[port=in"+r+"] path.decor").css("visibility",t==r?"visible":"hidden")}}),K9=Tu.define("Mux",{},{muxInputs:e=>Array(1<<e),muxInput:e=>e.isFullyDefined?e.toBigInt().toString():void 0}),Kme=Ig,Z9=Tu.define("Mux1Hot",{attrs:{info:{refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",text:"1Hot",transform:"rotate(90)"}}},{markup:Tu.prototype.markup.concat([{tagName:"text",className:"info",selector:"info"}]),muxInputs:e=>Array(e+1),muxInput:e=>{const t=e.toArray();return e.isFullyDefined&&t.filter(r=>r==1).length<=1?String(t.indexOf(1)+1):void 0}}),Zme=Ig,Jme=Tu.define("MuxSparse",{inputs:void 0,default_input:!1},{initialize(){const e=this.get("inputs");for(let t=0;t<e.length;t++)typeof e[t]!="bigint"&&(e[t]=BigInt(e[t]));Tu.prototype.initialize.apply(this,arguments)},muxInputs(e){return this.get("default_input")?["*"].concat(this.get("inputs")):this.get("inputs")},muxInput(e){const t=this.get("default_input");if(!e.isFullyDefined)return;const r=this.get("inputs").indexOf(e.toBigInt());return r<0?t?0:void 0:t?r+1:r},_gateParams:Tu.prototype._gateParams.concat(["inputs","default_input"]),_unsupportedPropChanges:Tu.prototype._unsupportedPropChanges.concat(["inputs","default_input"])}),Qme=Ig,J9=Gt.define("Dff",{bits:1,initial:"x",size:{width:80,height:void 0},ports:{groups:{in:{position:Gt.prototype._getStackedPosition({side:"left"})},out:{position:Gt.prototype._getStackedPosition({side:"right"})}}}},{initialize(){const e=this.get("bits");this.get("initial");const t=this.get("polarity")||{},r=[];this.get("no_data")||r.push({id:"in",group:"in",dir:"in",bits:e,portlabel:"D",labelled:!0}),r.push({id:"out",group:"out",dir:"out",bits:e,portlabel:"Q",labelled:!0}),"arst"in t&&!this.get("arst_value")&&this.set("arst_value",Array(e).fill("0").join("")),"srst"in t&&!this.get("srst_value")&&this.set("srst_value",Array(e).fill("0").join(""));let n=1;"aload"in t&&(n+=2,r.push({id:"ain",group:"in",dir:"in",bits:e,portlabel:"AD",labelled:!0}),r.push({id:"aload",group:"in",dir:"in",bits:1,polarity:t.aload,labelled:!0})),"clock"in t&&(n++,r.push({id:"clk",group:"in",dir:"in",bits:1,polarity:t.clock,decor:Gt.prototype.decorClock,labelled:!0})),"set"in t&&(n++,r.push({id:"set",group:"in",dir:"in",bits:e,polarity:t.set,portlabel:"S",labelled:!0})),"clr"in t&&(n++,r.push({id:"clr",group:"in",dir:"in",bits:e,polarity:t.clr,portlabel:"R",labelled:!0})),"srst"in t&&(n++,r.push({id:"srst",group:"in",dir:"in",bits:1,polarity:t.srst,labelled:!0})),"arst"in t&&(n++,r.push({id:"arst",group:"in",dir:"in",bits:1,polarity:t.arst,labelled:!0})),"enable"in t&&(n++,r.push({id:"en",group:"in",dir:"in",bits:1,polarity:t.enable,labelled:!0})),this.get("size").height=n*16+8,this.get("ports").items=r,this.last_clk=0,Gt.prototype.initialize.apply(this,arguments)},_resetPortValue(e){return e.id=="out"&&e.dir=="out"?et.fromBin(this.get("initial"),e.bits):Gt.prototype._resetPortValue.call(this,e)},operation(e){const t=this.get("polarity"),r=a=>t[a]?1:-1;let n,i,s;const o=a=>({out:i?a.and(s).or(i):a});if("clock"in t&&(n=this.last_clk,this.last_clk=e.clk.get(0)),"arst"in t&&e.arst.get(0)==r("arst"))return{out:et.fromBin(this.get("arst_value"),this.get("bits"))};if("aload"in t&&e.aload.get(0)==r("aload"))return{out:e.ain};if("set"in t&&(i=t.set?e.set:e.set.not(),s=t.set?e.set.not():e.set),"clr"in t){i=i||et.zeros(this.get("bits"));const a=t.clr?e.clr.not():e.clr;s=s?a.and(s):a}return"enable"in t&&e.en.get(0)!=r("enable")&&this.get("enable_srst")?o(this.get("outputSignals").out):!("clock"in t)||e.clk.get(0)==r("clock")&&n==-r("clock")?"srst"in t&&e.srst.get(0)==r("srst")?o(et.fromBin(this.get("srst_value"),this.get("bits"))):"enable"in t&&e.en.get(0)!=r("enable")&&!this.get("enable_srst")?o(this.get("outputSignals").out):this.get("no_data")?o(this.get("outputSignals").out):o(e.in):o(this.get("outputSignals").out)},_gateParams:Gt.prototype._gateParams.concat(["polarity","bits","initial","arst_value","srst_value","enable_srst","no_data"]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["polarity","bits","initial","arst_value","srst_value","enable_srst","no_data"])}),e0e=oi.extend({_autoResizeBox:!0}),Q9=Gt.define("Memory",{bits:1,abits:1,rdports:[],wrports:[],words:void 0,offset:0,attrs:{portsplit:{stroke:"black"}},ports:{groups:{in:{position:Gt.prototype._getStackedPosition({side:"left"})},out:{position:Gt.prototype._getStackedPosition({side:"right"})}}}},{initialize(){const e=this.get("bits"),t=this.get("abits");this.get("rdports"),this.get("wrports");let r=0,n=0;const i=[],s=[];for(const[o,a]of this._memrdports())i.push({id:o+"addr",group:"in",dir:"in",bits:t,portlabel:"addr",labelled:!0},{id:o+"data",group:"out",dir:"out",bits:e,portlabel:"data",labelled:!0,args:{idxOffset:n}}),r+=1,"srst_polarity"in a&&(r++,n++,i.push({id:o+"srst",group:"in",dir:"in",bits:1,portlabel:"srst",polarity:a.srst_polarity,labelled:!0})),"arst_polarity"in a&&(r++,n++,i.push({id:o+"arst",group:"in",dir:"in",bits:1,portlabel:"arst",polarity:a.arst_polarity,labelled:!0})),"enable_polarity"in a&&(r++,n++,i.push({id:o+"en",group:"in",dir:"in",bits:1,portlabel:"en",polarity:a.enable_polarity,labelled:!0})),"clock_polarity"in a&&(r++,n++,i.push({id:o+"clk",group:"in",dir:"in",bits:1,portlabel:"clk",polarity:a.clock_polarity,decor:Gt.prototype.decorClock,labelled:!0})),s.push(r);for(const[o,a]of this._memwrports())r+=2,i.push({id:o+"data",group:"in",dir:"in",bits:e,portlabel:"data",labelled:!0},{id:o+"addr",group:"in",dir:"in",bits:t,portlabel:"addr",labelled:!0}),"enable_polarity"in a&&(r++,i.push({id:o+"en",group:"in",dir:"in",bits:a.no_bit_enable?1:e,portlabel:"en",polarity:a.enable_polarity,labelled:!0})),"clock_polarity"in a&&(r++,i.push({id:o+"clk",group:"in",dir:"in",bits:1,portlabel:"clk",polarity:a.clock_polarity,decor:Gt.prototype.decorClock,labelled:!0})),s.push(r);s.pop(),this.get("size").height=r*16+8,this.get("ports").items=i,Gt.prototype.initialize.apply(this,arguments),this.removeProp("memdata"),this.on("change:size",(o,a)=>{const u=[];for(const c of s)u.push([[0,16*c+4],[a.width,16*c+4]].map(f=>f.join(" ")).join(" L "));this.attr("path.portsplit/d","M "+u.join(" M "))})},_resetPortValue(e){if(e.dir=="out"){const t=/^rd([0-9]+)data$/.exec(e.id),r=t?this.get("rdports")[t[1]]:{};if("init_value"in r)return et.fromBin(r.init_value,e.bits)}return Gt.prototype._resetPortValue.call(this,e)},prepare(){const e=this.get("bits");var t=this.get("words");const r=this.get("memdata");t||(t=1<<this.get("abits"),this.prop("words",t,{init:!0})),r?this.memdata=Tl.fromJSON(e,r):this.memdata=new Tl(e,t),console.assert(this.memdata.words==t),this.last_clk={};for(const[n,i]of this._memports())"clock_polarity"in i&&(this.last_clk[n+"clk"]=0)},operation(e){const t=this.get("bits"),r={},n=(m,y)=>m[y+"_polarity"]?1:-1,i=(m,y)=>!("enable_polarity"in y&&!e[m+"en"].toArray().some(b=>b==n(y,"enable"))),s=(m,y)=>{const b=m+"clk";return"clock_polarity"in y?e[b].get(0)==n(y,"clock")&&this.last_clk[b]==-n(y,"clock"):!0},o=m=>m>=0&&m<this.get("words"),a=(m,y)=>{const b=this._calcaddr(e[m+"addr"]);o(b)?r[m+"data"]=this.memdata.get(b):r[m+"data"]=et.xes(t)},u=(m,y,b,S)=>{if(y.no_bit_enable||!("enable_polarity"in y))return S;const E=y.enable_polarity?e[m+"en"]:e[m+"en"].not();return S.and(E).or(b.and(E.not()))},c=(m,y)=>{a(m);for(const[b,S]of this.get("wrports").entries()){const E="wr"+b,A=(P,R)=>typeof P=="boolean"?P:P[R];"transparent"in y&&A(y.transparent,b)&&s(E,S)&&i(E,S)&&e[m+"addr"]==e[E+"addr"]&&(r[m+"data"]=u(E,S,r[m+"data"],e[E+"data"])),"collision"in y&&A(y.collision,b)&&s(E,S)&&i(E,S)&&e[m+"addr"]==e[E+"addr"]&&(r[m+"data"]=u(E,S,r[m+"data"],et.xes(t)))}},f=(m,y)=>{const b=this._calcaddr(e[m+"addr"]);if(o(b)){const S=this.memdata.get(b),E=u(m,y,S,e[m+"data"]),A=!S.eq(E);this.memdata.set(b,E),A&&this.trigger("memChange",b,E)}},h=(m,y)=>{e[m+"srst"].get(0)==n(y,"srst")&&(r[m+"data"]="srst_value"in y?et.fromBin(y.srst_value,t):et.zeros(t))},p=(m,y)=>{e[m+"arst"].get(0)==n(y,"arst")&&(r[m+"data"]="arst_value"in y?et.fromBin(y.arst_value,t):et.zeros(t))},_=(m,y)=>{if("clock_polarity"in y){const b=m+"clk";this.last_clk[b]=e[b].get(0)}};for(const[m,y]of this._memrdports())r[m+"data"]=this.get("outputSignals")[m+"data"],"clock_polarity"in y&&i(m,y)&&s(m,y)&&c(m,y);for(const[m,y]of this._memwrports())i(m,y)&&s(m,y)&&f(m,y);for(const[m,y]of this._memrdports())!("clock_polarity"in y)&&i(m,y)&&a(m);for(const[m,y]of this._memrdports())"srst_polarity"in y&&(i(m,y)||!("enable_srst"in y))&&s(m,y)&&h(m,y),"arst_polarity"in y&&p(m,y);for(const[m,y]of this._memrdports())_(m,y);for(const[m,y]of this._memwrports())_(m,y);return r},_calcaddr(e){return e.isFullyDefined?e.toNumber()-this.get("offset"):-1},*_memrdports(){for(const[e,t]of this.get("rdports").entries())yield["rd"+e,t]},*_memwrports(){for(const[e,t]of this.get("wrports").entries())yield["wr"+e,t]},*_memports(){yield*this._memrdports(),yield*this._memwrports()},markup:Gt.prototype.markup.concat([{tagName:"path",className:"portsplit",selector:"portsplit"}],Gt.prototype.markupZoom),getGateParams(){const e=Gt.prototype.getGateParams.apply(this,arguments);return e.memdata=this.memdata.toJSON(),e},_gateParams:Gt.prototype._gateParams.concat(["bits","abits","rdports","wrports","words","offset"]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["bits","abits","rdports","wrports","words","offset"]),_operationHelpers:Gt.prototype._operationHelpers.concat(["_memrdports","_memwrports","_memports","_calcaddr"])}),t0e=oi.extend({_autoResizeBox:!0,events:{"click foreignObject.tooltip":"stopprop","mousedown foreignObject.tooltip":"stopprop","touchstart foreignObject.tooltip":"stopprop","click a.zoom":"_displayEditor"},_displayEditor(e){e.stopPropagation();const t=this.model,r=t.graph._display3vl,n=Mt("<div>",{title:"Memory contents: "+t.get("label")}).appendTo("html > body");n.append(Mt('<div class="btn-toolbar" role="toolbar"><div class="btn-group mr-2" role="group"><button name="prev" type="button" class="btn btn-secondary" title="Previous page">â</button><button name="next" type="button" class="btn btn-secondary" title="Next page">â</button></div><div class="input-group">'+TT(r,t.get("bits"),"hex")+'</div></div><table class="memeditor"></table>'));const i=t.get("words"),s=t.memdata,o=Math.ceil(t.get("abits")/4),a=8;let u,c=0;const f=()=>n.find("select[name=base]").val(),h=E=>{const A=Math.floor((E-c)/u),P=E-c-A*u;return n.find("table tr:nth-child("+(A+1)+") td:nth-child("+(P+2)+") input")},p=E=>{for(const[A,P]of t._memrdports())h(t._calcaddr(E[A+"addr"])).removeClass("isread");for(const[A,P]of t._memwrports())h(t._calcaddr(E[A+"addr"])).removeClass("iswrite")},_=E=>{for(const[A,P]of t._memrdports())h(t._calcaddr(E[A+"addr"])).addClass("isread");for(const[A,P]of t._memwrports())h(t._calcaddr(E[A+"addr"])).addClass("iswrite")},m=()=>{const E=f();n.find("button[name=prev]").prop("disabled",c<=0),n.find("button[name=next]").prop("disabled",c+a*u>=i);let A=n.find("table tr:first-child");const P=t.memdata;for(let R=0;R<a&&!(c+R*u>=i);R++,A=A.next()){const q=(c+R*u).toString(16);let d=A.find("td:first-child");d.text("0".repeat(o-q.length)+q),d=d.next();for(let C=0;C<u&&!(c+R*u+C>=i);C++,d=d.next())d.find("input").val(r.show(E,P.get(c+R*u+C))).removeClass("invalid")}_(t.get("inputSignals"))},y=()=>{const E=f(),A=r.pattern(E),P=r.size(E,t.get("bits"));u=Math.min(i,16,Math.ceil(32/P)),c=Math.max(0,Math.min(i-a*u,c));const R=n.find("table");R.empty();for(let q=0;q<a&&!(c+q*u>=i);q++){const d=Mt("<tr>");Mt("<td>").appendTo(d);for(let C=0;C<u&&!(c+q*u+C>=i);C++){const I=Mt("<td>");Mt('<input type="text">').attr("size",P).attr("maxlength",P).attr("pattern",A).appendTo(I),I.appendTo(d)}d.appendTo(R)}m()};y(),n.find("select[name=base]").on("change",y),n.find("button[name=prev]").on("click",()=>{p(t.get("inputSignals")),c=Math.max(0,c-a*u),m()}),n.find("button[name=next]").on("click",()=>{p(t.get("inputSignals")),c=Math.min(i-a*u,c+a*u),m()}),n.on("change","input",E=>{const A=f(),P=Mt(E.target),R=P.closest("td").index()-1,q=P.closest("tr").index(),d=c+q*u+R,C=t.get("bits");if(r.validate(A,E.target.value,C)){const I=r.read(A,E.target.value,C);s.set(d,I),t.trigger("manualMemChange",t,d,I),P.removeClass("invalid")}else P.addClass("invalid")});const b=(E,A)=>{if(E<c||E>c+a*u)return;const P=f(),R=h(E).val(r.show(P,s.get(E))).removeClass("invalid").removeClass("flash");setTimeout(()=>{R.addClass("flash")},10)},S=(E,A)=>{p(t.previous("inputSignals")),_(A)};return t.on("memChange",b),t.on("change:inputSignals",S),this.paper.trigger("open:memorycontent",n,()=>{n.remove(),t.off("memChange",b),t.off("change:inputSignals",S)}),!1}}),eH=Gt.define("FSM",{bits:{in:1,out:1},polarity:{clock:!0},init_state:0,states:1,trans_table:[],size:{width:80,height:3*16+8},ports:{groups:{in:{position:Gt.prototype._getStackedPosition({side:"left"})},out:{position:Gt.prototype._getStackedPosition({side:"right"})}}}},{initialize(){const e=this.get("bits"),t=this.get("polarity"),r=this.get("init_state"),n=this.get("states");this.get("trans_table"),this.get("ports").items=[{id:"in",group:"in",dir:"in",bits:e.in,labelled:!0},{id:"clk",group:"in",dir:"in",bits:1,polarity:t.clock,decor:Gt.prototype.decorClock,labelled:!0},{id:"arst",group:"in",dir:"in",bits:1,polarity:t.arst,labelled:!0},{id:"out",group:"out",dir:"out",bits:e.out,labelled:!0}],Gt.prototype.initialize.apply(this,arguments);const i=this.get("current_state");this.fsmgraph=new No;for(let s=0;s<n;s++){const o=new sge({stateNo:s,id:"state"+s,isInit:s==r});o.attr("label/text",String(s)),o.resize(100,50),s==r&&o.attr("body/strokeWidth",3),s==i&&o.attr("body/class","current_state"),o.addTo(this.fsmgraph)}for(const[s,o]of this.transitions)for(const a of o){const u=new Mv({id:a.id,ctrlIn:a.ctrlIn,ctrlOut:a.ctrlOut});u.appendLabel({attrs:{text:{text:u.get("ctrlIn").toBin()+"/"+u.get("ctrlOut").toBin()}}}),u.source({id:"state"+s}),u.target({id:"state"+a.stateOut}),u.addTo(this.fsmgraph)}this.listenTo(this,"change:current_state",(s,o)=>{const a=s.previous("current_state");this.fsmgraph.getCell("state"+a).removeAttr("body/class"),this.fsmgraph.getCell("state"+o).attr("body/class","current_state")}),this.listenTo(this,"change:next_trans",(s,o)=>{const a=s.previous("next_trans");if(a){const u=this.fsmgraph.getCell(a);u.removeAttr("line/class"),u.removeAttr("line/targetMarker/class")}o&&this.fsmgraph.getCell(o).attr({line:{class:"next_trans",targetMarker:{class:"next_trans"}}})})},prepare(){const e=this.get("bits");this.transitions=new Map;var t=0;for(const n of this.get("trans_table"))this.transitions.has(n.state_in)||this.transitions.set(n.state_in,[]),this.transitions.get(n.state_in).push({id:"tr"+t,stateOut:n.state_out,ctrlIn:et.fromBin(n.ctrl_in,e.in),ctrlOut:et.fromBin(n.ctrl_out,e.out)}),t++;var r=this.get("current_state");r===void 0&&(r=this.get("init_state"),this.set("current_state",r)),this.last_clk=0},operation(e){const t=this.get("bits"),r=this.get("polarity"),n=()=>{const a=this.transitions.get(this.get("current_state"))||[];for(const u of a){const c=u.ctrlIn,f=c.xmask();if(e.in.or(f).eq(c.or(f)))return u}},i=()=>{const a=this.transitions.get(this.get("current_state"))||[],u=e.in.xmask(),c=[];for(const h of a){const p=h.ctrlIn,_=p.xmask().or(u);e.in.or(_).eq(p.or(_))&&c.push(h.ctrlOut)}const f=et.xes(t.out);if(c.length==0)return f;for(;c.length>1;){const h=c.pop(),p=c[0].xnor(h).or(f);c[0]=c[0].and(p).or(f.and(p.xmask()))}return c[0]},s=a=>r[a]?1:-1;if(e.arst.get(0)==s("arst"))this.set("current_state",this.get("init_state"));else{const a=this.last_clk;if(e.clk.get(0)==s("clock")&&a==-s("clock")){const u=n();this.set("current_state",u?u.stateOut:this.get("init_state"))}}this.last_clk=e.clk.get(0);const o=n();return o?this.set("next_trans",o.id):this.set("next_trans",void 0),{out:i()}},markup:Gt.prototype.markup.concat(Gt.prototype.markupZoom),_gateParams:Gt.prototype._gateParams.concat(["bits","polarity","states","init_state","trans_table"]),_unsupportedPropChanges:Gt.prototype._unsupportedPropChanges.concat(["bits","polarity","states","init_state","trans_table"]),_presentationParams:Gt.prototype._presentationParams.concat(["current_state","next_trans"])}),r0e=oi.extend({_autoResizeBox:!0,events:{"click foreignObject.tooltip":"stopprop","mousedown foreignObject.tooltip":"stopprop","touchstart foreignObject.tooltip":"stopprop","click a.zoom":"_displayEditor"},_displayEditor(e){e.stopPropagation();const t=Mt("<div>",{title:"FSM: "+this.model.get("label")}).appendTo("html > body"),r=Mt("<div>").appendTo(t),n=this.model.fsmgraph,i=new Qj({el:r,model:n});return n.resetCells(n.getCells()),n.get("laid_out")||(Ch.layout(n,{dagre:Ale,graphlib:Ple}),n.set("laid_out",!0)),i.listenTo(n,"change:position",s=>{i.fitToContent({padding:30,allowNewOrigin:"any"})}),i.fitToContent({padding:30,allowNewOrigin:"any"}),this.paper.trigger("open:fsm",t,()=>{i.remove(),t.remove()}),!1}}),yu="#03c03c",Va="#3c3c3c",tH=Mo.define("Display7",{bits:8,size:{width:76.5,height:110},attrs:{LEDs:{fill:Va,transform:"translate(1,1),scale(6)"},a:{points:"1, 1  2, 0  8, 0  9, 1  8, 2  2, 2"},b:{points:"9, 1 10, 2 10, 8  9, 9  8, 8  8, 2"},c:{points:"9, 9 10,10 10,16  9,17  8,16  8,10"},d:{points:"9,17  8,18  2,18  1,17  2,16  8,16"},e:{points:"1,17  0,16  0,10  1, 9  2,10  2,16"},f:{points:"1, 9  0, 8  0, 2  1, 1  2, 2  2, 8"},g:{points:"1, 9  2, 8  8, 8  9, 9  8,10  2,10"},dp:{cx:"11.3",cy:"16.9",r:"1.1"},body:{height:"calc(h)",width:"calc(w)",stroke:"#222222",fill:"#333333"}}},{isOutput:!0,_portDirection:"in",bits:8,getOutput(){return this.get("inputSignals").in},markupBus:ds.prototype.markup.concat([{tagName:"rect",selector:"display"},{tagName:"polygon",selector:"a",groupSelector:"LEDs"},{tagName:"polygon",selector:"b",groupSelector:"LEDs"},{tagName:"polygon",selector:"c",groupSelector:"LEDs"},{tagName:"polygon",selector:"d",groupSelector:"LEDs"},{tagName:"polygon",selector:"e",groupSelector:"LEDs"},{tagName:"polygon",selector:"f",groupSelector:"LEDs"},{tagName:"polygon",selector:"g",groupSelector:"LEDs"},{tagName:"circle",selector:"dp",groupSelector:"LEDs"}])}),n0e=da.extend({_autoResizeBox:!1,confirmUpdate(e){oi.prototype.confirmUpdate.apply(this,arguments),this._updateDisplay()},_updateDisplay(){const e=this.model.getOutput(),t={dp:{fill:e.get(7)===1?yu:Va},a:{fill:e.get(6)===1?yu:Va},b:{fill:e.get(5)===1?yu:Va},c:{fill:e.get(4)===1?yu:Va},d:{fill:e.get(3)===1?yu:Va},e:{fill:e.get(2)===1?yu:Va},f:{fill:e.get(1)===1?yu:Va},g:{fill:e.get(0)===1?yu:Va}};this._applyAttrs(t)}}),i0e=Object.freeze(Object.defineProperty({__proto__:null,Addition:I9,AdditionConst:vme,AdditionConstView:pme,AdditionView:eme,And:y9,AndReduce:E9,AndReduceView:Xge,AndView:Vge,Arith:Si,Arith11:CT,Arith21:$c,ArithConst:Uc,BaseCompare:Rh,BaseCompareConst:Ih,BitExtend:kT,BitExtendView:LT,Box:Gt,BoxView:oi,BusGroup:W9,BusGroupView:jme,BusRegroup:NT,BusRegroupView:qT,BusSlice:H9,BusSliceView:Ume,BusUngroup:X9,BusUngroupView:Hme,Button:c9,ButtonView:Ige,Clock:v9,ClockView:Nge,Compare:ad,CompareConst:ud,Constant:d9,ConstantView:Lge,Dff:J9,DffView:e0e,Display7:tH,Display7View:n0e,Division:k9,DivisionConst:bme,DivisionConstView:wme,DivisionView:nme,Eq:G9,EqCompare:IT,EqCompareConst:MT,EqConst:Fme,EqConstView:Bme,EqView:hme,FSM:eH,FSMView:r0e,Gate:Sn,Gate11:PT,GateReduce:Mu,GateSVG:ha,GateView:Qt,GateX1:Gc,Ge:V9,GeConst:qme,GeConstView:Dme,GeView:fme,GenMux:Tu,GenMuxView:Ig,Gt:z9,GtConst:Lme,GtConstView:Nme,GtView:lme,IO:Mo,IOView:da,Input:sd,InputView:ET,Lamp:f9,LampView:Mge,Le:B9,LeConst:Mme,LeConstView:kme,LeView:cme,Lt:F9,LtConst:Ime,LtConstView:Ome,LtView:ume,Memory:Q9,MemoryView:t0e,Modulo:L9,ModuloConst:xme,ModuloConstView:Sme,ModuloView:ime,Multiplication:M9,MultiplicationConst:_me,MultiplicationConstView:yme,MultiplicationView:rme,Mux:K9,Mux1Hot:Z9,Mux1HotView:Zme,MuxSparse:Jme,MuxSparseView:Qme,MuxView:Kme,Nand:w9,NandReduce:A9,NandReduceView:Yge,NandView:$ge,Ne:$9,NeConst:zme,NeConstView:Vme,NeView:dme,Negation:C9,NegationView:Jge,Nor:b9,NorReduce:XE,NorReduceView:Wge,NorView:Gge,Not:m9,NotView:Bge,NumBase:ds,NumBaseView:Au,NumDisplay:h9,NumDisplayView:kge,NumEntry:l9,NumEntryView:Oge,OpConst:va,Or:_9,OrReduce:WE,OrReduceView:Hge,OrView:zge,Output:od,OutputView:AT,Power:N9,PowerConst:Eme,PowerConstView:Ame,PowerView:sme,Repeater:g9,RepeaterView:Fge,Shift:RT,ShiftConst:OT,ShiftLeft:q9,ShiftLeftConst:Tme,ShiftLeftConstView:Pme,ShiftLeftView:ome,ShiftRight:D9,ShiftRightConst:Cme,ShiftRightConstView:Rme,ShiftRightView:ame,SignExtend:j9,SignExtendView:$me,Subcircuit:Y9,SubcircuitView:Xme,Subtraction:O9,SubtractionConst:gme,SubtractionConstView:mme,SubtractionView:tme,UnaryPlus:R9,UnaryPlusView:Qge,Wire:u9,WireView:Rge,Xnor:S9,XnorReduce:P9,XnorReduceView:Zge,XnorView:jge,Xor:x9,XorReduce:T9,XorReduceView:Kge,XorView:Uge,ZeroExtend:U9,ZeroExtendView:Gme,portGroupAttrs:sp},Symbol.toStringTag,{value:"Module"}));var lE,D4;function s0e(){if(D4)return lE;D4=1;var e=function(r,n){return r<n};function t(r){if(!(this instanceof t))return new t(r);this.array=[],this.size=0,this.compare=r||e}return t.prototype.clone=function(){var r=new t(this.compare);return r.size=this.size,r.array=this.array.slice(0,this.size),r},t.prototype.add=function(r){var n=this.size;this.array[this.size]=r,this.size+=1;for(var i,s;n>0&&(i=n-1>>1,s=this.array[i],!!this.compare(r,s));)this.array[n]=s,n=i;this.array[n]=r},t.prototype.heapify=function(r){this.array=r,this.size=r.length;var n;for(n=this.size>>1;n>=0;n--)this._percolateDown(n)},t.prototype._percolateUp=function(r,n){for(var i=this.array[r],s,o;r>0&&(s=r-1>>1,o=this.array[s],!(!n&&!this.compare(i,o)));)this.array[r]=o,r=s;this.array[r]=i},t.prototype._percolateDown=function(r){for(var n=this.size,i=this.size>>>1,s=this.array[r],o,a,u;r<i&&(o=(r<<1)+1,a=o+1,u=this.array[o],a<n&&this.compare(this.array[a],u)&&(o=a,u=this.array[a]),!!this.compare(u,s));)this.array[r]=u,r=o;this.array[r]=s},t.prototype._removeAt=function(r){if(!(r>this.size-1||r<0))return this._percolateUp(r,!0),this.poll()},t.prototype.remove=function(r){for(var n=0;n<this.size;n++)if(!this.compare(this.array[n],r)&&!this.compare(r,this.array[n]))return this._removeAt(n),!0;return!1},t.prototype.removeOne=function(r){if(typeof r=="function"){for(var n=0;n<this.size;n++)if(r(this.array[n]))return this._removeAt(n)}},t.prototype.removeMany=function(r,n){if(typeof r!="function"||this.size<1)return[];n=n?Math.min(n,this.size):this.size;for(var i=0,s=new Array(n),o=0,a=new Array(this.size);i<n&&!this.isEmpty();){var u=this.poll();r(u)?s[i++]=u:a[o++]=u}s.length=i;for(var c=0;c<o;)this.add(a[c++]);return s},t.prototype.peek=function(){if(this.size!=0)return this.array[0]},t.prototype.poll=function(){if(this.size!=0){var r=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,r}},t.prototype.replaceTop=function(r){if(this.size!=0){var n=this.array[0];return this.array[0]=r,this._percolateDown(0),n}},t.prototype.trim=function(){this.array=this.array.slice(0,this.size)},t.prototype.isEmpty=function(){return this.size===0},t.prototype.forEach=function(r){if(!(this.isEmpty()||typeof r!="function"))for(var n=0,i=this.clone();!i.isEmpty();)r(i.poll(),n++)},t.prototype.kSmallest=function(r){if(this.size==0)return[];r=Math.min(this.size,r);var n=new t(this.compare);const i=Math.min((r>0?Math.pow(2,r-1):0)+1,this.size);n.size=i,n.array=this.array.slice(0,i);for(var s=new Array(r),o=0;o<r;o++)s[o]=n.poll();return s},lE=t,lE}var o0e=s0e();const a0e=Kl(o0e);class rH{constructor(t){this._graph=t}_addGate(t,r){r.get("type")=="Subcircuit"&&this._addGraph(r.get("graph"))}_addLink(t,r){}_addGraph(t){this.listenTo(t,"add",r=>{r.isLink()?this._addLink(t,r):this._addGate(t,r)}),this.listenTo(t,"remove",r=>{r.isLink()?this._removeLink(t,r):this._removeGate(t,r)}),this.listenTo(t,"change:source",(r,n)=>{this._changeLinkSource(t,r,n,r.previous("source"))}),this.listenTo(t,"change:target",(r,n)=>{this._changeLinkTarget(t,r,n,r.previous("target"))}),this.listenTo(t,"change:warning",(r,n)=>{this._changeLinkWarning(t,r,n,r.previous("warning"))});for(const r of t.getElements())this._addGate(t,r);for(const r of t.getLinks())this._addLink(t,r)}_removeGate(t,r){}_removeLink(t,r){}_changeLinkSource(t,r,n,i){}_changeLinkTarget(t,r,n,i){}_changeLinkWarning(t,r,n,i){}}On.extend(rH.prototype,ei.Events);class u0e extends rH{constructor(t,{cells:r}){super(t),this._queue=new Map,this._pq=new a0e,this._tick=0,this._cells=r,this._monitorChecks=new Map,this._alarms=new Map,this._alarmQueue=new Map,this._addGraph(t)}get hasPendingEvents(){return this._queue.size>0}get tick(){return this._tick}shutdown(){this.stopListening()}_updateSubcircuit(t,r,n={}){r||(r=t.get("inputSignals"));const i=t.get("circuitIOmap");for(const[s,o]of Object.entries(r)){if(n[s]&&o.eq(n[s]))continue;const a=t.get("graph").getCell(i[s]);console.assert(a.isInput),a._setInput(o)}}_addGate(t,r){super._addGate(t,r),this._enqueue(r),r instanceof this._cells.Subcircuit&&this._updateSubcircuit(r)}_addGraph(t){this.listenTo(t,"manualMemChange",r=>{this._enqueue(r)}),this.listenTo(t,"change:constantCache",r=>{this._enqueue(r)}),this.listenTo(t,"change:inputSignals",(r,n)=>{const i=r.previous("inputSignals");if(!HE(n,i)){if(r instanceof this._cells.Subcircuit&&this._updateSubcircuit(r,n,i),r instanceof this._cells.Output&&r.get("mode")==0){const s=r.graph.get("subcircuit");if(s!=!0){console.assert(s!=null);const o=r.get("net"),a=On.clone(s.get("outputSignals"));a[o]=r.getOutput(),s.set("outputSignals",a)}}this._enqueue(r)}}),super._addGraph(t)}_enqueue(t){const r=this._tick+t.get("propagation")|0;(()=>{const i=this._queue.get(r);if(i!==void 0)return i;const s=new Map;return this._queue.set(r,s),this._pq.add(r),s})().set(t,t.get("inputSignals"))}updateGatesNext(){const t=this._pq.poll()|0;console.assert(t>=this._tick),this._tick=t;const r=this._queue.get(t);let n=0;for(;r.size;){const[i,s]=r.entries().next().value;if(r.delete(i),i instanceof this._cells.Subcircuit||i instanceof this._cells.Input||i instanceof this._cells.Output||!i.graph)continue;const a=i.operation(s);"_clock_hack"in a&&(delete a._clock_hack,this._enqueue(i)),i.set("outputSignals",a),n++}return this._queue.delete(t),this._tick=t+1|0,this._checkMonitors(),this.trigger("postUpdateGates",t,n),Promise.resolve(n)}updateGates(){if(this._pq.peek()==this._tick)return this.updateGatesNext();{const t=this._tick|0;return this._tick=t+1|0,this._checkMonitors(),this.trigger("postUpdateGates",t,0),Promise.resolve(0)}}synchronize(){return Promise.resolve()}start(){throw new Error("start() not supported")}startFast(){throw new Error("startFast() not supported")}stop(){return Promise.resolve()}get interval(){throw new Error("interval not supported")}set interval(t){throw new Error("interval not supported")}get running(){return!1}observeGraph(t){}unobserveGraph(t){}monitor(t,r,n,{triggerValues:i,stopOnTrigger:s,oneShot:o}){const a=(u,c)=>{const f=c[r];this._monitorChecks.set(a,{gate:u,sig:f,cb:a,callback:n,triggerValues:i,stopOnTrigger:s,oneShot:o})};return t.on("change:outputSignals",a),i==null&&n(this._tick,t.get("outputSignals")[r]),{gate:t,callback:a}}unmonitor(t){t.gate.off("change:outputSignals",t.callback)}alarm(t,r,{stopOnAlarm:n}){console.assert(t>this._tick);const i=()=>{this.unalarm(i),r()};return this._alarms.set(i,{tick:t,stopOnAlarm:n}),this._alarmQueue.has(t)||this._alarmQueue.set(t,new Set),this._alarmQueue.get(t).add(i),this._pq.add(t-1),this._queue.has(t-1)||this._queue.set(t-1,new Map),i}unalarm(t){const{tick:r}=this._alarms.get(t);this._alarmQueue.get(r).delete(t),this._alarmQueue.get(r).size==0&&this._alarmQueue.delete(r),this._alarms.delete(t)}_checkMonitors(){for(const{gate:t,sig:r,cb:n,callback:i,triggerValues:s,stopOnTrigger:o,oneShot:a}of this._monitorChecks.values()){let u=!0;s!=null&&(u=s.some(c=>r.eq(c))),u&&(a&&t.off("change:outputSignals",n),i(this._tick,r)&&o&&this.stop())}if(this._monitorChecks=new Map,this._alarmQueue.get(this._tick)){for(const t of this._alarmQueue.get(this._tick)){const{stopOnAlarm:r}=this._alarms.get(t);t()&&r&&this.stop()}this._alarmQueue.delete(this._tick)}}}function c0e(e){const t={$not:m9,$and:y9,$nand:w9,$or:_9,$nor:b9,$xor:x9,$xnor:S9,$reduce_and:E9,$reduce_nand:A9,$reduce_or:WE,$reduce_nor:XE,$reduce_xor:T9,$reduce_xnor:P9,$reduce_bool:WE,$logic_not:XE,$repeater:g9,$shl:q9,$shr:D9,$lt:F9,$le:B9,$eq:G9,$ne:$9,$gt:z9,$ge:V9,$constant:d9,$neg:C9,$pos:R9,$add:I9,$sub:O9,$mul:M9,$div:k9,$mod:L9,$pow:N9,$mux:K9,$pmux:Z9,$dff:J9,$mem:Q9,$fsm:eH,$clock:v9,$button:c9,$lamp:f9,$numdisplay:h9,$numentry:l9,$input:sd,$output:od,$busgroup:W9,$busungroup:X9,$busslice:H9,$zeroextend:U9,$signextend:j9,$display7:tH};return e in t?t[e]:Y9}class nH{constructor(t,{cellsNamespace:r={},engine:n=u0e,engineOptions:i={}}={}){this._cells=Object.assign(i0e,r),this._display3vl=new s9,this._display3vl.addDisplay(new qge),this._graph=this._makeGraph(t,t.subcircuits),i.cells=this._cells,this._engine=new n(this._graph,i),this.makeLabelIndex(),this.listenTo(this._engine,"postUpdateGates",(s,o)=>{this.trigger("postUpdateGates",s,o)})}addDisplay(t){this._display3vl.addDisplay(t),this.trigger("display:add",t)}shutdown(){this.trigger("shutdown"),this.stop(),this._engine.shutdown(),this.stopListening()}hasWarnings(){return this._graph._warnings>0}_makeGraph(t,r,n){n=n||{};const i=new No;i._display3vl=this._display3vl,i._warnings=0,n.nested&&i.set("subcircuit",!0);const s=a=>{i._warnings+=a,console.assert(i._warnings>=0),i._warnings>0&&this.running&&this.stop();const u=i.get("subcircuit");u==null||u==!0||u.set("warning",i._warnings>0)};this.listenTo(i,"userChange",a=>{this.trigger("userChange",a)}),this.listenTo(i,"change:inputSignals",(a,u)=>{HE(u,a.previous("inputSignals"))||a._changeInputSignals&&a._changeInputSignals(u)}),this.listenTo(i,"change:outputSignals",(a,u)=>{HE(u,a.previous("outputSignals"))||a._changeOutputSignals(u)}),this.listenTo(i,"change:signal",(a,u)=>{a._changeSignal(u)}),this.listenTo(i,"change:source",(a,u)=>{this._labelIndex=null,a._changeSource(u)}),this.listenTo(i,"change:target",(a,u)=>{this._labelIndex=null,a._changeTarget(u)}),this.listenTo(i,"change:warning",(a,u)=>{a.previous("warning")!==u&&s(u?1:-1)}),this.listenTo(i,"add",(a,u,c)=>{this._labelIndex=null,a.onAdd&&a.onAdd(),a.get("warning")&&s(1)}),this.listenTo(i,"remove",(a,u,c)=>{this._labelIndex=null,a.get("warning")&&s(-1)});let o=!1;for(const a in t.devices){const u=t.devices[a];u.position&&(o=!0);const c=u.type in this._cells?this._cells[u.type]:c0e(u.celltype),f=On.clone(u);f.id=a,c==this._cells.Subcircuit&&(f.graph=this._makeGraph(r[u.celltype],r,{nested:!0}));const h=new c(f);i.addCell(h)}for(const a of t.connectors)i.addCell(new this._cells.Wire({source:{id:a.from.id,port:a.from.port,magnet:"port"},target:{id:a.to.id,port:a.to.port,magnet:"port"},netname:a.name,vertices:a.vertices||[],source_positions:a.source_positions||[]}));return o&&i.set("laid_out",!0),i}updateGatesNext(t){return this._engine.updateGatesNext(t)}updateGates(t){return this._engine.updateGates(t)}synchronize(){return this._engine.synchronize()}get hasPendingEvents(){return this._engine.hasPendingEvents}get tick(){return this._engine.tick}start(){if(!this.hasWarnings())return this._engine.start()}startFast(){if(!this.hasWarnings())return this._engine.startFast()}stop(t){return this._engine.stop(t)}get interval(){return this._engine.interval}set interval(t){this._engine.interval=t}get running(){return this._engine.running}getInputCells(){return this._graph.getElements().filter(t=>t.isInput)}getOutputCells(){return this._graph.getElements().filter(t=>t.isOutput)}setInput(t,r){const n=this._graph.getCell(t);if(n.isInput)n.setInput(r);else throw new Error("Invalid call to setInput")}getOutput(t){const r=this._graph.getCell(t);if(r.isOutput)return r.getOutput();throw new Error("Invalid call to getOutput")}makeLabelIndex(){if(this._labelIndex)return this._labelIndex;const t=r=>{const n={wires:{},devices:{},subcircuits:{},inputs:{},outputs:{},graph:r};for(const i of r.getElements()){if(i.has("net")&&(i.isInput&&(n.inputs[i.get("net")]=i),i.isOutput&&(n.outputs[i.get("net")]=i)),!i.has("label"))continue;const s=i.get("label");n.devices[s]=i,i instanceof this._cells.Subcircuit&&(n.subcircuits[s]=t(i.get("graph")))}for(const i of r.getLinks())i.has("netname")&&(n.wires[i.get("netname")]=i);return n};return this._labelIndex=t(this._graph)}getLabelIndex(t=[]){const r=(n,i)=>{if(n==t.length)return i;{const s=i.subcircuits[t[n]];if(s)return r(n+1,s)}};return r(0,this.makeLabelIndex())}findWireByLabel(t,r=[]){return this.getLabelIndex(r).wires[t]}findDeviceByLabel(t,r=[]){return this.getLabelIndex(r).devices[t]}findInputByNet(t){return this.getLabelIndex([]).inputs[t]}findOutputByNet(t){return this.getLabelIndex([]).outputs[t]}toJSON(t=!0){const r={},n=s=>{const o={devices:{},connectors:[]},a=s.get("laid_out");for(const u of s.getElements()){const c=o.devices[u.get("id")]=u.getGateParams(t);a||delete c.position,u instanceof this._cells.Subcircuit&&!r[u.get("celltype")]&&(r[u.get("celltype")]=n(u.get("graph")))}for(const u of s.getLinks())o.connectors.push(u.getWireParams(t));return o},i=n(this._graph);return i.subcircuits=r,i}waitForWire(t,r){return r instanceof et&&(r=[r]),new Promise(n=>{this.monitorWire(t,(i,s)=>{n(i)},{synchronous:!0,oneShot:!0,stopOnTrigger:!0,triggerValues:r})})}waitFor(t,r,n){return n instanceof et&&(n=[n]),new Promise(i=>{this.monitor(t,r,(s,o)=>{i(s)},{synchronous:!0,oneShot:!0,stopOnTrigger:!0,triggerValues:n})})}monitorWire(t,r,n={}){const i=t.get("source"),s=t.getSourceElement();return s==null?null:this.monitor(s,i.port,r,n)}monitor(t,r,n,i={}){return this._engine.monitor(t,r,n,i)}unmonitor(t){this._engine.unmonitor(t)}observeGraph(t=[]){this._engine.observeGraph(this.getLabelIndex(t).graph)}unobserveGraph(t=[]){this._engine.observeGraph(this.getLabelIndex(t).graph)}alarm(t,r,n={}){return this._engine.alarm(t,r,n)}unalarm(t){this._engine.unalarm(t)}}On.extend(nH.prototype,ei.Events);class l0e{constructor(t,r=[]){this._bits=t,this._data=r,r.length==0?this._present=-1:this._present=this._data[this._data.length-1][0]}get bits(){return this._bits}updatePresent(t){this._present=Math.max(this._present,t)}push(t,r){if(console.assert(r.bits==this._bits&&t>=this._present),this._present=t,this._data.length>0){const[n,i]=this._data[this._data.length-1];if(i.eq(r))return;if(console.assert(t>=n),t==n){this._data[this._data.length-1][1]=r;return}}this._data.push([t,r])}getRange(t,r){if(this._data.length==0)return[];const n=a=>{let u=0,c=this._data.length;for(;c>u;){const f=u+c>>1,h=this._data[f][0];if(a==h)return f;a<h?c=f:u=f+1}return u==this._data.length?u-1:u};let i=n(t),s=n(t+r);i>0&&this._data[i][0]>t&&i--,s<this._data.length-1&&this._data[s][0]<t+r&&s++;const o=this._data.slice(i,s+1).map(a=>[a[0],a[1]]);return o[o.length-1][0]<t+r&&this._present>o[o.length-1][0]&&o.push([this._present,o[o.length-1][1]]),o}}const iH={start:0,pixelsPerTick:10,bitColors:["#fc7c68","#999","#03c03c","#779ecb"],gapScale:.2,heightFill:.8,base:"hex",gridWidth:.5,gridColor:"gray",gridStep:1,gridMinDist:10,font:"10px sans-serif",textColor:"black"};Object.freeze(iH);function F4(e,t){var r={};for(const[i,s]of Object.entries(t))r[i]={value:s,writable:!0};return Object.create(e,r)}function sH(e){let t=e.gridStep;for(;t*e.pixelsPerTick<e.gridMinDist;)10*t*e.pixelsPerTick<e.gridMinDist?t*=10:2*t*e.pixelsPerTick>=e.gridMinDist?t*=2:5*t*e.pixelsPerTick>=e.gridMinDist?t*=5:t*=10;return t}function f0e(e,t,r,n=new s9){t.clearRect(0,0,t.canvas.width,t.canvas.height);const i=t.canvas.width/r.pixelsPerTick;"present"in r&&e.updatePresent(r.present);const s=e.getRange(r.start,Math.ceil(i)),o=s.map((b,S)=>[b,s[S+1]]);o.pop();const a=b=>(Math.max(Math.min(b,r.start+i),r.start)-r.start)*r.pixelsPerTick,u=.5*t.canvas.height,c=(.5-r.heightFill/2)*t.canvas.height,f=(.5+r.heightFill/2)*t.canvas.height,h=b=>[f,u,c][b+1],p=b=>r.bitColors[b+1],_=b=>r.bitColors[b.isDefined?b.isLow?0:b.isHigh?2:3:1],m=t.createLinearGradient(0,f,0,c);m.addColorStop(0,r.bitColors[0]),m.addColorStop(.5,r.bitColors[1]),m.addColorStop(1,r.bitColors[2]),t.lineWidth=r.gridWidth;const y=sH(r);for(let b=r.start-r.start%y;b<r.start+i;b+=y){const S=a(b);t.beginPath(),t.strokeStyle=r.gridColor,t.moveTo(S,0),t.lineTo(S,t.canvas.height),t.stroke()}t.lineWidth=2;for(const[[b,S],[E,A]]of o){const P=a(b),R=a(E);if(e.bits==1){const q=S.get(0),d=A.get(0),C=h(q),I=h(d),L=p(q);p(d);const B=Math.min(Math.abs(C-I)*r.gapScale,r.pixelsPerTick/2);t.beginPath(),t.strokeStyle=m,t.moveTo(R-B,C),t.lineTo(R,I),t.stroke(),t.beginPath(),t.strokeStyle=L,t.moveTo(P,C),t.lineTo(R-B,C),t.stroke()}else{const q=Math.min(Math.abs(c-f)*r.gapScale,r.pixelsPerTick/2),d=_(S),C=_(A),I=S.isDefined,L=A.isDefined;if(I){t.textAlign="center",t.textBaseline="middle",t.font=r.font,t.fillStyle=r.textColor;const B=n.show(r.base,S);t.measureText(B).width<(R-P-q)*2&&t.fillText(B,(P+R-q)/2,t.canvas.height/2,R-P-q)}!I&&!L?(t.beginPath(),t.strokeStyle=d,t.moveTo(P,u),t.lineTo(R,u),t.stroke()):S.eq(A)?(t.strokeStyle=C,t.beginPath(),t.moveTo(P,c),t.lineTo(R,c),t.stroke(),t.beginPath(),t.moveTo(P,f),t.lineTo(R,f),t.stroke()):(t.strokeStyle=C,L?(t.beginPath(),t.moveTo(R,c),t.lineTo(R-q/2,u),t.lineTo(R,f),t.stroke()):(t.beginPath(),t.moveTo(R,u),t.lineTo(R-q/2,u),t.stroke()),t.strokeStyle=d,I?(t.beginPath(),t.moveTo(P,c),t.lineTo(R-q,c),t.lineTo(R-q/2,u),t.lineTo(R-q,f),t.lineTo(P,f),t.stroke()):(t.beginPath(),t.moveTo(P,u),t.lineTo(R-q/2,u),t.stroke()))}}}var oH=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];r.call(n,o[1],o[0])}},t}()}(),ZE=typeof window<"u"&&typeof document<"u"&&window.document===document,op=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),h0e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(op):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),d0e=2;function v0e(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&a()}function o(){h0e(s)}function a(){var u=Date.now();if(r){if(u-i<d0e)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=u}return a}var p0e=20,g0e=["top","right","bottom","left","width","height","size","weight"],m0e=typeof MutationObserver<"u",_0e=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=v0e(this.refresh.bind(this),p0e)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ZE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m0e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ZE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=g0e.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),aH=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Vl=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||op},uH=Og(0,0,0,0);function ap(e){return parseFloat(e)||0}function B4(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var s=e["border-"+i+"-width"];return n+ap(s)},0)}function y0e(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var s=i[n],o=e["padding-"+s];r[s]=ap(o)}return r}function b0e(e){var t=e.getBBox();return Og(0,0,t.width,t.height)}function w0e(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return uH;var n=Vl(e).getComputedStyle(e),i=y0e(n),s=i.left+i.right,o=i.top+i.bottom,a=ap(n.width),u=ap(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+s)!==t&&(a-=B4(n,"left","right")+s),Math.round(u+o)!==r&&(u-=B4(n,"top","bottom")+o)),!S0e(e)){var c=Math.round(a+s)-t,f=Math.round(u+o)-r;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return Og(i.left,i.top,a,u)}var x0e=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Vl(e).SVGGraphicsElement}:function(e){return e instanceof Vl(e).SVGElement&&typeof e.getBBox=="function"}}();function S0e(e){return e===Vl(e).document.documentElement}function E0e(e){return ZE?x0e(e)?b0e(e):w0e(e):uH}function A0e(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return aH(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}function Og(e,t,r,n){return{x:e,y:t,width:r,height:n}}var T0e=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Og(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=E0e(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),P0e=function(){function e(t,r){var n=A0e(r);aH(this,{target:t,contentRect:n})}return e}(),C0e=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new oH,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new T0e(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new P0e(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),cH=typeof WeakMap<"u"?new WeakMap:new oH,lH=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=_0e.getInstance(),n=new C0e(t,r,this);cH.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){lH.prototype[e]=function(){var t;return(t=cH.get(this))[e].apply(t,arguments)}});var R0e=function(){return typeof op.ResizeObserver<"u"?op.ResizeObserver:lH}();function Pl(e){const t=[e.cid];for(let r=e.graph.get("subcircuit");r!=null;r=r.graph.get("subcircuit"))t.push(r.cid);return t.reverse(),t.join(".")}function I0e(e){const t=[];if(e.has("netname"))t.push(e.get("netname"));else{const r=e.source();t.push(r.port);const n=e.graph.getCell(r.id);n.has("label")?t.push(n.get("label")):t.push(r.id)}for(let r=e.graph.get("subcircuit");r!=null;r=r.graph.get("subcircuit"))r.has("label")?t.push(r.get("label")):t.push(r.id);return t.reverse(),t.join(".")}class O0e{constructor(t){this._circuit=t,this._wires=new Map,this.listenTo(this._circuit,"new:paper",r=>this.attachTo(r))}attachTo(t){this.listenTo(t,"link:monitor",r=>{this.addWire(r.model)})}addWire(t){const r=Pl(t);if(this._wires.has(r))return;const n=new l0e(t.get("bits")),i={wire:t,waveform:n,monitorId:void 0};this._wires.set(r,i),this.trigger("add",t),i.monitorId=this._circuit.monitorWire(t,(s,o)=>{this._handleChange(s,t,o)})}removeWire(t){typeof t=="string"&&(t=this._wires.get(t).wire),this.trigger("remove",t);const r=Pl(t);this._circuit.unmonitor(this._wires.get(r).monitorId),this._wires.delete(r)}getWires(){const t=[];for(const r of this._wires.values())t.push(r.wire);return t}getWiresDesc(){return this.getWires().map(t=>{if(t.has("netname"))return{name:t.get("netname"),path:t.getWirePath(),bits:t.get("bits")}}).filter(t=>t!==void 0)}loadWiresDesc(t){for(const r of t){const n=this._circuit.findWireByLabel(r.name,r.path);n&&n.get("bits")==r.bits&&this.addWire(n)}}_handleChange(t,r,n){this._wires.get(Pl(r)).waveform.push(t,n),this.trigger("change",r,n)}}On.extend(O0e.prototype,ei.Events);class sbe extends ei.View{initialize(t){this._width=800,this._settings=F4(iH,{start:0,pixelsPerTick:5,gridStep:1}),this._settingsFor=new Map,this._live=!0,this._autoredraw=!1,this._idle=null,this._removeButtonMarkup=t.removeButtonMarkup||'<button type="button" name="remove">â</button>',this._baseSelectorMarkup=t.baseSelectorMarkup||TT,this._bitTriggerMarkup=t.bitTriggerMarkup||'<select name="trigger" title="Trigger"><option value="none"></option><option value="rising">â</option><option value="falling">â</option><option value="risefall">â</option><option value="undef">x</option></select>',this._busTriggerMarkup=t.busTriggerMarkup||'<input type="text" name="trigger" title="Trigger" placeholder="trigger" pattern="[0-9a-fx]*">',this.listenTo(this.model,"add",this._handleAdd),this.listenTo(this.model,"remove",this._handleRemove),this.listenTo(this.model._circuit,"display:add",()=>{this.render()}),this.listenTo(this.model._circuit,"postUpdateGates",f=>{this._live&&(this.start=f-this._width/this._settings.pixelsPerTick),this._settings.present=f,this._idle||(this._idle=requestIdleCallback(()=>{this._drawAll(),this._idle=null},{timeout:100}))}),this.render(),this._resizeObserver=new R0e(()=>{this._canvasResize()}),this._resizeObserver.observe(this.el);function r(f){return Mt(f.target).closest("tr").attr("wireid")}const n=this.model._circuit._display3vl;this.$el.on("click","button[name=remove]",f=>{this.model.removeWire(r(f))}),this.$el.on("input","select[name=base]",f=>{const h=f.target.value,p=this._settingsFor.get(r(f));p.base=h;const m=Mt(f.target).closest("tr").find("input[name=trigger]");m.attr("pattern",n.pattern(h)),p.trigger.length&&m.val(n.show(h,p.trigger[0])),this.trigger("change")});const i=()=>!0,s=(f,h)=>{const p=this._settingsFor.get(f);if(p.triggerId&&(this.model._circuit.unmonitor(p.triggerId),p.triggerId=null),h.length>0){const _=this.model._wires.get(f).wire;p.triggerId=this.model._circuit.monitorWire(_,i,{triggerValues:h,stopOnTrigger:!0})}p.trigger=h};this.$el.on("input","select[name=trigger]",f=>{const h=r(f);switch(f.target.value){case"rising":s(h,[et.one]);break;case"falling":s(h,[et.zero]);break;case"risefall":s(h,[et.one,et.zero]);break;case"undef":s(h,[et.x]);break;default:s(h,[])}}),this.$el.on("change","input[name=trigger]",f=>{const h=r(f),_=this._settingsFor.get(h).base,m=this.model._wires.get(h).waveform.bits;if(f.target.value=="")s(h,[]);else if(n.validate(_,f.target.value,m)){const y=n.read(_,f.target.value,m);s(h,[y]),f.target.value=n.show(_,y)}else s(h,[])}),this.listenTo(this,"change",()=>{this._autoredraw&&this._drawAll()});const o=new Image(0,0);o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";let a,u;const c=f=>{const h=f.originalEvent.screenX-a;this.start=u-h/this._settings.pixelsPerTick};this.$el.on("dragstart","canvas",f=>{const h=f.originalEvent.dataTransfer;h.setData("text/plain","dragging"),h.setDragImage(o,0,0),a=f.originalEvent.screenX,u=this._settings.start,this.live=!1,Mt(document).on("dragover",c)}),this.$el.on("dragend","canvas",f=>{Mt(document).off("dragover",c)}),this.$el.on("wheel","canvas",f=>{f.preventDefault();const h=2**Math.sign(f.originalEvent.deltaY);this.start+=f.originalEvent.offsetX/this._settings.pixelsPerTick*(1-1/h),this.pixelsPerTick*=h})}render(){this.$el.html('<table class="monitor"></table>');for(const t of this.model._wires.values())this.$("table").append(this._handleAdd(t.wire));return this._canvasResize(),this}shutdown(){this.$el.off(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this.stopListening()}get gridStep(){return sH(this._settings)}get autoredraw(){return this._autoredraw}set autoredraw(t){this._autoredraw=t,t&&this._drawAll()}get width(){return this._width}get live(){return this._live}set live(t){this.live!=t&&(this._live=t,this.trigger("change:live",t),this.trigger("change"))}get start(){return this._settings.start}set start(t){this._settings.start!=t&&(this._settings.start=t,this.trigger("change:start",t),this.trigger("change"))}get pixelsPerTick(){return this._settings.pixelsPerTick}set pixelsPerTick(t){this._settings.pixelsPerTick!=t&&(this._settings.pixelsPerTick=t,this.trigger("change:pixelsPerTick",t),this.trigger("change"))}_canvasResize(){this._width=Math.max(this.$el.width()-300,100),this.$("canvas").attr("width",this._width),this.trigger("change:width",this._width),this.trigger("change")}_drawAll(){for(const t of this.model._wires.keys())this._draw(t)}_draw(t){const r=this.model._circuit._display3vl,n=this.$('tr[wireid="'+t+'"]').find("canvas"),i=this.model._wires.get(t).waveform;f0e(i,n[0].getContext("2d"),this._settingsFor.get(t),r)}_handleAdd(t){const r=Pl(t);this._settingsFor.set(r,F4(this._settings,{base:"hex",trigger:[],triggerId:null})),this.$("table").append(this._createRow(t))}_handleRemove(t){const r=Pl(t);this.$('tr[wireid="'+r+'"]').remove();const n=this._settingsFor.get(r);n.triggerId&&this.model._circuit.unmonitor(n.triggerId),this._settingsFor.delete(r)}_createRow(t){const r=Pl(t),n=this._settingsFor.get(r),i=this.model._circuit._display3vl,s=t.get("bits")>1?this._baseSelectorMarkup instanceof Function?this._baseSelectorMarkup(i,t.get("bits"),n.base):this._baseSelectorMarkup:"",o=t.get("bits")>1?this._busTriggerMarkup:this._bitTriggerMarkup,a=Mt('<tr><td class="name"></td><td>'+s+"</td><td>"+o+"</td><td>"+this._removeButtonMarkup+'</td><td><canvas class="wavecanvas" height="30" draggable="true"></canvas></td></tr>');return a.attr("wireid",r),a.children("td").first().text(I0e(t)),a}}let M0e=0;class obe extends ei.View{initialize(t){this._idnum=M0e++,this._inputPanelMarkup=t.inputPanelMarkup||'<div data-iopanel="input"></div>',this._outputPanelMarkup=t.outputPanelMarkup||'<div data-iopanel="output"></div>',this._baseSelectorMarkup=t.baseSelectorMarkup||TT,this._labelMarkup=t.labelMarkup||"<label></label>",this._buttonMarkup=t.buttonMarkup||'<input type="checkbox">',this._lampMarkup=t.lampMarkup||'<input type="checkbox">',this._rowMarkup=t.rowMarkup||"<div></div>",this._colMarkup=t.colMarkup||"<div></div>",this._inputMarkup=t.inputMarkup||'<input type="text">',this.render(),this.listenTo(this.model._graph,"add",this._handleAdd),this.listenTo(this.model._graph,"remove",this._handleRemove),this.listenTo(this.model,"display:add",()=>{this.render()})}render(){this.$el.html('<form onsubmit="return false">'+this._inputPanelMarkup+this._outputPanelMarkup+"</form>");for(const t of this.model.getInputCells())this._handleAddInput(t);for(const t of this.model.getOutputCells())this._handleAddOutput(t)}shutdown(){this.$el.off(),this.stopListening()}_id(t){return"iopanel-"+t+"-"+this._idnum}_handleAdd(t){t.isInput?this._handleAddInput(t):t.isOutput&&this._handleAddOutput(t)}_addLabel(t,r){return Mt(this._labelMarkup).appendTo(t).find("label").addBack("label").text(r.get("net")||r.get("label"))}_addLabelFor(t,r){return this._addLabel(t,r).attr("for",this._id(r.id))}_handleAddInput(t){const r=this.model._display3vl,n=Mt(this._rowMarkup).appendTo(this.$('div[data-iopanel="input"]'));this._addLabelFor(n,t);const i=Mt(this._colMarkup).appendTo(n);if(t.get("mode")==1){const o=Mt(this._buttonMarkup).appendTo(i).find("input").addBack("input").attr("id",this._id(t.id)).on("click",u=>{t.setInput(et.fromBool(u.target.checked))}),a=(u,c)=>{o.prop("checked",c.out.isHigh)};this.listenTo(t,"change:outputSignals",a),a(t,t.get("outputSignals"))}else{const s=Mt(this._inputMarkup).appendTo(i);let o="hex";Mt(this._baseSelectorMarkup(r,t.get("bits"),o)).appendTo(i);let a=r.size(o,t.get("bits"));const u=t.get("bits"),c=s.find("input").addBack("input").prop("size",a).prop("maxlength",a).prop("pattern",r.pattern(o)).on("change",h=>{r.validate(o,h.target.value,u)&&t.setInput(r.read(o,h.target.value,u))}),f=(h,p)=>{s.val(r.show(o,p.out))};this.listenTo(t,"change:outputSignals",f),f(t,t.get("outputSignals")),n.on("input","select[name=base]",h=>{o=h.target.value,a=r.size(o,t.get("bits")),c.prop("size",a).prop("maxlength",a).prop("pattern",r.pattern(o)),f(t,t.get("outputSignals"))})}}_handleAddOutput(t){const r=this.model._display3vl,n=Mt(this._rowMarkup).appendTo(this.$('div[data-iopanel="input"]'));this._addLabel(n,t);const i=Mt(this._colMarkup).appendTo(n);if(t.get("bits")==1){const o=Mt(this._lampMarkup).appendTo(i).find("input").addBack("input").prop("disabled",!0),a=(u,c)=>{const f=u.getOutput();o.prop("checked",f.isHigh),o.prop("indeterminate",!f.isDefined)};this.listenTo(t,"change:inputSignals",a),a(t,t.get("inputSignals"))}else{const s=Mt(this._inputMarkup).appendTo(i);let o="hex";Mt(this._baseSelectorMarkup(r,t.get("bits"),o)).appendTo(i);const a=r.size(o,t.get("bits")),u=s.find("input").addBack("input").prop("disabled",!0).prop("size",a),c=(f,h)=>{const p=f.getOutput();s.val(r.show(o,p))};this.listenTo(t,"change:inputSignals",c),c(t,t.get("inputSignals")),n.on("input","select[name=base]",f=>{o=f.target.value,u.prop("size",r.size(o,t.get("bits"))),c(t,t.get("inputSignals"))})}}_handleRemove(t){this.stopListening(t)}}Qj.sorting.APPROX,new u9;function k0e(e){let t=new Array;return Object.keys(e).forEach(r=>{const[n,i,s]=r.split("_");e[r].forEach(([o,a])=>{const u={from:{id:`${i}_${s}`,port:n},name:`${r}-${a}`,to:{id:o,port:a.split("_")[0]}};t.push(u)})}),t}class fH extends nH{constructor(t,r){const n=k0e(t.connectors),i={devices:t.devices,connectors:n,subcircuits:t.subcircuits};super(i,r),console.log("CustomHeadlessCircuit Initialized")}}let L0e=wa.ones(1),N0e=wa.zeros(1),bs=Xe(null),Cl=Cn(!1);const dc=()=>T(Cl);let hf=Cn(0);const q0e=()=>T(hf);Object.defineProperty(fH.prototype,"running",{get(){return!1}});function D0e(e){T(Cl)?(console.log("Simulation Stopped"),bs.set(null),ve(hf,0),ve(Cl,!1)):(console.log("Simulation Started"),ve(Cl,!0),ot(bs)===null&&(console.log(ot(Ri)),bs.set(new fH(ot(Ri)))),hH(e))}function hH(e){if(T(Cl)===!1)return;const t=ot(bs);if(t===null){console.log("impossible");return}t.updateGates(),ve(hf,t.tick,!0),setTimeout(()=>hH(e),e)}function F0e(){bs.set(null),ve(hf,0),ve(Cl,!1)}function B0e(e,t){let r=e==null?void 0:e.findWireByLabel(t);return r||(console.warn("Wire not created yet on headless circuit creation or update"),null)}function z0e(e){let t;return e.attributes.signal?(e.attributes.signal._avec[0]==e.attributes.signal._bvec[0]?t=e.attributes.signal._avec[0]:t=-1,t):-1}function V0e(){if(bs==null){console.log("Circuit is null");return}const e=ot(bs);if(e===null){console.log("impossible");return}e.updateGates(),ve(hf,e.tick,!0)}function G0e(){if(bs==null){console.log("Circuit is null");return}const e=ot(bs);if(e===null){console.log("impossible");return}e.updateGatesNext(),ve(hf,e.tick,!0)}function $0e(e){let t;if(bs==null){console.log("Circuit is null");return}const r=ot(bs);if(r===null){console.log("impossible");return}t=r.getLabelIndex().devices[e].attributes.outputSignals.out._avec[0],t==1?r.setInput(e,N0e):r.setInput(e,L0e)}function DT(e){return[...e].find(r=>/^(in\d+|in_|out_)/.test(r))||null}function U0e(e,t){const r=(u,c)=>u.startsWith(c),n=u=>r(u,"in"),i=u=>r(u,"out"),s=u=>({isInput:n(u),isOutput:i(u)}),{a1:o,a2:a}={a1:s(e),a2:s(t)};return o.isInput&&a.isOutput?"good_in_to_out":a.isInput&&o.isOutput?"good_out_to_in":o.isInput&&a.isInput?"bad_dual_input":"bad_dual_output"}function j0e(e,t){const[r,,]=e.split("_"),n=r.startsWith("out")&&e||t,i=r.startsWith("in")?e:t;return{fromOutputId:n,toInputId:i}}function H0e(e,t){const r=(s,o)=>s+"-"+o,{fromOutputId:n,toInputId:i}=j0e(e,t);return console.log("adding connection",n,i),Ri.addConnection(n,i),r(n,i)}function W0e(e,t){const r=DT(e);if(r===null)return"bad_invalid_drop";const n=[...e].find(o=>o==="linked"),i=U0e(t,r);if(i.startsWith("bad"))return i;const s=o=>o.startsWith("in");return n&&s(r)?"bad_input_already_linked":n&&!s(t)?"good_output_multi_wires":`${i}-${r}`}function z4(e,t,r=ebe){const n=W0e(t,e);if(n.startsWith("bad"))return n;const i=DT(t),s=H0e(e,i);return r(),s}var X0e=zt("<div></div>");function Y0e(e,t){ur(t,!0);let r=de(t,"io",3,"output");const n=u=>{function c(f){f.preventDefault(),f.stopPropagation(),z4(u,f.target.classList),document.removeEventListener("mousedown",c,!0)}return c};function i(u){const c=n(u);document.addEventListener("mousedown",c,!0)}function s(u){const c=DT(u.target.classList);c!==null&&c===t.anchorId?i(c):z4(t.anchorId,u.target.classList),document.removeEventListener("mouseup",s,!0)}Ml(()=>{t.connecting&&document.addEventListener("mouseup",s,!0)});var o=X0e();let a;Nt(u=>a=Mn(o,1,`custom_anchor ${r()==="input"&&"input"||"output"} ${t.anchorId??""}`,"svelte-1dytm7c",a,u),[()=>({linked:t.linked,hovering:t.hovering,connecting:t.connecting})]),rr("mousedown",o,u=>{u.preventDefault(),t.linked&&r()==="input"&&!dc()&&Ri.removeConnection(t.anchorId)},!0),Fe(e,o),cr()}Object.assign(SVGElement.prototype,{setLampColors:K0e});function K0e([e,t]){const r=this.querySelector("circle"),n=this.querySelector("line");console.assert(r!==null&&n!==null,"likely tried to call custom svg method on the wrong element"),!(r===null||n===null)&&(r.setAttribute("stroke",t),r.setAttribute("fill",e),n.setAttribute("stroke",e))}function Z0e(e,t){const r=["green","var(--lime-green)"],n=["red","var(--lime-red)"];let s=document.querySelector(`#N-${e} svg.LampSVG`);s!==null&&s.setLampColors(t===1&&r||n)}function J0e(e,t,r){const n="."+e+"_"+t,i=document.querySelector(`${n}`);if(console.assert(i!==null,"could not find Anchor class when setting anchor colors while running"),i===null)return;const s=(h,p)=>h.classList.contains(p),o=h=>s(h,"on"),a=h=>s(h,"off"),u=h=>[a(h),o(h)],[c,f]=u(i);r===1&&c?(i.classList.remove("off"),i.classList.add("on")):r===0&&f?(i.classList.remove("on"),i.classList.add("off")):r===-1?(i.classList.remove("on"),i.classList.remove("off")):!c&&!f&&i.classList.add(r===1?"on":"off")}function cd(e){return console.assert(e!==null,"A wire was mounted with an empty edgeWrapper binding, maybe it hasn't loaded yet"),e==null?void 0:e.parentElement}function Q0e(e){var r;const t=cd(e);return console.assert(t,"edge Wrapper is not null but edgeWrapper binding has no parentElement"),((r=e==null?void 0:e.parentElement)==null?void 0:r.childNodes)??null}const e_e=e=>{const t=e.indexOf("-")+1,r=e.indexOf("/");return e.substring(t,r)};function dH(e){const t=Q0e(e);return t&&Array.from(t).find(n=>n.role==="presentation")||null}function vH(e,t){var i;const r=(i=dH(e))==null?void 0:i.getAttribute("id");if(!r)throw new Error("No ID found on the edgeNode");return[t+"-"+e_e(r),r]}const t_e="http://www.w3.org/2000/svg",ld=[".handle1",".handle2",".end_point1",".end_point2","#controlPoint1","#controlPoint2"],Ti=ld.map(e=>e.substring(1));function Gl(e,t){const r=document.createElementNS(t_e,e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.setAttribute(n,t[n]);return r}function V4(e,t,r,n="control-line"){return isNaN(e==null?void 0:e.x)||isNaN(e==null?void 0:e.y)||isNaN(t==null?void 0:t.x)||isNaN(t==null?void 0:t.y)?(console.error("Invalid coordinates provided to createHandleLine:",e,t),Gl("line",{class:r+" "+n,x1:"0",y1:"0",x2:"0",y2:"0"})):Gl("line",{class:r+" "+n,x1:e.x.toString(),y1:e.y.toString(),x2:t.x.toString(),y2:t.y.toString()})}function G4(e,t,r=6,n="end-point"){return isNaN(e==null?void 0:e.x)||isNaN(e==null?void 0:e.y)||isNaN(r)?(console.error("Invalid parameters provided to createEndPointCircle:",e,r),Gl("circle",{class:t+" "+n,cx:"0",cy:"0",r:"6"})):Gl("circle",{class:t+" "+n,cx:e.x.toString(),cy:e.y.toString(),r:r.toString()})}function $4(e,t,r=10,n="control-point"){if(isNaN(e==null?void 0:e.x)||isNaN(e==null?void 0:e.y)||isNaN(r))return console.error("Invalid parameters provided to createControlPointCircle:",e,r),Gl("circle",{class:n,cx:"0",cy:"0",r:"6"});const i=Gl("circle",{class:n,id:t,cx:e.x.toString(),cy:e.y.toString(),r:r.toString()});return i.style.touchAction="none",i}function U4(e){if(!e||typeof e!="string"||e.trim()==="")return console.warn("parseCubicBezierD received invalid input:",e),null;let t="";const r=e.indexOf("M");t=e.substring(r+1).replace("C","");const n=t.split(" ").reduce((i,s)=>(s=s.trim(),s!==""&&(s.endsWith(",")&&(s=s.slice(0,-1)),i.push(s)),i),[]);try{const i={p0:{x:parseFloat(n[0]),y:parseFloat(n[1])},p1:{x:parseFloat(n[2]),y:parseFloat(n[3])},p2:{x:parseFloat(n[4]),y:parseFloat(n[5])},p3:{x:parseFloat(n[6]),y:parseFloat(n[7])}};return isNaN(i.p0.x)||isNaN(i.p0.y)||isNaN(i.p1.x)||isNaN(i.p1.y)||isNaN(i.p2.x)||isNaN(i.p2.y)||isNaN(i.p3.x)||isNaN(i.p3.y)?(console.error("Parsed coordinates resulted in NaN:",e,i),null):i}catch(i){return console.error("Error parsing numbers from path data:",e,i),null}}function r_e(e){const t=cd(e);if(!t)throw new Error("Wire is not god");ld.forEach(r=>{var i;const n=t.querySelector(r);n&&((i=n.style)==null?void 0:i.display)==="none"&&(n.style.display="")})}function n_e(e){const t=cd(e);if(!t)throw new Error("Wire is not god");ld.forEach(r=>{const n=t.querySelector(r);n&&(n.style.display="none")})}function i_e(e){const t=cd(e);if(!t)throw new Error("Wire is not god");ld.forEach(r=>{const n=t.querySelector(r);n&&(n.style.display=n.style.display==="none"?"":"none")})}function j4(e,t=""){var A,P,R,q,d,C,I,L,B,H;const r=t!==""&&U4(t)||null;let n=e.getAttribute("d")&&U4(e.getAttribute("d"));if(!n)return console.log("unable to parse path"),null;r&&(r.p0.x-n.p0.x,r.p0.y-n.p0.y,r.p1.x-n.p1.x,r.p1.y-n.p1.y);const i=cd(e);if(!i)throw new Error("Wire is not god");const s=new Map(ld.map($=>[$.substring(1),i.querySelector($)||null]));let o=new Map([[Ti[0],s.get(Ti[0])||V4(n.p0,n.p1,"handle1")],[Ti[1],s.get(Ti[1])||V4(n.p3,n.p2,"handle2")],[Ti[2],s.get(Ti[2])||G4((r==null?void 0:r.p0)||n.p0,"end_point1")],[Ti[3],s.get(Ti[3])||G4((r==null?void 0:r.p3)||n.p3,"end_point2")],[Ti[4],s.get(Ti[4])||$4((r==null?void 0:r.p1)||n.p1,"controlPoint1")],[Ti[5],s.get(Ti[5])||$4((r==null?void 0:r.p2)||n.p2,"controlPoint2")]]);const a=o.get(Ti[2]),u=o.get(Ti[4]),c=o.get(Ti[5]);if(a){const $=a.getAttribute("cx"),J=a.getAttribute("cy"),ae=(r==null?void 0:r.p0.x.toString())||n.p0.x.toString(),X=(r==null?void 0:r.p0.y.toString())||n.p0.y.toString();a.setAttribute("cx",ae),a.setAttribute("cy",X);const D=parseFloat(ae)-parseFloat($||""),z=parseFloat(X)-parseFloat(J||"");u==null||u.setAttribute("cx",String(parseFloat(u.getAttribute("cx")||"0")+D)),u==null||u.setAttribute("cy",String(parseFloat(u.getAttribute("cy")||"0")+z)),c==null||c.setAttribute("cx",String(parseFloat(c.getAttribute("cx")||"0")+D)),c==null||c.setAttribute("cy",String(parseFloat(c.getAttribute("cy")||"0")+z))}const f=o.get(Ti[3]);if(f){const $=f.getAttribute("cx"),J=f.getAttribute("cy"),ae=(r==null?void 0:r.p3.x.toString())||n.p3.x.toString(),X=(r==null?void 0:r.p3.y.toString())||n.p3.y.toString();f.setAttribute("cx",ae),f.setAttribute("cy",X);const D=parseFloat(ae)-parseFloat($||""),z=parseFloat(X)-parseFloat(J||"");u==null||u.setAttribute("cx",String(parseFloat(u.getAttribute("cx")||"0")+D)),u==null||u.setAttribute("cy",String(parseFloat(u.getAttribute("cy")||"0")+z)),c==null||c.setAttribute("cx",String(parseFloat(c.getAttribute("cx")||"0")+D)),c==null||c.setAttribute("cy",String(parseFloat(c.getAttribute("cy")||"0")+z))}for(const $ of Ti)i.appendChild(o.get($));let h=null,p={x:0,y:0},_={p0:{x:parseFloat((A=o.get("end_point1"))==null?void 0:A.getAttribute("cx")),y:parseFloat((P=o.get("end_point1"))==null?void 0:P.getAttribute("cy"))},p1:{x:parseFloat((R=o.get("controlPoint1"))==null?void 0:R.getAttribute("cx")),y:parseFloat((q=o.get("controlPoint1"))==null?void 0:q.getAttribute("cy"))},p2:{x:parseFloat((d=o.get("controlPoint2"))==null?void 0:d.getAttribute("cx")),y:parseFloat((C=o.get("controlPoint2"))==null?void 0:C.getAttribute("cy"))},p3:{x:parseFloat((I=o.get("end_point2"))==null?void 0:I.getAttribute("cx")),y:parseFloat((L=o.get("end_point2"))==null?void 0:L.getAttribute("cy"))}};function m(){var J,ae,X,D,z,j,ie,oe;const $=`M ${_.p0.x} ${_.p0.y} C ${_.p1.x} ${_.p1.y}, ${_.p2.x} ${_.p2.y}, ${_.p3.x} ${_.p3.y}`;if(e.setAttribute("d",$),!o.get("handle1")||!o.get("handle2"))return console.warn("no handles on the edge you tried to update"),null;(J=o.get("handle1"))==null||J.setAttribute("x1",_.p0.x.toString()),(ae=o.get("handle1"))==null||ae.setAttribute("y1",_.p0.y.toString()),(X=o.get("handle1"))==null||X.setAttribute("x2",_.p1.x.toString()),(D=o.get("handle1"))==null||D.setAttribute("y2",_.p1.y.toString()),(z=o.get("handle2"))==null||z.setAttribute("x1",_.p3.x.toString()),(j=o.get("handle2"))==null||j.setAttribute("y1",_.p3.y.toString()),(ie=o.get("handle2"))==null||ie.setAttribute("x2",_.p2.x.toString()),(oe=o.get("handle2"))==null||oe.setAttribute("y2",_.p2.y.toString())}function y($){var D,z,j,ie;if(!e)return console.warn("no svg found on get mouse position"),null;const J=e.getScreenCTM();if(!J)return{x:0,y:0};const ae=$.clientX??((z=(D=$.touches)==null?void 0:D[0])==null?void 0:z.clientX),X=$.clientY??((ie=(j=$.touches)==null?void 0:j[0])==null?void 0:ie.clientY);return ae===void 0||X===void 0?(console.warn("Could not get clientX/Y from event:",$),null):{x:(ae-J.e)/J.a,y:(X-J.f)/J.d}}function b($){if($.type==="mousedown"&&$.preventDefault(),$.target.classList.contains("control-point")){h=$.target;const J=y($);if(!J)return;p.x=J.x-parseFloat(h.getAttribute("cx")),p.y=J.y-parseFloat(h.getAttribute("cy")),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),document.addEventListener("mouseleave",E)}}function S($){if(h){$.type==="touchmove"&&$.preventDefault();const J=y($);if(!J)return;const ae=J.x-p.x,X=J.y-p.y;h.setAttribute("cx",ae.toString()),h.setAttribute("cy",X.toString()),h.id==="controlPoint1"?(_.p1.x=ae,_.p1.y=X):h.id==="controlPoint2"?(_.p2.x=ae,_.p2.y=X):console.warn("reached error"),m()}}function E($){h&&(document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),document.removeEventListener("mouseleave",E),h=null)}(B=o.get("controlPoint1"))==null||B.addEventListener("mousedown",b),(H=o.get("controlPoint2"))==null||H.addEventListener("mousedown",b),m()}var s_e=(e,t,r)=>{if(T(t)&&T(r))i_e(T(r));else{if(ve(t,!0),!T(r))return;r_e(T(r))}},o_e=(e,t,r)=>{e.preventDefault();const n=dH(T(t));!n||!T(t)||(ve(r,!1),n_e(T(t)),T(t).setAttribute("d",n.getAttribute("d")),console.warn(n))},a_e=Rn('<path id="bezierCurve" role="presentation"></path>');function u_e(e,t){ur(t,!0);let r=Cn(null);ri(()=>{let[s,o]=vH(T(r),t.initAncId);t.monitorWire(s),T(r)&&T(n)&&j4(T(r))}),Ml(()=>{if(t.currentPath){if(!T(r)||!T(n))return;j4(T(r),t.currentPath)}});let n=Cn(!1);var i=a_e();i.__click=[s_e,n,r],i.__contextmenu=[o_e,r,n],ya(i,s=>ve(r,s),()=>T(r)),Nt(()=>{dt(i,"d",t.currentPath),Mn(i,0,u2(t.wireActive===-1?"":t.wireActive===1?"on":"off"),"svelte-15cv7c7")}),Fe(e,i),cr()}ku(["click","contextmenu"]);var c_e=Rn("<path></path>");function l_e(e,t){ur(t,!0);let r=Cn(null);ri(()=>{let[i,s]=vH(T(r),t.initAncId);t.monitorWire(i)});var n=c_e();ya(n,i=>ve(r,i),()=>T(r)),Nt(()=>{Mn(n,0,u2(t.wireActive===-1?"hit-area":t.wireActive===1?"hit-area on":"hit-area off"),"svelte-1gi7ewc"),dt(n,"d",t.currentPath)}),Fe(e,n),cr()}var f_e=Rn('<svg><path fill="currentColor" d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zM11 20h1.975l.35-2.65q.775-.2 1.438-.587t1.212-.938l2.475 1.025l.975-1.7l-2.15-1.625q.125-.35.175-.737T17.5 12t-.05-.787t-.175-.738l2.15-1.625l-.975-1.7l-2.475 1.05q-.55-.575-1.212-.962t-1.438-.588L13 4h-1.975l-.35 2.65q-.775.2-1.437.588t-1.213.937L5.55 7.15l-.975 1.7l2.15 1.6q-.125.375-.175.75t-.05.8q0 .4.05.775t.175.75l-2.15 1.625l.975 1.7l2.475-1.05q.55.575 1.213.963t1.437.587zm1.05-4.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5M12 12"></path></svg>');function h_e(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=f_e();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}let Lv=Xe({wireType:"bezier",theme:"light"});var d_e=(e,t)=>ve(t,!T(t)),v_e=(e,t)=>ve(t,!1),p_e=zt('<div class="modal svelte-15lsjbq"><h2>Settings</h2> <div style="display:flex;justify-content:center;align-items:center;" class="svelte-15lsjbq"><p style="margin-right:auto" class="svelte-15lsjbq">Default Wires:</p> <select id="wire-type-select" class="svelte-15lsjbq"><option>Bezier</option><option>Step</option><option>Straight</option></select></div> <div class="svelte-15lsjbq"><p class="svelte-15lsjbq">Theme:</p> <select id="theme-select" class="svelte-15lsjbq"><option>Light</option><option>Dark</option></select></div> <button class="svelte-15lsjbq">Close</button></div>'),g_e=zt('<button class="launch-button svelte-15lsjbq"><!></button> <!>',1);function m_e(e,t){ur(t,!0);const[r,n]=yn(),i=()=>Ue(Lv,"$settingsStore",r);let s=Cn(!1);var o=g_e(),a=bt(o);a.__click=[d_e,s];var u=Et(a);h_e(u,{height:30,width:30});var c=ft(a,2);{var f=h=>{var p=p_e(),_=ft(Et(p),2),m=ft(Et(_),2),y=Et(m);y.value=(y.__value="bezier")==null?"":"bezier";var b=ft(y);b.value=(b.__value="step")==null?"":"step";var S=ft(b);S.value=(S.__value="straight")==null?"":"straight";var E=ft(_,2),A=ft(Et(E),2),P=Et(A);P.value=(P.__value="light")==null?"":"light";var R=ft(P);R.value=(R.__value="dark")==null?"":"dark";var q=ft(E,2);q.__click=[v_e,s],UC(m,()=>i().wireType,d=>Pu(Lv,nn(i).wireType=d,nn(i))),UC(A,()=>i().theme,d=>Pu(Lv,nn(i).theme=d,nn(i))),Fe(h,p)};Kt(c,h=>{T(s)&&h(f)})}Fe(e,o),cr(),n()}ku(["click"]);function y_e(e,t){ur(t,!0);const[r,n]=yn(),i=()=>Ue(Lv,"$settingsStore",r),s=()=>Ue(bs,"$CircuitEngine",r);let o=Cn(-1),a=Cn(""),u=de(t,"wireType",19,()=>i().wireType);function c(_,m=y=>ve(a,y,!0)){if(!_)return null;m(_);const y=_.includes("cursor");if(y&&console.log("Connecting wire mounted"),y)return null;(s()!==null&&f(s())||(()=>null))()}function f(_,m=y=>ve(o,y,!0)){const y=B0e(_,T(a));return y===null?void 0:()=>_.monitorWire(y,S=>{var d;const E=z0e(y);m(E);const{id:A,port:P,magnet:R}=(d=y.attributes)==null?void 0:d.target;if(!A||!P)return;if(J0e(P,A,E),!(A&&_.getLabelIndex().outputs[A]))return null;Z0e(A,E)})}bs.subscribe(_=>{if(_===null){ve(o,-1);return}(_!==null&&f(_)||(()=>null))()});const h=Li(()=>u()==="straight"),p=Li(()=>u()==="step");wE(e,{get straight(){return T(h)},get step(){return T(p)},children:s2,$$slots:{default:(_,m)=>{const y=Li(()=>m.path);Li(()=>m.destroy),Li(()=>m.hovering);var b=Ht(),S=bt(b);{var E=P=>{u_e(P,{get initAncId(){return t.initAncId},get currentPath(){return T(y)},get wireActive(){return T(o)},monitorWire:c})},A=(P,R)=>{{var q=d=>{l_e(d,{get initAncId(){return t.initAncId},get currentPath(){return T(y)},get wireActive(){return T(o)},monitorWire:c})};Kt(P,d=>{(u()==="step"||u()=="straight")&&d(q)},R)}};Kt(S,P=>{u()==="bezier"?P(E):P(A,!1)})}Fe(_,b)}}}),cr(),n()}var b_e=zt("<div><!></div>");function vc(e,t){ur(t,!0);let r=de(t,"location",19,()=>["left","top"]),n=de(t,"offset",19,()=>[]),i="";r()[0]=="left"?r()[1]=="top"?i="in1":r()[1]=="bot"?i="in2":r()[1]=="mid"&&(i="in"):r()[0]=="right"&&(i="out");const s=`${i}_${t.id}`,o=yr("rotation");function a(){if(r()[0]==="left"){if(o()===0)return"west";if(o()===90)return"north";if(o()===180)return"east";if(o()===270)return"south"}else{if(o()===0)return"east";if(o()===90)return"south";if(o()===180)return"west";if(o()===270)return"north"}}var u=b_e(),c=Et(u);const f=Li(a),h=Li(()=>t.io==="input"&&!0||!1),p=Li(()=>t.io==="output"&&!0||!1),_=Li(dc);eh(c,{id:s,key:s,get direction(){return T(f)},get input(){return T(h)},get output(){return T(p)},get locked(){return T(_)},get connections(){return t.connections},children:s2,$$slots:{default:(m,y)=>{const b=Li(()=>y.linked),S=Li(()=>y.hovering),E=Li(()=>y.connecting);Y0e(m,{get io(){return t.io},get connecting(){return T(E)},get linked(){return T(b)},anchorId:s,get hovering(){return T(S)}})},edge:(m,y)=>{y_e(m,{initAncId:s,slot:"edge"})}}}),Nt(()=>Lr(u,`position:absolute;left: ${n()[0]}%; top: ${n()[1]}%;`)),Fe(e,u),cr()}const w_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='500px'%20height='500px'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23000000'%20d='M105%20105v302h151c148%200%20148-302%200-302H105zm-89%2046v18h71v-18H16zm368.8%2096c.2%206%20.2%2012%200%2018H496v-18H384.8zM16%20343v18h71v-18H16z'/%3e%3c/svg%3e",x_e="data:image/svg+xml,%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20NAND%20Gate%20Body%20--%3e%3cpath%20fill='%23000000'%20d='M105%20105v302h151c148%200%20148-302%200-302H105z'/%3e%3c!--%20Input%20Lines%20--%3e%3crect%20x='16'%20y='151'%20width='71'%20height='18'%20fill='%23000000'/%3e%3crect%20x='16'%20y='343'%20width='71'%20height='18'%20fill='%23000000'/%3e%3c!--%20Output%20Circle%20(Inverter)%20--%3e%3ccircle%20cx='384'%20cy='256'%20r='25'%20fill='transparent'%20stroke='black'%20stroke-width='18'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='400'%20y='248'%20width='112'%20height='18'%20fill='%23000000'/%3e%3c/svg%3e",S_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20OR%20Gate%20Body%20with%20Smooth%20Curves%20and%20Proportions%20--%3e%3cpath%20d='%20M%20120,120%20L%20220,120%20Q%20360,120%20420,256%20Q%20360,392%20220,392%20L%20120,392%20Q%20180,336%20180,256%20Q%20180,176%20120,120%20Z'%20fill='black'/%3e%3c!--%20Input%20Lines%20--%3e%3crect%20x='12'%20y='160'%20width='100'%20height='18'%20fill='black'/%3e%3crect%20x='12'%20y='340'%20width='100'%20height='18'%20fill='black'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='420'%20y='248'%20width='100'%20height='18'%20fill='black'/%3e%3c/svg%3e",E_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20NOR%20Gate%20Body%20--%3e%3cpath%20d='%20M%20120,120%20L%20220,120%20Q%20360,120%20420,256%20Q%20360,392%20220,392%20L%20120,392%20Q%20180,336%20180,256%20Q%20180,176%20120,120%20Z'%20fill='black'/%3e%3c!--%20Input%20Lines%20--%3e%3crect%20x='16'%20y='160'%20width='100'%20height='18'%20fill='black'/%3e%3crect%20x='16'%20y='340'%20width='100'%20height='18'%20fill='black'/%3e%3c!--%20Inverter%20(NOT%20Circle)%20--%3e%3ccircle%20cx='440'%20cy='256'%20r='25'%20fill='transparent'%20stroke='black'%20stroke-width='18'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='460'%20y='248'%20width='120'%20height='18'%20fill='black'/%3e%3c/svg%3e",A_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Additional%20Back%20Curve%20for%20XOR%20--%3e%3cpath%20d='%20M%2080,120%20Q%20140,180%20140,256%20Q%20140,332%2080,392'%20fill='none'%20stroke='black'%20stroke-width='14'/%3e%3c!--%20XOR%20Gate%20Body%20(Same%20as%20OR%20Gate)%20--%3e%3cpath%20d='%20M%20120,120%20L%20220,120%20Q%20360,120%20420,256%20Q%20360,392%20220,392%20L%20120,392%20Q%20180,336%20180,256%20Q%20180,176%20120,120%20Z'%20fill='black'/%3e%3c!--%20Input%20Lines%20--%3e%3crect%20x='16'%20y='160'%20width='130'%20height='18'%20fill='black'/%3e%3crect%20x='16'%20y='340'%20width='130'%20height='18'%20fill='black'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='420'%20y='248'%20width='120'%20height='18'%20fill='black'/%3e%3c/svg%3e",T_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Adjusted%20Back%20Curve%20to%20Intersect%20Input%20Lines%20--%3e%3cpath%20d='%20M%2080,120%20Q%20140,180%20140,256%20Q%20140,332%2080,392'%20fill='none'%20stroke='black'%20stroke-width='14'/%3e%3c!--%20XNOR%20Gate%20Body%20--%3e%3cpath%20d='%20M%20120,120%20L%20220,120%20Q%20360,120%20420,256%20Q%20360,392%20220,392%20L%20120,392%20Q%20180,336%20180,256%20Q%20180,176%20120,120%20Z'%20fill='black'/%3e%3c!--%20Input%20Lines%20--%3e%3crect%20x='16'%20y='160'%20width='130'%20height='18'%20fill='black'/%3e%3crect%20x='16'%20y='340'%20width='130'%20height='18'%20fill='black'/%3e%3c!--%20Inverter%20(NOT%20Circle)%20--%3e%3ccircle%20cx='440'%20cy='256'%20r='25'%20fill='transparent'%20stroke='black'%20stroke-width='12'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='465'%20y='248'%20width='80'%20height='18'%20fill='black'/%3e%3c/svg%3e";var P_e=zt("<img> <!> <!> <!>",1);function C_e(e,t){ur(t,!0);const r={in1:[-7.5,68.5],in2:[-7.5,7.5],out:[100,37.58]},n={And:w_e,Nand:x_e,Or:S_e,Nor:E_e,Xor:A_e,Xnor:T_e};let i=de(t,"width",3,80),s=de(t,"height",3,50),o=de(t,"gateType",3,"And");const a=n[o()];var u=P_e(),c=bt(u);dt(c,"src",a);var f=ft(c,2);vc(f,{location:["left","bot"],get id(){return t.nodeId},io:"input",get offset(){return r.in2}});var h=ft(f,2);vc(h,{location:["left","top"],get id(){return t.nodeId},io:"input",get offset(){return r.in1}});var p=ft(h,2);vc(p,{location:["right","mid"],get id(){return t.nodeId},io:"output",get offset(){return r.out},get connections(){return ot(Ri).connectors["out_"+t.nodeId]}}),Nt(()=>{dt(c,"alt",`${o()} logic gate`),dt(c,"width",i()),dt(c,"height",s())}),Fe(e,u),cr()}const R_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20NOT%20Gate%20Body%20(Triangle)%20--%3e%3cpath%20d='%20M%20120,100%20L%20420,256%20L%20120,412%20Z'%20fill='black'/%3e%3c!--%20Input%20Line%20--%3e%3crect%20x='-20'%20y='248'%20width='115'%20height='18'%20fill='black'/%3e%3c!--%20Inverter%20(NOT%20Circle)%20--%3e%3ccircle%20cx='440'%20cy='256'%20r='30'%20fill='transparent'%20stroke='black'%20stroke-width='18'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='470'%20y='248'%20width='150'%20height='18'%20fill='black'/%3e%3c/svg%3e",I_e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='100'%20height='60'%20viewBox='10%20100%20490%20312'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20NOT%20Gate%20Body%20(Triangle)%20--%3e%3cpath%20d='%20M%20120,100%20L%20420,256%20L%20120,412%20Z'%20fill='black'/%3e%3c!--%20Input%20Line%20--%3e%3crect%20x='-20'%20y='248'%20width='115'%20height='18'%20fill='black'/%3e%3c!--%20Output%20Line%20--%3e%3crect%20x='400'%20y='248'%20width='150'%20height='18'%20fill='black'/%3e%3c/svg%3e";var O_e=zt("<img> <!> <!>",1);function M_e(e,t){ur(t,!0);const r={in:[-15,38.7],out:[100,38]},n={Not:R_e,Repeater:I_e};let i=de(t,"width",3,80),s=de(t,"height",3,50),o=de(t,"gateType",3,"Not");var a=O_e(),u=bt(a),c=ft(u,2);vc(c,{location:["left","mid"],get id(){return t.nodeId},io:"input",get offset(){return r.in}});var f=ft(c,2);vc(f,{location:["right","mid"],get id(){return t.nodeId},io:"output",get offset(){return r.out},get connections(){return ot(Ri).connectors["out_"+t.nodeId]}}),Nt(()=>{dt(u,"src",n[o()]),dt(u,"alt",`${o()} logic gate`),dt(u,"width",i()),dt(u,"height",s())}),Fe(e,a),cr()}var k_e=zt('<div class="button_fix svelte-9i9r2v"><svg width="85" height="65" viewBox="-12 0 95 100" xmlns="http://www.w3.org/2000/svg"><line x1="-50" x2="5" y1="45" y2="45" stroke-width="8"></line><circle cx="50" cy="50" r="45" stroke-width="7"></circle></svg></div> <!>',1);function L_e(e,t){de(t,"width",3,80),de(t,"height",3,50);const r=[-5,35.43];var n=k_e(),i=bt(n),s=Et(i);Mn(s,0,"LampSVG");var o=Et(s);dt(o,"stroke","lightgray");var a=ft(o);dt(a,"fill","lightgray"),dt(a,"stroke","gray");var u=ft(i,2);vc(u,{offset:r,location:["left","mid"],get id(){return t.nodeId},io:"input"}),Fe(e,n)}function pH(e,t){e.preventDefault();let r=!1;const n=e.clientX,i=e.clientY,s=5,o=c=>{const f=c.clientX-n,h=c.clientY-i;Math.sqrt(f**2+h**2)>s&&(r=!0,u())},a=()=>{r||t(e),u()};function u(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a)}window.addEventListener("mousemove",o),window.addEventListener("mouseup",a)}function Kf(e){const t=new MouseEvent("mouseenter",{bubbles:!0,cancelable:!1}),r=new MouseEvent("mouseleave",{bubbles:!0,cancelable:!1}),n=document.querySelector(`.${e}`);if(!n)return null;n.dispatchEvent(t),n.dispatchEvent(r)}var N_e=Rn('<svg width="75" height="60" viewBox="-2 2 140 95" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="100" height="100" fill="black" stroke-width="2"></rect><line x1="100" x2="190" y1="50" y2="50" stroke-width="8"></line><circle role="presentation" cx="50" cy="50" r="30" aria-label="input button node toggle" stroke-width="7"></circle></svg><!>',1);function q_e(e,t){ur(t,!0),de(t,"width",3,80),de(t,"height",3,50);let r=Cn(!1),n=Li(()=>({color:T(r)?"green":"red",outlineColor:T(r)?"var(--lime-green)":"var(--lime-red)"}));const i=[95,40.4];function s(){dc()&&(ve(r,!T(r)),$0e(t.nodeId))}bs.subscribe(p=>{if(p===null){ve(r,!1);return}});var o=N_e(),a=bt(o),u=Et(a),c=ft(u),f=ft(c),h=ft(a);vc(h,{offset:i,location:["right","mid"],get id(){return t.nodeId},io:"output",get connections(){return ot(Ri).connectors["out_"+t.nodeId]}}),Nt(()=>{dt(u,"stroke",T(n).outlineColor),dt(c,"stroke",T(n).outlineColor),dt(f,"fill",T(n).color),dt(f,"stroke",T(n).outlineColor)}),rr("mousedown",f,p=>pH(p,s),!0),Fe(e,o),cr()}const up={"Logic Gates":{svg:void 0,groupElements:[{name:"And",nodeType:"And",icon:Bee},{name:"Nand",nodeType:"Nand",icon:jee},{name:"Or",nodeType:"Or",icon:Vee},{name:"Nor",nodeType:"Nor",icon:Gee},{name:"Xor",nodeType:"Xor",icon:$ee},{name:"Xnor",nodeType:"Xnor",icon:Uee},{name:"Not",nodeType:"Not",icon:Hee},{name:"Repeater",nodeType:"Repeater",icon:zee}]},"Input/Output":{svg:void 0,groupElements:[{name:"Lamp",nodeType:"Lamp",icon:Wee},{name:"Button",nodeType:"Button",icon:Xee}]},GhostElement:{svg:void 0,groupElements:[]}};function D_e(e){switch(e){case"And":case"Nor":case"Xor":case"Xnor":case"Or":case"Nand":return C_e;case"Repeater":case"Not":return M_e;case"Button":return q_e;case"Lamp":return L_e;default:return null}}var F_e=zt(' <img class="menu-item-icon">',1),B_e=zt("<!> <!>",1),z_e=zt("<!> <!>",1),V_e=zt('<div class="menu svelte-s8wre0"><!></div>'),G_e=zt('<main><button class="menu-toggle-button svelte-s8wre0">Toggle Menu</button> <!></main>');function $_e(e,t){ur(t,!1);const r=ke();let n=ke(!1),i=ke(""),s=ke(""),o=null,a=!1,u=null,c=ke([]);function f(){ve(n,!T(n)),T(n)||(ve(c,[]),ve(i,""),u=null,a=!1)}function h(I){ve(c,[...T(c),I]),ve(i,""),ve(s,"")}function p(){T(c).length>0&&(ve(c,T(c).slice(0,-1)),ve(i,""),ve(s,""))}f2(()=>{if(T(n)){const I=document.querySelector(".cmdk-input");I instanceof HTMLInputElement&&I.focus()}});const _=Object.keys(up).filter(I=>I!=="GhostElement").map(I=>({id:I,label:I}));ri(()=>{window.addEventListener("keydown",I=>{console.log(`Key pressed: ${I.key}`),I.key==="-"&&(console.log("Menu toggle triggered"),I.preventDefault(),f())})});let m=de(t,"createCanvasDevice",8);function y(I){if(o)return;o=document.createElement("div"),o.className="drag-ghost",o.style.position="fixed",o.style.pointerEvents="none",o.style.left="0px",o.style.top="0px",o.style.zIndex="1000";const L=document.createElement("img");L.src=I.icon,L.alt=I.name,L.style.width="40px",L.style.opacity="0.7",o.appendChild(L),document.body.appendChild(o),window.addEventListener("mousemove",b)}function b(I){o&&(o.style.left=`${I.pageX}px`,o.style.top=`${I.pageY}px`)}function S(){o&&(o.remove(),o=null),window.removeEventListener("mousemove",b),a=!1}function E(I,L){a||(u=I,y(L),a=!0,console.log(`Dragging started for: ${I}`))}function A(I){if(a&&u){const L={x:I.pageX,y:I.pageY};console.log(`Creating node at position: ${L.x}, ${L.y}`),m()({...I,gateType:u}),u=null,S()}}function P(I,L){a||E(I,L)}ri(()=>{window.addEventListener("mouseup",A),window.addEventListener("mousemove",b)}),Lu(()=>{window.removeEventListener("mouseup",A),window.removeEventListener("mousemove",b),S()}),De(()=>T(c),()=>{ve(r,T(c).length>0?T(c)[T(c).length-1]:void 0)}),De(()=>(T(i),T(s)),()=>{T(i)!==T(s)&&ve(s,T(i))}),ai(),fn();var R=G_e(),q=Et(R),d=ft(q,2);{var C=I=>{var L=Ht(),B=bt(L);pE(B,()=>`${T(r)}:${T(s)}`,H=>{var $=V_e(),J=Et($);Aee(J,{filter:()=>1,children:(ae,X)=>{var D=z_e(),z=bt(D);qee(z,{class:"cmdk-input",placeholder:"Search...",get value(){return T(i)},set value(ie){ve(i,ie)},$$legacy:!0});var j=ft(z,2);Ym(j,{children:(ie,oe)=>{var Se=Ht(),_e=bt(Se);{var te=re=>{Ym(re,{children:(Q,le)=>{var Ve=Ht(),Le=bt(Ve);Ni(Le,1,()=>_.filter(Ce=>Ce.label.toLowerCase().startsWith(T(i).toLowerCase())),Ce=>Ce.id,(Ce,Je)=>{Xm(Ce,{onSelect:()=>h(T(Je).id),class:"menu-item",children:(Ge,N)=>{var G=BC();Nt(()=>lo(G,T(Je).label)),Fe(Ge,G)},$$slots:{default:!0}})}),Fe(Q,Ve)},$$slots:{default:!0}})},ue=re=>{Ym(re,{children:(Q,le)=>{var Ve=B_e(),Le=bt(Ve);kee(Le,{get heading(){return T(r)},children:(Je,Ge)=>{var N=Ht(),G=bt(N);Ni(G,1,()=>up[T(r)].groupElements.filter(Y=>Y.name.toLowerCase().startsWith(T(i).toLowerCase())),Y=>Y.nodeType,(Y,K)=>{Xm(Y,{onSelect:()=>P(T(K).nodeType,T(K)),class:"menu-item",children:(Ee,fe)=>{var Te=F_e(),Re=bt(Te),ze=ft(Re);Nt(()=>{lo(Re,`${T(K).name??""} `),dt(ze,"src",T(K).icon),dt(ze,"alt",T(K).name)}),Fe(Ee,Te)},$$slots:{default:!0}})}),Fe(Je,N)},$$slots:{default:!0}});var Ce=ft(Le,2);Xm(Ce,{onSelect:p,class:"menu-item",children:(Je,Ge)=>{var N=BC("â Back");Fe(Je,N)},$$slots:{default:!0}}),Fe(Q,Ve)},$$slots:{default:!0}})};Kt(_e,re=>{T(r)?re(ue,!1):re(te)})}Fe(ie,Se)},$$slots:{default:!0}}),Fe(ae,D)},$$slots:{default:!0}}),Fe(H,$)}),Fe(I,L)};Kt(d,I=>{T(n)&&I(C)})}rr("click",q,f),Fe(e,R),cr()}var U_e=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 0 1-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 0 0 9 9c.239 0 .254.018.488 0A9 9 0 0 1 12 21"></path></svg>');function j_e(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=U_e();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var H_e=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5V3m0 18v-2M7.05 7.05L5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636L16.95 7.05M16 12a4 4 0 1 1-8 0a4 4 0 0 1 8 0"></path></svg>');function W_e(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=H_e();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var X_e=zt('<div class="side_menu_header svelte-h8e8bu"><h2 class="svelte-h8e8bu"><span class="l_cap svelte-h8e8bu">L</span><span class="o_cap svelte-h8e8bu">o</span><span class="g_cap svelte-h8e8bu">g</span><span class="i_cap svelte-h8e8bu">i</span><span class="c_cap svelte-h8e8bu">c</span><span class="a_cap svelte-h8e8bu" style="margin-left:4px;">A</span><span class="p_cap svelte-h8e8bu">P</span></h2> <!></div>');function Y_e(e,t){ur(t,!1);let r=ke(!1);ri(()=>{ve(r,localStorage.getItem("theme")==="dark"),i()});function n(){ve(r,!T(r)),localStorage.setItem("theme",T(r)?"dark":"light"),i()}function i(){T(r)?document.body.className="dark":document.body.className="light"}fn();var s=X_e(),o=ft(Et(s),2);{var a=c=>{W_e(c,{onclick:n,style:"color:var(--neon-purple); width:28px;height:28px;margin-top: 5px;margin-right: -8px;"})},u=c=>{j_e(c,{onclick:n,style:"color:grey !important; width:28px;height:28px;margin-top: 5px;margin-right: -8px;"})};Kt(o,c=>{T(r)?c(a):c(u,!1)})}Fe(e,s),cr()}var K_e=(e,t,r)=>t(T(r),e),Z_e=zt('<li class="svelte-n7sl0f"><button class="gate-button" style="background:none; border:none; padding:0; cursor:pointer;"><img class="svelte-n7sl0f"></button> </li>'),J_e=zt('<ol class="side_menu_group svelte-n7sl0f"></ol>');function Q_e(e,t){ur(t,!0);let r=de(t,"zIndex",3,0),n=de(t,"subMenuHeader",3,"Logic Gates");const i=up[n()].groupElements;let s=null,o=null;function a(m,y,b){o=document.createElement("div"),o.className="drag-ghost",o.style.position="fixed",o.style.pointerEvents="none",o.style.left=y+"px",o.style.top=b+"px",o.style.zIndex="200",o.style.transform="scale(1.3)";const S=document.createElement("img");S.src=m.icon,S.alt=m.nodeType+"drag gate ghost",S.style.width="82px",S.style.opacity="0.7",o.appendChild(S),document.body.appendChild(o)}function u(m,y){o&&(o.style.left=m+"px",o.style.top=y+"px")}function c(){o&&(o.remove(),o=null)}function f(m,y){y.preventDefault(),s=m,a(m,y.pageX,y.pageY)}function h(m){o&&u(m.pageX,m.pageY)}function p(m){if(m.stopPropagation(),s&&o){const y=document.elementFromPoint(m.clientX,m.clientY);u(m.pageX,m.pageY);const b=document.querySelector(".svelvet-wrapper");if(b==null?void 0:b.contains(y)){const E={...m,gateType:s.nodeType};t.createCanvasDevice(E)}s=null,c(),m.stopPropagation()}}ri(()=>{document.addEventListener("mousemove",h),document.addEventListener("click",p)}),Lu(()=>{document.removeEventListener("mousemove",h),document.removeEventListener("click",p),c()});var _=J_e();Ni(_,21,()=>i,Eu,(m,y)=>{var b=Z_e();b.__mousedown=[K_e,f,y];var S=Et(b),E=Et(S),A=ft(S);Nt(()=>{dt(E,"src",T(y).icon),dt(E,"alt",`${T(y).name??""} logic gate, hand-drawn`),lo(A,` ${T(y).name??""}`)}),Fe(m,b)}),Nt(()=>{Lr(_,`z-index:${r()};`),dt(_,"id",`section_${r()??""}`)}),Fe(e,_),cr()}ku(["mousedown"]);const eye=""+new URL("line_26-7GG_ennq.svg",import.meta.url).href,tye="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20preserveAspectRatio='none'%20id='a'%20data-name='AW'%20xmlns='http://www.w3.org/2000/svg'%20width='500'%20height='27.081'%20viewBox='0%200%20500%2027.081'%3e%3cpath%20id='b'%20data-name='16'%20d='M500,25.653c-.271,.462-.732,.434-1.18,.548-.418,.107-.762,.508-1.277,.879h-22.196c-.256-.224-.609-.535-1.012-.889h-7.665c-.362-.338-.71-.663-1.069-.998h-7.711c-.363-.336-.711-.66-1.076-.998h-8.658c-.498-.437-.823-.963-1.6-.956-4.344,.039-8.688,.019-12.911,.019-.349-.349-.577-.577-.845-.845-1.218-.293-2.5-.073-3.769-.115-1.29-.043-2.584-.01-3.876-.01h-7.267c-1.292,0-2.585,.036-3.876-.01-1.267-.045-2.549,.192-3.758-.121-.274-.274-.502-.502-.784-.784h-28.005c-.379-.333-.732-.644-1.134-.997h-45.514c-.305,.285-.654,.61-1.011,.943h-53.262l-1.063-.992h-118.18c-.251-.251-.479-.479-.708-.708-.129-.08-.251-.214-.387-.228-.319-.034-.645-.011-.968-.011-4.36,0-8.721,.001-13.081-.004-.147,0-.295-.064-.448-.099-.438-.438-.811-.889-1.573-.884-5.006,.036-10.013,.024-15.019,.012-.625-.001-1.267,.129-1.846-.126-.255-.255-.483-.483-.716-.716-.939-.229-1.899-.113-2.85-.114-7.59-.011-15.181-.018-22.771,.012-.774,.003-1.106-.509-1.604-.953h-17.45c-.292,.269-.641,.59-1.009,.929H34.387c-.343-.32-.692-.645-1.055-.984h-11.548c-.393-.35-.746-.663-1.122-.998h-5.724c-.278-.278-.469-.587-.744-.716-.402-.188-.938-.144-1.286-.386-.522-.363-.93-.889-1.387-1.346l-.345-.345c-.923,.165-1.464-.42-1.997-1.03h-.968c-2.05-2.059-4.101-4.118-6.23-6.256-.022-.369-.058-.835-.075-1.301-.034-.93-.106-1.035-1.056-1.154-.334-.042-.612-.094-.829-.465,.284-.322,.579-.658,.876-.995C.607,1.136,.304,.793,0,.451Q.875,0,5.143,0c.244,.192,.491,.38,.728,.579,.123,.103,.23,.227,.369,.366h6.736c.362,.338,.71,.663,1.068,.997h14.493c.364,.337,.713,.66,1.009,.934h16.478c.498-.438,.825-.956,1.6-.955,17.603,.023,35.206,.017,52.809,.022,.307,0,.614,.073,.928,.112,.431,.452,.82,.889,1.579,.871,2.26-.053,4.521-.019,6.782-.019,5.006,0,10.013,.017,15.019-.019,.759-.005,1.142,.431,1.63,.932h12.505c.38,.333,.734,.644,1.137,.998h108.444c.359,.333,.708,.657,1.071,.993h43.567c.357,.333,.705,.658,1.015,.947h3.881c.253-.253,.481-.481,.71-.71,.129-.078,.258-.226,.387-.226,27.764-.01,55.528-.01,83.195-.01,.541,.535,.911,.99,1.674,.987,8.075-.029,16.15-.023,24.224-.01,.785,.001,1.589-.156,2.34,.129,.246,.246,.475,.475,.703,.703,.144,.043,.287,.123,.431,.123,2.745,.007,5.491,.006,8.236,.006s5.491,.03,8.236-.019c.774-.014,1.11,.503,1.606,.952h9.622c.368,.337,.717,.658,1.088,.998h7.707c.356,.333,.705,.659,1.067,.998h7.707c.25,.25,.478,.478,.706,.706,.128,.08,.251,.216,.386,.23,.319,.034,.645,.011,.968,.011,8.236,0,16.473,0,24.709,.004,.148,0,.296,.062,.444,.095,1.256,1.256,2.512,2.512,3.768,3.768,1.374-.003,1.396,.046,1.46,1.249,.017,.322-.015,.647,.007,.969,.029,.428,.425,.7,1.034,.699,.323,0,.646-.005,.969,.002,.155,.003,.309,.03,.466,.047,.491,.678,1.129,1.073,1.992,1.025,2.058,2.058,4.114,4.114,6.166,6.166Z'/%3e%3c/svg%3e",rye=""+new URL("line_23-6xYtaVUR.svg",import.meta.url).href,nye=""+new URL("line_24-DEoQpS3B.svg",import.meta.url).href,iye=""+new URL("line_25-BJNXJfeQ.svg",import.meta.url).href,sye=""+new URL("line_27-Bg8z01MR.svg",import.meta.url).href,oye=""+new URL("line_17-DTelLRhX.svg",import.meta.url).href,aye="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20preserveAspectRatio='none'%20id='a'%20data-name='AW'%20xmlns='http://www.w3.org/2000/svg'%20width='500'%20height='14.048'%20viewBox='0%200%20500%2014.048'%3e%3cpath%20id='b'%20data-name='20'%20d='M500,11.891c-.491,.804-1.263,1.347-1.881,2.033-.123,.035-.245,.101-.368,.102-1.375,.007-2.751-.032-4.124,.021-.663,.025-.942-.435-1.365-.812h-18.918c-.311-.287-.609-.561-.922-.849h-30.487c-.303-.283-.6-.559-.873-.813h-47.818c-.333,.297-.633,.564-.861,.768h-18.167c-.235-.235-.429-.429-.624-.624-.253-.054-.505-.152-.759-.153-3.42-.01-6.84-.007-10.127-.007-.325,.325-.519,.519-.762,.762-.347,.019-.744,.06-1.143,.06-29.56,.003-59.12,.003-88.68,.003-.138,0-.278-.019-.412,.003-.653,.107-.957-.392-1.398-.828H56.332c-1.237,0-2.476,.022-3.711-.023-.187-.007-.448-.298-.519-.51-.077-.23-.07-.609,.073-.769,.635-.71,1.333-1.365,1.994-2.027h19.006c.43-.625,.988-.935,1.743-.796,.63,.116,1.004-.273,1.355-.691,.804-.252,1.622-.127,2.428-.128,12.374-.009,24.748-.006,37.122-.01,.395,0,.812,.1,1.171-.154,.096-.068,.233-.211,.213-.283-.032-.115-.172-.278-.275-.284-.811-.052-1.625-.097-2.437-.097-13.199-.005-26.398-.004-39.65-.004-.271-.238-.572-.503-.913-.804h-30.452c-.307-.286-.604-.563-.908-.847H19.505c-.307-.285-.603-.562-.912-.849H.37c-.111-.362-.222-.727-.37-1.211C.741,1.461,1.481,.854,2.46,.051H12.864c.218,.192,.519,.457,.861,.758h59.327c.306,.285,.603,.562,.907,.847,4.11,0,8.235,.002,12.359-.012,.098,0,.233-.166,.283-.283,.086-.198-.045-.465-.356-.512-.533-.081-1.085-.036-1.626-.08-.105-.008-.289-.255-.279-.268,.14-.178,.302-.467,.469-.473,1.085-.042,2.172-.022,3.169-.022,.462,.484,.793,.853,1.439,.841,2.336-.041,4.675,.009,7.011-.033,.647-.011,.972,.369,1.433,.841h56.795c.412,0,.83,.041,1.236-.009,.666-.082,.935,.444,1.36,.81h54.397c.308,.286,.605,.561,.914,.847h91.543c.299,.28,.596,.557,.902,.844h44.485c.333,.297,.632,.564,.951,.848h33.767c.665,1.068,1.616,.826,2.549,.656,.195-.194,.389-.389,.583-.583,.122-.037,.244-.108,.366-.108,8.387-.005,16.774-.005,25.229-.005,.263,.225,.566,.483,.928,.793h1.55c.314,.287,.612,.56,.911,.833,.286-.261,.583-.531,.879-.8,4.262,0,8.524,.004,12.786-.008,.302,0,.606,.039,.661,.339,.03,.164-.205,.435-.386,.568-.413,.302-.318,.719-.309,1.111,.002,.104,.138,.258,.245,.297,.241,.087,.5,.146,.756,.164,.943,.065,1.898-.122,2.825,.132,.201,.201,.395,.395,.6,.6,.652,.201,1.335,.091,2.007,.093,5.774,.01,11.549,.017,17.323-.01,.658-.003,.944,.428,1.367,.81h22.215c.312,.286,.611,.559,.926,.849h18.934c.305,.283,.602,.559,.891,.828,.648,.145,1.383-.29,1.95,.339Zm-93.618,.51c-3.829-.031-7.658-.023-11.486-.009-.098,0-.227,.159-.287,.272-.102,.192,.024,.513,.324,.52,1.914,.042,3.828,.021,5.743,.021s3.829,.004,5.743-.012c.099,0,.227-.159,.287-.272,.101-.192-.026-.518-.324-.521Zm14.022,.825c-2.454-.036-4.91-.024-7.364-.008-.098,0-.227,.161-.284,.276-.095,.192,.032,.503,.332,.516,1.226,.051,2.454,.021,3.682,.021s2.455,.006,3.682-.012c.098-.002,.227-.161,.284-.276,.095-.192-.035-.512-.331-.516Z'/%3e%3c/svg%3e",uye=""+new URL("line_21-BR_oFIB4.svg",import.meta.url).href,cye=""+new URL("line_29-C9eu5sMJ.svg",import.meta.url).href;var lye=zt('<li class="svelte-1m2v4mn"><div class="menu_group_section svelte-1m2v4mn"><button class="svelte-1m2v4mn"><span style="margin-left:5%;"> </span></button> <img class="sketch_bar svelte-1m2v4mn"></div> <!></li>'),fye=zt('<nav class="side_menu noselect svelte-1m2v4mn" aria-label="Side Menu"><div class="side_menu_header svelte-1m2v4mn"><!> <img class="wiggle_bar svelte-1m2v4mn" alt="sketched line bottom border for main app bar"></div> <ul class="svelte-1m2v4mn"></ul></nav>');function hye(e,t){ur(t,!0);const r={line_15:tye,line_23:rye,line_24:nye,line_25:iye,line_27:sye,line_17:oye,line_19:aye,line_21:uye,line_29:cye},n=up,i=Object.keys(n),s=[15,23,24,25,27,17,19,21,29];function o(b){return Math.floor(Math.random()*b)+1}let a=localStorage.getItem("randomLineSelectionStore");function u(b){return r[`line_${b}`]}if(a===null){const b=i.map(S=>{const E=o(s.length-1),A=s[E],P=u(A);return n[S].svg=P,s.splice(E,1),A});localStorage.setItem("randomLineSelectionStore",JSON.stringify(b))}else JSON.parse(a).forEach((S,E)=>{const A=i[E],P=u(parseInt(S,10));A!==void 0&&(n[A].svg=P)});let c=Ro(Array(i.length).fill(!0));function f(b,S){return b[S]?"transition: max-height .4s ease-in; max-height:405px":"transition: max-height .4s ease-out; max-height:75px"}var h=fye(),p=Et(h),_=Et(p);Y_e(_,{});var m=ft(_,2);dt(m,"src",eye);var y=ft(p,2);Ni(y,21,()=>i,Eu,(b,S,E)=>{var A=lye();dt(A,"id",`menu_group_${E??""}`);var P=Et(A),R=Et(P);R.__mousedown=()=>{c[E]=!c[E]};var q=Et(R),d=Et(q),C=ft(R,2),I=ft(P,2);Q_e(I,{get createCanvasDevice(){return t.createCanvasDevice},zIndex:E,get subMenuHeader(){return T(S)}}),Nt(L=>{Lr(A,L),lo(d,T(S)),dt(C,"src",n[T(S)].svg),dt(C,"alt",`sketched line bottom border for main app bar section ${T(S)??""}`)},[()=>f(c,E)]),Fe(b,A)}),Fe(e,h),cr()}ku(["mousedown"]);var dye=(e,t)=>{dc()||pH(e,t)},vye=zt("<div><!></div>"),pye=zt("<div> </div>");function gye(e,t){ur(t,!0);const r=(h,p=qs)=>{const _=Li(()=>t.position!==void 0?!1:"cursor");v2(h,{get drop(){return T(_)},get position(){return t.position},editable:!1,get id(){return t.nodeId},children:(m,y)=>{var b=vye();b.__mousedown=[dye,o];var S=Et(b);sc(S,p,(E,A)=>{A(E,Nl({get nodeId(){return t.nodeId}},()=>t.nodeProps))}),Nt(()=>Lr(b,`transform:rotate(${T(i)??""}deg)`)),Fe(m,b)},$$slots:{default:!0}})};let n=Li(()=>D_e(t.gateType)),i=Cn(0);const s=()=>T(i),o=h=>{var _;const p=h.target;p?p.nodeName!=="IMG"&&((_=p.parentNode)==null?void 0:_.nodeName)!=="svg"?console.warn('not a part of the node to preform a node action, in this case "rotate" '):ve(i,(T(i)+90)%360):console.warn("no event target on node click")};jr("rotation",s),Ml(()=>{if(T(i)||T(i)===0){if(t.nodeId.startsWith("Lamp")){Kf("in_"+t.nodeId);return}Kf("out_"+t.nodeId),Kf("in1_"+t.nodeId),Kf("in2_"+t.nodeId);const h=ot(Ri).connectors["out_"+t.nodeId];h&&h.length>0&&h.forEach(([p,_])=>{Kf(_)})}});var a=Ht(),u=bt(a);{var c=h=>{r(h,()=>T(n))},f=h=>{var p=pye(),_=Et(p);Nt(()=>lo(_,`Unknown gate type: ${t.gateType??""}`)),Fe(h,p)};Kt(u,h=>{T(n)?h(c):h(f,!1)})}Fe(e,a),cr()}ku(["mousedown"]);var mye=Rn('<svg><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M.5 10.29a.7.7 0 0 0 .37.62a.71.71 0 0 0 .73 0l5.08-3.3a.7.7 0 0 0 0-1.18L1.6 3.11a.71.71 0 0 0-.73 0a.7.7 0 0 0-.37.62z"></path><path d="M6.997 10.29a.7.7 0 0 0 .37.62a.71.71 0 0 0 .73 0l5.08-3.3a.7.7 0 0 0 0-1.18l-5.08-3.32a.71.71 0 0 0-.73 0a.7.7 0 0 0-.37.6zM13.5 2.5v9"></path></g></svg>');function _ye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=mye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 14 14",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var yye=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M1.436 12.33a1.14 1.14 0 0 0 .63 1a1.24 1.24 0 0 0 1.22 0l8.65-5.35a1.11 1.11 0 0 0 0-2L3.286.67a1.24 1.24 0 0 0-1.22 0a1.14 1.14 0 0 0-.63 1z"></path></svg>');function bye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=yye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 14 14",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var wye=Rn('<svg><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="m11 9l2-.5l.5 2"></path><path d="M13 8.5A6.76 6.76 0 0 1 7 13h0a6 6 0 0 1-5.64-3.95M3 5l-2 .5l-.5-2"></path><path d="M1 5.5C1.84 3.2 4.42 1 7 1h0a6 6 0 0 1 5.64 4"></path></g></svg>');function xye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=wye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 14 14",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var Sye=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M4 .5H1.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1H4a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1m8.5 0H10a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h2.5a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1"></path></svg>');function Eye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=Sye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 14 14",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var Aye=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M13.5.5v13m-13-1.84a1 1 0 0 0 .52.88a1 1 0 0 0 1 0l7.19-4.7a1 1 0 0 0 0-1.68L2 1.5a1 1 0 0 0-1 0a1 1 0 0 0-.52.88Z"></path></svg>');function Tye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=Aye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 14 14",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var Pye=Rn('<svg><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"></path><path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7M7 3v4a1 1 0 0 0 1 1h7"></path></g></svg>');function Cye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=Pye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var Rye=Rn('<svg><path fill="currentColor" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"></path></svg>');function Iye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=Rye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var Oye=Rn('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m14-7l-5-5l-5 5m5-5v12"></path></svg>');function Mye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=Oye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}const JE=(e,t)=>{let r=()=>yQ(t==null?void 0:t(),[]);var n=Ht(),i=bt(n);sc(i,()=>r().Component,(s,o)=>{o(s,{get style(){return r().styles},get width(){return r().width}})}),Fe(e,n)},hl=(e,t=qs,r=qs,n)=>{let i=pn(()=>PJ(n==null?void 0:n(),""));var s=Lye();s.__click=[kye,r];var o=Et(s);JE(o,t),Nt(()=>{Lr(s,T(i)),dt(s,"width",t().width)}),Fe(e,s)};var kye=(e,t)=>t()(),Lye=zt('<button class="svelte-1qv10mw"><!></button>'),Nye=(e,t)=>t()(),qye=zt('<button style="display:flex;align-items: center;padding-block:1px;" class="svelte-1qv10mw"><div style="margin-left: -8px"><!></div> <p id="tickNumber" class="svelte-1qv10mw"> </p></button>'),Dye=zt('<div class="menuRunButtons svelte-1qv10mw"><!> <span class="vl svelte-1qv10mw"></span> <!> <span class="vl svelte-1qv10mw"></span> <!> <span class="vl svelte-1qv10mw"></span> <!> <span style="margin-right: 7px" class="vl svelte-1qv10mw"></span> <!> <!> <span style="margin-right: 7px" class="vl svelte-1qv10mw"></span> <!></div>');function Fye(e,t){ur(t,!0);const[r,n]=yn(),i=()=>Ue(Ri,"$CircuitStore",r),s=(d,C=qs)=>{var I=qye();I.__click=[Nye,C];var L=Et(I),B=Et(L);{var H=X=>{JE(X,()=>o.pauseTick)},$=X=>{JE(X,()=>o.playTick)};Kt(B,X=>{dc()?X(H):X($,!1)})}var J=ft(L,2),ae=Et(J);Nt((X,D)=>{Lr(J,X),lo(ae,D)},[()=>dc()?"border-color:green":"border-color:red",q0e]),Fe(d,I)},o={playTick:{Component:bye,styles:"transform:scale(1.8);",width:40},pauseTick:{Component:Eye,styles:"transform:scale(1.8);",width:40},updateGates:{Component:Tye,styles:"transform:scale(2);",width:40},updateGatesNext:{Component:_ye,styles:"transform:scale(2.3);",width:50},resetState:{Component:xye,styles:"transform:scale(2);",width:40},save:{Component:Cye,styles:"transform:scale(2.4);",width:30},trash:{Component:Iye,styles:"transform:scale(2.69);",width:30},load:{Component:Mye,styles:"transform:scale(2.4);",width:30}},a=()=>{const d=document.querySelector("#logicap");d&&(d.classList.contains("running")?(d.classList.remove("running"),u()):d.classList.add("running"))};function u(){let d,C;const I=["red","var(--lime-red)"],L=document.querySelectorAll("[id^='N-Lamp']");L!==null&&L.forEach(B=>{d=B.querySelector("circle"),C=B.querySelector("line"),!(d===null||C===null)&&(d.setAttribute("stroke",I[1]),d.setAttribute("fill",I[0]),C.setAttribute("stroke",I[0]))})}function c(d){a(),D0e(10)}function f(d){G0e()}function h(d){V0e()}function p(d){ite(t.currCircuitName)}async function _(d){dc()&&c(),await ste(),t.setCanvas(i().devices)}function m(){nte(),Ri.reset(),t.clearCanvas()}var y=Dye(),b=Et(y);s(b,()=>c);var S=ft(b,4);hl(S,()=>o.updateGates,()=>h);var E=ft(S,4);hl(E,()=>o.updateGatesNext,()=>f);var A=ft(E,4);hl(A,()=>o.resetState,()=>F0e);var P=ft(A,4);hl(P,()=>o.save,()=>p);var R=ft(P,2);hl(R,()=>o.load,()=>_);var q=ft(R,4);hl(q,()=>o.trash,()=>m,()=>"margin-left: -6px"),Fe(e,y),cr(),n()}ku(["click"]);const Bye=!1;console.log("IS DEVMODE: "+Bye);function zye(e=10){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=crypto.getRandomValues(new Uint8Array(e));return Array.from(r,n=>t[n%t.length]).join("")}function Vye(){const e=document==null?void 0:document.querySelector("div.svelvet-graph-wrapper");if(!e)return;const{transform:t}=e.style,r=/scale\((.+)\)/,n=t.match(r);if(!n||!n[1])return console.warn("scale property not found on graph-wrapper"),null;const i=parseFloat(n[1]);if(isNaN(i))throw new Error("Scale value is not a valid integer.");localStorage.setItem("SavedScale",i.toString())}function Gye(){const e=()=>{const t=document.querySelector(".svelvet-wrapper");if(t){const r=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0});t.dispatchEvent(r);const n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});t.dispatchEvent(n)}};document.addEventListener("DOMContentLoaded",()=>{e()})}var $ye=Rn('<svg><path fill="currentColor" d="M5 19V5zv-.025zm0 2q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v7q0 .425-.288.713T20 13t-.712-.288T19 12V5H5v14h7q.425 0 .713.288T13 20t-.288.713T12 21zm14.175-1H16q-.425 0-.712-.288T15 19t.288-.712T16 18h3.175l-.9-.9Q18 16.825 18 16.413t.3-.713q.275-.275.7-.275t.7.275l2.6 2.6q.3.3.3.7t-.3.7l-2.6 2.6q-.275.275-.687.288T18.3 22.3q-.275-.275-.275-.7t.275-.7zM11 13v3q0 .425.288.713T12 17t.713-.288T13 16v-3h3q.425 0 .713-.288T17 12t-.288-.712T16 11h-3V8q0-.425-.288-.712T12 7t-.712.288T11 8v3H8q-.425 0-.712.288T7 12t.288.713T8 13z"></path></svg>');function Uye(e,t){const r=ho(t,["$$slots","$$events","$$legacy"]);var n=$ye();let i;Nt(()=>i=ti(n,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...r})),Fe(e,n)}var jye=(e,t,r)=>{e.key==="Enter"?t():e.key==="Escape"&&r()},Hye=zt('<input type="text" class="svelte-jjvsoi">'),Wye=async(e,t,r)=>await t(T(r)),Xye=(e,t,r)=>t(T(r)),Yye=zt('<button type="button" class="tab-title svelte-jjvsoi"> </button>'),Kye=zt('<div class="tab-item svelte-jjvsoi"><!> <button type="button" class="delete-btn svelte-jjvsoi" title="Delete Tab">Ã</button></div>'),Zye=(e,t)=>t(),Jye=zt('<div class="tabs svelte-jjvsoi"><div class="scrollable-tabs svelte-jjvsoi"></div> <button type="button" class="new-tab-btn svelte-jjvsoi"><!></button></div>');function Qye(e,t){ur(t,!0);const[r,n]=yn(),i=()=>Ue(Ri,"$CircuitStore",r),s=localStorage.getItem("currActiveTab")||"init_circuit";let o=Cn(Ro(s)),a=Cn(Ro(localStorage.getItem("activeTabList")&&JSON.parse(localStorage.getItem("activeTabList")||"")||[s])),u=Cn(null),c=Cn("");async function f(R){await mh();const q=localStorage.getItem("circuitStoreSave");if(!q){console.log("empty after trying to save, not possible I don't think");return}localStorage.setItem(R,q)}async function h(R){if(T(u)===R)return;if(T(o)===R)return null;await f(T(o)),t.clearDeviceData(),Ri.reset();let q=localStorage.getItem(R);q||(q="",localStorage.setItem(R,q)),localStorage.setItem("circuitStoreSave",q),$v(),t.setDeviceData(i().devices),ve(o,R,!0),localStorage.setItem("currActiveTab",R)}function p(){const R=T(a).map(d=>{if(d==="unnamed_circuit")return 0;const C=d.match(/^unnamed_circuit_(\d+)$/);return C?parseInt(C[1]):null}).filter(d=>d!==null).sort((d,C)=>d-C);if(R.length===0||R[0]!==0){T(a).push("unnamed_circuit"),localStorage.setItem("activeTabList",JSON.stringify(T(a)));return}let q=1;for(const d of R){if(d>q)break;q=d+1}T(a).push(`unnamed_circuit_${q}`),localStorage.setItem("activeTabList",JSON.stringify(T(a)))}function _(R){if(T(a).length<=1){alert("Cannot delete the last tab.");return}const q=T(a)[R];if(ve(a,T(a).filter((d,C)=>C!==R),!0),localStorage.setItem("activeTabList",JSON.stringify(T(a))),localStorage.removeItem(q),T(o)===q){const d=T(a)[0];ve(o,d,!0),localStorage.setItem("currActiveTab",d);let C=localStorage.getItem(d)||"";localStorage.setItem("circuitStoreSave",C),$v(),t.setDeviceData(i().devices)}}function m(R){ve(u,R,!0),ve(c,R,!0)}function y(){ve(u,null),ve(c,"")}function b(){if(!T(u))return;const R=T(c).trim();if(!R)return;if(T(a).includes(R)&&R!==T(u)){alert("Tab name already exists! Please choose a different name.");return}ve(a,T(a).map(d=>d===T(u)?R:d),!0),localStorage.setItem("activeTabList",JSON.stringify(T(a)));const q=localStorage.getItem(T(u));q!==null&&(localStorage.removeItem(T(u)),localStorage.setItem(R,q)),T(o)===T(u)&&(ve(o,R,!0),localStorage.setItem("currActiveTab",R)),ve(u,null),ve(c,"")}var S=Jye(),E=Et(S);Ni(E,23,()=>T(a),(R,q)=>R+q,(R,q,d)=>{var C=Kye(),I=Et(C);{var L=$=>{var J=Hye();J.__keydown=[jye,b,y],E7(J,!0),rr("blur",J,b),xp(J,()=>T(c),ae=>ve(c,ae)),Fe($,J)},B=$=>{var J=Yye();J.__click=[Wye,h,q],J.__dblclick=[Xye,m,q];var ae=Et(J);Nt(()=>lo(ae,T(q))),Fe($,J)};Kt(I,$=>{T(u)===T(q)?$(L):$(B,!1)})}var H=ft(I,2);H.__click=$=>{$.stopPropagation(),_(T(d))},Fe(R,C)});var A=ft(E,2);A.__click=[Zye,p];var P=Et(A);Uye(P,{}),Fe(e,S),cr(),n()}ku(["keydown","click","dblclick"]);function ebe(){return console.log("CONNECTED IN APP"),null}var tbe=zt('<main id="logicap" class="svelte-2kmgjz"><!> <!> <!> <!> <!> <!> <div style="position: absolute; top: 0; right:350px; width: 100px; z-index=100; ">Circuit Name <input></div></main>');function rbe(e,t){ur(t,!0);const[r,n]=yn(),i=()=>Ue(Ri,"$CircuitStore",r);let s=Cn(Ro({...i().devices}));const o=()=>ve(s,{},!0),a=R=>ve(s,R,!0);let u=Cn(1);ri(()=>{ve(u,parseFloat(localStorage.getItem("SavedScale")||"1"),!0),$v(),ve(s,i().devices,!0),Gye()}),window.addEventListener("beforeunload",()=>{mh(),Vye()});function c(R){const q=R.gateType,d=zye(),C=Ri.addCircuitDevice(q,d);ve(s,C,!0),mh()}let f=R=>ve(s,R,!0),h=Cn("");var p=tbe(),_=Et(p);m_e(_,{});var m=ft(_,2);hye(m,{createCanvasDevice:c});var y=ft(m,2);Fye(y,{clearCanvas:o,get currCircuitName(){return T(h)},setCanvas:f});var b=ft(y,2);Qye(b,{clearDeviceData:o,setDeviceData:a});var S=ft(b,2);$_e(S,{createCanvasDevice:c});var E=ft(S,2);tne(E,{theme:"LogiCap",get zoom(){return T(u)},editable:!1,disableSelection:!1,controls:!0,children:(R,q)=>{var d=Ht(),C=bt(d);Ni(C,17,()=>Object.entries(T(s)),([I,L])=>I,(I,L)=>{let B=()=>T(L)[0],H=()=>T(L)[1];const $=Li(()=>({...H().type&&{gateType:H().type},width:80,height:50}));gye(I,{get gateType(){return H().type},get position(){return H().position},get nodeId(){return B()},get nodeProps(){return T($)}})}),Fe(R,d)},$$slots:{default:!0,minimap:(R,q)=>{eV(R,{width:100,corner:"NE",slot:"minimap"})},toggle:(R,q)=>{tV(R,{main:"LogiCap",corner:"NW",alt:"LogiCap",slot:"toggle"})}}});var A=ft(E,2),P=ft(Et(A));xp(P,()=>T(h),R=>ve(h,R)),Fe(e,p),cr(),n()}CQ(rbe,{target:document.getElementById("app")});export{UC as A,Ns as B,ya as C,lo as D,Xe as E,ri as F,Lu as G,ke as H,bt as I,ve as J,il as K,Tv as L,Rn as M,sc as N,dt as O,Ni as P,de as a,pr as b,Nt as c,Mn as d,Fe as e,cr as f,yr as g,yn as h,fn as i,Kt as j,ot as k,Et as l,ft as m,T as n,pn as o,ur as p,Lr as q,rr as r,Ue as s,zt as t,oo as u,uo as v,Kte as w,ibe as x,xp as y,uR as z};
